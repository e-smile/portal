var E=E||{};if(!E.action){E.action={}}if(!E.apps){E.apps={}}if(!E.connect){E.connect={}}if(!E.connect.proxy){E.connect.proxy={}}if(!E.connect.reader){E.connect.reader={}}if(!E.controller){E.controller={}}if(!E.data){E.data={}}if(!E.data.mixins){E.data.mixins={}}if(!E.data.model){E.data.model={}}if(!E.data.model.lookup){E.data.model.lookup={}}if(!E.data.proxy){E.data.proxy={}}if(!E.data.schema){E.data.schema={}}if(!E.data.session){E.data.session={}}if(!E.data.store){E.data.store={}}if(!E.geo){E.geo={}}if(!E.geo.topo){E.geo.topo={}}if(!E.overrides){E.overrides={}}if(!E.overrides.data){E.overrides.data={}}if(!E.overrides.form){E.overrides.form={}}if(!E.plugin){E.plugin={}}if(!E.util){E.util={}}if(!E.view){E.view={}}if(!E.view.login){E.view.login={}}if(!E.view.svg){E.view.svg={}}if(!E.view.svg.mixins){E.view.svg.mixins={}}if(!E.widget){E.widget={}}if(!E.widget.app){E.widget.app={}}if(!E.widget.img){E.widget.img={}}if(!E.widget.viewport){E.widget.viewport={}}if(!E.xforms){E.xforms={}}if(!E.xforms.datafield){E.xforms.datafield={}}if(!E.xforms.field){E.xforms.field={}}if(!E.xforms.inst){E.xforms.inst={}}if(!E.xforms.mgr){E.xforms.mgr={}}if(!E.xforms.mixin){E.xforms.mixin={}}if(!E.xforms.model){E.xforms.model={}}if(!E.xforms.model.resource){E.xforms.model.resource={}}if(!E.xforms.proxy){E.xforms.proxy={}}if(!E.xforms.reader){E.xforms.reader={}}if(!E.xforms.schema){E.xforms.schema={}}if(!E.xforms.session){E.xforms.session={}}if(!E.xforms.store){E.xforms.store={}}if(!E.xforms.validator){E.xforms.validator={}}if(!E.xforms.viewModel){E.xforms.viewModel={}}if(!E.xforms.widget){E.xforms.widget={}}if(!E.xforms.writer){E.xforms.writer={}}if(!E.xforms.xliff){E.xforms.xliff={}}if(!E.xforms.xpath){E.xforms.xpath={}}if(!E.xforms.xpath.Function){E.xforms.xpath.Function={}}if(!E.xml){E.xml={}}var Ext=Ext||{};if(!Ext.Toolbar){Ext.Toolbar={}}if(!Ext.app){Ext.app={}}if(!Ext.app.bind){Ext.app.bind={}}if(!Ext.app.domain){Ext.app.domain={}}if(!Ext.app.route){Ext.app.route={}}if(!Ext.button){Ext.button={}}if(!Ext.container){Ext.container={}}if(!Ext.core){Ext.core={}}if(!Ext.data){Ext.data={}}if(!Ext.data.field){Ext.data.field={}}if(!Ext.data.flash){Ext.data.flash={}}if(!Ext.data.identifier){Ext.data.identifier={}}if(!Ext.data.matrix){Ext.data.matrix={}}if(!Ext.data.operation){Ext.data.operation={}}if(!Ext.data.proxy){Ext.data.proxy={}}if(!Ext.data.reader){Ext.data.reader={}}if(!Ext.data.schema){Ext.data.schema={}}if(!Ext.data.session){Ext.data.session={}}if(!Ext.data.validator){Ext.data.validator={}}if(!Ext.data.writer){Ext.data.writer={}}if(!Ext.dd){Ext.dd={}}if(!Ext.dom){Ext.dom={}}if(!Ext.dom.Element){Ext.dom.Element={}}if(!Ext.draw){Ext.draw={}}if(!Ext.event){Ext.event={}}if(!Ext.event.gesture){Ext.event.gesture={}}if(!Ext.event.publisher){Ext.event.publisher={}}if(!Ext.form){Ext.form={}}if(!Ext.form.Action){Ext.form.Action={}}if(!Ext.form.action){Ext.form.action={}}if(!Ext.form.field){Ext.form.field={}}if(!Ext.form.trigger){Ext.form.trigger={}}if(!Ext.fx){Ext.fx={}}if(!Ext.fx.animation){Ext.fx.animation={}}if(!Ext.fx.easing){Ext.fx.easing={}}if(!Ext.fx.runner){Ext.fx.runner={}}if(!Ext.fx.target){Ext.fx.target={}}if(!Ext.layout){Ext.layout={}}if(!Ext.layout.boxOverflow){Ext.layout.boxOverflow={}}if(!Ext.layout.component){Ext.layout.component={}}if(!Ext.layout.component.field){Ext.layout.component.field={}}if(!Ext.layout.container){Ext.layout.container={}}if(!Ext.layout.container.border){Ext.layout.container.border={}}if(!Ext.layout.container.boxOverflow){Ext.layout.container.boxOverflow={}}if(!Ext.menu){Ext.menu={}}if(!Ext.mixin){Ext.mixin={}}if(!Ext.overrides){Ext.overrides={}}if(!Ext.overrides.app){Ext.overrides.app={}}if(!Ext.overrides.app.domain){Ext.overrides.app.domain={}}if(!Ext.overrides.dom){Ext.overrides.dom={}}if(!Ext.overrides.event){Ext.overrides.event={}}if(!Ext.overrides.event.publisher){Ext.overrides.event.publisher={}}if(!Ext.overrides.plugin){Ext.overrides.plugin={}}if(!Ext.overrides.util){Ext.overrides.util={}}if(!Ext.overrides.view){Ext.overrides.view={}}if(!Ext.panel){Ext.panel={}}if(!Ext.perf){Ext.perf={}}if(!Ext.picker){Ext.picker={}}if(!Ext.plugin){Ext.plugin={}}if(!Ext.resizer){Ext.resizer={}}if(!Ext.scroll){Ext.scroll={}}if(!Ext.selection){Ext.selection={}}if(!Ext.state){Ext.state={}}if(!Ext.tab){Ext.tab={}}if(!Ext.tip){Ext.tip={}}if(!Ext.toolbar){Ext.toolbar={}}if(!Ext.util){Ext.util={}}if(!Ext.util.paintmonitor){Ext.util.paintmonitor={}}if(!Ext.util.sizemonitor){Ext.util.sizemonitor={}}if(!Ext.util.translatable){Ext.util.translatable={}}if(!Ext.ux){Ext.ux={}}if(!Ext.ux.help){Ext.ux.help={}}if(!Ext.ux.help.data){Ext.ux.help.data={}}if(!Ext.view){Ext.view={}}if(!Ext.window){Ext.window={}}var ExtThemeNeptune=ExtThemeNeptune||{};if(!ExtThemeNeptune.layout){ExtThemeNeptune.layout={}}if(!ExtThemeNeptune.layout.component){ExtThemeNeptune.layout.component={}}if(!ExtThemeNeptune.menu){ExtThemeNeptune.menu={}}if(!ExtThemeNeptune.panel){ExtThemeNeptune.panel={}}if(!ExtThemeNeptune.picker){ExtThemeNeptune.picker={}}if(!ExtThemeNeptune.resizer){ExtThemeNeptune.resizer={}}if(!ExtThemeNeptune.toolbar){ExtThemeNeptune.toolbar={}}var overrides=overrides||{};var portal=portal||{};if(!portal.controller){portal.controller={}}if(!portal.model){portal.model={}}if(!portal.schema){portal.schema={}}if(!portal.store){portal.store={}}if(!portal.view){portal.view={}}if(!portal.view.main){portal.view.main={}}if(!portal.view.portal){portal.view.portal={}}(function(K){var N,D=["constructor","toString","valueOf","toLocaleString"],J={},z={},L=0,C,G,x,I,O,B,M,H,y=function(){var a,b;G=Ext.Base;x=Ext.ClassManager;for(a=D.length;a-->0;){b=(1<<a);z[J[b]=D[a]]=b}for(a in z){L|=z[a]}L=~L;Function.prototype.$isFunction=1;H=!!(x&&x.addAlias);I=Ext.Class.getPreprocessor("config").fn;O=Ext.Class.getPreprocessor("cachedConfig")&&Ext.Class.getPreprocessor("cachedConfig").fn;M=Ext.Class.getPreprocessor("privates")&&Ext.Class.getPreprocessor("privates").fn;B=Ext.ClassManager.postprocessors.deprecated&&Ext.ClassManager.postprocessors.deprecated.fn;N=G.$staticMembers;if(!N){N=[];for(C in G){if(G.hasOwnProperty(C)){N.push(C)}}}K.derive=F;return F.apply(this,arguments)},w=function(l,d,a){var h=a.enumerableMembers,c=l.prototype,e,b,g,j;if(!d){return}if(H){l.addMembers(d)}else{for(e in d){j=d[e];if(j&&j.$isFunction&&!j.$isClass&&j!==Ext.emptyFn&&j!==Ext.identityFn){if(e in c){j.$previous=c[e]}c[e]=b=j;b.$owner=l;b.$name=e}else{c[e]=j}}for(g=1;h;g<<=1){if(h&g){h&=~g;e=J[g];c[e]=b=d[e];b.$owner=l;b.$name=e}}}},A=function(b){var c=function d(){return b.apply(this,arguments)||null},e,a;c.prototype=Ext.Object.chain(b.prototype);for(e=N.length;e-->0;){a=N[e];c[a]=G[a]}return c},F=function(an,ak,at,ai,al,o,am,c,u,m,v){var ag=function af(){return this.constructor.apply(this,arguments)||null},a=ag,ae={enumerableMembers:ai&L,onCreated:v,onBeforeCreated:w,aliases:c},q=at.alternateClassName||[],e=Ext.global,l,g,d,r,h,ap,aq,ao,j,ah,b,n,s,ar,p=x.alternateToName||x.maps.alternateToName,aj=x.nameToAlternates||x.maps.nameToAlternates;for(d=N.length;d-->0;){aq=N[d];ag[aq]=G[aq]}if(at.$isFunction){at=at(ag)}ae.data=at;ah=at.statics;delete at.statics;at.$className=an;if("$className" in at){ag.$className=at.$className}ag.extend(ak);j=ag.prototype;ag.xtype=at.xtype=al[0];if(al){j.xtypes=al}j.xtypesChain=o;j.xtypesMap=am;at.alias=c;a.triggerExtended(ag,at,ae);if(at.onClassExtended){ag.onExtended(at.onClassExtended,ag);delete at.onClassExtended}if(at.privates&&M){M.call(Ext.Class,ag,at)}if(ah){if(H){ag.addStatics(ah)}else{for(b in ah){if(ah.hasOwnProperty(b)){ar=ah[b];if(ar&&ar.$isFunction&&!ar.$isClass&&ar!==Ext.emptyFn&&ar!==Ext.identityFn){ag[b]=s=ar;s.$owner=ag;s.$name=b}ag[b]=ar}}}}if(at.inheritableStatics){ag.addInheritableStatics(at.inheritableStatics);delete at.inheritableStatics}if(j.onClassExtended){a.onExtended(j.onClassExtended,a);delete j.onClassExtended}if(at.config){I.call(Ext.Class,ag,at)}if(at.cachedConfig&&O){O.call(Ext.Class,ag,at)}if(at.deprecated&&B){B.call(Ext.ClassManager,an,ag,at)}ae.onBeforeCreated(ag,ae.data,ae);for(d=0,h=u&&u.length;d<h;++d){ag.mixin.apply(ag,u[d])}for(d=0,h=c.length;d<h;d++){l=c[d];x.setAlias?x.setAlias(ag,l):x.addAlias(ag,l)}if(at.singleton){a=new ag()}if(!(q instanceof Array)){q=[q]}n=x.getName(a);for(d=0,r=q.length;d<r;d++){g=q[d];x.classes[g]=a;if(H){x.addAlternate(ag,g)}else{if(n){p[g]=n;q=aj[n]||(aj[n]=[]);q.push(g)}}}for(d=0,h=m.length;d<h;d+=2){ap=m[d];if(!ap){ap=e}ap[m[d+1]]=a}x.classes[an]=a;if(!H){if(n&&n!==an){p[an]=n;q=aj[n]||(aj[n]=[]);q.push(an)}}delete j.alternateClassName;if(ae.onCreated){ae.onCreated.call(a,a)}if(an){x.triggerCreated(an)}return a};K.derive=y}(Ext.cmd={}));var Ext=Ext||{};Ext._startTime=Date.now?Date.now():(+new Date());(function(){var A=this,v=Object.prototype,z=v.toString,p=["valueOf","toLocaleString","toString","constructor"],r=function(){},w=function(){},u=function(a){return a},q=function(){var a=q.caller.caller;return a.$owner.prototype[a.$name].apply(this,arguments)},B=Ext.manifest||{},s,y=/\[object\s*(?:Array|Arguments|\w*Collection|\w*List|HTML\s+document\.all\s+class)\]/,x=/^\\?\/Date\(([-+])?(\d+)(?:[+-]\d{4})?\)\\?\/$/;Ext.global=A;r.$nullFn=u.$nullFn=r.$emptyFn=u.$identityFn=w.$nullFn=true;w.$privacy="framework";Ext.suspendLayouts=Ext.resumeLayouts=r;for(s in {toString:1}){p=null}Ext.enumerables=p;Ext.apply=function(c,d,a){if(a){Ext.apply(c,a)}if(c&&d&&typeof d==="object"){var b,e,g;for(b in d){c[b]=d[b]}if(p){for(e=p.length;e--;){g=p[e];if(d.hasOwnProperty(g)){c[g]=d[g]}}}}return c};Ext.buildSettings=Ext.apply({baseCSSPrefix:"x-"},Ext.buildSettings||{});Ext.apply(Ext,{idSeed:0,idPrefix:"ext-",isSecure:/^https/i.test(window.location.protocol),enableGarbageCollector:false,enableListenerCollection:true,name:Ext.sandboxName||"Ext",privateFn:w,emptyFn:r,identityFn:u,frameStartTime:+new Date(),manifest:B,validIdRe:/^[a-z_][a-z0-9\-_]*$/i,BLANK_IMAGE_URL:"data:image/gif;base64,R0lGODlhAQABAID/AMDAwAAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",makeIdSelector:function(a){return"#"+a},id:function(b,c){if(b&&b.id){return b.id}var a=(c||Ext.idPrefix)+(++Ext.idSeed);if(b){b.id=a}return a},returnId:function(a){return a.getId()},returnTrue:function(){return true},emptyString:new String(),baseCSSPrefix:Ext.buildSettings.baseCSSPrefix,$eventNameMap:{},$vendorEventRe:/^(Moz.+|MS.+)/,canonicalEventName:function(a){return Ext.$eventNameMap[a]||(Ext.$eventNameMap[a]=(Ext.$vendorEventRe.test(a)?a:a.toLowerCase()))},applyIf:function(b,c){var a;if(b){for(a in c){if(b[a]===undefined){b[a]=c[a]}}}return b},now:(A.performance&&A.performance.now)?function(){return performance.now()}:(Date.now||(Date.now=function(){return +new Date()})),destroy:function(){var a=arguments.length,b,c;for(b=0;b<a;b++){c=arguments[b];if(c){if(Ext.isArray(c)){this.destroy.apply(this,c)}else{if(Ext.isFunction(c.destroy)){c.destroy()}}}}return null},destroyMembers:function(c){for(var a,d,b=1,e=arguments,g=e.length;b<g;b++){a=c[d=e[b]];if(a!=null){c[d]=Ext.destroy(a)}}},override:function(b,a){if(b.$isClass){b.override(a)}else{if(typeof b=="function"){Ext.apply(b.prototype,a)}else{var e=b.self,d,c;if(e&&e.$isClass){for(d in a){if(a.hasOwnProperty(d)){c=a[d];if(typeof c==="function"){c.$name=d;c.$owner=e;c.$previous=b.hasOwnProperty(d)?b[d]:q}b[d]=c}}}else{Ext.apply(b,a)}}}return b},valueFrom:function(a,c,b){return Ext.isEmpty(a,b)?c:a},isEmpty:function(b,a){return(b==null)||(!a?b==="":false)||(Ext.isArray(b)&&b.length===0)},isArray:("isArray" in Array)?Array.isArray:function(a){return z.call(a)==="[object Array]"},isDate:function(a){return z.call(a)==="[object Date]"},isMSDate:function(a){if(!Ext.isString(a)){return false}return x.test(a)},isObject:(z.call(null)==="[object Object]")?function(a){return a!==null&&a!==undefined&&z.call(a)==="[object Object]"&&a.ownerDocument===undefined}:function(a){return z.call(a)==="[object Object]"},isSimpleObject:function(a){return a instanceof Object&&a.constructor===Object},isPrimitive:function(a){var b=typeof a;return b==="string"||b==="number"||b==="boolean"},isFunction:(typeof document!=="undefined"&&typeof document.getElementsByTagName("body")==="function")?function(a){return !!a&&z.call(a)==="[object Function]"}:function(a){return !!a&&typeof a==="function"},isNumber:function(a){return typeof a==="number"&&isFinite(a)},isNumeric:function(a){return !isNaN(parseFloat(a))&&isFinite(a)},isString:function(a){return typeof a==="string"},isBoolean:function(a){return typeof a==="boolean"},isElement:function(a){return a?a.nodeType===1:false},isTextNode:function(a){return a?a.nodeName==="#text":false},isDefined:function(a){return typeof a!=="undefined"},isIterable:function(a){if(!a||typeof a.length!=="number"||typeof a==="string"||Ext.isFunction(a)){return false}if(!a.propertyIsEnumerable){return !!a.item}if(a.hasOwnProperty("length")&&!a.propertyIsEnumerable("length")){return true}return y.test(z.call(a))},isDebugEnabled:r,clone:function(b){if(b===null||b===undefined){return b}if(b.nodeType&&b.cloneNode){return b.cloneNode(true)}var c=z.call(b),d,g,h,a,e;if(c==="[object Date]"){return new Date(b.getTime())}if(c==="[object Array]"){d=b.length;a=[];while(d--){a[d]=Ext.clone(b[d])}}else{if(c==="[object Object]"&&b.constructor===Object){a={};for(e in b){a[e]=Ext.clone(b[e])}if(p){for(g=p.length;g--;){h=p[g];if(b.hasOwnProperty(h)){a[h]=b[h]}}}}}return a||b},getUniqueGlobalNamespace:function(){var a=this.uniqueGlobalNamespace,b;if(a===undefined){b=0;do{a="ExtBox"+(++b)}while(A[a]!==undefined);A[a]=Ext;this.uniqueGlobalNamespace=a}return a},functionFactoryCache:{},cacheableFunctionFactory:function(){var a=this,d=Array.prototype.slice.call(arguments),e=a.functionFactoryCache,g,c,b;if(Ext.isSandboxed){b=d.length;if(b>0){b--;d[b]="var Ext=window."+Ext.name+";"+d[b]}}g=d.join("");c=e[g];if(!c){c=Function.prototype.constructor.apply(Function.prototype,d);e[g]=c}return c},functionFactory:function(){var b=Array.prototype.slice.call(arguments),a;if(Ext.isSandboxed){a=b.length;if(a>0){a--;b[a]="var Ext=window."+Ext.name+";"+b[a]}}return Function.prototype.constructor.apply(Function.prototype,b)},Logger:{verbose:r,log:r,info:r,warn:r,error:function(a){throw new Error(a)},deprecate:r},getElementById:function(a){return document.getElementById(a)},splitAndUnescape:(function(){var a={};return function(e,g){if(!e){return[]}else{if(!g){return[e]}}var c=a[g]||(a[g]=new RegExp("\\\\"+g,"g")),h=[],b,d;b=e.split(g);while((d=b.shift())!==undefined){while(d.charAt(d.length-1)==="\\"&&b.length>0){d=d+g+b.shift()}d=d.replace(c,g);h.push(d)}return h}})()});Ext.returnTrue.$nullFn=Ext.returnId.$nullFn=true}());(function(){function b(){var j=this,a=j.sourceClass,g=j.sourceMethod,h=j.msg;if(g){if(h){g+="(): ";g+=h}else{g+="()"}}if(a){g=g?(a+"."+g):a}return g||h||""}Ext.Error=function(d){if(Ext.isString(d)){d={msg:d}}var a=new Error();Ext.apply(a,d);a.message=a.message||a.msg;a.toString=b;return a};Ext.apply(Ext.Error,{ignore:false,raise:function(l){l=l||{};if(Ext.isString(l)){l={msg:l}}var m=this,h=m.raise.caller,j,a;if(h){if(!l.sourceMethod&&(a=h.$name)){l.sourceMethod=a}if(!l.sourceClass&&(a=h.$owner)&&(a=a.$className)){l.sourceClass=a}}if(m.handle(l)!==true){j=b.call(l);throw new Ext.Error(l)}},handle:function(){return this.ignore}})})();Ext.deprecated=function(b){return Ext.emptyFn};Ext.Array=new (function(){var M=Array.prototype,F=M.slice,C=(function(){var c=[],b,a=20;if(!c.splice){return false}while(a--){c.push("A")}c.splice(15,0,"F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F");b=c.length;c.splice(13,0,"XXX");if(b+1!==c.length){return false}return true}()),D="indexOf" in M,J=true;function G(b,a){var c=b.length,d=new Array(c),g;for(g=0;g<c;g++){d[g]=g}d.sort(function(h,j){return a(b[h],b[j])||(h-j)});for(g=0;g<c;g++){d[g]=b[d[g]]}for(g=0;g<c;g++){b[g]=d[g]}return b}try{if(typeof document!=="undefined"){F.call(document.getElementsByTagName("body"))}}catch(A){J=false}var H=function(a,b){return(b<0)?Math.max(0,a.length+b):Math.min(a.length,b)},e=function(q,a,m,n){var l=n?n.length:0,h=q.length,p=H(q,a);if(p===h){if(l){q.push.apply(q,n)}}else{var b=Math.min(m,h-p),o=p+b,j=o+l-b,g=h-o,d=h-b,c;if(j<o){for(c=0;c<g;++c){q[j+c]=q[o+c]}}else{if(j>o){for(c=g;c--;){q[j+c]=q[o+c]}}}if(l&&p===d){q.length=d;q.push.apply(q,n)}else{q.length=d+l;for(c=0;c<l;++c){q[p+c]=n[c]}}}return q},K=function(c,b,d,a){if(a&&a.length){if(b===0&&!d){c.unshift.apply(c,a)}else{if(b<c.length){c.splice.apply(c,[b,d].concat(a))}else{c.push.apply(c,a)}}}else{c.splice(b,d)}return c},N=function(c,b,a){return e(c,b,a)},B=function(c,b,a){c.splice(b,a);return c},I=function(b,c,g){var d=H(b,c),a=b.slice(c,H(b,d+g));if(arguments.length<4){e(b,d,g)}else{e(b,d,g,F.call(arguments,3))}return a},L=function(a){return a.splice.apply(a,F.call(arguments,1))},x=C?B:N,z=C?K:e,y=C?L:I,O={binarySearch:function(d,b,l,c,h){var g=d.length,a,j;if(l instanceof Function){h=l;l=0;c=g}else{if(c instanceof Function){h=c;c=g}else{if(l===undefined){l=0}if(c===undefined){c=g}h=h||O.lexicalCompare}}--c;while(l<=c){a=(l+c)>>1;j=h(b,d[a]);if(j>=0){l=a+1}else{if(j<0){c=a-1}}}return l},defaultCompare:function(b,a){return(b<a)?-1:((b>a)?1:0)},lexicalCompare:function(b,a){b=String(b);a=String(a);return(b<a)?-1:((b>a)?1:0)},each:function(h,d,g,c){h=O.from(h);var b,a=h.length;if(c!==true){for(b=0;b<a;b++){if(d.call(g||h[b],h[b],b,h)===false){return b}}}else{for(b=a-1;b>-1;b--){if(d.call(g||h[b],h[b],b,h)===false){return b}}}return true},forEach:("forEach" in M)?function(c,a,b){return c.forEach(a,b)}:function(b,g,a){for(var c=0,d=b.length;c<d;c++){g.call(a,b[c],c,b)}},indexOf:D?function(c,b,a){return M.indexOf.call(c,b,a)}:function(b,g,d){var c,a=b.length;for(c=(d<0)?Math.max(0,a+d):d||0;c<a;c++){if(b[c]===g){return c}}return -1},contains:D?function(a,b){return M.indexOf.call(a,b)!==-1}:function(c,d){var b,a;for(b=0,a=c.length;b<a;b++){if(c[b]===d){return true}}return false},toArray:function(g,b,c){if(!g||!g.length){return[]}if(typeof g==="string"){g=g.split("")}if(J){return F.call(g,b||0,c||g.length)}var d=[],a;b=b||0;c=c?((c<0)?g.length+c:c):g.length;for(a=b;a<c;a++){d.push(g[a])}return d},pluck:function(h,c){var b=[],g,a,d;for(g=0,a=h.length;g<a;g++){d=h[g];b.push(d[c])}return b},map:("map" in M)?function(c,a,b){return c.map(a,b)}:function(h,b,d){var g=[],a=0,c=h.length;for(;a<c;a++){g[a]=b.call(d,h[a],a,h)}return g},every:("every" in M)?function(c,a,b){return c.every(a,b)}:function(b,g,a){var c=0,d=b.length;for(;c<d;++c){if(!g.call(a,b[c],c,b)){return false}}return true},some:("some" in M)?function(c,a,b){return c.some(a,b)}:function(b,g,a){var c=0,d=b.length;for(;c<d;++c){if(g.call(a,b[c],c,b)){return true}}return false},equals:function(b,d){var a=b.length,c=d.length,g;if(b===d){return true}if(a!==c){return false}for(g=0;g<a;++g){if(b[g]!==d[g]){return false}}return true},clean:function(b){var a=[],c=0,d=b.length,g;for(;c<d;c++){g=b[c];if(!Ext.isEmpty(g)){a.push(g)}}return a},unique:function(b){var d=[],c=0,g=b.length,a;for(;c<g;c++){a=b[c];if(O.indexOf(d,a)===-1){d.push(a)}}return d},filter:("filter" in M)?function(c,a,b){return c.filter(a,b)}:function(h,d,g){var b=[],c=0,a=h.length;for(;c<a;c++){if(d.call(g,h[c],c,h)){b.push(h[c])}}return b},findBy:function(b,d,g){var a=0,c=b.length;for(;a<c;a++){if(d.call(g||b,b[a],a)){return b[a]}}return null},from:function(c,a){if(c===undefined||c===null){return[]}if(Ext.isArray(c)){return(a)?F.call(c):c}var b=typeof c;if(c&&c.length!==undefined&&b!=="string"&&(b!=="function"||!c.apply)){return O.toArray(c)}return[c]},remove:function(c,a){var b=O.indexOf(c,a);if(b!==-1){x(c,b,1)}return c},removeAt:function(c,a,d){var b=c.length;if(a>=0&&a<b){d=d||1;d=Math.min(d,b-a);x(c,a,d)}return c},include:function(a,b){if(!O.contains(a,b)){a.push(b)}},clone:function(a){return F.call(a)},merge:function(){var b=F.call(arguments),c=[],a,d;for(a=0,d=b.length;a<d;a++){c=c.concat(b[a])}return O.unique(c)},intersect:function(){var g=[],l=F.call(arguments),m,p,a,q,j,h,o,r,n,d,s,b,c;if(!l.length){return g}m=l.length;for(s=j=0;s<m;s++){h=l[s];if(!q||h.length<q.length){q=h;j=s}}q=O.unique(q);x(l,j,1);o=q.length;m=l.length;for(s=0;s<o;s++){r=q[s];d=0;for(b=0;b<m;b++){p=l[b];a=p.length;for(c=0;c<a;c++){n=p[c];if(r===n){d++;break}}}if(d===m){g.push(r)}}return g},difference:function(b,c){var g=F.call(b),a=g.length,d,j,h;for(d=0,h=c.length;d<h;d++){for(j=0;j<a;j++){if(g[j]===c[d]){x(g,j,1);j--;a--}}}return g},slice:([1,2].slice(1,undefined).length?function(c,a,b){return F.call(c,a,b)}:function(c,a,b){if(typeof a==="undefined"){return F.call(c)}if(typeof b==="undefined"){return F.call(c,a)}return F.call(c,a,b)}),sort:function(a,b){return G(a,b||O.lexicalCompare)},flatten:function(c){var a=[];function b(h){var j,g,d;for(j=0,g=h.length;j<g;j++){d=h[j];if(Ext.isArray(d)){b(d)}else{a.push(d)}}return a}return b(c)},min:function(h,b){var a=h[0],c,d,g;for(c=0,d=h.length;c<d;c++){g=h[c];if(b){if(b(a,g)===1){a=g}}else{if(g<a){a=g}}}return a},max:function(h,b){var c=h[0],a,d,g;for(a=0,d=h.length;a<d;a++){g=h[a];if(b){if(b(c,g)===-1){c=g}}else{if(g>c){c=g}}}return c},mean:function(a){return a.length>0?O.sum(a)/a.length:undefined},sum:function(b){var a=0,c,d,g;for(c=0,d=b.length;c<d;c++){g=b[c];a+=g}return a},toMap:function(b,c,g){var d={},a=b.length;if(!c){while(a--){d[b[a]]=a+1}}else{if(typeof c==="string"){while(a--){d[b[a][c]]=a+1}}else{while(a--){d[c.call(g,b[a])]=a+1}}}return d},toValueMap:function(b,h,m,c){var g={},j=b.length,l,d,o,a,n,p;if(!h){while(j--){p=b[j];g[p]=p}}else{if(!(a=(typeof h!=="string"))){c=m}d=c===1;l=c===2;while(j--){p=b[j];n=a?h.call(m,p):p[h];if(d){if(n in g){g[n].push(p)}else{g[n]=[p]}}else{if(l&&(n in g)){if((o=g[n]) instanceof Array){o.push(p)}else{g[n]=[o,p]}}else{g[n]=p}}}}return g},erase:x,insert:function(c,a,b){return z(c,a,0,b)},replace:z,splice:y,push:function(c){var b=arguments.length,d=1,a;if(c===undefined){c=[]}else{if(!Ext.isArray(c)){c=[c]}}for(;d<b;d++){a=arguments[d];Array.prototype.push[Ext.isIterable(a)?"apply":"call"](c,a)}return c},numericSortFn:function(a,b){return a-b}};Ext.each=O.each;O.union=O.merge;Ext.min=O.min;Ext.max=O.max;Ext.sum=O.sum;Ext.mean=O.mean;Ext.flatten=O.flatten;Ext.clean=O.clean;Ext.unique=O.unique;Ext.pluck=O.pluck;Ext.toArray=function(){return O.toArray.apply(O,arguments)};return O})();Ext.String=(function(){var y=/^[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u2028\u2029\u202f\u205f\u3000]+|[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u2028\u2029\u202f\u205f\u3000]+$/g,u=/('|\\)/g,F=/([-.*+?\^${}()|\[\]\/\\])/g,r=/^\s+|\s+$/g,x=/\s+/,v=/(^[^a-z]*|[^\w])/gi,B,G,z,C,A=function(a,b){return B[b]},w=function(a,b){return(b in G)?G[b]:String.fromCharCode(parseInt(b.substr(2),10))},D=function(a,b){if(a===null||a===undefined||b===null||b===undefined){return false}return b.length<=a.length},s;return s={insert:function(b,a,c){if(!b){return a}if(!a){return b}var d=b.length;if(!c&&c!==0){c=d}if(c<0){c*=-1;if(c>=d){c=0}else{c=d-c}}if(c===0){b=a+b}else{if(c>=b.length){b+=a}else{b=b.substr(0,c)+a+b.substr(c)}}return b},startsWith:function(b,a,c){var d=D(b,a);if(d){if(c){b=b.toLowerCase();a=a.toLowerCase()}d=b.lastIndexOf(a,0)===0}return d},endsWith:function(a,c,b){var d=D(a,c);if(d){if(b){a=a.toLowerCase();c=c.toLowerCase()}d=a.indexOf(c,a.length-c.length)!==-1}return d},createVarName:function(a){return a.replace(v,"")},htmlEncode:function(a){return(!a)?a:String(a).replace(z,A)},htmlDecode:function(a){return(!a)?a:String(a).replace(C,w)},hasHtmlCharacters:function(a){return z.test(a)},addCharacterEntities:function(d){var e=[],a=[],c,b;for(c in d){b=d[c];G[c]=b;B[b]=c;e.push(b);a.push(c)}z=new RegExp("("+e.join("|")+")","g");C=new RegExp("("+a.join("|")+"|&#[0-9]{1,5};)","g")},resetCharacterEntities:function(){B={};G={};this.addCharacterEntities({"&amp;":"&","&gt;":">","&lt;":"<","&quot;":'"',"&#39;":"'"})},urlAppend:function(a,b){if(!Ext.isEmpty(b)){return a+(a.indexOf("?")===-1?"?":"&")+b}return a},trim:function(a){if(a){a=a.replace(y,"")}return a||""},capitalize:function(a){if(a){a=a.charAt(0).toUpperCase()+a.substr(1)}return a||""},uncapitalize:function(a){if(a){a=a.charAt(0).toLowerCase()+a.substr(1)}return a||""},ellipsis:function(c,d,b){if(c&&c.length>d){if(b){var a=c.substr(0,d-2),e=Math.max(a.lastIndexOf(" "),a.lastIndexOf("."),a.lastIndexOf("!"),a.lastIndexOf("?"));if(e!==-1&&e>=(d-15)){return a.substr(0,e)+"..."}}return c.substr(0,d-3)+"..."}return c},escapeRegex:function(a){return a.replace(F,"\\$1")},createRegex:function(a,b,d,e){var c=a;if(a!=null&&!a.exec){c=s.escapeRegex(String(a));if(b!==false){c="^"+c}if(d!==false){c+="$"}c=new RegExp(c,(e!==false)?"i":"")}return c},escape:function(a){return a.replace(u,"\\$1")},toggle:function(b,a,c){return b===a?c:a},leftPad:function(c,b,a){var d=String(c);a=a||" ";while(d.length<b){d=a+d}return d},repeat:function(a,b,d){if(b<1){b=0}for(var e=[],c=b;c--;){e.push(a)}return e.join(d||"")},splitWords:function(a){if(a&&typeof a=="string"){return a.replace(r,"").split(x)}return a||[]}}}());Ext.String.resetCharacterEntities();Ext.htmlEncode=Ext.String.htmlEncode;Ext.htmlDecode=Ext.String.htmlDecode;Ext.urlAppend=Ext.String.urlAppend;Ext.Date=(function(){var u,v=Date,o=/(\\.)/g,z=/([gGhHisucUOPZ]|MS)/,s=/([djzmnYycU]|MS)/,p=/\\/gi,x=/\{(\d+)\}/g,r=new RegExp("\\/Date\\(([-+])?(\\d+)(?:[+-]\\d{4})?\\)\\/"),w=Ext.String.leftPad,y=["var me = this, dt, y, m, d, h, i, s, ms, o, O, z, zz, u, v, W, year, jan4, week1monday, daysInMonth, dayMatched,","def = me.defaults,","from = Ext.Number.from,","results = String(input).match(me.parseRegexes[{0}]);","if(results){","{1}","if(u != null){","v = new Date(u * 1000);","}else{","dt = me.clearTime(new Date);","y = from(y, from(def.y, dt.getFullYear()));","m = from(m, from(def.m - 1, dt.getMonth()));","dayMatched = d !== undefined;","d = from(d, from(def.d, dt.getDate()));","if (!dayMatched) {","dt.setDate(1);","dt.setMonth(m);","dt.setFullYear(y);","daysInMonth = me.getDaysInMonth(dt);","if (d > daysInMonth) {","d = daysInMonth;","}","}","h  = from(h, from(def.h, dt.getHours()));","i  = from(i, from(def.i, dt.getMinutes()));","s  = from(s, from(def.s, dt.getSeconds()));","ms = from(ms, from(def.ms, dt.getMilliseconds()));","if(z >= 0 && y >= 0){","v = me.add(new Date(y < 100 ? 100 : y, 0, 1, h, i, s, ms), me.YEAR, y < 100 ? y - 100 : 0);","v = !strict? v : (strict === true && (z <= 364 || (me.isLeapYear(v) && z <= 365))? me.add(v, me.DAY, z) : null);","}else if(strict === true && !me.isValid(y, m + 1, d, h, i, s, ms)){","v = null;","}else{","if (W) {","year = y || (new Date()).getFullYear();","jan4 = new Date(year, 0, 4, 0, 0, 0);","d = jan4.getDay();","week1monday = new Date(jan4.getTime() - ((d === 0 ? 6 : d - 1) * 86400000));","v = Ext.Date.clearTime(new Date(week1monday.getTime() + ((W - 1) * 604800000 + 43200000)));","} else {","v = me.add(new Date(y < 100 ? 100 : y, m, d, h, i, s, ms), me.YEAR, y < 100 ? y - 100 : 0);","}","}","}","}","if(v){","if(zz != null){","v = me.add(v, me.SECOND, -v.getTimezoneOffset() * 60 - zz);","}else if(o){","v = me.add(v, me.MINUTE, -v.getTimezoneOffset() + (sn == '+'? -1 : 1) * (hr * 60 + mn));","}","}","return v;"].join("\n");if(!Date.prototype.toISOString){Date.prototype.toISOString=function(){var a=this;return w(a.getUTCFullYear(),4,"0")+"-"+w(a.getUTCMonth()+1,2,"0")+"-"+w(a.getUTCDate(),2,"0")+"T"+w(a.getUTCHours(),2,"0")+":"+w(a.getUTCMinutes(),2,"0")+":"+w(a.getUTCSeconds(),2,"0")+"."+w(a.getUTCMilliseconds(),3,"0")+"Z"}}function q(a){var b=Array.prototype.slice.call(arguments,1);return a.replace(x,function(d,c){return b[c]})}return u={now:v.now,toString:function(a){if(!a){a=new v()}return a.getFullYear()+"-"+w(a.getMonth()+1,2,"0")+"-"+w(a.getDate(),2,"0")+"T"+w(a.getHours(),2,"0")+":"+w(a.getMinutes(),2,"0")+":"+w(a.getSeconds(),2,"0")},getElapsed:function(a,b){return Math.abs(a-(b||u.now()))},useStrict:false,formatCodeToRegex:function(b,c){var a=u.parseCodes[b];if(a){a=typeof a==="function"?a():a;u.parseCodes[b]=a}return a?Ext.applyIf({c:a.c?q(a.c,c||"{0}"):a.c},a):{g:0,c:null,s:Ext.String.escapeRegex(b)}},parseFunctions:{MS:function(b,c){var a=(b||"").match(r);return a?new v(((a[1]||"")+a[2])*1):null},time:function(b,c){var a=parseInt(b,10);if(a||a===0){return new v(a)}return null},timestamp:function(b,c){var a=parseInt(b,10);if(a||a===0){return new v(a*1000)}return null}},parseRegexes:[],formatFunctions:{MS:function(){return"\\/Date("+this.getTime()+")\\/"},time:function(){return this.getTime().toString()},timestamp:function(){return u.format(this,"U")}},y2kYear:50,MILLI:"ms",SECOND:"s",MINUTE:"mi",HOUR:"h",DAY:"d",MONTH:"mo",YEAR:"y",defaults:{},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNumbers:{January:0,Jan:0,February:1,Feb:1,March:2,Mar:2,April:3,Apr:3,May:4,June:5,Jun:5,July:6,Jul:6,August:7,Aug:7,September:8,Sep:8,October:9,Oct:9,November:10,Nov:10,December:11,Dec:11},defaultFormat:"m/d/Y",getShortMonthName:function(a){return u.monthNames[a].substring(0,3)},getShortDayName:function(a){return u.dayNames[a].substring(0,3)},getMonthNumber:function(a){return u.monthNumbers[a.substring(0,1).toUpperCase()+a.substring(1,3).toLowerCase()]},formatContainsHourInfo:function(a){return z.test(a.replace(o,""))},formatContainsDateInfo:function(a){return s.test(a.replace(o,""))},unescapeFormat:function(a){return a.replace(p,"")},formatCodes:{d:"Ext.String.leftPad(m.getDate(), 2, '0')",D:"Ext.Date.getShortDayName(m.getDay())",j:"m.getDate()",l:"Ext.Date.dayNames[m.getDay()]",N:"(m.getDay() ? m.getDay() : 7)",S:"Ext.Date.getSuffix(m)",w:"m.getDay()",z:"Ext.Date.getDayOfYear(m)",W:"Ext.String.leftPad(Ext.Date.getWeekOfYear(m), 2, '0')",F:"Ext.Date.monthNames[m.getMonth()]",m:"Ext.String.leftPad(m.getMonth() + 1, 2, '0')",M:"Ext.Date.getShortMonthName(m.getMonth())",n:"(m.getMonth() + 1)",t:"Ext.Date.getDaysInMonth(m)",L:"(Ext.Date.isLeapYear(m) ? 1 : 0)",o:"(m.getFullYear() + (Ext.Date.getWeekOfYear(m) == 1 && m.getMonth() > 0 ? +1 : (Ext.Date.getWeekOfYear(m) >= 52 && m.getMonth() < 11 ? -1 : 0)))",Y:"Ext.String.leftPad(m.getFullYear(), 4, '0')",y:"('' + m.getFullYear()).substring(2, 4)",a:"(m.getHours() < 12 ? 'am' : 'pm')",A:"(m.getHours() < 12 ? 'AM' : 'PM')",g:"((m.getHours() % 12) ? m.getHours() % 12 : 12)",G:"m.getHours()",h:"Ext.String.leftPad((m.getHours() % 12) ? m.getHours() % 12 : 12, 2, '0')",H:"Ext.String.leftPad(m.getHours(), 2, '0')",i:"Ext.String.leftPad(m.getMinutes(), 2, '0')",s:"Ext.String.leftPad(m.getSeconds(), 2, '0')",u:"Ext.String.leftPad(m.getMilliseconds(), 3, '0')",O:"Ext.Date.getGMTOffset(m)",P:"Ext.Date.getGMTOffset(m, true)",T:"Ext.Date.getTimezone(m)",Z:"(m.getTimezoneOffset() * -60)",c:function(){var a="Y-m-dTH:i:sP",c=[],d,e=a.length,b;for(d=0;d<e;++d){b=a.charAt(d);c.push(b==="T"?"'T'":u.getFormatCode(b))}return c.join(" + ")},C:function(){return"m.toISOString()"},U:"Math.round(m.getTime() / 1000)"},isValid:function(a,j,b,d,g,e,h){d=d||0;g=g||0;e=e||0;h=h||0;var c=u.add(new v(a<100?100:a,j-1,b,d,g,e,h),u.YEAR,a<100?a-100:0);return a===c.getFullYear()&&j===c.getMonth()+1&&b===c.getDate()&&d===c.getHours()&&g===c.getMinutes()&&e===c.getSeconds()&&h===c.getMilliseconds()},parse:function(c,a,d){var b=u.parseFunctions;if(b[a]==null){u.createParser(a)}return b[a].call(u,c,Ext.isDefined(d)?d:u.useStrict)},parseDate:function(b,a,c){return u.parse(b,a,c)},getFormatCode:function(a){var b=u.formatCodes[a];if(b){b=typeof b==="function"?b():b;u.formatCodes[a]=b}return b||("'"+Ext.String.escape(a)+"'")},createFormat:function(a){var b=[],e=false,c="",d;for(d=0;d<a.length;++d){c=a.charAt(d);if(!e&&c==="\\"){e=true}else{if(e){e=false;b.push("'"+Ext.String.escape(c)+"'")}else{if(c==="\n"){b.push("'\\n'")}else{b.push(u.getFormatCode(c))}}}}u.formatFunctions[a]=Ext.functionFactory("var m=this;return "+b.join("+"))},createParser:function(g){var c=u.parseRegexes.length,e=1,b=[],h=[],l=false,d="",n=0,m=g.length,j=[],a;for(;n<m;++n){d=g.charAt(n);if(!l&&d==="\\"){l=true}else{if(l){l=false;h.push(Ext.String.escape(d))}else{a=u.formatCodeToRegex(d,e);e+=a.g;h.push(a.s);if(a.g&&a.c){if(a.calcAtEnd){j.push(a.c)}else{b.push(a.c)}}}}}b=b.concat(j);u.parseRegexes[c]=new RegExp("^"+h.join("")+"$","i");u.parseFunctions[g]=Ext.functionFactory("input","strict",q(y,c,b.join("")))},parseCodes:{d:{g:1,c:"d = parseInt(results[{0}], 10);\n",s:"(3[0-1]|[1-2][0-9]|0[1-9])"},j:{g:1,c:"d = parseInt(results[{0}], 10);\n",s:"(3[0-1]|[1-2][0-9]|[1-9])"},D:function(){for(var b=[],a=0;a<7;b.push(u.getShortDayName(a)),++a){}return{g:0,c:null,s:"(?:"+b.join("|")+")"}},l:function(){return{g:0,c:null,s:"(?:"+u.dayNames.join("|")+")"}},N:{g:0,c:null,s:"[1-7]"},S:{g:0,c:null,s:"(?:st|nd|rd|th)"},w:{g:0,c:null,s:"[0-6]"},z:{g:1,c:"z = parseInt(results[{0}], 10);\n",s:"(\\d{1,3})"},W:{g:1,c:"W = parseInt(results[{0}], 10);\n",s:"(\\d{2})"},F:function(){return{g:1,c:"m = parseInt(me.getMonthNumber(results[{0}]), 10);\n",s:"("+u.monthNames.join("|")+")"}},M:function(){for(var b=[],a=0;a<12;b.push(u.getShortMonthName(a)),++a){}return Ext.applyIf({s:"("+b.join("|")+")"},u.formatCodeToRegex("F"))},m:{g:1,c:"m = parseInt(results[{0}], 10) - 1;\n",s:"(1[0-2]|0[1-9])"},n:{g:1,c:"m = parseInt(results[{0}], 10) - 1;\n",s:"(1[0-2]|[1-9])"},t:{g:0,c:null,s:"(?:\\d{2})"},L:{g:0,c:null,s:"(?:1|0)"},o:{g:1,c:"y = parseInt(results[{0}], 10);\n",s:"(\\d{4})"},Y:{g:1,c:"y = parseInt(results[{0}], 10);\n",s:"(\\d{4})"},y:{g:1,c:"var ty = parseInt(results[{0}], 10);\ny = ty > me.y2kYear ? 1900 + ty : 2000 + ty;\n",s:"(\\d{1,2})"},a:{g:1,c:"if (/(am)/i.test(results[{0}])) {\nif (!h || h == 12) { h = 0; }\n} else { if (!h || h < 12) { h = (h || 0) + 12; }}",s:"(am|pm|AM|PM)",calcAtEnd:true},A:{g:1,c:"if (/(am)/i.test(results[{0}])) {\nif (!h || h == 12) { h = 0; }\n} else { if (!h || h < 12) { h = (h || 0) + 12; }}",s:"(AM|PM|am|pm)",calcAtEnd:true},g:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(1[0-2]|[0-9])"},G:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(2[0-3]|1[0-9]|[0-9])"},h:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(1[0-2]|0[1-9])"},H:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(2[0-3]|[0-1][0-9])"},i:{g:1,c:"i = parseInt(results[{0}], 10);\n",s:"([0-5][0-9])"},s:{g:1,c:"s = parseInt(results[{0}], 10);\n",s:"([0-5][0-9])"},u:{g:1,c:"ms = results[{0}]; ms = parseInt(ms, 10)/Math.pow(10, ms.length - 3);\n",s:"(\\d+)"},O:{g:1,c:["o = results[{0}];","var sn = o.substring(0,1),","hr = o.substring(1,3)*1 + Math.floor(o.substring(3,5) / 60),","mn = o.substring(3,5) % 60;","o = ((-12 <= (hr*60 + mn)/60) && ((hr*60 + mn)/60 <= 14))? (sn + Ext.String.leftPad(hr, 2, '0') + Ext.String.leftPad(mn, 2, '0')) : null;\n"].join("\n"),s:"([+-]\\d{4})"},P:{g:1,c:["o = results[{0}];","var sn = o.substring(0,1),","hr = o.substring(1,3)*1 + Math.floor(o.substring(4,6) / 60),","mn = o.substring(4,6) % 60;","o = ((-12 <= (hr*60 + mn)/60) && ((hr*60 + mn)/60 <= 14))? (sn + Ext.String.leftPad(hr, 2, '0') + Ext.String.leftPad(mn, 2, '0')) : null;\n"].join("\n"),s:"([+-]\\d{2}:\\d{2})"},T:{g:0,c:null,s:"[A-Z]{1,5}"},Z:{g:1,c:"zz = results[{0}] * 1;\nzz = (-43200 <= zz && zz <= 50400)? zz : null;\n",s:"([+-]?\\d{1,5})"},c:function(){var b=[],d=[u.formatCodeToRegex("Y",1),u.formatCodeToRegex("m",2),u.formatCodeToRegex("d",3),u.formatCodeToRegex("H",4),u.formatCodeToRegex("i",5),u.formatCodeToRegex("s",6),{c:"ms = results[7] || '0'; ms = parseInt(ms, 10)/Math.pow(10, ms.length - 3);\n"},{c:["if(results[8]) {","if(results[8] == 'Z'){","zz = 0;","}else if (results[8].indexOf(':') > -1){",u.formatCodeToRegex("P",8).c,"}else{",u.formatCodeToRegex("O",8).c,"}","}"].join("\n")}],a,c;for(a=0,c=d.length;a<c;++a){b.push(d[a].c)}return{g:1,c:b.join(""),s:[d[0].s,"(?:","-",d[1].s,"(?:","-",d[2].s,"(?:","(?:T| )?",d[3].s,":",d[4].s,"(?::",d[5].s,")?","(?:(?:\\.|,)(\\d+))?","(Z|(?:[-+]\\d{2}(?::)?\\d{2}))?",")?",")?",")?"].join("")}},U:{g:1,c:"u = parseInt(results[{0}], 10);\n",s:"(-?\\d+)"}},dateFormat:function(b,a){return u.format(b,a)},isEqual:function(a,b){if(a&&b){return(a.getTime()===b.getTime())}return !(a||b)},format:function(b,a){var c=u.formatFunctions;if(!Ext.isDate(b)){return""}if(c[a]==null){u.createFormat(a)}return c[a].call(b)+""},getTimezone:function(a){return a.toString().replace(/^.* (?:\((.*)\)|([A-Z]{1,5})(?:[\-+][0-9]{4})?(?: -?\d+)?)$/,"$1$2").replace(/[^A-Z]/g,"")},getGMTOffset:function(c,b){var a=c.getTimezoneOffset();return(a>0?"-":"+")+Ext.String.leftPad(Math.floor(Math.abs(a)/60),2,"0")+(b?":":"")+Ext.String.leftPad(Math.abs(a%60),2,"0")},getDayOfYear:function(c){var d=0,a=u.clone(c),e=c.getMonth(),b;for(b=0,a.setDate(1),a.setMonth(0);b<e;a.setMonth(++b)){d+=u.getDaysInMonth(a)}return d+c.getDate()-1},getWeekOfYear:(function(){var b=86400000,a=7*b;return function(e){var d=v.UTC(e.getFullYear(),e.getMonth(),e.getDate()+3)/b,g=Math.floor(d/7),c=new v(g*a).getUTCFullYear();return g-Math.floor(v.UTC(c,0,7)/a)+1}}()),isLeapYear:function(b){var a=b.getFullYear();return !!((a&3)===0&&(a%100||(a%400===0&&a)))},getFirstDayOfMonth:function(a){var b=(a.getDay()-(a.getDate()-1))%7;return(b<0)?(b+7):b},getLastDayOfMonth:function(a){return u.getLastDateOfMonth(a).getDay()},getFirstDateOfMonth:function(a){return new v(a.getFullYear(),a.getMonth(),1)},getLastDateOfMonth:function(a){return new v(a.getFullYear(),a.getMonth(),u.getDaysInMonth(a))},getDaysInMonth:(function(){var a=[31,28,31,30,31,30,31,31,30,31,30,31];return function(b){var c=b.getMonth();return c===1&&u.isLeapYear(b)?29:a[c]}}()),getSuffix:function(a){switch(a.getDate()){case 1:case 21:case 31:return"st";case 2:case 22:return"nd";case 3:case 23:return"rd";default:return"th"}},clone:function(a){return new v(a.getTime())},isDST:function(a){return new v(a.getFullYear(),0,1).getTimezoneOffset()!==a.getTimezoneOffset()},clearTime:function(e,a){if(a){return u.clearTime(u.clone(e))}var c=e.getDate(),d,b;e.setHours(0);e.setMinutes(0);e.setSeconds(0);e.setMilliseconds(0);if(e.getDate()!==c){for(d=1,b=u.add(e,u.HOUR,d);b.getDate()!==c;d++,b=u.add(e,u.HOUR,d)){}e.setDate(c);e.setHours(b.getHours())}return e},add:function(e,g,b){var a=u.clone(e),h,c,d=0;if(!g||b===0){return a}c=b-parseInt(b,10);b=parseInt(b,10);if(b){switch(g.toLowerCase()){case u.MILLI:a.setTime(a.getTime()+b);break;case u.SECOND:a.setTime(a.getTime()+b*1000);break;case u.MINUTE:a.setTime(a.getTime()+b*60*1000);break;case u.HOUR:a.setTime(a.getTime()+b*60*60*1000);break;case u.DAY:a.setDate(a.getDate()+b);break;case u.MONTH:h=e.getDate();if(h>28){h=Math.min(h,u.getLastDateOfMonth(u.add(u.getFirstDateOfMonth(e),u.MONTH,b)).getDate())}a.setDate(h);a.setMonth(e.getMonth()+b);break;case u.YEAR:h=e.getDate();if(h>28){h=Math.min(h,u.getLastDateOfMonth(u.add(u.getFirstDateOfMonth(e),u.YEAR,b)).getDate())}a.setDate(h);a.setFullYear(e.getFullYear()+b);break}}if(c){switch(g.toLowerCase()){case u.MILLI:d=1;break;case u.SECOND:d=1000;break;case u.MINUTE:d=1000*60;break;case u.HOUR:d=1000*60*60;break;case u.DAY:d=1000*60*60*24;break;case u.MONTH:h=u.getDaysInMonth(a);d=1000*60*60*24*h;break;case u.YEAR:h=(u.isLeapYear(a)?366:365);d=1000*60*60*24*h;break}if(d){a.setTime(a.getTime()+d*c)}}return a},subtract:function(b,c,a){return u.add(b,c,-a)},between:function(c,a,d){var b=c.getTime();return a.getTime()<=b&&b<=d.getTime()},compat:function(){var a,j=["useStrict","formatCodeToRegex","parseFunctions","parseRegexes","formatFunctions","y2kYear","MILLI","SECOND","MINUTE","HOUR","DAY","MONTH","YEAR","defaults","dayNames","monthNames","monthNumbers","getShortMonthName","getShortDayName","getMonthNumber","formatCodes","isValid","parseDate","getFormatCode","createFormat","createParser","parseCodes"],b=["dateFormat","format","getTimezone","getGMTOffset","getDayOfYear","getWeekOfYear","isLeapYear","getFirstDayOfMonth","getLastDayOfMonth","getDaysInMonth","getSuffix","clone","isDST","clearTime","add","between"],g=j.length,h=b.length,d,c,e;for(e=0;e<g;e++){d=j[e];v[d]=u[d]}for(a=0;a<h;a++){c=b[a];v.prototype[c]=function(){var l=Array.prototype.slice.call(arguments);l.unshift(this);return u[c].apply(u,l)}}},diff:function(d,e,b){var c,a=+e-d;switch(b){case u.MILLI:return a;case u.SECOND:return Math.floor(a/1000);case u.MINUTE:return Math.floor(a/60000);case u.HOUR:return Math.floor(a/3600000);case u.DAY:return Math.floor(a/86400000);case"w":return Math.floor(a/604800000);case u.MONTH:c=(e.getFullYear()*12+e.getMonth())-(d.getFullYear()*12+d.getMonth());if(u.add(d,b,c)>e){return c-1}else{return c}case u.YEAR:c=e.getFullYear()-d.getFullYear();if(u.add(d,b,c)>e){return c-1}else{return c}}},align:function(c,a,b){var d=new v(+c);switch(a.toLowerCase()){case u.MILLI:return d;break;case u.SECOND:d.setUTCSeconds(d.getUTCSeconds()-d.getUTCSeconds()%b);d.setUTCMilliseconds(0);return d;break;case u.MINUTE:d.setUTCMinutes(d.getUTCMinutes()-d.getUTCMinutes()%b);d.setUTCSeconds(0);d.setUTCMilliseconds(0);return d;break;case u.HOUR:d.setUTCHours(d.getUTCHours()-d.getUTCHours()%b);d.setUTCMinutes(0);d.setUTCSeconds(0);d.setUTCMilliseconds(0);return d;break;case u.DAY:if(b===7||b===14){d.setUTCDate(d.getUTCDate()-d.getUTCDay()+1)}d.setUTCHours(0);d.setUTCMinutes(0);d.setUTCSeconds(0);d.setUTCMilliseconds(0);return d;break;case u.MONTH:d.setUTCMonth(d.getUTCMonth()-(d.getUTCMonth()-1)%b,1);d.setUTCHours(0);d.setUTCMinutes(0);d.setUTCSeconds(0);d.setUTCMilliseconds(0);return d;break;case u.YEAR:d.setUTCFullYear(d.getUTCFullYear()-d.getUTCFullYear()%b,1,1);d.setUTCHours(0);d.setUTCMinutes(0);d.setUTCSeconds(0);d.setUTCMilliseconds(0);return c;break}}}}());Ext.Function=(function(){var y=0,p,w=[],o=[],u=0,s={},v=window,q=v.requestAnimationFrame||v.webkitRequestAnimationFrame||v.mozRequestAnimationFrame||v.oRequestAnimationFrame||function(a){var d=Ext.now(),c=Math.max(0,16-(d-y)),b=v.setTimeout(function(){a(d+c)},c);y=d+c;return b},x=function(){var d=w.length,a,c,b;p=null;for(c=0;c<d;c++){b=w[c];a=b[3];if(s[a]){b[0].apply(b[1]||Ext.global,b[2]||o);delete s[a]}}w=w.slice(d)},z=function(){Ext.elevateFunction(x)},r={flexSetter:function(a){return function(d,b){var e,c;if(d!==null){if(typeof d!=="string"){for(e in d){if(d.hasOwnProperty(e)){a.call(this,e,d[e])}}if(Ext.enumerables){for(c=Ext.enumerables.length;c--;){e=Ext.enumerables[c];if(d.hasOwnProperty(e)){a.call(this,e,d[e])}}}}else{a.call(this,d,b)}}return this}},bind:function(c,d,e,g){if(arguments.length===2){return function(){return c.apply(d,arguments)}}var a=c,b=Array.prototype.slice;return function(){var h=e||arguments;if(g===true){h=b.call(arguments,0);h=h.concat(e)}else{if(typeof g=="number"){h=b.call(arguments,0);Ext.Array.insert(h,g,e)}}return a.apply(d||Ext.global,h)}},bindCallback:function(a,b,c,d,e){return function(){var g=Ext.Array.slice(arguments);return Ext.callback(a,b,c?c.concat(g):g,d,e)}},pass:function(a,c,b){if(!Ext.isArray(c)){if(Ext.isIterable(c)){c=Ext.Array.clone(c)}else{c=c!==undefined?[c]:[]}}return function(){var d=c.slice();d.push.apply(d,arguments);return a.apply(b||this,d)}},alias:function(a,b){return function(){return a[b].apply(a,arguments)}},clone:function(a){return function(){return a.apply(this,arguments)}},createInterceptor:function(a,b,c,d){if(!Ext.isFunction(b)){return a}else{d=Ext.isDefined(d)?d:null;return function(){var e=this,g=arguments;b.target=e;b.method=a;return(b.apply(c||e||Ext.global,g)!==false)?a.apply(e||Ext.global,g):d}}},createDelayed:function(a,c,b,d,e){if(b||d){a=Ext.Function.bind(a,b,d,e)}return function(){var g=this,h=Array.prototype.slice.call(arguments);setTimeout(function(){if(Ext.elevateFunction){Ext.elevateFunction(a,g,h)}else{a.apply(g,h)}},c)}},defer:function(a,c,b,d,e){a=Ext.Function.bind(a,b,d,e);if(c>0){return setTimeout(function(){if(Ext.elevateFunction){Ext.elevateFunction(a)}else{a()}},c)}a();return 0},interval:function(a,c,b,d,e){a=Ext.Function.bind(a,b,d,e);return setInterval(function(){if(Ext.elevateFunction){Ext.elevateFunction(a)}else{a()}},c)},createSequence:function(b,a,c){if(!a){return b}else{return function(){var d=b.apply(this,arguments);a.apply(c||this,arguments);return d}}},createBuffered:function(a,d,b,c){var e;return function(){var g=c||Array.prototype.slice.call(arguments,0),h=b||this;if(e){clearTimeout(e)}e=setTimeout(function(){if(Ext.elevateFunction){Ext.elevateFunction(a,h,g)}else{a.apply(h,g)}},d)}},createAnimationFrame:function(b,c,d,a){var e;a=a||3;return function(){var g=d||Array.prototype.slice.call(arguments,0);c=c||this;if(a===3&&e){r.cancelAnimationFrame(e)}if((a&1)||!e){e=r.requestAnimationFrame(function(){e=null;b.apply(c,g)})}}},requestAnimationFrame:function(b,c,e){var a=++u,d=Array.prototype.slice.call(arguments,0);d[3]=a;s[a]=1;w.push(d);if(!p){p=q(Ext.elevateFunction?z:x)}return a},cancelAnimationFrame:function(a){delete s[a]},createThrottled:function(d,h,e){var c=0,j,g,a,b=function(){if(Ext.elevateFunction){Ext.elevateFunction(d,e,g)}else{d.apply(e,g)}c=Ext.now();a=null};return function(){if(!e){e=this}j=Ext.now()-c;g=arguments;if(j>=h){clearTimeout(a);b()}else{if(!a){a=Ext.defer(b,h-j)}}}},createBarrier:function(a,b,c){return function(){if(!--a){b.apply(c,arguments)}}},interceptBefore:function(d,e,b,c){var a=d[e]||Ext.emptyFn;return(d[e]=function(){var g=b.apply(c||this,arguments);a.apply(this,arguments);return g})},interceptAfter:function(d,e,b,c){var a=d[e]||Ext.emptyFn;return(d[e]=function(){a.apply(this,arguments);return b.apply(c||this,arguments)})},makeCallback:function(a,b){return function(){return b[a].apply(b,arguments)}}};Ext.defer=r.defer;Ext.interval=r.interval;Ext.pass=r.pass;Ext.bind=r.bind;Ext.deferCallback=r.requestAnimationFrame;return r})();Ext.Number=new function(){var h=this,j=(0.9).toFixed()!=="1",e=Math,g={count:false,inclusive:false,wrap:true};Ext.apply(h,{Clip:{DEFAULT:g,COUNT:Ext.applyIf({count:true},g),INCLUSIVE:Ext.applyIf({inclusive:true},g),NOWRAP:Ext.applyIf({wrap:false},g)},clipIndices:function(s,r,d){d=d||g;var p=0,a=d.wrap,b,q,c;r=r||[];for(c=0;c<2;++c){b=q;q=r[c];if(q==null){q=p}else{if(c&&d.count){q+=b;q=(q>s)?s:q}else{if(a){q=(q<0)?(s+q):q}if(c&&d.inclusive){++q}q=(q<0)?0:((q>s)?s:q)}}p=s}r[0]=b;r[1]=(q<b)?b:q;return r},constrain:function(a,b,c){var d=parseFloat(a);if(b===null){b=a}if(c===null){c=a}return(d<b)?b:((d>c)?c:d)},snap:function(b,d,c,a){var m;if(b===undefined||b<c){return c||0}if(d){m=b%d;if(m!==0){b-=m;if(m*2>=d){b+=d}else{if(m*2<-d){b-=d}}}}return h.constrain(b,c,a)},snapInRange:function(b,m,c,a){var d;c=(c||0);if(b===undefined||b<c){return c}if(m&&(d=((b-c)%m))){b-=d;d*=2;if(d>=m){b+=m}}if(a!==undefined){if(b>(a=h.snapInRange(a,m,c))){b=a}}return b},sign:function(a){a=+a;if(a===0||isNaN(a)){return a}return(a>0)?1:-1},toFixed:j?function(a,c){c=c||0;var b=e.pow(10,c);return(e.round(a*b)/b).toFixed(c)}:function(a,b){return a.toFixed(b)},from:function(a,b){if(isFinite(a)){a=parseFloat(a)}return !isNaN(a)?a:b},randomInt:function(a,b){return e.floor(e.random()*(b-a+1)+a)},correctFloat:function(a){return parseFloat(a.toPrecision(14))}});Ext.num=function(){return h.from.apply(this,arguments)}}();(function(){var d=function(){},c=Ext.Object={chain:Object.create||function(a){d.prototype=a;var b=new d();d.prototype=null;return b},clear:function(b){for(var a in b){delete b[a]}return b},freeze:Object.freeze?function(a,g){if(a&&typeof a==="object"&&!Object.isFrozen(a)){Object.freeze(a);if(g){for(var b in a){c.freeze(a[b],g)}}}return a}:Ext.identityFn,toQueryObjects:function(o,a,p){var q=c.toQueryObjects,b=[],n,m;if(Ext.isArray(a)){for(n=0,m=a.length;n<m;n++){if(p){b=b.concat(q(o+"["+n+"]",a[n],true))}else{b.push({name:o,value:a[n]})}}}else{if(Ext.isObject(a)){for(n in a){if(a.hasOwnProperty(n)){if(p){b=b.concat(q(o+"["+n+"]",a[n],true))}else{b.push({name:o,value:a[n]})}}}}else{b.push({name:o,value:a})}}return b},toQueryString:function(r,u){var q=[],s=[],j,p,b,v,a;for(j in r){if(r.hasOwnProperty(j)){q=q.concat(c.toQueryObjects(j,r[j],u))}}for(p=0,b=q.length;p<b;p++){v=q[p];a=v.value;if(Ext.isEmpty(a)){a=""}else{if(Ext.isDate(a)){a=Ext.Date.toString(a)}}s.push(encodeURIComponent(v.name)+"="+encodeURIComponent(String(a)))}return s.join("&")},fromQueryString:function(N,B){var H=N.replace(/^\?/,"").split("&"),j={},A,J,a,G,C,L,F,D,O,K,z,I,b,M;for(C=0,L=H.length;C<L;C++){F=H[C];if(F.length>0){J=F.split("=");a=decodeURIComponent(J[0]);G=(J[1]!==undefined)?decodeURIComponent(J[1]):"";if(!B){if(j.hasOwnProperty(a)){if(!Ext.isArray(j[a])){j[a]=[j[a]]}j[a].push(G)}else{j[a]=G}}else{K=a.match(/(\[):?([^\]]*)\]/g);z=a.match(/^([^\[]+)/);a=z[0];I=[];if(K===null){j[a]=G;continue}for(D=0,O=K.length;D<O;D++){b=K[D];b=(b.length===2)?"":b.substring(1,b.length-1);I.push(b)}I.unshift(a);A=j;for(D=0,O=I.length;D<O;D++){b=I[D];if(D===O-1){if(Ext.isArray(A)&&b===""){A.push(G)}else{A[b]=G}}else{if(A[b]===undefined||typeof A[b]==="string"){M=I[D+1];A[b]=(Ext.isNumeric(M)||M==="")?[]:{}}A=A[b]}}}}}return j},each:function(n,b,l){var o=Ext.enumerables,m,a;l=l||n;for(a in n){if(n.hasOwnProperty(a)){if(b.call(l,a,n[a],n)===false){return}}}if(o){for(m=o.length;m--;){if(n.hasOwnProperty(a=o[m])){if(b.call(l,a,n[a],n)===false){return}}}}},eachValue:function(n,b,l){var o=Ext.enumerables,m,a;l=l||n;for(a in n){if(n.hasOwnProperty(a)){if(b.call(l,n[a])===false){return}}}if(o){for(m=o.length;m--;){if(n.hasOwnProperty(a=o[m])){if(b.call(l,n[a])===false){return}}}}},merge:function(o){var q=1,p=arguments.length,v=c.merge,s=Ext.clone,r,a,b,u;for(;q<p;q++){r=arguments[q];for(a in r){b=r[a];if(b&&b.constructor===Object){u=o[a];if(u&&u.constructor===Object){v(u,b)}else{o[a]=s(b)}}else{o[a]=b}}}return o},mergeIf:function(q){var m=1,b=arguments.length,o=Ext.clone,p,n,a;for(;m<b;m++){p=arguments[m];for(n in p){if(!(n in q)){a=p[n];if(a&&a.constructor===Object){q[n]=o(a)}else{q[n]=a}}}}return q},getAllKeys:function(g){var b=[],a;for(a in g){b.push(a)}return b},getKey:function(g,a){for(var b in g){if(g.hasOwnProperty(b)&&g[b]===a){return b}}return null},getValues:function(b){var g=[],a;for(a in b){if(b.hasOwnProperty(a)){g.push(b[a])}}return g},getKeys:(typeof Object.keys=="function")?function(a){if(!a){return[]}return Object.keys(a)}:function(g){var b=[],a;for(a in g){if(g.hasOwnProperty(a)){b.push(a)}}return b},getSize:function(g){var b=0,a;for(a in g){if(g.hasOwnProperty(a)){b++}}return b},isEmpty:function(b){for(var a in b){if(b.hasOwnProperty(a)){return false}}return true},equals:(function(){var a=function(b,h){var j;for(j in b){if(b.hasOwnProperty(j)){if(b[j]!==h[j]){return false}}}return true};return function(b,g){if(b===g){return true}if(b&&g){return a(b,g)&&a(g,b)}else{if(!b&&!g){return b===g}else{return false}}}})(),fork:function(a){var b=Ext.Array,m,l,j;if(a&&a.constructor===Object){m=c.chain(a);for(l in a){j=a[l];if(j){if(j.constructor===Object){m[l]=c.fork(j)}else{if(j instanceof Array){m[l]=Ext.Array.clone(j)}}}}}else{m=a}return m},defineProperty:("defineProperty" in Object)?Object.defineProperty:function(b,g,a){if(!Object.prototype.__defineGetter__){return}if(a.get){b.__defineGetter__(g,a.get)}if(a.set){b.__defineSetter__(g,a.set)}},classify:function(n){var o=n,b=[],p={},q=function(){var e=0,h=b.length,g;for(;e<h;e++){g=b[e];this[g]=new p[g]()}},m,a;for(m in n){if(n.hasOwnProperty(m)){a=n[m];if(a&&a.constructor===Object){b.push(m);p[m]=c.classify(a)}}}q.prototype=o;return q}};Ext.merge=Ext.Object.merge;Ext.mergeIf=Ext.Object.mergeIf}());Ext.apply(Ext,{_namedScopes:{"this":{isThis:1},controller:{isController:1},self:{isSelf:1},"self.controller":{isSelf:1,isController:1}},escapeId:(function(){var m=/^[a-zA-Z_][a-zA-Z0-9_\-]*$/i,l=/([\W]{1})/g,g=/^(\d)/g,h=function(a,b){return"\\"+b},j=function(a,b){return"\\00"+b.charCodeAt(0).toString(16)+" "};return function(a){return m.test(a)?a:a.replace(l,h).replace(g,j)}}()),callback:function(n,p,r,s,l,o){if(!n){return}var q=(p in Ext._namedScopes);if(n.charAt){if((!p||q)&&l){p=l.resolveListenerScope(q?p:o)}n=p[n]}else{if(q){p=o||l}else{if(!p){p=l}}}var m;if(n&&Ext.isFunction(n)){p=p||Ext.global;if(s){Ext.defer(n,s,p,r)}else{if(Ext.elevateFunction){m=Ext.elevateFunction(n,p,r)}else{if(r){m=n.apply(p,r)}else{m=n.call(p)}}}}return m},coerce:function(j,l){var m=Ext.typeOf(j),g=Ext.typeOf(l),h=typeof j==="string";if(m!==g){switch(g){case"string":return String(j);case"number":return Number(j);case"boolean":return h&&(!j||j==="false")?false:Boolean(j);case"null":return h&&(!j||j==="null")?null:j;case"undefined":return h&&(!j||j==="undefined")?undefined:j;case"date":return h&&isNaN(j)?Ext.Date.parse(j,Ext.Date.defaultFormat):Date(Number(j))}}return j},copyTo:function(j,p,n,o){if(typeof n==="string"){n=n.split(Ext.propertyNameSplitRe)}for(var l,q=0,m=n?n.length:0;q<m;q++){l=n[q];if(o||p.hasOwnProperty(l)){j[l]=p[l]}}return j},propertyNameSplitRe:/[,;\s]+/,copyToIf:function(j,n,m){if(typeof m==="string"){m=m.split(Ext.propertyNameSplitRe)}for(var h,o=0,l=m?m.length:0;o<l;o++){h=m[o];if(j[h]===undefined){j[h]=n[h]}}return j},extend:(function(){var d=Object.prototype.constructor,c=function(a){for(var b in a){if(!a.hasOwnProperty(b)){continue}this[b]=a[b]}};return function(o,a,l){if(Ext.isObject(a)){l=a;a=o;o=l.constructor!==d?l.constructor:function(){a.apply(this,arguments)}}var m=function(){},n,b=a.prototype;m.prototype=b;n=o.prototype=new m();n.constructor=o;o.superclass=b;if(b.constructor===d){b.constructor=a}o.override=function(e){Ext.override(o,e)};n.override=c;n.proto=n;o.override(l);o.extend=function(e){return Ext.extend(o,e)};return o}}()),iterate:function(e,g,d){if(Ext.isEmpty(e)){return}if(d===undefined){d=e}if(Ext.isIterable(e)){Ext.Array.each.call(Ext.Array,e,g,d)}else{Ext.Object.each.call(Ext.Object,e,g,d)}},urlEncode:function(){var d=Ext.Array.from(arguments),c="";if(Ext.isString(d[1])){c=d[1]+"&";d[1]=false}return c+Ext.Object.toQueryString.apply(Ext.Object,d)},urlDecode:function(){return Ext.Object.fromQueryString.apply(Ext.Object,arguments)},getScrollbarSize:function(j){var e=Ext._scrollbarSize;if(j||!e){var g=document.body,h=document.createElement("div");h.style.width=h.style.height="100px";h.style.overflow="scroll";h.style.position="absolute";g.appendChild(h);Ext._scrollbarSize=e={width:h.offsetWidth-h.clientWidth,height:h.offsetHeight-h.clientHeight};g.removeChild(h)}return e},typeOf:(function(){var g=/\S/,j=Object.prototype.toString,h={number:1,string:1,"boolean":1,"undefined":1},e={"[object Array]":"array","[object Date]":"date","[object Boolean]":"boolean","[object Number]":"number","[object RegExp]":"regexp"};return function(b){if(b===null){return"null"}var c=typeof b,d,a;if(h[c]){return c}d=e[a=j.call(b)];if(d){return d}if(c==="function"){return"function"}if(c==="object"){if(b.nodeType!==undefined){if(b.nodeType===3){return g.test(b.nodeValue)?"textnode":"whitespace"}else{return"element"}}return"object"}return a}}()),factory:function(h,m,j,l){var n=Ext.ClassManager,o;if(!h||h.isInstance){if(j&&j!==h){j.destroy()}return h}if(l){if(typeof h=="string"){return n.instantiateByAlias(l+"."+h)}else{if(Ext.isObject(h)&&"type" in h){return n.instantiateByAlias(l+"."+h.type,h)}}}if(h===true){return j||Ext.create(m)}if("xtype" in h){o=n.instantiateByAlias("widget."+h.xtype,h)}else{if("xclass" in h){o=Ext.create(h.xclass,h)}}if(o){if(j){j.destroy()}return o}if(j){return j.setConfig(h)}return Ext.create(m,h)},log:(function(){var b=function(){};b.info=b.warn=b.error=Ext.emptyFn;return b}())});(function(){var p=[""],m=/([^\d\.])/,j=/[^\d]/g,l=/[\-+]/g,n=/\s/g,q=/_/g,o;Ext.Version=o=function(z,d){var y=this,g=y.padModes,w,b,e,c,x,h,a;if(z.isVersion){z=z.version}y.version=a=String(z).toLowerCase().replace(q,".").replace(l,"");w=a.charAt(0);if(w in g){a=a.substring(1);e=g[w]}else{e=d?g[d]:0}y.pad=e;h=a.search(m);y.shortVersion=a;if(h!==-1){y.release=x=a.substr(h,z.length);y.shortVersion=a.substr(0,h);x=o.releaseValueMap[x]||x}y.releaseValue=x||e;y.shortVersion=y.shortVersion.replace(j,"");y.parts=c=a.split(".");for(b=c.length;b--;){c[b]=parseInt(c[b],10)}if(e===Infinity){c.push(e)}y.major=c[0]||e;y.minor=c[1]||e;y.patch=c[2]||e;y.build=c[3]||e;return y};o.prototype={isVersion:true,padModes:{"~":NaN,"^":Infinity},release:"",compareTo:function(B){var A=this,d=A.pad,D=A.parts,z=D.length,e=B.isVersion?B:new o(B),h=e.pad,a=e.parts,b=a.length,y=Math.max(z,b),c,g,C;for(c=0;c<y;c++){g=(c<z)?D[c]:d;C=(c<b)?a[c]:h;if(g<C){return -1}if(g>C){return 1}}g=A.releaseValue;C=e.releaseValue;if(g<C){return -1}if(g>C){return 1}return 0},toString:function(){return this.version},valueOf:function(){return this.version},getMajor:function(){return this.major},getMinor:function(){return this.minor},getPatch:function(){return this.patch},getBuild:function(){return this.build},getRelease:function(){return this.release},getReleaseValue:function(){return this.releaseValue},isGreaterThan:function(a){return this.compareTo(a)>0},isGreaterThanOrEqual:function(a){return this.compareTo(a)>=0},isLessThan:function(a){return this.compareTo(a)<0},isLessThanOrEqual:function(a){return this.compareTo(a)<=0},equals:function(a){return this.compareTo(a)===0},match:function(a){a=String(a);return this.version.substr(0,a.length)===a},toArray:function(){var a=this;return[a.getMajor(),a.getMinor(),a.getPatch(),a.getBuild(),a.getRelease()]},getShortVersion:function(){return this.shortVersion},gt:function(a){return this.compareTo(a)>0},lt:function(a){return this.compareTo(a)<0},gtEq:function(a){return this.compareTo(a)>=0},ltEq:function(a){return this.compareTo(a)<=0}};Ext.apply(o,{aliases:{from:{extjs:"ext",core:"sencha-core"},to:{ext:["extjs"],"sencha-core":["core"]}},releaseValueMap:{dev:-6,alpha:-5,a:-5,beta:-4,b:-4,rc:-3,"#":-2,p:-1,pl:-1},getComponentValue:function(a){return !a?0:(isNaN(a)?this.releaseValueMap[a]||a:parseInt(a,10))},compare:function(a,b){var c=a.isVersion?a:new o(a);return c.compareTo(b)},set:function(d,g,a){var b=o.aliases.to[g],c=a.isVersion?a:new o(a),e;d[g]=c;if(b){for(e=b.length;e-->0;){d[b[e]]=c}}return c}});Ext.apply(Ext,{compatVersions:{},versions:{},lastRegisteredVersion:null,getCompatVersion:function(b){var c=Ext.compatVersions,a;if(!b){a=c.ext||c.touch||c.core}else{a=c[o.aliases.from[b]||b]}return a||Ext.getVersion(b)},setCompatVersion:function(a,b){o.set(Ext.compatVersions,a,b)},setVersion:function(a,b){Ext.lastRegisteredVersion=o.set(Ext.versions,a,b);return this},getVersion:function(a){var b=Ext.versions;if(!a){return b.ext||b.touch||b.core}return b[o.aliases.from[a]||a]},checkVersion:function(b,G){var K=Ext.isArray(b),C=o.aliases.from,g=K?b:p,D=g.length,h=Ext.versions,H=h.ext||h.touch,a,I,L,e,d,F,c,M,J;if(!K){p[0]=b}for(a=0;a<D;++a){if(!Ext.isString(c=g[a])){L=Ext.checkVersion(c.and||c.or,!c.or);if(c.not){L=!L}}else{if(c.indexOf(" ")>=0){c=c.replace(n,"")}I=c.indexOf("@");if(I<0){M=c;J=H}else{F=c.substring(0,I);if(!(J=h[C[F]||F])){if(G){return false}continue}M=c.substring(I+1)}I=M.indexOf("-");if(I<0){if(M.charAt(I=M.length-1)==="+"){e=M.substring(0,I);d=null}else{e=d=M}}else{if(I>0){e=M.substring(0,I);d=M.substring(I+1)}else{e=null;d=M.substring(I+1)}}L=true;if(e){e=new o(e,"~");L=e.ltEq(J)}if(L&&d){d=new o(d,"~");L=d.gtEq(J)}}if(L){if(!G){return true}}else{if(G){return false}}}return !!G},deprecate:function(c,a,d,b){if(o.compare(Ext.getVersion(c),a)<1){d.call(b)}}})}());(function(l){var j=(l&&l.packages)||{},m=l&&l.compatibility,g,h;for(g in j){h=j[g];Ext.setVersion(g,h.version)}if(m){if(Ext.isString(m)){Ext.setCompatVersion("core",m)}else{for(g in m){Ext.setCompatVersion(g,m[g])}}}if(!j.ext&&!j.touch){Ext.setVersion("ext","5")}})(Ext.manifest);Ext.Config=function(d){var g=this,e=d.charAt(0).toUpperCase()+d.substr(1);g.name=d;g.names={internal:"_"+d,initializing:"is"+e+"Initializing",apply:"apply"+e,update:"update"+e,get:"get"+e,set:"set"+e,initGet:"initGet"+e,doSet:"doSet"+e,changeEvent:d.toLowerCase()+"change"};g.root=g};Ext.Config.map={};Ext.Config.get=function(d){var g=Ext.Config.map,e=g[d]||(g[d]=new Ext.Config(d));return e};Ext.Config.prototype={self:Ext.Config,isConfig:true,getGetter:function(){return this.getter||(this.root.getter=this.makeGetter())},getInitGetter:function(){return this.initGetter||(this.root.initGetter=this.makeInitGetter())},getSetter:function(){return this.setter||(this.root.setter=this.makeSetter())},getInternalName:function(b){return b.$configPrefixed?this.names.internal:this.name},mergeNew:function(l,h,m,n){var j,o;if(!h){j=l}else{if(!l){j=h}else{j=Ext.Object.chain(h);for(o in l){if(!n||!(o in j)){j[o]=l[o]}}}}return j},mergeSets:function(m,o,j){var h=o?Ext.Object.chain(o):{},n,l;if(m instanceof Array){for(n=m.length;n--;){l=m[n];if(!j||!(l in h)){h[l]=true}}}else{if(m){if(m.constructor===Object){for(n in m){l=m[n];if(!j||!(n in h)){h[n]=l}}}else{if(!j||!(m in h)){h[m]=true}}}}return h},makeGetter:function(){var d=this.name,c=this.names.internal;return function(){var a=this.$configPrefixed?c:d;return this[a]}},makeInitGetter:function(){var h=this.name,j=this.names,l=j.set,g=j.get,m=j.initializing;return function(){var a=this;a[m]=true;delete a[g];a[l](a.config[h]);delete a[m];return a[g].apply(a,arguments)}},makeSetter:function(){var l=this.name,o=this.names,q=o.internal,p=o.get,j=o.apply,m=o.update,n;n=function(d){var a=this,b=a.$configPrefixed?q:l,c=a[b];delete a[p];if(!a[j]||(d=a[j](d,c))!==undefined){if(d!==(c=a[b])){a[b]=d;if(a[m]){a[m](d,c)}}}return a};n.$isDefault=true;return n}};(function(){var d=Ext.Config,g=d.map,e=Ext.Object;Ext.Configurator=function(j){var b=this,c=j.prototype,a=j.superclass?j.superclass.self.$config:null;b.cls=j;if(a){b.configs=e.chain(a.configs);b.cachedConfigs=e.chain(a.cachedConfigs);b.initMap=e.chain(a.initMap);b.values=e.chain(a.values)}else{b.configs={};b.cachedConfigs={};b.initMap={};b.values={}}c.config=c.defaultConfig=b.values;j.$config=b};Ext.Configurator.prototype={self:Ext.Configurator,initList:null,add:function(c,S){var b=this,O=b.cls,L=b.configs,a=b.cachedConfigs,J=b.initMap,D=O.prototype,I=S&&S.$config.configs,R=b.values,M,K,s,Q,P,N,H,F,G,C;for(H in c){C=c[H];M=C&&C.constructor===Object;K=M&&"$value" in C?C:null;if(K){s=!!K.cached;C=K.$value}Q=K&&K.merge;P=L[H];if(P){if(S){Q=P.merge;if(!Q){continue}K=null}else{Q=Q||P.merge}N=R[H];if(Q){C=Q.call(P,C,N,O,S)}else{if(M){if(N&&N.constructor===Object){C=e.merge({},N,C)}}}}else{if(I){P=I[H];K=null}else{P=d.get(H)}L[H]=P;if(P.cached||s){a[H]=true}F=P.names;if(!D[G=F.get]){D[G]=P.getGetter()}if(!D[G=F.set]){D[G]=P.getSetter()}}if(K){if(P.owner!==O){L[H]=P=Ext.Object.chain(P);P.owner=O}Ext.apply(P,K);delete P.$value}if(C!==null){J[H]=true}else{if(D.$configPrefixed){D[L[H].names.internal]=null}else{D[L[H].name]=null}if(H in J){J[H]=false}}R[H]=C}},configure:function(a,S){var M=this,T=M.configs,R=M.initMap,P=M.initListMap,c=M.initList,N=M.cls.prototype,Y=e.fork(M.values),L=0,H=!c,X,W,V,J,F,G,U,Q,K,I,O,b;if(H){M.initList=c=[];M.initListMap=P={};a.isFirstInstance=true;for(K in R){J=R[K];W=T[K];O=W.cached;if(J){Q=W.names;I=Y[K];if(!N[Q.set].$isDefault||N[Q.apply]||N[Q.update]||typeof I==="object"){if(O){(X||(X=[])).push(W)}else{c.push(W);P[K]=true}a[Q.get]=W.initGetter||W.getInitGetter()}else{N[W.getInternalName(N)]=I}}else{if(O){N[W.getInternalName(N)]=undefined}}}}U=X&&X.length;if(U){for(F=0;F<U;++F){G=X[F].getInternalName(N);a[G]=null}for(F=0;F<U;++F){Q=(W=X[F]).names;V=Q.get;if(a.hasOwnProperty(V)){a[Q.set](Y[W.name]);delete a[V]}}for(F=0;F<U;++F){G=X[F].getInternalName(N);N[G]=a[G];delete a[G]}}if(S&&S.platformConfig){S=M.resolvePlatformConfig(a,S)}if(H){if(a.afterCachedConfig&&!a.afterCachedConfig.$nullFn){a.afterCachedConfig(S)}}a.isConfiguring=true;a.config=Y;for(F=0,U=c.length;F<U;++F){W=c[F];a[W.names.get]=W.initGetter||W.getInitGetter()}if(a.transformInstanceConfig){S=a.transformInstanceConfig(S)}if(S){for(K in S){I=S[K];W=T[K];if(!W){a[K]=I}else{if(!W.lazy){++L}if(!P[K]){a[W.names.get]=W.initGetter||W.getInitGetter()}if(W.merge){I=W.merge(I,Y[K],a)}else{if(I&&I.constructor===Object){b=Y[K];if(b&&b.constructor===Object){I=e.merge(Y[K],I)}else{I=Ext.clone(I)}}}}Y[K]=I}}if(a.beforeInitConfig&&!a.beforeInitConfig.$nullFn){if(a.beforeInitConfig(S)===false){return}}if(S){for(K in S){if(!L){break}W=T[K];if(W&&!W.lazy){--L;Q=W.names;V=Q.get;if(a.hasOwnProperty(V)){a[Q.set](Y[K]);delete a[Q.get]}}}}for(F=0,U=c.length;F<U;++F){W=c[F];Q=W.names;V=Q.get;if(!W.lazy&&a.hasOwnProperty(V)){a[Q.set](Y[W.name]);delete a[V]}}delete a.isConfiguring},getCurrentConfig:function(c){var j=c.defaultConfig,a={},b;for(b in j){a[b]=c[g[b].names.get]()}return a},merge:function(r,b,o){var s=this.configs,p,a,c,q;for(p in o){a=o[p];q=s[p];if(q){if(q.merge){a=q.merge(a,b[p],r)}else{if(a&&a.constructor===Object){c=b[p];if(c&&c.constructor===Object){a=Ext.Object.merge(c,a)}else{a=Ext.clone(a)}}}}b[p]=a}return b},reconfigure:function(I,c,H){var A=I.config,z=[],J=I.$configStrict,b=this.configs,D=H&&H.defaults,B=H&&H.strict===false,x,K,C,y,G,a,F;for(G in c){if(D&&I.hasOwnProperty(G)){continue}A[G]=c[G];x=b[G];if(x){I[x.names.get]=x.initGetter||x.getInitGetter()}else{if(J){continue}}z.push(G)}for(C=0,y=z.length;C<y;C++){G=z[C];x=b[G];if(x){a=x.names;K=a.get;if(I.hasOwnProperty(K)){I[a.set](c[G]);delete I[K]}}else{x=g[G]||Ext.Config.get(G);a=x.names;if(I[a.set]){I[a.set](c[G])}else{if(B){I[G]=c[G]}}}}},resolvePlatformConfig:function(q,a){var c=a&&a.platformConfig,p=a,o,n,b;if(c){n=Ext.getPlatformConfigKeys(c);b=n.length;if(b){p=Ext.merge({},p);for(o=0,b=n.length;o<b;++o){this.merge(q,p,c[n[o]])}}}return p}}}());Ext.Base=(function(z){var A=[],s,q=[],p=function(c,d){var a=this,e,g,b;if(c){g=Ext.Config.map[c];b=g.names.get;if(d&&a.hasOwnProperty(b)){e=a.config[c]}else{e=a[b]()}}else{e=a.getCurrentConfig()}return e},w=function(a){return function(){return this[a].apply(this,arguments)}},B=Ext.Version,u=/^\d/,r={},x={},v=function(){},y=v.prototype;Ext.apply(v,{$className:"Ext.Base",$isClass:true,create:function(){return Ext.create.apply(Ext,[this].concat(Array.prototype.slice.call(arguments,0)))},addDeprecations:function(g){var h=this,M=[],n=Ext.getCompatVersion(g.name),l,N,j,L,e,b,o,d,K,c,a,O,m,J;for(N in g){if(u.test(N)){J=new Ext.Version(N);J.deprecations=g[N];M.push(J)}}M.sort(B.compare);for(j=M.length;j--;){l=(J=M[j]).deprecations;e=h.prototype;m=l.statics;b=n&&n.lt(J);if(!b){break}while(l){K=l.methods;if(K){for(c in K){O=K[c];d=null;if(!O){}else{if(Ext.isString(O)){if(b){d=w(O)}}else{L="";if(O.message||O.fn){O=O.fn}o=e.hasOwnProperty(c)&&e[c];if(b&&O){O.$owner=h;O.$name=c;if(o){O.$previous=o}d=O}}}if(d){e[c]=d}}}l=m;m=null;e=h}}},extend:function(d){var b=this,j=d.prototype,g,e,c,h,a;g=b.prototype=Ext.Object.chain(j);g.self=b;b.superclass=g.superclass=j;if(!d.$isClass){for(e in y){if(e in g){g[e]=y[e]}}}a=j.$inheritableStatics;if(a){for(e=0,c=a.length;e<c;e++){h=a[e];if(!b.hasOwnProperty(h)){b[h]=d[h]}}}if(d.$onExtended){b.$onExtended=d.$onExtended.slice()}b.getConfigurator()},$onExtended:[],triggerExtended:function(){var b=this.$onExtended,c=b.length,d,a;if(c>0){for(d=0;d<c;d++){a=b[d];a.fn.apply(a.scope||this,arguments)}}},onExtended:function(a,b){this.$onExtended.push({fn:a,scope:b});return this},addStatics:function(a){this.addMembers(a,true);return this},addInheritableStatics:function(e){var b,g,c=this.prototype,d,a;b=c.$inheritableStatics;g=c.$hasInheritableStatics;if(!b){b=c.$inheritableStatics=[];g=c.$hasInheritableStatics={}}for(d in e){if(e.hasOwnProperty(d)){a=e[d];this[d]=a;if(!g[d]){g[d]=true;b.push(d)}}}return this},addMembers:function(I,H,d){var b=this,l=Ext.Function.clone,g=H?b:b.prototype,o=!H&&g.defaultConfig,J=Ext.enumerables,j=I.privates,h,m,c,n,e,a,K;if(j){delete I.privates;if(!H){K=j.statics;delete j.statics}b.addMembers(j,H,a);if(K){b.addMembers(K,true,a)}}for(e in I){if(I.hasOwnProperty(e)){n=I[e];if(typeof n==="function"&&!n.$isClass&&!n.$nullFn){if(n.$owner){n=l(n)}if(g.hasOwnProperty(e)){n.$previous=g[e]}n.$owner=b;n.$name=e}else{if(o&&(e in o)&&!g.config.hasOwnProperty(e)){(h||(h={}))[e]=n;continue}}g[e]=n}}if(h){b.addConfig(h)}if(J){for(m=0,c=J.length;m<c;++m){if(I.hasOwnProperty(e=J[m])){n=I[e];if(n&&!n.$nullFn){if(n.$owner){n=l(n)}n.$owner=b;n.$name=e;if(g.hasOwnProperty(e)){n.$previous=g[e]}}g[e]=n}}}return this},addMember:function(b,a){r[b]=a;this.addMembers(r);delete r[b];return this},borrow:function(a,h){var e=a.prototype,c={},d,b,g;h=Ext.Array.from(h);for(d=0,b=h.length;d<b;d++){g=h[d];c[g]=e[g]}return this.addMembers(c)},override:function(g){var d=this,a=g.statics,b=g.inheritableStatics,e=g.config,h=g.mixins,c=g.cachedConfig;if(a||b||e){g=Ext.apply({},g)}if(a){d.addMembers(a,true);delete g.statics}if(b){d.addInheritableStatics(b);delete g.inheritableStatics}if(e){d.addConfig(e);delete g.config}if(c){d.addCachedConfig(c);delete g.cachedConfig}delete g.mixins;d.addMembers(g);if(h){d.mixin(h)}return d},callParent:function(b){var a;return(a=this.callParent.caller)&&(a.$previous||((a=a.$owner?a:a.caller)&&a.$owner.superclass.self[a.$name])).apply(this,b||A)},callSuper:function(b){var a;return(a=this.callSuper.caller)&&((a=a.$owner?a:a.caller)&&a.$owner.superclass.self[a.$name]).apply(this,b||A)},mixin:function(e,c){var m=this,b,j,d,l,a,n,g,h,o;if(typeof e!=="string"){o=e;if(o instanceof Array){for(a=0,n=o.length;a<n;a++){b=o[a];m.mixin(b.prototype.mixinId||b.$className,b)}}else{for(var D in o){m.mixin(D,o[D])}}return}b=c.prototype;j=m.prototype;if(b.onClassMixedIn){b.onClassMixedIn.call(c,m)}if(!j.hasOwnProperty("mixins")){if("mixins" in j){j.mixins=Ext.Object.chain(j.mixins)}else{j.mixins={}}}for(d in b){h=b[d];if(d==="mixins"){Ext.applyIf(j.mixins,h)}else{if(!(d==="mixinId"||d==="config")&&(j[d]===undefined)){j[d]=h}}}l=b.$inheritableStatics;if(l){for(a=0,n=l.length;a<n;a++){g=l[a];if(!m.hasOwnProperty(g)){m[g]=c[g]}}}if("config" in b){m.addConfig(b.config,c)}j.mixins[e]=b;if(b.afterClassMixedIn){b.afterClassMixedIn.call(c,m)}return m},addConfig:function(b,a){var c=this.$config||this.getConfigurator();c.add(b,a)},addCachedConfig:function(d,b){var a={},c;for(c in d){a[c]={cached:true,$value:d[c]}}this.addConfig(a,b)},getConfigurator:function(){return this.$config||new Ext.Configurator(this)},getName:function(){return Ext.getClassName(this)},createAlias:z(function(a,b){x[a]=function(){return this[b].apply(this,arguments)};this.override(x);delete x[a]})});for(s in v){if(v.hasOwnProperty(s)){q.push(s)}}v.$staticMembers=q;v.getConfigurator();v.addMembers({$className:"Ext.Base",isInstance:true,$configPrefixed:true,$configStrict:true,isConfiguring:false,isFirstInstance:false,statics:function(){var a=this.statics.caller,b=this.self;if(!a){return b}return a.$owner},callParent:function(b){var a,c=(a=this.callParent.caller)&&(a.$previous||((a=a.$owner?a:a.caller)&&a.$owner.superclass[a.$name]));return c.apply(this,b||A)},callSuper:function(b){var a,c=(a=this.callSuper.caller)&&((a=a.$owner?a:a.caller)&&a.$owner.superclass[a.$name]);return c.apply(this,b||A)},self:v,constructor:function(){return this},getConfigurator:function(){return this.$config||this.self.getConfigurator()},initConfig:function(a){var b=this,c=b.getConfigurator();b.initConfig=Ext.emptyFn;b.initialConfig=a||{};c.configure(b,a);return b},beforeInitConfig:Ext.emptyFn,getConfig:p,setConfig:function(c,a,d){var b=this,e;if(c){if(typeof c==="string"){e={};e[c]=a}else{e=c}b.getConfigurator().reconfigure(b,e,d)}return b},getCurrentConfig:function(){var a=this.getConfigurator();return a.getCurrentConfig(this)},hasConfig:function(a){return a in this.defaultConfig},getInitialConfig:function(a){var b=this.config;if(!a){return b}return b[a]},$links:null,link:function(c,a){var b=this,d=b.$links||(b.$links={});d[c]=true;b[c]=a;return a},unlink:function(a){var c=this,g,d,e,b;for(g=0,d=a.length;g<d;g++){e=a[g];b=c[e];if(b){if(b.isInstance&&!b.isDestroyed){b.destroy()}else{if(b.parentNode&&"nodeType" in b){b.parentNode.removeChild(b)}}}c[e]=null}return c},destroy:function(){var a=this,b=a.$links;a.destroy=Ext.emptyFn;a.isDestroyed=true;if(b){a.$links=null;a.unlink(Ext.Object.getKeys(b))}}});y.callOverridden=y.callParent;return v}(Ext.Function.flexSetter));(function(c,d){(Ext.util||(Ext.util={})).Cache=c=function(g){var a=this,b;if(g){Ext.apply(a,g)}a.head=b={key:null,value:null};a.map={};b.next=b.prev=b};c.prototype=d={maxSize:100,count:0,clear:function(){var a=this,g=a.head,b=g.next;g.next=g.prev=g;if(!a.evict.$nullFn){for(;b!==g;b=b.next){a.evict(b.key,b.value)}}a.count=0},each:function(b,h){h=h||this;for(var j=this.head,a=j.next;a!==j;a=a.next){if(b.call(h,a.key,a.value)){break}}},get:function(l){var b=this,m=b.head,a=b.map,j=a[l];if(j){if(j.prev!==m){b.unlinkEntry(j);b.linkEntry(j)}}else{a[l]=j={key:l,value:b.miss.apply(b,arguments)};b.linkEntry(j);++b.count;while(b.count>b.maxSize){b.unlinkEntry(m.prev,true);--b.count}}return j.value},evict:Ext.emptyFn,linkEntry:function(b){var g=this.head,a=g.next;b.next=a;b.prev=g;g.next=b;a.prev=b},unlinkEntry:function(b,a){var j=b.next,h=b.prev;h.next=j;j.prev=h;if(a){this.evict(b.key,b.value)}}};d.destroy=d.clear}());(function(){var l,m=Ext.Base,j=m.$staticMembers,g=function(a,b){return(a.length-b.length)||((a<b)?-1:((a>b)?1:0))};function h(a){function b(){return this.constructor.apply(this,arguments)||null}return b}Ext.Class=l=function(b,a,c){if(typeof b!="function"){c=a;a=b;b=null}if(!a){a={}}b=l.create(b,a);l.process(b,a,c);return b};Ext.apply(l,{makeCtor:h,onBeforeCreated:function(b,a,c){b.addMembers(a);c.onCreated.call(b,b)},create:function(d,a){var b=j.length,c;if(!d){d=h()}while(b--){c=j[b];d[c]=m[c]}return d},process:function(B,c,z){var A=c.preprocessors||l.defaultPreprocessors,H=this.preprocessors,D={onBeforeCreated:this.onBeforeCreated},F=[],C,d,e,G,y,a,b;delete c.preprocessors;B._classHooks=D;for(e=0,G=A.length;e<G;e++){C=A[e];if(typeof C=="string"){C=H[C];d=C.properties;if(d===true){F.push(C.fn)}else{if(d){for(y=0,a=d.length;y<a;y++){b=d[y];if(c.hasOwnProperty(b)){F.push(C.fn);break}}}}}else{F.push(C)}}D.onCreated=z?z:Ext.emptyFn;D.preprocessors=F;this.doProcess(B,c,D)},doProcess:function(d,q,e){var a=this,p=e.preprocessors,c=p.shift(),b=a.doProcess;for(;c;c=p.shift()){if(c.call(a,d,q,e,b)===false){return}}e.onBeforeCreated.apply(a,arguments)},preprocessors:{},registerPreprocessor:function(d,a,c,e,b){if(!e){e="last"}if(!c){c=[d]}this.preprocessors[d]={name:d,properties:c||false,fn:a};this.setDefaultPreprocessorPosition(d,e,b);return this},getPreprocessor:function(a){return this.preprocessors[a]},getPreprocessors:function(){return this.preprocessors},defaultPreprocessors:[],getDefaultPreprocessors:function(){return this.defaultPreprocessors},setDefaultPreprocessors:function(a){this.defaultPreprocessors=Ext.Array.from(a);return this},setDefaultPreprocessorPosition:function(c,a,b){var e=this.defaultPreprocessors,d;if(typeof a=="string"){if(a==="first"){e.unshift(c);return this}else{if(a==="last"){e.push(c);return this}}a=(a==="after")?1:-1}d=Ext.Array.indexOf(e,b);if(d!==-1){Ext.Array.splice(e,Math.max(0,d+a),0,c)}return this}});l.registerPreprocessor("extend",function(u,r,a){var e=Ext.Base,d=e.prototype,c=r.extend,v,b,s;delete r.extend;if(c&&c!==Object){v=c}else{v=e}b=v.prototype;if(!v.$isClass){for(s in d){if(!b[s]){b[s]=d[s]}}}u.extend(v);u.triggerExtended.apply(u,arguments);if(r.onClassExtended){u.onExtended(r.onClassExtended,u);delete r.onClassExtended}},true);l.registerPreprocessor("privates",function(e,b){var c=b.privates,a=c.statics,d=c.privacy||true;delete b.privates;delete c.statics;e.addMembers(c,false,d);if(a){e.addMembers(a,true,d)}});l.registerPreprocessor("statics",function(b,a){b.addStatics(a.statics);delete a.statics});l.registerPreprocessor("inheritableStatics",function(b,a){b.addInheritableStatics(a.inheritableStatics);delete a.inheritableStatics});Ext.createRuleFn=function(a){return new Function("$c","with($c) { return ("+a+"); }")};Ext.expressionCache=new Ext.util.Cache({miss:Ext.createRuleFn});Ext.ruleKeySortFn=g;Ext.getPlatformConfigKeys=function(b){var c=[],d,a;for(d in b){a=Ext.expressionCache.get(d);if(a(Ext.platformTags)){c.push(d)}}c.sort(g);return c};l.registerPreprocessor("platformConfig",function(b,K,V){var S=K.platformConfig,M=K.config,Q,R,N,a,d,L,G,H,J,P,T,c,O,e,U,I;delete K.platformConfig;if(S instanceof Array){M=M||{};I=(Ext.theme||(Ext.theme={name:"Default"})).name;for(c=0,O=S.length;c<O;c++){T=S[c];J=T.platform;delete T.platform;P=[].concat(T.theme);U=P.length;delete T.theme;if(J&&Ext.filterPlatform(J)){Ext.merge(M,T)}if(U){for(e=0;e<U;e++){if(I===P[e]){Ext.merge(M,T)}}}}}else{a=b.getConfigurator();R=a.configs;L=Ext.getPlatformConfigKeys(S);for(c=0,O=L.length;c<O;++c){N=S[L[c]];d=Q=null;for(G in N){H=N[G];if(M&&G in M){(Q||(Q={}))[G]=H;(d||(d={}))[G]=M[G];delete M[G]}else{if(G in R){(Q||(Q={}))[G]=H}else{K[G]=H}}}if(d){a.add(d)}if(Q){a.add(Q)}}}});l.registerPreprocessor("config",function(b,a){if(a.hasOwnProperty("$configPrefixed")){b.prototype.$configPrefixed=a.$configPrefixed}b.addConfig(a.config);delete a.config});l.registerPreprocessor("cachedConfig",function(b,a){if(a.hasOwnProperty("$configPrefixed")){b.prototype.$configPrefixed=a.$configPrefixed}b.addCachedConfig(a.cachedConfig);delete a.cachedConfig});l.registerPreprocessor("mixins",function(b,a,e){var c=a.mixins,d=e.onCreated;delete a.mixins;e.onCreated=function(){e.onCreated=d;b.mixin(c);return e.onCreated.apply(this,arguments)}});Ext.extend=function(b,a,c){if(arguments.length===2&&Ext.isObject(a)){c=a;a=b;b=null}var d;if(!a){throw new Error("[Ext.extend] Attempting to extend from a class which has not been loaded on the page.")}c.extend=a;c.preprocessors=["extend","statics","inheritableStatics","mixins","platformConfig","config"];if(b){d=new l(b,c);d.prototype.constructor=b}else{d=new l(c)}d.prototype.override=function(e){for(var o in e){if(e.hasOwnProperty(o)){this[o]=e[o]}}};return d}}());Ext.Inventory=function(){var b=this;b.names=[];b.paths={};b.alternateToName={};b.aliasToName={};b.nameToAliases={};b.nameToAlternates={}};Ext.Inventory.prototype={_array1:[0],prefixes:null,dotRe:/\./g,wildcardRe:/\*/g,addAlias:function(c,d){return this.addMapping(c,d,this.aliasToName,this.nameToAliases)},addAlternate:function(d,c){return this.addMapping(d,c,this.alternateToName,this.nameToAlternates)},addMapping:function(v,A,z,s){var D=v.$className||v,x=D,w=this._array1,r,B,a,y,C,u;if(Ext.isString(D)){x={};x[D]=A}for(a in x){B=x[a];if(Ext.isString(B)){w[0]=B;B=w}C=B.length;u=s[a]||(s[a]=[]);for(y=0;y<C;++y){if(!(r=B[y])){continue}if(z[r]!==a){z[r]=a;u.push(r)}}}},getAliasesByName:function(b){return this.nameToAliases[b]||null},getAlternatesByName:function(b){return this.nameToAlternates[b]||null},getNameByAlias:function(b){return this.aliasToName[b]||""},getNameByAlternate:function(b){return this.alternateToName[b]||""},getNamesByExpression:function(I,S,L){var z=this,C=z.aliasToName,G=z.alternateToName,R=z.nameToAliases,P=z.nameToAlternates,A=L?S:{},J=[],B=Ext.isString(I)?[I]:I,M=B.length,O=z.wildcardRe,Q,F,D,K,H,n,N;for(F=0;F<M;++F){if((Q=B[F]).indexOf("*")<0){if(!(n=C[Q])){if(!(n=G[Q])){n=Q}}if(!(n in A)&&!(S&&(n in S))){A[n]=1;J.push(n)}}else{N=new RegExp("^"+Q.replace(O,"(.*?)")+"$");for(n in R){if(!(n in A)&&!(S&&(n in S))){if(!(K=N.test(n))){H=(D=R[n]).length;while(!K&&H-->0){K=N.test(D[H])}D=P[n];if(D&&!K){H=D.length;while(!K&&H-->0){K=N.test(D[H])}}}if(K){A[n]=1;J.push(n)}}}}}return J},getPath:function(g){var m=this,j=m.paths,h="",l;if(g in j){h=j[g]}else{l=m.getPrefix(g);if(l){g=g.substring(l.length+1);h=j[l];if(h){h+="/"}}h+=g.replace(m.dotRe,"/")+".js"}return h},getPrefix:function(g){if(g in this.paths){return g}var j=this.getPrefixes(),h=j.length,m,l;while(h-->0){m=(l=j[h]).length;if(m<g.length&&g.charAt(m)==="."&&l===g.substring(0,m)){return l}}return""},getPrefixes:function(){var d=this,c=d.prefixes;if(!c){d.prefixes=c=d.names.slice(0);c.sort(d._compareNames)}return c},removeName:function(x){var s=this,p=s.aliasToName,a=s.alternateToName,o=s.nameToAliases,u=s.nameToAlternates,w=o[x],r=u[x],v,q;delete o[x];delete u[x];if(w){for(v=w.length;v--;){if(x===(q=w[v])){delete p[q]}}}if(r){for(v=r.length;v--;){if(x===(q=r[v])){delete a[q]}}}},resolveName:function(e){var d=this,g;if(!(e in d.nameToAliases)){if(!(g=d.aliasToName[e])){g=d.alternateToName[e]}}return g||e},select:function(m,o){var n=this,l={},h={excludes:l,exclude:function(){n.getNamesByExpression(arguments,l,true);return this}},j;for(j in m){h[j]=n.selectMethod(l,m[j],o||m)}return h},selectMethod:function(h,e,g){var j=this;return function(b){var a=Ext.Array.slice(arguments,1);a.unshift(j.getNamesByExpression(b,h));return e.apply(g,a)}},setPath:Ext.Function.flexSetter(function(e,g){var d=this;d.paths[e]=g;d.names.push(e);d.prefixes=null;return d}),_compareNames:function(e,g){var d=e.length-g.length;if(!d){d=(e<g)?-1:1}return d}};Ext.ClassManager=(function(G,z,I,v,F){var B=Ext.Class.makeCtor,K=Ext.apply(new Ext.Inventory(),{classes:{},classState:{},existCache:{},namespaceRewrites:[{from:"Ext.",to:Ext}],enableNamespaceParseCache:true,namespaceParseCache:{},instantiators:[],isCreated:function(g){var b,e,c,d,a;if(K.classes[g]||K.existCache[g]){return true}d=F;a=K.parseNamespace(g);for(b=0,e=a.length;b<e;b++){c=a[b];if(typeof c!=="string"){d=c}else{if(!d||!d[c]){return false}d=d[c]}}K.triggerCreated(g);return true},createdListeners:[],nameCreatedListeners:{},existsListeners:[],nameExistsListeners:{},overrideMap:{},triggerCreated:function(b,a){K.existCache[b]=a||1;K.classState[b]+=40;K.notify(b,K.createdListeners,K.nameCreatedListeners)},onCreated:function(a,b,c){K.addListener(a,b,c,K.createdListeners,K.nameCreatedListeners)},notify:function(a,m,h){var g=K.getAlternatesByName(a),n=[a],d,b,e,c,j,l;for(d=0,b=m.length;d<b;d++){j=m[d];j.fn.call(j.scope,a)}while(n){for(d=0,b=n.length;d<b;d++){l=n[d];m=h[l];if(m){for(e=0,c=m.length;e<c;e++){j=m[e];j.fn.call(j.scope,l)}delete h[l]}}n=g;g=null}},addListener:function(b,e,h,a,c){if(Ext.isArray(h)){b=Ext.Function.createBarrier(h.length,b,e);for(d=0;d<h.length;d++){this.addListener(b,null,h[d],a,c)}return}var d,g={fn:b,scope:e};if(h){if(this.isCreated(h)){b.call(e,h);return}if(!c[h]){c[h]=[]}c[h].push(g)}else{a.push(g)}},parseNamespace:function(h){var l=this.namespaceParseCache,g,d,b,j,m,n,a,e,c;if(this.enableNamespaceParseCache){if(l.hasOwnProperty(h)){return l[h]}}g=[];d=this.namespaceRewrites;b=F;j=h;for(e=0,c=d.length;e<c;e++){m=d[e];n=m.from;a=m.to;if(j===n||j.substring(0,n.length)===n){j=j.substring(n.length);if(typeof a!=="string"){b=a}else{g=g.concat(a.split("."))}break}}g.push(b);g=g.concat(j.split("."));if(this.enableNamespaceParseCache){l[h]=g}return g},setNamespace:function(j,h){var c=F,g=this.parseNamespace(j),b=g.length-1,d=g[b],e,a;for(e=0;e<b;e++){a=g[e];if(typeof a!=="string"){c=a}else{if(!c[a]){c[a]={}}c=c[a]}}c[d]=h;return c[d]},createNamespaces:function(){var d=F,b,a,h,c,e,g;for(h=0,e=arguments.length;h<e;h++){b=this.parseNamespace(arguments[h]);for(c=0,g=b.length;c<g;c++){a=b[c];if(typeof a!=="string"){d=a}else{if(!d[a]){d[a]={}}d=d[a]}}}return d},set:function(c,d){var a=this,b=a.getName(d);a.classes[c]=a.setNamespace(c,d);if(b&&b!==c){a.addAlternate(b,c)}return this},get:function(b){var e=this.classes,d,h,c,g,a;if(e[b]){return e[b]}d=F;h=this.parseNamespace(b);for(g=0,a=h.length;g<a;g++){c=h[g];if(typeof c!=="string"){d=c}else{if(!d||!d[c]){return null}d=d[c]}}return d},addNameAliasMappings:function(a){this.addAlias(a)},addNameAlternateMappings:function(a){this.addAlternate(a)},getByAlias:function(a){return this.get(this.getNameByAlias(a))},getName:function(a){return a&&a.$className||""},getClass:function(a){return a&&a.self||null},create:function(b,d,c){var a=B(b);if(typeof d==="function"){d=d(a)}d.$className=b;return new G(a,d,function(){var l=d.postprocessors||K.defaultPostprocessors,o=K.postprocessors,n=[],p,h,q,j,e,g,m;delete d.postprocessors;for(h=0,q=l.length;h<q;h++){p=l[h];if(typeof p==="string"){p=o[p];g=p.properties;if(g===true){n.push(p.fn)}else{if(g){for(j=0,e=g.length;j<e;j++){m=g[j];if(d.hasOwnProperty(m)){n.push(p.fn);break}}}}}else{n.push(p)}}d.postprocessors=n;d.createdFn=c;K.processCreate(b,this,d)})},processCreate:function(g,c,b){var e=this,d=b.postprocessors.shift(),a=b.createdFn;if(!d){if(g){e.set(g,c)}delete c._classHooks;if(a){a.call(c,c)}if(g){e.triggerCreated(g)}return}if(d.call(e,g,c,b,e.processCreate)!==false){e.processCreate(g,c,b)}},createOverride:function(c,e,h){var a=this,o=e.override,m=e.requires,g=e.uses,d=e.mixins,l,n=e.compatibility,b,j=function(){var s,u,p,q,r;if(!b){u=m?m.slice(0):[];if(d){if(!(l=d instanceof Array)){for(q in d){if(Ext.isString(s=d[q])){u.push(s)}}}else{for(p=0,r=d.length;p<r;++p){if(Ext.isString(s=d[p])){u.push(s)}}}}b=true;if(u.length){Ext.require(u,j);return}}if(l){for(p=0,r=d.length;p<r;++p){if(Ext.isString(s=d[p])){d[p]=Ext.ClassManager.get(s)}}}else{if(d){for(q in d){if(Ext.isString(s=d[q])){d[q]=Ext.ClassManager.get(s)}}}}s=a.get(o);delete e.override;delete e.compatibility;delete e.requires;delete e.uses;Ext.override(s,e);Ext.Loader.history.push(c);if(g){Ext.Loader.addUsedClasses(g)}if(h){h.call(s,s)}};K.overrideMap[c]=true;if(!n||Ext.checkVersion(n)){a.onCreated(j,a,o)}a.triggerCreated(c,2);return a},instantiateByAlias:function(){var b=arguments[0],c=I.call(arguments),a=this.getNameByAlias(b);c[0]=a;return Ext.create.apply(Ext,c)},instantiate:function(){return Ext.create.apply(Ext,arguments)},dynInstantiate:function(a,b){b=v(b,true);b.unshift(a);return Ext.create.apply(Ext,b)},getInstantiator:function(e){var a=this.instantiators,d,b,c;d=a[e];if(!d){b=e;c=[];for(b=0;b<e;b++){c.push("a["+b+"]")}d=a[e]=new Function("c","a","return new c("+c.join(",")+")")}return d},postprocessors:{},defaultPostprocessors:[],registerPostprocessor:function(b,d,a,c,e){if(!c){c="last"}if(!a){a=[b]}this.postprocessors[b]={name:b,properties:a||false,fn:d};this.setDefaultPostprocessorPosition(b,c,e);return this},setDefaultPostprocessors:function(a){this.defaultPostprocessors=v(a);return this},setDefaultPostprocessorPosition:function(b,d,e){var a=this.defaultPostprocessors,c;if(typeof d==="string"){if(d==="first"){a.unshift(b);return this}else{if(d==="last"){a.push(b);return this}}d=(d==="after")?1:-1}c=Ext.Array.indexOf(a,e);if(c!==-1){Ext.Array.splice(a,Math.max(0,c+d),0,b)}return this}});K.registerPostprocessor("alias",function(b,c,a){var d=Ext.Array.from(a.alias),g,e;for(g=0,e=d.length;g<e;g++){z=d[g];this.addAlias(c,z)}},["xtype","alias"]);K.registerPostprocessor("singleton",function(b,c,d,a){if(d.singleton){a.call(this,b,new c(),d)}else{return true}return false});K.registerPostprocessor("alternateClassName",function(c,d,b){var h=b.alternateClassName,a,e,g;if(!(h instanceof Array)){h=[h]}for(a=0,e=h.length;a<e;a++){g=h[a];this.set(g,d)}});K.registerPostprocessor("debugHooks",function(b,c,a){var d=c.isInstance?c.self:c;delete d.prototype.debugHooks});K.registerPostprocessor("deprecated",function(b,c,a){var d=c.isInstance?c.self:c;d.addDeprecations(a.deprecated);delete d.prototype.deprecated});Ext.apply(Ext,{create:function(){var a=arguments[0],d=typeof a,b=I.call(arguments,1),c;if(d==="function"){c=a}else{if(d!=="string"&&b.length===0){b=[a];if(!(a=a.xclass)){a=b[0].xtype;if(a){a="widget."+a}}}a=K.resolveName(a);c=K.get(a)}if(!c){Ext.syncRequire(a);c=K.get(a)}return K.getInstantiator(b.length)(c,b)},widget:function(b,c){var a=b,g,e,d;if(typeof a!=="string"){c=b;a=c.xtype;e=c.xclass}else{c=c||{}}if(c.isComponent){return c}if(!e){g="widget."+a;e=K.getNameByAlias(g)}if(e){d=K.get(e)}if(!d){return Ext.create(e||g,c)}return new d(c)},createByAlias:z(K,"instantiateByAlias"),define:function(b,a,c){if(a.override){K.classState[b]=20;return K.createOverride.apply(K,arguments)}K.classState[b]=10;return K.create.apply(K,arguments)},undefine:function(h){var c=K.classes,b,g,a,d;delete K.namespaceParseCache[h];delete c[h];delete K.existCache[h];delete K.classState[h];K.removeName(h);b=K.parseNamespace(h);g=b.length-1;a=b[0];for(d=1;d<g;d++){a=a[b[d]];if(!a){return}}try{delete a[b[g]]}catch(e){a[b[g]]=undefined}},getClassName:z(K,"getName"),getDisplayName:function(a){if(a){if(a.displayName){return a.displayName}if(a.$name&&a.$class){return Ext.getClassName(a.$class)+"#"+a.$name}if(a.$className){return a.$className}}return"Anonymous"},getClass:z(K,"getClass"),namespace:z(K,"createNamespaces")});Ext.createWidget=Ext.widget;Ext.ns=Ext.namespace;G.registerPreprocessor("className",function(b,a){if("$className" in a){b.$className=a.$className}},true,"first");G.registerPreprocessor("alias",function(m,d){var p=m.prototype,h=v(d.xtype),n=v(d.alias),l="widget.",o=l.length,c=Array.prototype.slice.call(p.xtypesChain||[]),g=Ext.merge({},p.xtypesMap||{}),e,a,b,j;for(e=0,a=n.length;e<a;e++){b=n[e];if(b.substring(0,o)===l){j=b.substring(o);Ext.Array.include(h,j)}}m.xtype=d.xtype=h[0];d.xtypes=h;for(e=0,a=h.length;e<a;e++){j=h[e];if(!g[j]){g[j]=true;c.push(j)}}d.xtypesChain=c;d.xtypesMap=g;Ext.Function.interceptAfter(d,"onClassCreated",function(){var s=p.mixins,q,r;for(q in s){if(s.hasOwnProperty(q)){r=s[q];h=r.xtypes;if(h){for(e=0,a=h.length;e<a;e++){j=h[e];if(!g[j]){g[j]=true;c.push(j)}}}}}});for(e=0,a=h.length;e<a;e++){j=h[e];Ext.Array.include(n,l+j)}d.alias=n},["xtype","alias"]);if(Ext.manifest){var H=Ext.manifest,C=H.classes,L=H.paths,D={},w={},x,A,J,M,y;if(L){if(H.bootRelative){y=Ext.Boot.baseUrl;for(M in L){if(L.hasOwnProperty(M)){L[M]=y+L[M]}}}K.setPath(L)}if(C){for(x in C){w[x]=[];D[x]=[];A=C[x];if(A.alias){D[x]=A.alias}if(A.alternates){w[x]=A.alternates}}}K.addAlias(D);K.addAlternate(w)}return K}(Ext.Class,Ext.Function.alias,Array.prototype.slice,Ext.Array.from,Ext.global));Ext.env||(Ext.env={});Ext.env.Browser=function(B,I){var A=this,U=A.browserPrefixes,T=A.enginePrefixes,F=B.match(new RegExp("((?:"+Ext.Object.getValues(U).join(")|(?:")+"))([\\w\\._]+)")),O=B.match(new RegExp("((?:"+Ext.Object.getValues(T).join(")|(?:")+"))([\\w\\._]+)")),S=A.browserNames,G=S.other,M=A.engineNames,C=M.other,K="",P="",R="",N=false,H,J,L,z,D;A.userAgent=B;if(F){G=S[Ext.Object.getKey(U,F[1])];if(G==="Safari"&&/^Opera/.test(B)){G="Opera"}K=new Ext.Version(F[2])}if(O){C=M[Ext.Object.getKey(T,O[1])];P=new Ext.Version(O[2])}if(C=="Trident"&&G!="IE"){G="IE";var Q=B.match(/.*rv:(\d+.\d+)/);if(Q&&Q.length){Q=Q[1];K=new Ext.Version(Q)}}if(B.match(/FB/)&&G=="Other"){G=S.safari;C=M.webkit}if(B.match(/Android.*Chrome/g)){G="ChromeMobile"}if(B.match(/OPR/)){G="Opera";F=B.match(/OPR\/(\d+.\d+)/);K=new Ext.Version(F[1])}Ext.apply(this,{engineName:C,engineVersion:P,name:G,version:K});this.setFlag(G,true,I);if(K){R=K.getMajor()||"";if(A.is.IE){R=parseInt(R,10);L=document.documentMode;if(L==7||(R==7&&L!=8&&L!=9&&L!=10)){R=7}else{if(L==8||(R==8&&L!=8&&L!=9&&L!=10)){R=8}else{if(L==9||(R==9&&L!=7&&L!=8&&L!=10)){R=9}else{if(L==10||(R==10&&L!=7&&L!=8&&L!=9)){R=10}else{if(L==11||(R==11&&L!=7&&L!=8&&L!=9&&L!=10)){R=11}}}}}D=Math.max(R,11);for(H=7;H<=D;++H){J="isIE"+H;if(R<=H){Ext[J+"m"]=true}if(R===H){Ext[J]=true}if(R>=H){Ext[J+"p"]=true}}}if(A.is.Opera&&parseInt(R,10)<=12){Ext.isOpera12m=true}Ext.chromeVersion=Ext.isChrome?R:0;Ext.firefoxVersion=Ext.isFirefox?R:0;Ext.ieVersion=Ext.isIE?R:0;Ext.operaVersion=Ext.isOpera?R:0;Ext.safariVersion=Ext.isSafari?R:0;Ext.webKitVersion=Ext.isWebKit?R:0;this.setFlag(G+R,true,I);this.setFlag(G+K.getShortVersion())}for(H in S){if(S.hasOwnProperty(H)){z=S[H];this.setFlag(z,G===z)}}this.setFlag(z);if(P){this.setFlag(C+(P.getMajor()||""));this.setFlag(C+P.getShortVersion())}for(H in M){if(M.hasOwnProperty(H)){z=M[H];this.setFlag(z,C===z,I)}}this.setFlag("Standalone",!!navigator.standalone);this.setFlag("Ripple",!!document.getElementById("tinyhippos-injected")&&!Ext.isEmpty(window.top.ripple));this.setFlag("WebWorks",!!window.blackberry);if(typeof window.PhoneGap!="undefined"||typeof window.Cordova!="undefined"||typeof window.cordova!="undefined"){N=true;this.setFlag("PhoneGap");this.setFlag("Cordova")}else{if(!!window.isNK){N=true;this.setFlag("Sencha")}}if(/(Glass)/i.test(B)){this.setFlag("GoogleGlass")}if(/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)(?!.*FBAN)/i.test(B)){N=true}this.setFlag("WebView",N);this.isStrict=Ext.isStrict=document.compatMode=="CSS1Compat";this.isSecure=Ext.isSecure;this.identity=G+R+(this.isStrict?"Strict":"Quirks")};Ext.env.Browser.prototype={constructor:Ext.env.Browser,browserNames:{ie:"IE",firefox:"Firefox",safari:"Safari",chrome:"Chrome",opera:"Opera",dolfin:"Dolfin",webosbrowser:"webOSBrowser",chromeMobile:"ChromeMobile",chromeiOS:"ChromeiOS",silk:"Silk",other:"Other"},engineNames:{webkit:"WebKit",gecko:"Gecko",presto:"Presto",trident:"Trident",other:"Other"},enginePrefixes:{webkit:"AppleWebKit/",gecko:"Gecko/",presto:"Presto/",trident:"Trident/"},browserPrefixes:{ie:"MSIE ",firefox:"Firefox/",chrome:"Chrome/",safari:"Version/",opera:"OPR/",dolfin:"Dolfin/",webosbrowser:"wOSBrowser/",chromeMobile:"CrMo/",chromeiOS:"CriOS/",silk:"Silk/"},styleDashPrefixes:{WebKit:"-webkit-",Gecko:"-moz-",Trident:"-ms-",Presto:"-o-",Other:""},stylePrefixes:{WebKit:"Webkit",Gecko:"Moz",Trident:"ms",Presto:"O",Other:""},propertyPrefixes:{WebKit:"webkit",Gecko:"moz",Trident:"ms",Presto:"o",Other:""},is:function(b){return !!this.is[b]},name:null,version:null,engineName:null,engineVersion:null,setFlag:function(e,g,d){if(typeof g=="undefined"){g=true}this.is[e]=g;this.is[e.toLowerCase()]=g;if(d){Ext["is"+e]=g}return this},getStyleDashPrefix:function(){return this.styleDashPrefixes[this.engineName]},getStylePrefix:function(){return this.stylePrefixes[this.engineName]},getVendorProperyName:function(d){var c=this.propertyPrefixes[this.engineName];if(c.length>0){return c+Ext.String.capitalize(d)}return d},getPreferredTranslationMethod:function(b){if(typeof b=="object"&&"translationMethod" in b&&b.translationMethod!=="auto"){return b.translationMethod}else{return"csstransform"}}};(function(b){Ext.browser=new Ext.env.Browser(b,true);Ext.userAgent=b.toLowerCase();Ext.SSL_SECURE_URL=Ext.isSecure&&Ext.isIE?"javascript:''":"about:blank"}(Ext.global.navigator.userAgent));Ext.env.OS=function(r,F,v){var w=this,x=w.names,C=w.prefixes,G,y="",A=w.is,D,z,B,s,u;v=v||Ext.browser;for(D in C){if(C.hasOwnProperty(D)){z=C[D];B=r.match(new RegExp("(?:"+z+")([^\\s;]+)"));if(B){G=x[D];u=B[1];if(u&&u=="HTC_"){y=new Ext.Version("2.3")}else{if(u&&u=="Silk/"){y=new Ext.Version("2.3")}else{y=new Ext.Version(B[B.length-1])}}break}}}if(!G){G=x[(r.toLowerCase().match(/mac|win|linux/)||["other"])[0]];y=new Ext.Version("")}this.name=G;this.version=y;if(F){this.setFlag(F.replace(/ simulator$/i,""))}this.setFlag(G);if(y){this.setFlag(G+(y.getMajor()||""));this.setFlag(G+y.getShortVersion())}for(D in x){if(x.hasOwnProperty(D)){s=x[D];if(!A.hasOwnProperty(G)){this.setFlag(s,(G===s))}}}if(this.name=="iOS"&&window.screen.height==568){this.setFlag("iPhone5")}if(v.is.Safari||v.is.Silk){if(this.is.Android2||this.is.Android3||v.version.shortVersion==501){v.setFlag("AndroidStock");v.setFlag("AndroidStock2")}if(this.is.Android4){v.setFlag("AndroidStock");v.setFlag("AndroidStock4")}}};Ext.env.OS.prototype={constructor:Ext.env.OS,names:{ios:"iOS",android:"Android",windowsPhone:"WindowsPhone",webos:"webOS",blackberry:"BlackBerry",rimTablet:"RIMTablet",mac:"MacOS",win:"Windows",tizen:"Tizen",linux:"Linux",bada:"Bada",chrome:"ChromeOS",other:"Other"},prefixes:{tizen:"(Tizen )",ios:"i(?:Pad|Phone|Pod)(?:.*)CPU(?: iPhone)? OS ",android:"(Android |HTC_|Silk/)",windowsPhone:"Windows Phone ",blackberry:"(?:BlackBerry|BB)(?:.*)Version/",rimTablet:"RIM Tablet OS ",webos:"(?:webOS|hpwOS)/",bada:"Bada/",chrome:"CrOS "},is:function(b){return !!this[b]},name:null,version:null,setFlag:function(d,c){if(typeof c=="undefined"){c=true}if(this.flags){this.flags[d]=c}this.is[d]=c;this.is[d.toLowerCase()]=c;return this}};(function(){var v=Ext.global.navigator,o=v.userAgent,p=Ext.env.OS,q=(Ext.is||(Ext.is={})),n,r,u;p.prototype.flags=q;Ext.os=n=new p(o,v.platform);r=n.name;Ext["is"+r]=true;Ext.isMac=q.Mac=q.MacOS;var m=window.location.search.match(/deviceType=(Tablet|Phone)/),s=window.deviceType;if(m&&m[1]){u=m[1]}else{if(s==="iPhone"){u="Phone"}else{if(s==="iPad"){u="Tablet"}else{if(!n.is.Android&&!n.is.iOS&&!n.is.WindowsPhone&&/Windows|Linux|MacOS/.test(r)){u="Desktop";Ext.browser.is.WebView=!!Ext.browser.is.Ripple}else{if(n.is.iPad||n.is.RIMTablet||n.is.Android3||Ext.browser.is.Silk||(n.is.Android4&&o.search(/mobile/i)==-1)){u="Tablet"}else{u="Phone"}}}}}n.setFlag(u,true);n.deviceType=u;delete p.prototype.flags}());Ext.feature={has:function(b){return !!this.has[b]},testElements:{},getTestElement:function(d,c){if(d===undefined){d="div"}else{if(typeof d!=="string"){return d}}if(c){return document.createElement(d)}if(!this.testElements[d]){this.testElements[d]=document.createElement(d)}return this.testElements[d]},isStyleSupported:function(j,e){var h=this.getTestElement(e).style,g=Ext.String.capitalize(j);if(typeof h[j]!=="undefined"||typeof h[Ext.browser.getStylePrefix(j)+g]!=="undefined"){return true}return false},isStyleSupportedWithoutPrefix:function(d,e){var g=this.getTestElement(e).style;if(typeof g[d]!=="undefined"){return true}return false},isEventSupported:function(m,h){if(h===undefined){h=window}var j=this.getTestElement(h),g="on"+m.toLowerCase(),l=(g in j);if(!l){if(j.setAttribute&&j.removeAttribute){j.setAttribute(g,"");l=typeof j[g]==="function";if(typeof j[g]!=="undefined"){j[g]=undefined}j.removeAttribute(g)}}return l},getStyle:function(j,e){var g=j.ownerDocument.defaultView,h=(g?g.getComputedStyle(j,null):j.currentStyle)||j.style;return h[e]},getSupportedPropertyName:function(d,e){var g=Ext.browser.getVendorProperyName(e);if(g in d){return g}else{if(e in d){return e}}return null},detect:function(w){var v=this,s=document,y=v.toRun||v.tests,z=y.length,C=s.createElement("div"),B=[],n=Ext.supports,r=v.has,D,x,A,u;if(!Ext.theme){Ext.theme={name:"Default"}}Ext.theme.is={};Ext.theme.is[Ext.theme.name]=true;C.innerHTML='<div style="height:30px;width:50px;"><div style="height:20px;width:20px;"></div></div><div style="width: 200px; height: 200px; position: relative; padding: 5px;"><div style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;"></div></div><div style="position: absolute; left: 10%; top: 10%;"></div><div style="float:left; background-color:transparent;"></div>';if(w){s.body.appendChild(C)}A=v.preDetected[Ext.browser.identity]||[];while(z--){x=y[z];u=A[z];D=x.name;if(u===undefined){if(!w&&x.ready){B.push(x);continue}u=x.fn.call(v,s,C)}n[D]=r[D]=u}if(w){s.body.removeChild(C)}v.toRun=B},report:function(){var d=[],e=this.tests.length,g;for(g=0;g<e;++g){d.push(this.has[this.tests[g].name]?1:0)}Ext.log(Ext.browser.identity+": ["+d.join(",")+"]")},preDetected:{},tests:[{name:"CSSPointerEvents",fn:function(b){return"pointerEvents" in b.documentElement.style}},{name:"CSS3BoxShadow",fn:function(b){return"boxShadow" in b.documentElement.style||"WebkitBoxShadow" in b.documentElement.style||"MozBoxShadow" in b.documentElement.style}},{name:"ClassList",fn:function(b){return !!b.documentElement.classList}},{name:"Canvas",fn:function(){var b=this.getTestElement("canvas");return !!(b&&b.getContext&&b.getContext("2d"))}},{name:"Svg",fn:function(b){return !!(b.createElementNS&&!!b.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect)}},{name:"Vml",fn:function(){var c=this.getTestElement(),d=false;c.innerHTML="<!--[if vml]><br><![endif]-->";d=(c.childNodes.length===1);c.innerHTML="";return d}},{name:"touchScroll",fn:function(){var d=Ext.supports,c=0;if(navigator.msMaxTouchPoints||(Ext.isWebKit&&d.TouchEvents&&Ext.os.is.Desktop)){c=1}else{if(d.Touch){c=2}}return c}},{name:"Touch",fn:function(){var b=navigator.msMaxTouchPoints||navigator.maxTouchPoints;return(Ext.supports.TouchEvents&&b!==1)||b>1}},{name:"TouchEvents",fn:function(){return this.isEventSupported("touchend")}},{name:"PointerEvents",fn:function(){return navigator.pointerEnabled}},{name:"MSPointerEvents",fn:function(){return navigator.msPointerEnabled}},{name:"Orientation",fn:function(){return("orientation" in window)&&this.isEventSupported("orientationchange")}},{name:"OrientationChange",fn:function(){return this.isEventSupported("orientationchange")}},{name:"DeviceMotion",fn:function(){return this.isEventSupported("devicemotion")}},{names:["Geolocation","GeoLocation"],fn:function(){return"geolocation" in window.navigator}},{name:"SqlDatabase",fn:function(){return"openDatabase" in window}},{name:"WebSockets",fn:function(){return"WebSocket" in window}},{name:"Range",fn:function(){return !!document.createRange}},{name:"CreateContextualFragment",fn:function(){var b=!!document.createRange?document.createRange():false;return b&&!!b.createContextualFragment}},{name:"History",fn:function(){return("history" in window&&"pushState" in window.history)}},{name:"CssTransforms",fn:function(){return this.isStyleSupported("transform")}},{name:"CssTransformNoPrefix",fn:function(){return this.isStyleSupportedWithoutPrefix("transform")}},{name:"Css3dTransforms",fn:function(){return this.has("CssTransforms")&&this.isStyleSupported("perspective")&&!Ext.browser.is.AndroidStock2}},{name:"CssAnimations",fn:function(){return this.isStyleSupported("animationName")}},{names:["CssTransitions","Transitions"],fn:function(){return this.isStyleSupported("transitionProperty")}},{names:["Audio","AudioTag"],fn:function(){return !!this.getTestElement("audio").canPlayType}},{name:"Video",fn:function(){return !!this.getTestElement("video").canPlayType}},{name:"LocalStorage",fn:function(){try{if("localStorage" in window&&window.localStorage!==null){localStorage.setItem("sencha-localstorage-test","test success");localStorage.removeItem("sencha-localstorage-test");return true}}catch(b){}return false}},{name:"XHR2",fn:function(){return window.ProgressEvent&&window.FormData&&window.XMLHttpRequest&&("withCredentials" in new XMLHttpRequest())}},{name:"XHRUploadProgress",fn:function(){if(window.XMLHttpRequest&&!Ext.browser.is.AndroidStock){var b=new XMLHttpRequest();return b&&("upload" in b)&&("onprogress" in b.upload)}return false}},{name:"NumericInputPlaceHolder",fn:function(){return !(Ext.browser.is.AndroidStock4&&Ext.os.version.getMinor()<2)}},{name:"ProperHBoxStretching",ready:true,fn:function(){var e=document.createElement("div"),j=e.appendChild(document.createElement("div")),h=j.appendChild(document.createElement("div")),g;e.setAttribute("style","width: 100px; height: 100px; position: relative;");j.setAttribute("style","position: absolute; display: -ms-flexbox; display: -webkit-flex; display: -moz-flexbox; display: flex; -ms-flex-direction: row; -webkit-flex-direction: row; -moz-flex-direction: row; flex-direction: row; min-width: 100%;");h.setAttribute("style","width: 200px; height: 50px;");document.body.appendChild(e);g=j.offsetWidth;document.body.removeChild(e);return(g>100)}},{name:"matchesSelector",fn:function(){var g=document.documentElement,j="matches",l="webkitMatchesSelector",h="msMatchesSelector",m="mozMatchesSelector";return g[j]?j:g[l]?l:g[h]?h:g[m]?m:null}},{name:"RightMargin",ready:true,fn:function(d,g){var e=d.defaultView;return !(e&&e.getComputedStyle(g.firstChild.firstChild,null).marginRight!="0px")}},{name:"DisplayChangeInputSelectionBug",fn:function(){var b=Ext.webKitVersion;return 0<b&&b<533}},{name:"DisplayChangeTextAreaSelectionBug",fn:function(){var b=Ext.webKitVersion;return 0<b&&b<534.24}},{name:"TransparentColor",ready:true,fn:function(d,g,e){e=d.defaultView;return !(e&&e.getComputedStyle(g.lastChild,null).backgroundColor!="transparent")}},{name:"ComputedStyle",ready:true,fn:function(d,g,e){e=d.defaultView;return e&&e.getComputedStyle}},{name:"Float",fn:function(b){return"cssFloat" in b.documentElement.style}},{name:"CSS3BorderRadius",ready:true,fn:function(h){var e=["borderRadius","BorderRadius","MozBorderRadius","WebkitBorderRadius","OBorderRadius","KhtmlBorderRadius"],j=false,g;for(g=0;g<e.length;g++){if(h.documentElement.style[e[g]]!==undefined){j=true}}return j&&!Ext.isIE9}},{name:"CSS3LinearGradient",fn:function(p,v){var n="background-image:",o="-webkit-gradient(linear, left top, right bottom, from(black), to(white))",q="linear-gradient(left top, black, white)",r="-moz-"+q,u="-ms-"+q,s="-o-"+q,m=[n+o,n+q,n+r,n+u,n+s];v.style.cssText=m.join(";");return((""+v.style.backgroundImage).indexOf("gradient")!==-1)&&!Ext.isIE9}},{name:"MouseEnterLeave",fn:function(b){return("onmouseenter" in b.documentElement&&"onmouseleave" in b.documentElement)}},{name:"MouseWheel",fn:function(b){return("onmousewheel" in b.documentElement)}},{name:"Opacity",fn:function(d,c){if(Ext.isIE8){return false}c.firstChild.style.cssText="opacity:0.73";return c.firstChild.style.opacity=="0.73"}},{name:"Placeholder",fn:function(b){return"placeholder" in b.createElement("input")}},{name:"Direct2DBug",fn:function(b){return Ext.isString(b.documentElement.style.msTransformOrigin)&&Ext.isIE9m}},{name:"BoundingClientRect",fn:function(b){return"getBoundingClientRect" in b.documentElement}},{name:"RotatedBoundingClientRect",ready:true,fn:function(j){var h=j.body,g=false,l=this.getTestElement(),m=l.style;if(l.getBoundingClientRect){m.WebkitTransform=m.MozTransform=m.msTransform=m.OTransform=m.transform="rotate(90deg)";m.width="100px";m.height="30px";h.appendChild(l);g=l.getBoundingClientRect().height!==100;h.removeChild(l)}return g}},{name:"ChildContentClearedWhenSettingInnerHTML",ready:true,fn:function(){var d=this.getTestElement(),c;d.innerHTML="<div>a</div>";c=d.firstChild;d.innerHTML="<div>b</div>";return c.innerHTML!=="a"}},{name:"IncludePaddingInWidthCalculation",ready:true,fn:function(d,c){return c.childNodes[1].firstChild.offsetWidth==210}},{name:"IncludePaddingInHeightCalculation",ready:true,fn:function(d,c){return c.childNodes[1].firstChild.offsetHeight==210}},{name:"TextAreaMaxLength",fn:function(b){return("maxlength" in b.createElement("textarea"))}},{name:"GetPositionPercentage",ready:true,fn:function(d,c){return Ext.feature.getStyle(c.childNodes[2],"left")=="10%"}},{name:"PercentageHeightOverflowBug",ready:true,fn:function(h){var g=false,j,e;if(Ext.getScrollbarSize().height){e=this.getTestElement();j=e.style;j.height="50px";j.width="50px";j.overflow="auto";j.position="absolute";e.innerHTML=['<div style="display:table;height:100%;">','<div style="width:51px;"></div>',"</div>"].join("");h.body.appendChild(e);if(e.firstChild.offsetHeight===50){g=true}h.body.removeChild(e)}return g}},{name:"xOriginBug",ready:true,fn:function(l,j){j.innerHTML='<div id="b1" style="height:100px;width:100px;direction:rtl;position:relative;overflow:scroll"><div id="b2" style="position:relative;width:100%;height:20px;"></div><div id="b3" style="position:absolute;width:20px;height:20px;top:0px;right:0px"></div></div>';var m=document.getElementById("b1").getBoundingClientRect(),g=document.getElementById("b2").getBoundingClientRect(),h=document.getElementById("b3").getBoundingClientRect();return(g.left!==m.left&&h.right!==m.right)}},{name:"ScrollWidthInlinePaddingBug",ready:true,fn:function(h){var g=false,j,e;e=h.createElement("div");j=e.style;j.height="50px";j.width="50px";j.padding="10px";j.overflow="hidden";j.position="absolute";e.innerHTML='<span style="display:inline-block;zoom:1;height:60px;width:60px;"></span>';h.body.appendChild(e);if(e.scrollWidth===70){g=true}h.body.removeChild(e);return g}},{name:"rtlVertScrollbarOnRight",ready:true,fn:function(j,h){h.innerHTML='<div style="height:100px;width:100px;direction:rtl;overflow:scroll"><div style="width:20px;height:200px;"></div></div>';var e=h.firstChild,g=e.firstChild;return(g.offsetLeft+g.offsetWidth!==e.offsetLeft+e.offsetWidth)}},{name:"rtlVertScrollbarOverflowBug",ready:true,fn:function(d,g){g.innerHTML='<div style="height:100px;width:100px;direction:rtl;overflow:auto"><div style="width:95px;height:200px;"></div></div>';var e=g.firstChild;return e.clientHeight===e.offsetHeight}},{identity:"defineProperty",fn:function(){if(Ext.isIE8m){Ext.Object.defineProperty=Ext.emptyFn;return false}return true}},{identify:"nativeXhr",fn:function(){if(typeof XMLHttpRequest!=="undefined"){return true}XMLHttpRequest=function(){try{return new ActiveXObject("MSXML2.XMLHTTP.3.0")}catch(b){return null}};return false}},{name:"SpecialKeyDownRepeat",fn:function(){return Ext.isWebKit?parseInt(navigator.userAgent.match(/AppleWebKit\/(\d+)/)[1],10)>=525:!((Ext.isGecko&&!Ext.isWindows)||(Ext.isOpera&&Ext.operaVersion<12))}},{name:"EmulatedMouseOver",fn:function(){return Ext.os.is.iOS}},{name:"Hashchange",fn:function(){var b=document.documentMode;return"onhashchange" in window&&(b===undefined||b>7)}},{name:"FixedTableWidthBug",ready:true,fn:function(){if(Ext.isIE8){return false}var d=document.createElement("div"),e=document.createElement("div"),g;d.setAttribute("style","display:table;table-layout:fixed;");e.setAttribute("style","display:table-cell;min-width:50px;");d.appendChild(e);document.body.appendChild(d);d.offsetWidth;d.style.width="25px";g=d.offsetWidth;document.body.removeChild(d);return g===50}},{name:"FocusinFocusoutEvents",fn:function(){return !Ext.isGecko}}]};Ext.supports={};Ext.feature.detect();Ext.env.Ready={blocks:(location.search||"").indexOf("ext-pauseReadyFire")>0?1:0,bound:0,delay:1,firing:false,generation:0,listeners:[],nextId:0,sortGeneration:0,state:0,timer:null,bind:function(){var d=Ext.env.Ready,c=document;if(!d.bound){if(c.readyState=="complete"){d.onReadyEvent({type:c.readyState||"body"})}else{d.bound=1;if(Ext.browser.is.PhoneGap&&!Ext.os.is.Desktop){d.bound=2;c.addEventListener("deviceready",d.onReadyEvent,false)}c.addEventListener("DOMContentLoaded",d.onReadyEvent,false);window.addEventListener("load",d.onReadyEvent,false)}}},block:function(){++this.blocks;Ext.isReady=false},fireReady:function(){var b=Ext.env.Ready;if(!b.state){Ext._readyTime=Ext.now();Ext.isDomReady=true;b.state=1;Ext.feature.detect(true);if(!b.delay){b.handleReady()}else{if(navigator.standalone){b.timer=Ext.defer(function(){b.timer=null;b.handleReadySoon()},1)}else{b.handleReadySoon()}}}},handleReady:function(){var b=this;if(b.state===1){b.state=2;Ext._beforeReadyTime=Ext.now();b.invokeAll();Ext._afterReadytime=Ext.now()}},handleReadySoon:function(d){var c=this;if(!c.timer){c.timer=Ext.defer(function(){c.timer=null;c.handleReady()},d||c.delay)}},invoke:function(c){var d=c.delay;if(d){Ext.defer(c.fn,d,c.scope)}else{if(Ext.elevateFunction){Ext.elevateFunction(c.fn,c.scope)}else{c.fn.call(c.scope)}}},invokeAll:function(){if(Ext.elevateFunction){Ext.elevateFunction(this.doInvokeAll,this)}else{this.doInvokeAll()}},doInvokeAll:function(){var d=this,e=d.listeners,g;if(!d.blocks){Ext.isReady=true}d.firing=true;while(e.length){if(d.sortGeneration!==d.generation){d.sortGeneration=d.generation;e.sort(d.sortFn)}g=e.pop();if(d.blocks&&!g.dom){e.push(g);break}d.invoke(g)}d.firing=false},makeListener:function(h,j,e){var g={fn:h,id:++this.nextId,scope:j,dom:false,priority:0};if(e){Ext.apply(g,e)}g.phase=g.dom?0:1;return g},on:function(m,g,h){var l=Ext.env.Ready,j=l.makeListener(m,g,h);if(l.state===2&&!l.firing&&(j.dom||!l.blocks)){l.invoke(j)}else{l.listeners.push(j);++l.generation;if(!l.bound){l.bind()}}},onReadyEvent:function(c){var d=Ext.env.Ready;if(Ext.elevateFunction){Ext.elevateFunction(d.doReadyEvent,d,arguments)}else{d.doReadyEvent(c)}},doReadyEvent:function(c){var d=this;if(d.bound>0){d.unbind();d.bound=-1}if(!d.state){d.fireReady()}},sortFn:function(a,b){return -((a.phase-b.phase)||(b.priority-a.priority)||(a.id-b.id))},unblock:function(){var b=this;if(b.blocks){if(!--b.blocks){if(b.state===2&&!b.firing){b.invokeAll()}}}},unbind:function(){var d=this,c=document;if(d.bound>1){c.removeEventListener("deviceready",d.onReadyEvent,false)}c.removeEventListener("DOMContentLoaded",d.onReadyEvent,false);window.removeEventListener("load",d.onReadyEvent,false)}};(function(){var b=Ext.env.Ready;if(Ext.isIE9m){Ext.apply(b,{scrollTimer:null,readyStatesRe:/complete/i,pollScroll:function(){var a=true;try{document.documentElement.doScroll("left")}catch(d){a=false}if(a&&document.body){b.onReadyEvent({type:"doScroll"})}else{b.scrollTimer=Ext.defer(b.pollScroll,20)}return a},bind:function(){if(b.bound){return}var e=document,a;try{a=window.frameElement===undefined}catch(g){}if(!a||!e.documentElement.doScroll){b.pollScroll=Ext.emptyFn}else{if(b.pollScroll()){return}}if(e.readyState=="complete"){b.onReadyEvent({type:"already "+(e.readyState||"body")})}else{e.attachEvent("onreadystatechange",b.onReadyStateChange);window.attachEvent("onload",b.onReadyEvent);b.bound=1}},unbind:function(){document.detachEvent("onreadystatechange",b.onReadyStateChange);window.detachEvent("onload",b.onReadyEvent);if(Ext.isNumber(b.scrollTimer)){clearTimeout(b.scrollTimer);b.scrollTimer=null}},onReadyStateChange:function(){var a=document.readyState;if(b.readyStatesRe.test(a)){b.onReadyEvent({type:a})}}})}Ext.onDocumentReady=function(g,h,a){var j={dom:true};if(a){Ext.apply(j,a)}b.on(g,h,j)};Ext.onReady=function(e,g,a){b.on(e,g,a)};b.bind()}());Ext.Loader=new function(){var G=this,I=Ext.ClassManager,B=Ext.Boot,F=Ext.Class,z=Ext.env.Ready,A=Ext.Function.alias,C=["extend","mixins","requires"],v={},y=[],H=[],D=[],u={},w={},x={enabled:true,scriptChainDelay:false,disableCaching:true,disableCachingParam:"_dc",paths:I.paths,preserveScripts:true,scriptCharset:undefined},s={disableCaching:true,disableCachingParam:true,preserveScripts:true,scriptChainDelay:"loadDelay"};Ext.apply(G,{isInHistory:v,isLoading:false,history:y,config:x,readyListeners:H,optionalRequires:D,requiresMap:u,hasFileLoadError:false,scriptsLoading:0,syncModeEnabled:false,missingQueue:w,init:function(){var g=document.getElementsByTagName("script"),n=g[g.length-1].src,a=n.substring(0,n.lastIndexOf("/")+1),c=Ext._classPathMetadata,b=Ext.Microloader,l=Ext.manifest,j,e,d,h,m;if(!I.getPath("Ext")){I.setPath("Ext",a+"src")}if(c){Ext._classPathMetadata=null;G.addClassPathMappings(c)}if(l){j=l.loadOrder;e=Ext.Boot.baseUrl;if(j&&l.bootRelative){for(d=j.length,h=0;h<d;h++){m=j[h];m.path=e+m.path}}}if(b){z.block();b.onMicroloaderReady(function(){z.unblock()})}},setConfig:Ext.Function.flexSetter(function(c,b){if(c==="paths"){G.setPath(b)}else{x[c]=b;var a=s[c];if(a){B.setConfig((a===true)?c:a,b)}}return G}),getConfig:function(a){return a?x[a]:x},setPath:function(){I.setPath.apply(I,arguments);return G},addClassPathMappings:function(a){I.setPath(a);return G},addBaseUrlClassPathMappings:function(b){for(var a in b){b[a]=B.baseUrl+b[a]}Ext.Loader.addClassPathMappings(b)},getPath:function(a){return I.getPath(a)},require:function(c,d,e,a){if(a){return G.exclude(a).require(c,d,e)}var b=I.getNamesByExpression(c);return G.load(b,d,e)},syncRequire:function(){var a=G.syncModeEnabled;G.syncModeEnabled=true;var b=G.require.apply(G,arguments);G.syncModeEnabled=a;return b},exclude:function(a){var b=I.select({require:function(c,d,e){return G.load(c,d,e)},syncRequire:function(g,c,d){var h=G.syncModeEnabled;G.syncModeEnabled=true;var e=G.load(g,c,d);G.syncModeEnabled=h;return e}});b.exclude(a);return b},load:function(m,b,a){if(b){if(b.length){b=G.makeLoadCallback(m,b)}b=b.bind(a||Ext.global)}var h=[],j=m.length,d,e,g,c=[],l=I.classState;for(e=0;e<j;++e){d=I.resolveName(m[e]);if(!I.isCreated(d)){h.push(d);w[d]=G.getPath(d);if(!l[d]){c.push(w[d])}}}g=h.length;if(g){G.missingCount+=g;I.onCreated(function(){if(b){Ext.callback(b,a,arguments)}G.checkReady()},G,h);if(!x.enabled){Ext.Error.raise("Ext.Loader is not enabled, so dependencies cannot be resolved dynamically. Missing required class"+((h.length>1)?"es":"")+": "+h.join(", "))}if(c.length){G.loadScripts({url:c,_classNames:h})}else{G.checkReady()}}else{if(b){b.call(a)}G.checkReady()}if(G.syncModeEnabled){if(j===1){return I.get(m[0])}}return G},makeLoadCallback:function(b,a){return function(){var c=[],d=b.length;while(d-->0){c[d]=I.get(b[d])}return a.apply(this,c)}},onLoadFailure:function(){var b=this,a=b.onError;G.hasFileLoadError=true;--G.scriptsLoading;if(a){a.call(b.userScope,b)}G.checkReady()},onLoadSuccess:function(){var b=this,a=b.onLoad;--G.scriptsLoading;if(a){a.call(b.userScope,b)}G.checkReady()},onReady:function(c,d,a,e){if(a){z.on(c,d,e)}else{var b=z.makeListener(c,d,e);if(G.isLoading){H.push(b)}else{z.invoke(b)}}},addUsedClasses:function(b){var d,c,a;if(b){b=(typeof b==="string")?[b]:b;for(c=0,a=b.length;c<a;c++){d=b[c];if(typeof d==="string"&&!Ext.Array.contains(D,d)){D.push(d)}}}return G},triggerReady:function(){var b,a=D;if(G.isLoading&&a.length){D=[];G.require(a)}else{G.isLoading=false;H.sort(z.sortFn);while(H.length&&!G.isLoading){b=H.pop();z.invoke(b)}z.unblock()}},historyPush:function(a){if(a&&!v[a]&&!I.overrideMap[a]){v[a]=true;y.push(a)}return G},loadScripts:function(a){var b=Ext.manifest,e=b&&b.loadOrder,d=b&&b.loadOrderMap,c;++G.scriptsLoading;if(e&&!d){b.loadOrderMap=d=B.createLoadOrderMap(e)}G.checkReady();c=Ext.apply({loadOrder:e,loadOrderMap:d,charset:x.scriptCharset,success:G.onLoadSuccess,failure:G.onLoadFailure,sync:G.syncModeEnabled,_classNames:[]},a);c.userScope=c.scope;c.scope=c;B.load(c)},loadScriptsSync:function(a){var b=G.syncModeEnabled;G.syncModeEnabled=true;G.loadScripts({url:a});G.syncModeEnabled=b},loadScriptsSyncBasePrefix:function(a){var b=G.syncModeEnabled;G.syncModeEnabled=true;G.loadScripts({url:a,prependBaseUrl:true});G.syncModeEnabled=b},loadScript:function(a){var j=typeof a==="string",e=a instanceof Array,b=!e&&!j,l=b?a.url:a,g=b&&a.onError,d=b&&a.onLoad,c=b&&a.scope,h={url:l,scope:c,onLoad:d,onError:g,_classNames:[]};G.loadScripts(h)},flushMissingQueue:function(){var d,a,b=0,c=0;for(d in w){b++;a=w[d];if(I.isCreated(d)){delete w[d]}else{if(I.existCache[d]===2){delete w[d]}else{++c}}}this.missingCount=c},checkReady:function(){var a=G.isLoading,b;G.flushMissingQueue();b=G.missingCount+G.scriptsLoading;if(b&&!a){z.block();G.isLoading=!!b}else{if(!b&&a){G.triggerReady()}}}});Ext.require=A(G,"require");Ext.syncRequire=A(G,"syncRequire");Ext.exclude=A(G,"exclude");F.registerPreprocessor("loader",function(h,j,m,o){var a=this,c=[],K,b=I.getName(h),l,n,d,e,q,g,p,r;for(l=0,d=C.length;l<d;l++){g=C[l];if(j.hasOwnProperty(g)){p=j[g];if(typeof p=="string"){c.push(p)}else{if(p instanceof Array){for(n=0,e=p.length;n<e;n++){q=p[n];if(typeof q=="string"){c.push(q)}}}else{if(typeof p!="function"){for(n in p){if(p.hasOwnProperty(n)){q=p[n];if(typeof q=="string"){c.push(q)}}}}}}}}if(c.length===0){return}if(b){u[b]=c}(b?G.exclude(b):G).require(c,function(){for(l=0,d=C.length;l<d;l++){g=C[l];if(j.hasOwnProperty(g)){p=j[g];if(typeof p=="string"){j[g]=I.get(p)}else{if(p instanceof Array){for(n=0,e=p.length;n<e;n++){q=p[n];if(typeof q=="string"){j[g][n]=I.get(q)}}}else{if(typeof p!="function"){for(var J in p){if(p.hasOwnProperty(J)){q=p[J];if(typeof q=="string"){j[g][J]=I.get(q)}}}}}}}}o.call(a,h,j,m)});return false},true,"after","className");I.registerPostprocessor("uses",function(m,n,e){var o=Ext.manifest,l=o&&o.loadOrder,j=o&&o.classes,h,c,a,d,g,b;if(l){c=j[m];if(c&&!isNaN(g=c.idx)){a=l[g];h=a.uses;b={};for(d=h.length,g=0;g<d;g++){b[h[g]]=true}h=Ext.Boot.getPathsFromIndexes(b,l,true);if(h.length>0){G.loadScripts({url:h,sequential:true})}}}if(e.uses){h=e.uses;G.addUsedClasses(h)}});I.onCreated(G.historyPush);G.init()}();Ext._endTime=new Date().getTime();if(Ext._beforereadyhandler){Ext._beforereadyhandler()}Ext.define("E.xforms.overrideBase",{override:"Ext.Base",initModelMgr:Ext.emptyFn,getBoundValue:function(){if(this.bind&&this.bind.value){return this.bind.value.getValue()}},initConfig:function(g){var d=this,e=d.getConfigurator();d.initConfig=Ext.emptyFn;if(g&&g.xfa){d.initXfBinding(g)}d.initialConfig=g||{};e.configure(d,g);return d},initXfBinding:function(y){var s=this,x=y.xfa,z=y.initOwnerCt||s.initOwnerCt,w=y.entityName,A=z.getInheritedConfig("entityName"),r=w||A,p=y.bindingRoot||r,v=false,B=s.publishes||[],u=s.bind||{};if(s.setValue){u.value="{"+p+"."+x+"}";B.push("value");v=true}if(s.hasLookupStore||y.hasLookupStore){u.store="{"+(y._propertiesForStore?y._propertiesForStore:y._propertiesForAssociations?((w&&A&&w!=A?(A+"."):"")+y._propertiesForAssociations):x)+"}";if(y._propertiesForAssociations&&w){u.selection="{"+w+"}"}v=true}if(y._propertiesToBind){Ext.forEach(y._propertiesToBind,function(a){var b=s["xf_"+a];if(b&&s[b.setter()]){v=true;u[b]="{"+p+"Attributes."+x+"-"+a+"}"}})}if(s.defaultBindings){Ext.forEach(s.defaultBindings,function(a){if(s[a.setter()]){v=true;u[a]="{"+p+"Attributes."+x+"-"+a+"}"}})}if(s.isFieldLabelable){if(!s.fieldLabel||!y.fieldLabel){var q="fieldLabel-"+((y.xliff&&y.xliff.fieldLabel)||x);u.fieldLabel="{xliffStore.data.map."+q+".value}"}}Ext.each(y.xliff,function(a,b){if(a!="fieldLabel"&&(!y[a])&&(!s[a])){u[a]="{xliffStore.data.map."+a+"-"+b+".value}"}});delete y._propertiesToBind;delete y._propertiesForStore;delete y._propertiesForChildStore;if(v){if(y.bind||s.bind){Ext.applyIf(y.bind,u)}else{y.bind=u}}}});Ext.define("Ext.Mixin",function(b){return{statics:{addHook:function(l,o,q,p){var m=Ext.isFunction(l),n=function(){var c=arguments,e=m?l:p[l],d=this.callParent(c);e.apply(this,c);return d},a=o.hasOwnProperty(q)&&o[q];if(m){l.$previous=Ext.emptyFn}n.$name=q;n.$owner=o.self;if(a){n.$previous=a.$previous;a.$previous=n}else{o[q]=n}}},onClassExtended:function(a,v){var s=v.mixinConfig,p=v.xhooks,q=a.superclass,u=v.onClassMixedIn,x,r,o,w;if(p){delete v.xhooks;(s||(v.mixinConfig=s={})).on=p}if(s){x=q.mixinConfig;if(x){v.mixinConfig=s=Ext.merge({},x,s)}v.mixinId=s.id;r=s.before;o=s.after;p=s.on;w=s.extended}if(r||o||p||w){v.onClassMixedIn=function(c){var g=this.prototype,d=c.prototype,e;if(r){Ext.Object.each(r,function(j,h){c.addMember(j,function(){if(g[h].apply(this,arguments)!==false){return this.callParent(arguments)}})})}if(o){Ext.Object.each(o,function(j,h){c.addMember(j,function(){var l=this.callParent(arguments);g[h].apply(this,arguments);return l})})}if(p){for(e in p){b.addHook(p[e],d,e,g)}}if(w){c.onExtended(function(){var h=Ext.Array.slice(arguments,0);h.unshift(c);return w.apply(this,h)},this)}if(u){u.apply(this,arguments)}}}}}});Ext.util=Ext.util||{};Ext.util.DelayedTask=function(q,r,l,n,o){var p=this,m,s=function(){var a=Ext.GlobalEvents;clearInterval(p.id);p.id=null;q.apply(r,l||[]);if(o!==false&&a.hasListeners.idle){a.fireEvent("idle")}};n=typeof n==="boolean"?n:true;p.id=null;p.delay=function(a,c,d,b){if(n){p.cancel()}if(typeof a==="number"){m=a}q=c||q;r=d||r;l=b||l;if(!p.id){p.id=Ext.interval(s,m)}};p.cancel=function(){if(p.id){clearInterval(p.id);p.id=null}}};Ext.define("Ext.util.Event",function(){var h=Array.prototype.slice,g=Ext.Array.insert,j=Ext.Array.toArray,e={};return{isEvent:true,suspended:0,noOptions:{},constructor:function(a,b){this.name=b;this.observable=a;this.listeners=[]},addListener:function(J,Q,P,d,F){var a=this,L=false,G=a.observable,M=a.name,D,N,b,B,I,C,O,K,c,H;if(!a.isListening(J,Q)){N=a.createListener(J,Q,P,d,F);if(a.firing){a.listeners=a.listeners.slice(0)}D=a.listeners;K=O=D.length;b=P&&P.priority;I=a._highestNegativePriorityIndex;C=(I!==undefined);if(b){B=(b<0);if(!B||C){for(c=(B?I:0);c<O;c++){H=D[c].o?D[c].o.priority||0:0;if(H<b){K=c;break}}}else{a._highestNegativePriorityIndex=K}}else{if(C){K=I}}if(!B&&K<=I){a._highestNegativePriorityIndex++}if(K===O){a.listeners[O]=N}else{g(a.listeners,K,[N])}if(G.isElement){G._getPublisher(M).subscribe(G,M,P.delegated!==false,P.capture)}L=true}return L},createListener:function(b,z,y,x,v){var d=this,c=(Ext._namedScopes[z]),w={fn:b,scope:z,ev:d,caller:x,manager:v,namedScope:c,defaultScope:c?(z||d.observable):undefined,lateBound:typeof b==="string"},a=b,o=false,u;if(y){w.o=y;if(y.single){a=d.createSingle(a,w,y,z);o=true}if(y.target){a=d.createTargeted(a,w,y,z,o);o=true}if(y.delay){a=d.createDelayed(a,w,y,z,o);o=true}if(y.buffer){a=d.createBuffered(a,w,y,z,o);o=true}if(d.observable.isElement){u=y.type;if(u){w.type=u}}}w.fireFn=a;w.wrapped=o;return w},findListener:function(b,c){var d=this.listeners,m=d.length,a;while(m--){a=d[m];if(a){if(a.fn===b&&a.scope==c){return m}}}return -1},isListening:function(a,b){return this.findListener(a,b)!==-1},removeListener:function(a,H,c){var b=this,d=false,D=b.observable,x=b.name,B,F,G,z,A,I,C,y;c=c||b.findListener(a,H);if(c!=-1){B=b.listeners[c];G=B.o;F=b._highestNegativePriorityIndex;if(b.firing){b.listeners=b.listeners.slice(0)}if(B.task){B.task.cancel();delete B.task}z=B.tasks&&B.tasks.length;if(z){while(z--){B.tasks[z].cancel()}delete B.tasks}b.listeners.splice(c,1);A=B.manager;if(A){I=A.managedListeners;if(I){for(y=I.length;y--;){C=I[y];if(C.item===b.observable&&C.ename===x&&C.fn===a&&C.scope===H){I.splice(y,1)}}}}if(F){if(c<F){b._highestNegativePriorityIndex--}else{if(c===F&&c===b.listeners.length){delete b._highestNegativePriorityIndex}}}if(D.isElement){D._getPublisher(x).unsubscribe(D,x,G.delegated!==false,G.capture)}d=true}return d},clearListeners:function(){var b=this.listeners,c=b.length,a;while(c--){a=b[c];this.removeListener(a.fn,a.scope)}},suspend:function(){++this.suspended},resume:function(){if(this.suspended){--this.suspended}},isSuspended:function(){return this.suspended>0},fire:function(){var K=this,J=K.listeners,b=J.length,M=K.observable.isElement,H,I,B,A,N,F,c,C,G,L,D,d,a;if(!K.suspended&&b>0){K.firing=true;N=arguments.length?h.call(arguments,0):[];c=N.length;if(M){a=N[0]}for(A=0;A<b;A++){F=J[A];H=F.o;if(M){if(G){a.setCurrentTarget(G)}L=F.type;if(L){D=a;a=N[0]=D.chain({type:L})}Ext.EventObject=a}d=N;if(H){if(M){I=H.delegate;if(I){C=a.getTarget("#"+a.currentTarget.id+" "+I);if(C){N[1]=C;G=a.currentTarget;a.setCurrentTarget(C)}else{continue}}}N[c]=H;if(H.args){d=H.args.concat(N)}}B=K.getFireInfo(F);if(B.fn.apply(B.scope,d)===false){return(K.firing=false)}if(D){a=N[0]=D;D=null}}}K.firing=false;return true},getFireInfo:function(a,b){var q=this.observable,p=a.fireFn,c=a.scope,o=a.namedScope,d;if(!b&&a.wrapped){e.fn=p;return e}d=b?a.fn:p;if(a.lateBound){if(!c||o){c=(a.caller||q).resolveListenerScope(a.defaultScope)}d=c[d]}else{if(o&&o.isController){c=(a.caller||q).resolveListenerScope(a.defaultScope)}else{if(!c||o){c=q}}}e.fn=d;e.scope=c;return e},createTargeted:function(c,b,a,d,m){return function(){if(a.target===arguments[0]){var l;if(!m){l=b.ev.getFireInfo(b,true);c=l.fn;d=l.scope}return c.apply(d,arguments)}}},createBuffered:function(c,b,a,d,m){b.task=new Ext.util.DelayedTask();return function(){var l;if(!m){l=b.ev.getFireInfo(b,true);c=l.fn;d=l.scope}b.task.delay(a.buffer,c,d,j(arguments))}},createDelayed:function(c,b,a,d,m){return function(){var l=new Ext.util.DelayedTask(),o;if(!m){o=b.ev.getFireInfo(b,true);c=o.fn;d=o.scope}if(!b.tasks){b.tasks=[]}b.tasks.push(l);l.delay(a.delay||10,c,d,j(arguments))}},createSingle:function(c,b,a,d,m){return function(){var l=b.ev,o;if(l.removeListener(b.fn,d)&&l.observable){l.observable.hasListeners[l.name]--}if(!m){o=l.getFireInfo(b,true);c=o.fn;d=o.scope}return c.apply(d,arguments)}}}});Ext.define("Ext.mixin.Identifiable",{statics:{uniqueIds:{}},isIdentifiable:true,mixinId:"identifiable",idCleanRegex:/\.|[^\w\-]/g,defaultIdPrefix:"ext-",defaultIdSeparator:"-",getOptimizedId:function(){return this.id},getUniqueId:function(){var l=this.id,h,n,m,j,o;if(!(l||l===0)){h=this.self.prototype;n=this.defaultIdSeparator;j=Ext.mixin.Identifiable.uniqueIds;if(!h.hasOwnProperty("identifiablePrefix")){m=this.xtype;if(m){o=this.defaultIdPrefix+m.replace(this.idCleanRegex,n)+n}else{if(!(o=h.$className)){o=this.defaultIdPrefix+"anonymous"+n}else{o=o.replace(this.idCleanRegex,n).toLowerCase()+n}}h.identifiablePrefix=o}o=this.identifiablePrefix;if(!j.hasOwnProperty(o)){j[o]=0}l=this.id=o+(++j[o])}this.getUniqueId=this.getOptimizedId;return l},setId:function(b){this.id=b},getId:function(){var b=this.id;if(!b){b=this.getUniqueId()}this.getId=this.getOptimizedId;return b}});Ext.define("Ext.mixin.Observable",function(j){var n=Ext.emptyFn,o=[],m=Array.prototype,l=m.slice,h=function(a){if(a instanceof h){return a}this.observable=a;if(arguments[1].isObservable){this.managedListeners=true}this.args=l.call(arguments,1)};h.prototype.destroy=function(){this.destroy=Ext.emptyFn;var a=this.observable;a[this.managedListeners?"mun":"un"].apply(a,this.args)};return{extend:Ext.Mixin,mixinConfig:{id:"observable",after:{destroy:"clearListeners"}},mixins:[Ext.mixin.Identifiable],statics:{releaseCapture:function(a){a.fireEventArgs=this.prototype.fireEventArgs},capture:function(a,c,d){var b=function(g,e){return c.apply(d,[g].concat(e))};this.captureArgs(a,b,d)},captureArgs:function(a,b,c){a.fireEventArgs=Ext.Function.createInterceptor(a.fireEventArgs,b,c)},observe:function(b,a){if(b){if(!b.isObservable){Ext.applyIf(b,new this());this.captureArgs(b.prototype,b.fireEventArgs,b)}if(Ext.isObject(a)){b.on(a)}}return b},prepareClass:function(e,A,d){var B=e.listeners=[],b=d||e.prototype,y=b.listeners,g=A?A.listeners:e.superclass.self.listeners,x,z,a;if(g){B.push(g)}if(y){z=y.scope;if(!z){y.scope="self"}else{a=Ext._namedScopes[z];if(a&&a.isController){y.scope="self.controller"}}B.push(y);b.listeners=null}if(!e.HasListeners){var c=function(){},w=e.superclass.HasListeners||(A&&A.HasListeners)||j.HasListeners;e.prototype.HasListeners=e.HasListeners=c;c.prototype=e.hasListeners=new w()}}},isObservable:true,eventsSuspended:0,constructor:function(b){var g=this,c=g.self,d,a,e;g.hasListeners=new g.HasListeners();g.events=g.events||{};d=c.listeners;if(d&&!g._addDeclaredListeners(d)){c.listeners=null}a=(b&&b.listeners)||g.listeners;if(a){if(a instanceof Array){Ext.each(a,g.on,g)}else{g.on(a)}}e=(b&&b.bubbleEvents)||g.bubbleEvents;if(e){g.enableBubble(e)}if(g.$applyConfigs){Ext.apply(g,b)}else{g.initConfig(b)}if(a){g.listeners=null}},onClassExtended:function(b,a){if(!b.HasListeners){j.prepareClass(b,b.prototype.$observableMixedIn?undefined:a)}},$eventOptions:{scope:1,delay:1,buffer:1,onFrame:1,single:1,args:1,destroyable:1,priority:1,order:1},$orderToPriority:{before:100,current:0,after:-100},_addDeclaredListeners:function(b){var a=this;if(b instanceof Array){Ext.each(b,a._addDeclaredListeners,a)}else{a._addedDeclaredListeners=true;a.addListener(b)}return a._addedDeclaredListeners},addManagedListener:function(b,g,d,a,x,u){var e=this,c=e.managedListeners=e.managedListeners||[],v,w;if(typeof g!=="string"){w=arguments.length>4?x:g;x=g;for(g in x){if(x.hasOwnProperty(g)){v=x[g];if(!b.$eventOptions[g]){e.addManagedListener(b,g,v.fn||v,v.scope||x.scope||a,v.fn?v:w,true)}}}if(x&&x.destroyable){return new h(e,b,x)}}else{if(d!==n){b.doAddListener(g,d,a,x,null,e,e);if(!u&&x&&x.destroyable){return new h(e,b,g,d,a)}}}},removeManagedListener:function(b,u,d,a){var e=this,x,v,c,w,g;if(typeof u!=="string"){x=u;for(u in x){if(x.hasOwnProperty(u)){v=x[u];if(!b.$eventOptions[u]){e.removeManagedListener(b,u,v.fn||v,v.scope||x.scope||a)}}}}else{c=e.managedListeners?e.managedListeners.slice():[];u=Ext.canonicalEventName(u);for(g=0,w=c.length;g<w;g++){e.removeManagedListenerItem(false,c[g],b,u,d,a)}}},fireEvent:function(a){return this.fireEventArgs(a,l.call(arguments,1))},resolveListenerScope:function(a){var b=Ext._namedScopes[a];if(b){if(b.isSelf||b.isThis){a=null}}return a||this},fireEventArgs:function(d,b){d=Ext.canonicalEventName(d);var e=this,a=e.events,g=a&&a[d],c=true;if(e.hasListeners[d]){c=e.doFireEvent(d,b||o,g?g.bubble:false)}return c},fireAction:function(c,a,e,g,b,d){b=b?Ext.Object.chain(b):{};b.single=true;b.priority=((d==="after")?-99.5:99.5);this.doAddListener(c,e,g,b);this.fireEventArgs(c,a)},doFireEvent:function(b,q,c){var e=this,d,g,a=true;do{if(e.eventsSuspended){if((d=e.eventQueue)){d.push([b,q])}return a}else{g=e.events&&e.events[b];if(g&&g!==true){if((a=g.fire.apply(g,q))===false){break}}}}while(c&&(e=e.getBubbleParent()));return a},getBubbleParent:function(){var a=this,b=a.getBubbleTarget&&a.getBubbleTarget();if(b&&b.isObservable){return b}return null},addListener:function(e,C,B,A,x,z){var D=this,d=Ext._namedScopes,y,a,c,b,g;if(typeof e!=="string"){A=e;B=A.scope;a=B&&d[B];c=a&&a.isSelf;g=((D.isComponent||D.isWidget)&&A.element)?D.$elementEventOptions:D.$eventOptions;for(e in A){y=A[e];if(!g[e]){b=y.scope;if(b&&c){a=d[b];if(a&&a.isController){b="self.controller"}}D.doAddListener(e,y.fn||y,b||B,y.fn?y:A,x,z)}}if(A&&A.destroyable){return new h(D,A)}}else{D.doAddListener(e,C,B,A,x,z);if(A&&A.destroyable){return new h(D,e,C,B,A)}}return D},removeListener:function(a,g,q,d){var e=this,b,c;if(typeof a!=="string"){c=a;d=d||e.$eventOptions;for(a in c){if(c.hasOwnProperty(a)){b=c[a];if(!e.$eventOptions[a]){e.doRemoveListener(a,b.fn||b,b.scope||c.scope)}}}}else{e.doRemoveListener(a,g,q)}return e},clearListeners:function(){var e=this,b=e.events,d=e.hasListeners,a,c;if(b){for(c in b){if(b.hasOwnProperty(c)){a=b[c];if(a.isEvent){delete d[c];a.clearListeners()}}}}e.clearManagedListeners()},clearManagedListeners:function(){var a=this,c=a.managedListeners?a.managedListeners.slice():[],b=0,d=c.length;for(;b<d;b++){a.removeManagedListenerItem(true,c[b])}a.managedListeners=[]},removeManagedListenerItem:function(c,d,e,b,g,a){if(c||(d.item===e&&d.ename===b&&(!g||d.fn===g)&&(!a||d.scope===a))){d.item.doRemoveListener(d.ename,d.fn,d.scope,d.options);if(!c){Ext.Array.remove(this.managedListeners,d)}}},hasListener:function(a){a=Ext.canonicalEventName(a);return !!this.hasListeners[a]},isSuspended:function(a){var b=this.eventsSuspended>0,c=this.events;if(!b&&a&&c){a=c[a];if(a&&a.isEvent){return a.isSuspended()}}return b},suspendEvents:function(a){++this.eventsSuspended;if(a&&!this.eventQueue){this.eventQueue=[]}},suspendEvent:function(){var e=this,a=e.events,d=arguments.length,b,g,c;for(b=0;b<d;b++){c=arguments[b];c=Ext.canonicalEventName(c);g=a[c];if(!g||!g.isEvent){g=e._initEvent(c)}g.suspend()}},resumeEvent:function(){var b=this.events||0,d=b&&arguments.length,c,a;for(c=0;c<d;c++){a=b[arguments[c]];if(a&&a.resume){a.resume()}}},resumeEvents:function(d){var c=this,e=c.eventQueue,a,b;if(c.eventsSuspended&&!--c.eventsSuspended){delete c.eventQueue;if(!d&&e){a=e.length;for(b=0;b<a;b++){c.fireEventArgs.apply(c,e[b])}}}},relayEvents:function(c,a,g){var r=this,d=a.length,b=0,s,e={};for(;b<d;b++){s=a[b];e[s]=r.createRelayer(g?g+s:s)}r.mon(c,e,null,null,undefined);return new h(r,c,e)},createRelayer:function(c,b){var a=this;return function(){return a.fireEventArgs.call(a,c,b?l.apply(arguments,b):arguments)}},enableBubble:function(e){if(e){var r=this,g=(typeof e=="string")?arguments:e,b=r.events,s=b&&g.length,c,a,d;for(d=0;d<s;++d){c=g[d];c=Ext.canonicalEventName(c);a=b[c];if(!a||!a.isEvent){a=r._initEvent(c)}r.hasListeners._incr_(c);a.bubble=true}}},destroy:function(){this.clearListeners();this.callParent()},privates:{doAddListener:function(g,c,z,y,v,w,e){var d=this,x,a,b;v=v||(y&&y.order);if(v){b=(y&&y.priority);if(!b){y=y?Ext.Object.chain(y):{};y.priority=d.$orderToPriority[v]}}g=Ext.canonicalEventName(g);if(!e&&(z&&z.isObservable&&(z!==d))){e=z}if(e){a=e.managedListeners=e.managedListeners||[];a.push({item:d,ename:g,fn:c,scope:z,options:y})}x=(d.events||(d.events={}))[g];if(!x||!x.isEvent){x=d._initEvent(g)}if(c!==n){if(x.addListener(c,z,y,w,e)){d.hasListeners._incr_(g)}}},doRemoveListener:function(c,a,b){var e=this,d=e.events,g;c=Ext.canonicalEventName(c);g=d&&d[c];if(g&&g.isEvent){if(g.removeListener(a,b)){e.hasListeners._decr_(c)}}},_initEvent:function(a){return(this.events[a]=new Ext.util.Event(this,a))}},deprecated:{"5.0":{methods:{addEvents:null}},"5.1":{methods:{addBeforeListener:function(d,a,b,c){return this.addListener(d,a,b,c,"before")},addAfterListener:function(d,a,b,c){return this.addListener(d,a,b,c,"after")},removeBeforeListener:function(d,a,b,c){return this.removeListener(d,a,b,c,"before")},removeAfterListener:function(d,a,b,c){return this.removeListener(d,a,b,c,"after")},onBefore:"addBeforeListener",onAfter:"addAfterListener",unBefore:"removeBeforeListener",unAfter:"removeAfterListener"}}}}},function(){var h=this,m=h.prototype,o=function(){},l=function(b){if(!b.HasListeners){var a=b.prototype;a.$observableMixedIn=1;h.prepareClass(b,this);b.onExtended(function(d,c){h.prepareClass(d,null,c)});if(a.onClassMixedIn){Ext.override(b,{onClassMixedIn:function(c){l.call(this,c);this.callParent(arguments)}})}else{a.onClassMixedIn=function(c){l.call(this,c)}}}j.call(this,b)},j=m.onClassMixedIn;o.prototype={_decr_:function(a){if(!--this[a]){delete this[a]}},_incr_:function(a){if(this.hasOwnProperty(a)){++this[a]}else{this[a]=1}}};m.HasListeners=h.HasListeners=o;h.createAlias({on:"addListener",un:"removeListener",mon:"addManagedListener",mun:"removeManagedListener",setListeners:"addListener"});h.observeClass=h.observe;function n(e){var g=(this.methodEvents=this.methodEvents||{})[e],b,c,a,q=this,d;if(!g){this.methodEvents[e]=g={};g.originalFn=this[e];g.methodName=e;g.before=[];g.after=[];d=function(p,u,v){if((c=p.apply(u||q,v))!==undefined){if(typeof c=="object"){if(c.returnValue!==undefined){b=c.returnValue}else{b=c}a=!!c.cancel}else{if(c===false){a=true}else{b=c}}}};this[e]=function(){var v=Array.prototype.slice.call(arguments,0),w,p,x;b=c=undefined;a=false;for(p=0,x=g.before.length;p<x;p++){w=g.before[p];d(w.fn,w.scope,v);if(a){return b}}if((c=g.originalFn.apply(q,v))!==undefined){b=c}for(p=0,x=g.after.length;p<x;p++){w=g.after[p];d(w.fn,w.scope,v);if(a){return b}}return b}}return g}Ext.apply(m,{onClassMixedIn:l,beforeMethod:function(a,b,c){n.call(this,a).before.push({fn:b,scope:c})},afterMethod:function(a,b,c){n.call(this,a).after.push({fn:b,scope:c})},removeMethodListener:function(e,a,b){var g=this.getMethodEvent(e),c,d;for(c=0,d=g.before.length;c<d;c++){if(g.before[c].fn==a&&g.before[c].scope==b){Ext.Array.erase(g.before,c,1);return}}for(c=0,d=g.after.length;c<d;c++){if(g.after[c].fn==a&&g.after[c].scope==b){Ext.Array.erase(g.after,c,1);return}}},toggleEventLogging:function(a){Ext.util.Observable[a?"capture":"releaseCapture"](this,function(b){if(Ext.isDefined(Ext.global.console)){Ext.global.console.log(b,arguments)}})}})});Ext.define("Ext.util.HashMap",{mixins:[Ext.mixin.Observable],generation:0,config:{keyFn:null},constructor:function(e){var g=this,d;g.mixins.observable.constructor.call(g,e);g.clear(true);d=g.getKeyFn();if(d){g.getKey=d}},getCount:function(){return this.length},getData:function(d,c){if(c===undefined){c=d;d=this.getKey(c)}return[d,c]},getKey:function(b){return b.id},add:function(e,g){var d=this;if(arguments.length===1){g=e;e=d.getKey(g)}if(d.containsKey(e)){return d.replace(e,g)}d.map[e]=g;++d.length;d.generation++;if(d.hasListeners.add){d.fireEvent("add",d,e,g)}return g},replace:function(g,l){var m=this,j=m.map,h;if(arguments.length===1){l=g;g=m.getKey(l)}if(!m.containsKey(g)){m.add(g,l)}h=j[g];j[g]=l;m.generation++;if(m.hasListeners.replace){m.fireEvent("replace",m,g,l,h)}return l},remove:function(c){var d=this.findKey(c);if(d!==undefined){return this.removeAtKey(d)}return false},removeAtKey:function(e){var d=this,g;if(d.containsKey(e)){g=d.map[e];delete d.map[e];--d.length;d.generation++;if(d.hasListeners.remove){d.fireEvent("remove",d,e,g)}return true}return false},get:function(d){var c=this.map;return c.hasOwnProperty(d)?c[d]:undefined},clear:function(d){var c=this;if(d||c.generation){c.map={};c.length=0;c.generation=d?0:c.generation+1}if(d!==true&&c.hasListeners.clear){c.fireEvent("clear",c)}return c},containsKey:function(d){var c=this.map;return c.hasOwnProperty(d)&&c[d]!==undefined},contains:function(b){return this.containsKey(this.findKey(b))},getKeys:function(){return this.getArray(true)},getValues:function(){return this.getArray(false)},getArray:function(h){var g=[],e,j=this.map;for(e in j){if(j.hasOwnProperty(e)){g.push(h?e:j[e])}}return g},each:function(l,m){var h=Ext.apply({},this.map),g,j=this.length;m=m||this;for(g in h){if(h.hasOwnProperty(g)){if(l.call(m,g,h[g],j)===false){break}}}return this},clone:function(){var g=new this.self(this.initialConfig),d=this.map,e;g.suspendEvents();for(e in d){if(d.hasOwnProperty(e)){g.add(e,d[e])}}g.resumeEvents();return g},findKey:function(d){var e,g=this.map;for(e in g){if(g.hasOwnProperty(e)&&g[e]===d){return e}}return undefined}});Ext.define("Ext.AbstractManager",{typeName:"type",constructor:function(b){Ext.apply(this,b||{});this.all=new Ext.util.HashMap();this.types={}},get:function(b){return this.all.get(b)},register:function(b){this.all.add(b)},unregister:function(b){this.all.remove(b)},registerType:function(c,d){this.types[c]=d;d[this.typeName]=c},isRegistered:function(b){return this.types[b]!==undefined},create:function(g,h){var e=g[this.typeName]||g.type||h,j=this.types[e];return new j(g)},onAvailable:function(l,o,h){var j=this.all,n,m;if(j.containsKey(l)){n=j.get(l);o.call(h||n,n)}else{m=function(a,c,b){if(c==l){o.call(h||b,b);j.un("add",m)}};j.on("add",m)}},each:function(c,d){this.all.each(c,d||this)},getCount:function(){return this.all.getCount()}});Ext.define("Ext.data.flash.BinaryXhr",{statics:{flashPluginActivated:function(){Ext.data.flash.BinaryXhr.flashPluginActive=true;Ext.data.flash.BinaryXhr.flashPlugin=document.getElementById("ext-flash-polyfill");Ext.GlobalEvents.fireEvent("flashready")},flashPluginActive:false,flashPluginInjected:false,connectionIndex:1,liveConnections:{},flashPlugin:null,onFlashStateChange:function(h,j,e){var g;g=this.liveConnections[Number(h)];if(g){g.onFlashStateChange(j,e)}},registerConnection:function(c){var d=this.connectionIndex;this.conectionIndex=this.connectionIndex+1;this.liveConnections[d]=c;return d},injectFlashPlugin:function(){var d=this,e,g;d.flashPolyfillEl=Ext.getBody().appendChild({id:"ext-flash-polyfill",cn:[{tag:"p",html:"To view this page ensure that Adobe Flash Player version 11.1.0 or greater is installed."},{tag:"a",href:"http://www.adobe.com/go/getflashplayer",cn:[{tag:"img",src:window.location.protocol+"//www.adobe.com/images/shared/download_buttons/get_flash_player.gif",alt:"Get Adobe Flash player"}]}]});e=[Ext.Loader.getPath("Ext.data.Connection"),"../../../plugins/flash/swfobject.js"].join("/");g="/plugins/flash/FlashPlugin.swf";if(Ext.flashPluginPath){g=Ext.flashPluginPath}Ext.Loader.loadScript({url:e,onLoad:function(){var l="11.4.0";var b="playerProductInstall.swf";var m={};var a={};a.quality="high";a.bgcolor="#ffffff";a.allowscriptaccess="sameDomain";a.allowfullscreen="true";var c={};c.id="ext-flash-polyfill";c.name="polyfill";c.align="middle";swfobject.embedSWF(g,"ext-flash-polyfill","0","0",l,b,m,a,c)},onError:function(){},scope:d});Ext.data.flash.BinaryXhr.flashPluginInjected=true}},readyState:0,status:0,statusText:"",responseBytes:null,javascriptId:null,constructor:function(d){if(!Ext.data.flash.BinaryXhr.flashPluginInjected){Ext.data.flash.BinaryXhr.injectFlashPlugin()}var c=this;Ext.apply(c,d);c.requestHeaders={}},abort:function(){var b=this;if(b.readyState==4){return}b.aborted=true;if(!Ext.data.flash.BinaryXhr.flashPluginActive){Ext.GlobalEvents.removeListener("flashready",b.onFlashReady,b);return}Ext.data.flash.BinaryXhr.flashPlugin.abortRequest(b.javascriptId);delete Ext.data.flash.BinaryXhr.liveConnections[b.javascriptId]},getAllResponseHeaders:function(){var b=[];Ext.Object.each(this.responseHeaders,function(a,d){b.push(a+": "+d)});return b.join("\r\n")},getResponseHeader:function(c){var d=this.responseHeaders;return(d&&d[c])||null},open:function(l,o,n,j,h){var m=this;m.method=l;m.url=o;m.async=n!==false;m.user=j;m.password=h},overrideMimeType:function(b){this.mimeType=b},send:function(d){var c=this;c.body=d;if(!Ext.data.flash.BinaryXhr.flashPluginActive){Ext.GlobalEvents.addListener("flashready",c.onFlashReady,c)}else{this.onFlashReady()}},onFlashReady:function(){var g=this,d,e;g.javascriptId=Ext.data.flash.BinaryXhr.registerConnection(g);d={method:g.method,url:g.url,user:g.user,password:g.password,mimeType:g.mimeType,requestHeaders:g.requestHeaders,body:g.body,javascriptId:g.javascriptId};e=Ext.data.flash.BinaryXhr.flashPlugin.postBinary(d)},setReadyState:function(c){var d=this;if(d.readyState!=c){d.readyState=c;d.onreadystatechange()}},setRequestHeader:function(c,d){this.requestHeaders[c]=d},onreadystatechange:Ext.emptyFn,parseData:function(c){var d=this;this.status=c.status||0;d.responseHeaders={};if(d.mimeType){d.responseHeaders["content-type"]=d.mimeType}if(c.reason=="complete"){this.responseBytes=c.data;d.responseHeaders["content-length"]=c.data.length}else{if(c.reason=="error"||c.reason=="securityError"){this.statusText=c.text;d.responseHeaders["content-length"]=0}}},onFlashStateChange:function(g,d){var e=this;if(g==4){e.parseData(d);delete Ext.data.flash.BinaryXhr.liveConnections[e.javascriptId]}e.setReadyState(g)}});Ext.define("Ext.data.Connection",{mixins:{observable:Ext.mixin.Observable},statics:{requestId:0},config:{url:null,async:true,username:"",password:"",disableCaching:true,withCredentials:false,binary:false,cors:false,isXdr:false,defaultXdrContentType:"text/plain",disableCachingParam:"_dc",timeout:30000,extraParams:null,autoAbort:false,method:null,defaultHeaders:null,defaultPostHeader:"application/x-www-form-urlencoded; charset=UTF-8",useDefaultXhrHeader:true,defaultXhrHeader:"XMLHttpRequest"},constructor:function(b){this.mixins.observable.constructor.call(this,b);this.requests={}},request:function(o){o=o||{};var s=this,p=o.scope||window,u=o.username||s.getUsername(),r=o.password||s.getPassword()||"",y,w,v,z,x,q;if(s.fireEvent("beforerequest",s,o)!==false){w=s.setOptions(o,p);if(s.isFormUpload(o)){s.upload(o.form,w.url,w.data,o);return null}if(o.autoAbort||s.getAutoAbort()){s.abort()}y=o.async!==false?(o.async||s.getAsync()):false;q=s.openRequest(o,w,y,u,r);x=s.getIsXdr();if(!x){z=s.setupHeaders(q,o,w.data,w.params)}v={id:++Ext.data.Connection.requestId,xhr:q,headers:z,options:o,async:y,binary:o.binary||s.getBinary(),timeout:Ext.defer(function(){v.timedout=true;s.abort(v)},o.timeout||s.getTimeout())};s.requests[v.id]=v;s.latestId=v.id;if(y){if(!x){q.onreadystatechange=Ext.Function.bind(s.onStateChange,s,[v])}}if(x){s.processXdrRequest(v,q)}q.send(w.data);if(!y){return s.onComplete(v)}return v}else{Ext.callback(o.callback,o.scope,[o,undefined,undefined]);return null}},processXdrRequest:function(d,g){var e=this;delete d.headers;d.contentType=d.options.contentType||e.getDefaultXdrContentType();g.onload=Ext.Function.bind(e.onStateChange,e,[d,true]);g.onerror=g.ontimeout=Ext.Function.bind(e.onStateChange,e,[d,false])},processXdrResponse:function(d,c){d.getAllResponseHeaders=function(){return[]};d.getResponseHeader=function(){return""};d.contentType=c.contentType||this.getDefaultXdrContentType()},upload:function(N,J,v,K){N=Ext.getDom(N);K=K||{};var C=Ext.id(),F=document.createElement("iframe"),M=[],L="multipart/form-data",y={target:N.target,method:N.method,encoding:N.encoding,enctype:N.enctype,action:N.action},O=function(b,a){I=document.createElement("input");Ext.fly(I).set({type:"hidden",value:a,name:b});N.appendChild(I);M.push(I)},I,G,A,h,B,H,D,z;Ext.fly(F).set({id:C,name:C,cls:Ext.baseCSSPrefix+"hidden-display",src:Ext.SSL_SECURE_URL,tabIndex:-1});document.body.appendChild(F);if(document.frames){document.frames[C].name=C}Ext.fly(N).set({target:C,method:"POST",enctype:L,encoding:L,action:J||y.action});if(v){G=Ext.Object.fromQueryString(v)||{};for(h in G){if(G.hasOwnProperty(h)){A=G[h];if(Ext.isArray(A)){B=A.length;for(H=0;H<B;H++){O(h,A[H])}}else{O(h,A)}}}}Ext.get(F).on({load:Ext.Function.bind(this.onUploadComplete,this,[F,K]),single:!Ext.isOpera});N.submit();Ext.fly(N).set(y);for(D=M.length,z=0;z<D;z++){Ext.removeNode(M[z])}},onUploadComplete:function(v,e){var q=this,u={responseText:"",responseXML:null},o,n,p,s;try{p=(v&&(v.contentWindow.document||v.contentDocument))||(window.frames[v.id]||{}).document;if(p){if(Ext.isOpera&&p.location==Ext.SSL_SECURE_URL){return}if(p.body){if((s=p.body.firstChild)&&/pre/i.test(s.tagName)){u.responseText=s.textContent||s.innerText}else{if((s=p.getElementsByTagName("textarea")[0])){u.responseText=s.value}else{u.responseText=p.body.textContent||p.body.innerText}}}u.responseXML=p.XMLDocument||p;o=e.success;n=true}else{Ext.Error.raise("Could not acquire a suitable connection for the file upload service.")}}catch(r){u.responseText='{success:false,message:"'+Ext.String.trim(r.message||r.description)+'"}';o=e.failure;n=false}q.fireEvent(n?"requestcomplete":"requestexception",q,u,e);Ext.callback(o,e.scope,[u,e]);Ext.callback(e.callback,e.scope,[e,n,u]);Ext.defer(Ext.removeNode,100,Ext,[v])},isFormUpload:function(d){var c=this.getForm(d);if(c){return(d.isUpload||(/multipart\/form-data/i).test(c.getAttribute("enctype")))}return false},getForm:function(d){var c=d.form||null;if(c){c=Ext.getDom(c)}return c},setOptions:function(o,p){var r=this,v=o.params||{},s=r.getExtraParams(),w=o.urlParams,x=o.url||r.getUrl(),q=o.jsonData,y,z,u;if(Ext.isFunction(v)){v=v.call(p,o)}if(Ext.isFunction(x)){x=x.call(p,o)}x=this.setupUrl(o,x);u=o.rawData||o.binaryData||o.xmlData||q||null;if(q&&!Ext.isPrimitive(q)){u=Ext.encode(u)}if(o.binaryData){if(r.nativeBinaryPostSupport()){u=(new Uint8Array(o.binaryData));if((Ext.isChrome&&Ext.chromeVersion<22)||Ext.isSafari||Ext.isGecko){u=u.buffer}}}if(Ext.isObject(v)){v=Ext.Object.toQueryString(v)}if(Ext.isObject(s)){s=Ext.Object.toQueryString(s)}v=v+((s)?((v)?"&":"")+s:"");w=Ext.isObject(w)?Ext.Object.toQueryString(w):w;v=this.setupParams(o,v);y=(o.method||r.getMethod()||((v||u)?"POST":"GET")).toUpperCase();this.setupMethod(o,y);z=o.disableCaching!==false?(o.disableCaching||r.getDisableCaching()):false;if(y==="GET"&&z){x=Ext.urlAppend(x,(o.disableCachingParam||r.getDisableCachingParam())+"="+(new Date().getTime()))}if((y=="GET"||u)&&v){x=Ext.urlAppend(x,v);v=null}if(w){x=Ext.urlAppend(x,w)}return{url:x,method:y,data:u||v||null}},setupUrl:function(d,e){var g=this.getForm(d);if(g){e=e||g.action}return e},setupParams:function(g,h){var j=this.getForm(g),e;if(j&&!this.isFormUpload(g)){e=Ext.Element.serializeForm(j);h=h?(h+"&"+e):e}return h},setupMethod:function(d,c){if(this.isFormUpload(d)){return"POST"}return c},setupHeaders:function(s,e,B,C){var x=this,F=Ext.apply({},e.headers||{},x.getDefaultHeaders()||{}),u=x.getDefaultPostHeader(),w=e.jsonData,G=e.xmlData,y="Content-Type",D=Ext.isDefined(e.useDefaultXhrHeader)?e.useDefaultXhrHeader:x.getUseDefaultXhrHeader(),v,A;if(!F.hasOwnProperty(y)&&(B||C)){if(B){if(e.rawData){u="text/plain"}else{if(G&&Ext.isDefined(G)){u="text/xml"}else{if(w&&Ext.isDefined(w)){u="application/json"}}}}F[y]=u}if(D&&!F["X-Requested-With"]){F["X-Requested-With"]=x.getDefaultXhrHeader()}if(F[y]===undefined||F[y]===null){delete F[y]}try{for(v in F){if(F.hasOwnProperty(v)){A=F[v];s.setRequestHeader(v,A)}}}catch(z){x.fireEvent("exception",v,A)}return F},newRequest:function(e){var d=this,g;if(e.binaryData){if(d.nativeBinaryPostSupport()){g=d.getXhrInstance()}else{g=new Ext.data.flash.BinaryXhr()}}else{if((e.cors||d.getCors())&&Ext.isIE&&Ext.ieVersion<=9){g=d.getXdrInstance();d.setIsXdr(true)}else{g=d.getXhrInstance()}}return g},openRequest:function(q,l,p,m,j){var o=this,n=o.newRequest(q);if(m){n.open(l.method,l.url,p,m,j)}else{if(o.getIsXdr()){n.open(l.method,l.url)}else{n.open(l.method,l.url,p)}}if(q.binary||o.getBinary()){if(window.Uint8Array){n.responseType="arraybuffer"}else{if(n.overrideMimeType){n.overrideMimeType("text/plain; charset=x-user-defined")}}}if(q.withCredentials||o.getWithCredentials()){n.withCredentials=true}return n},getXdrInstance:function(){var b;if(Ext.ieVersion>=8){b=new XDomainRequest()}else{Ext.Error.raise({msg:"Your browser does not support CORS"})}return b},getXhrInstance:(function(){var e=[function(){return new XMLHttpRequest()},function(){return new ActiveXObject("MSXML2.XMLHTTP.3.0")},function(){return new ActiveXObject("MSXML2.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],m=0,h=e.length,j;for(;m<h;++m){try{j=e[m];j();break}catch(l){}}return j}()),isLoading:function(e){if(!e){e=this.getLatest()}if(!(e&&e.xhr)){return false}var d=e.xhr.readyState,g=Ext.data.flash&&Ext.data.flash.BinaryXhr;return((e.xhr instanceof g)&&d!=4)||!(d===0||d==4)},abort:function(e){var g=this,h;if(!e){e=g.getLatest()}if(e&&g.isLoading(e)){h=e.xhr;try{h.onreadystatechange=null}catch(j){h.onreadystatechange=Ext.emptyFn}h.abort();g.clearTimeout(e);if(!e.timedout){e.aborted=true}g.onComplete(e);g.cleanup(e)}},abortAll:function(){var c=this.requests,d;for(d in c){if(c.hasOwnProperty(d)){this.abort(c[d])}}},getLatest:function(){var c=this.latestId,d;if(c){d=this.requests[c]}return d||null},onStateChange:function(h,e){var j=this,g=Ext.GlobalEvents;if((h.xhr&&h.xhr.readyState==4)||j.isXdr){j.clearTimeout(h);j.onComplete(h,e);j.cleanup(h);if(g.hasListeners.idle){g.fireEvent("idle")}}},clearTimeout:function(b){clearTimeout(b.timeout);delete b.timeout},cleanup:function(b){b.xhr=null;delete b.xhr},onComplete:function(u,o){var r=this,n=u.options,p,e,q,v;try{p=u.xhr;e=r.parseStatus(p.status);if(e.success){e.success=p.readyState===4}}catch(s){e={success:false,isException:false}}q=r.isXdr?o:e.success;if(q){v=r.createResponse(u);r.fireEvent("requestcomplete",r,v,n);Ext.callback(n.success,n.scope,[v,n])}else{if(e.isException||u.aborted||u.timedout){v=r.createException(u)}else{v=r.createResponse(u)}r.fireEvent("requestexception",r,v,n);Ext.callback(n.failure,n.scope,[v,n])}Ext.callback(n.callback,n.scope,[n,q,v]);delete r.requests[u.id];return v},parseStatus:function(e){e=e==1223?204:e;var g=(e>=200&&e<300)||e==304,d=false;if(!g){switch(e){case 12002:case 12029:case 12030:case 12031:case 12152:case 13030:d=true;break}}return{success:g,isException:d}},createResponse:function(x){var u=this,r=x.xhr,z=u.getIsXdr(),A={},q=z?[]:r.getAllResponseHeaders().replace(/\r\n/g,"\n").split("\n"),v=q.length,p,w,s,y,B;while(v--){p=q[v];w=p.indexOf(":");if(w>=0){s=p.substr(0,w).toLowerCase();if(p.charAt(w+1)==" "){++w}A[s]=p.substr(w+1)}}x.xhr=null;delete x.xhr;y={request:x,requestId:x.id,status:r.status,statusText:r.statusText,getResponseHeader:function(a){return A[a.toLowerCase()]},getAllResponseHeaders:function(){return A}};if(z){u.processXdrResponse(y,r)}if(x.binary){y.responseBytes=u.getByteArray(r)}else{y.responseText=r.responseText;y.responseXML=r.responseXML}r=null;return y},createException:function(b){return{request:b,requestId:b.id,status:b.aborted?-1:0,statusText:b.aborted?"transaction aborted":"communication failure",aborted:b.aborted,timedout:b.timedout}},getByteArray:function(n){var s=n.response,u=n.responseBody,e=Ext.data.flash&&Ext.data.flash.BinaryXhr,v,o,q,r;if(n instanceof e){v=n.responseBytes}else{if(window.Uint8Array){v=s?new Uint8Array(s):[]}else{if(Ext.isIE9p){try{v=new VBArray(u).toArray()}catch(p){v=[]}}else{if(Ext.isIE){if(!this.self.vbScriptInjected){this.injectVBScript()}getIEByteArray(n.responseBody,v=[])}else{v=[];o=n.responseText;q=o.length;for(r=0;r<q;r++){v.push(o.charCodeAt(r)&255)}}}}}return v},injectVBScript:function(){var b=document.createElement("script");b.type="text/vbscript";b.text=["Function getIEByteArray(byteArray, out)","Dim len, i","len = LenB(byteArray)","For i = 1 to len","out.push(AscB(MidB(byteArray, i, 1)))","Next","End Function"].join("\n");Ext.getHead().dom.appendChild(b);this.self.vbScriptInjected=true},nativeBinaryPostSupport:function(){return Ext.isChrome||(Ext.isSafari&&Ext.isDefined(window.Uint8Array))||(Ext.isGecko&&Ext.isDefined(window.Uint8Array))}});Ext.define("Ext.Ajax",{extend:Ext.data.Connection,singleton:true,autoAbort:false});Ext.define("Ext.AnimationQueue",{singleton:true,constructor:function(){this.queue=[];this.taskQueue=[];this.runningQueue=[];this.idleQueue=[];this.isRunning=false;this.isIdle=true;this.run=Ext.Function.bind(this.run,this);if(Ext.os.is.iOS){Ext.interval(this.watch,500,this)}},start:function(g,d,e){this.queue.push(arguments);if(!this.isRunning){if(this.hasOwnProperty("idleTimer")){clearTimeout(this.idleTimer);delete this.idleTimer}if(this.hasOwnProperty("idleQueueTimer")){clearTimeout(this.idleQueueTimer);delete this.idleQueueTimer}this.isIdle=false;this.isRunning=true;this.doStart()}},watch:function(){if(this.isRunning&&Ext.now()-this.lastRunTime>=500){this.run()}},run:function(){if(!this.isRunning){return}var e=this.runningQueue,d,g;this.lastRunTime=Ext.now();this.frameStartTime=Ext.now();e.push.apply(e,this.queue);for(d=0,g=e.length;d<g;d++){this.invoke(e[d])}e.length=0;this.doIterate()},doStart:function(){this.animationFrameId=Ext.Function.requestAnimationFrame(this.run);this.lastRunTime=Ext.now()},doIterate:function(){this.animationFrameId=Ext.Function.requestAnimationFrame(this.run)},doStop:function(){Ext.Function.cancelAnimationFrame(this.animationFrameId)},stop:function(o,p,j){if(!this.isRunning){return}var l=this.queue,m=l.length,q,n;for(q=0;q<m;q++){n=l[q];if(n[0]===o&&n[1]===p&&n[2]===j){l.splice(q,1);q--;m--}}if(m===0){this.doStop();this.isRunning=false;this.idleTimer=Ext.defer(this.whenIdle,100,this)}},onIdle:function(o,p,l){var q=this.idleQueue,j,n,m;for(j=0,n=q.length;j<n;j++){m=q[j];if(o===m[0]&&p===m[1]&&l===m[2]){return}}q.push(arguments);if(this.isIdle){this.processIdleQueue()}},unIdle:function(o,p,l){var q=this.idleQueue,j,n,m;for(j=0,n=q.length;j<n;j++){m=q[j];if(o===m[0]&&p===m[1]&&l===m[2]){q.splice(j,1);return true}}return false},queueTask:function(g,d,e){this.taskQueue.push(arguments);this.processTaskQueue()},dequeueTask:function(o,p,l){var q=this.taskQueue,j,n,m;for(j=0,n=q.length;j<n;j++){m=q[j];if(o===m[0]&&p===m[1]&&l===m[2]){q.splice(j,1);j--;n--}}},invoke:function(h){var j=h[0],e=h[1],g=h[2];j=(typeof j=="string"?e[j]:j);if(Ext.isArray(g)){j.apply(e,g)}else{j.call(e,g)}},whenIdle:function(){this.isIdle=true;this.processIdleQueue()},processIdleQueue:function(){if(!this.hasOwnProperty("idleQueueTimer")){this.idleQueueTimer=Ext.defer(this.processIdleQueueItem,1,this)}},processIdleQueueItem:function(){delete this.idleQueueTimer;if(!this.isIdle){return}var d=this.idleQueue,c;if(d.length>0){c=d.shift();this.invoke(c);this.processIdleQueue()}},processTaskQueue:function(){if(!this.hasOwnProperty("taskQueueTimer")){this.taskQueueTimer=Ext.defer(this.processTaskQueueItem,15,this)}},processTaskQueueItem:function(){delete this.taskQueueTimer;var d=this.taskQueue,c;if(d.length>0){c=d.shift();this.invoke(c);this.processTaskQueue()}},showFps:function(){Ext.onReady(function(){Ext.Viewport.add([{xtype:"component",bottom:50,left:0,width:50,height:20,html:"Average",style:"background-color: black; color: white; text-align: center; line-height: 20px; font-size: 8px;"},{id:"__averageFps",xtype:"component",bottom:0,left:0,width:50,height:50,html:"0",style:"background-color: red; color: white; text-align: center; line-height: 50px;"},{xtype:"component",bottom:50,left:50,width:50,height:20,html:"Min (Last 1k)",style:"background-color: black; color: white; text-align: center; line-height: 20px; font-size: 8px;"},{id:"__minFps",xtype:"component",bottom:0,left:50,width:50,height:50,html:"0",style:"background-color: orange; color: white; text-align: center; line-height: 50px;"},{xtype:"component",bottom:50,left:100,width:50,height:20,html:"Max (Last 1k)",style:"background-color: black; color: white; text-align: center; line-height: 20px; font-size: 8px;"},{id:"__maxFps",xtype:"component",bottom:0,left:100,width:50,height:50,html:"0",style:"background-color: yellow; color: black; text-align: center; line-height: 50px;"},{xtype:"component",bottom:50,left:150,width:50,height:20,html:"Current",style:"background-color: black; color: white; text-align: center; line-height: 20px; font-size: 8px;"},{id:"__currentFps",xtype:"component",bottom:0,left:150,width:50,height:50,html:"0",style:"background-color: green; color: white; text-align: center; line-height: 50px;"}]);Ext.AnimationQueue.resetFps()})},resetFps:function(){var s=Ext.getCmp("__currentFps"),l=Ext.getCmp("__averageFps"),n=Ext.getCmp("__minFps"),o=Ext.getCmp("__maxFps"),r=1000,m=0,p=0,q=0;Ext.AnimationQueue.onFpsChanged=function(a){p++;if(!(p%10)){r=1000;m=0}q+=a;r=Math.min(r,a);m=Math.max(m,a);s.setHtml(Math.round(a));l.setHtml(Math.round(q/p));n.setHtml(Math.round(r));o.setHtml(Math.round(m))}}},function(){});Ext.define("Ext.ComponentManager",{alternateClassName:"Ext.ComponentMgr",singleton:true,count:0,typeName:"xtype",constructor:function(b){Ext.apply(this,b||{});this.all={};this.references={};this.onAvailableCallbacks={}},create:function(d,c){if(typeof d=="string"){return Ext.widget(d)}if(d.isComponent){return d}if("xclass" in d){return Ext.create(d.xclass,d)}return Ext.widget(d.xtype||c,d)},get:function(b){return this.all[b]},register:function(h){var j=this,l=j.all,m=h.getId(),g=j.onAvailableCallbacks;l[m]=h;if(h.reference){j.references[m]=h}++j.count;if(j.count===1){j.initFocusListener()}g=g&&g[m];if(g&&g.length){j.notifyAvailable(h)}},unregister:function(d){var c=d.getId();if(d.reference){delete this.references[c]}delete this.all[c];this.count--},markReferencesDirty:function(){this.referencesDirty=true},fixReferences:function(){var g=this,d=g.references,e;if(g.referencesDirty){for(e in d){if(d.hasOwnProperty(e)){d[e].fixReference()}}g.referencesDirty=false}},onAvailable:function(m,q,j){var n=this,o=n.onAvailableCallbacks,l=n.all,p;if(m in l){p=l[m];q.call(j||p,p)}else{if(m){if(!Ext.isArray(o[m])){o[m]=[]}o[m].push(function(a){q.call(j||a,a)})}}},notifyAvailable:function(c){var d=this.onAvailableCallbacks[c&&c.getId()]||[];while(d.length){(d.shift())(c)}},each:function(c,d){return Ext.Object.each(this.all,c,d)},getCount:function(){return this.count},getAll:function(){return Ext.Object.getValues(this.all)},byElement:function(o){var j=document.body,m=Ext.Component.componentIdAttribute,n,l=Ext.getDom(o),h;while(l&&l.nodeType===1&&l!==j){n=l.getAttribute(m)||l.id;if(n){h=this.all[n];if(h){return h}}l=l.parentNode}return null},getActiveComponent:function(){return this.byElement(Ext.dom.Element.getActiveElement())},initFocusListener:function(){Ext.on("focus",this.onGlobalFocus,this)},onGlobalFocus:function(q){var o=this,r=q.toElement,p=q.fromElement,s=o.byElement(r),n=o.byElement(p),e=o.getCommonAncestor(n,s),v,u;if(n&&!n.isDestroyed){if(n.focusable&&p===n.getFocusEl().dom){v=new Ext.event.Event(q.event);v.type="blur";v.target=p;v.relatedTarget=r;n.onBlur(v)}for(u=n;u&&u!==e;u=u.getRefOwner()){u.onFocusLeave({event:q.event,type:"focusleave",target:p,relatedTarget:r,fromComponent:n,toComponent:s})}}if(s&&!s.isDestroyed){if(s.focusable&&r===s.getFocusEl().dom){v=new Ext.event.Event(q.event);v.type="focus";v.relatedTarget=p;v.target=r;s.onFocus(v)}for(u=s;u&&u!==e;u=u.getRefOwner()){u.onFocusEnter({event:q.event,type:"focusenter",relatedTarget:p,target:r,fromComponent:n,toComponent:s})}}},getCommonAncestor:function(c,d){if(c===d){return c}while(c&&!(c.isAncestor(d)||c===d)){c=c.getRefOwner()}return c},deprecated:{5:{methods:{isRegistered:null,registerType:null}}}},function(){Ext.getCmp=function(b){return Ext.ComponentManager.get(b)}});Ext.ns("Ext.util").Operators={"=":function(a,d){return a==d},"!=":function(a,d){return a!=d},"^=":function(a,d){return a&&a.substr(0,d.length)==d},"$=":function(a,d){return a&&a.substr(a.length-d.length)==d},"*=":function(a,d){return a&&a.indexOf(d)!==-1},"%=":function(a,d){return(a%d)===0},"|=":function(a,d){return a&&(a==d||a.substr(0,d.length+1)==d+"-")},"~=":function(a,d){return a&&(" "+a+" ").indexOf(" "+d+" ")!=-1}};Ext.define("Ext.util.LruCache",{extend:Ext.util.HashMap,config:{maxSize:null},add:function(h,j){var l=this,m,g;l.removeAtKey(h);g=l.last;m={prev:g,next:null,key:h,value:j};if(g){g.next=m}else{l.first=m}l.last=m;l.callParent([h,m]);l.prune();return j},insertBefore:function(h,l,o){var m=this,j,n;if(o=this.map[this.findKey(o)]){j=m.findKey(l);if(j){m.unlinkEntry(n=m.map[j])}else{n={prev:o.prev,next:o,key:h,value:l}}if(o.prev){n.prev.next=n}else{m.first=n}n.next=o;o.prev=n;m.prune();return l}else{return m.add(h,l)}},get:function(d){var c=this.map[d];if(c){if(c.next){this.moveToEnd(c)}return c.value}},removeAtKey:function(b){this.unlinkEntry(this.map[b]);return this.callParent(arguments)},clear:function(b){this.first=this.last=null;return this.callParent(arguments)},unlinkEntry:function(b){if(b){if(b.next){b.next.prev=b.prev}else{this.last=b.prev}if(b.prev){b.prev.next=b.next}else{this.first=b.next}b.prev=b.next=null}},moveToEnd:function(b){this.unlinkEntry(b);if(b.prev=this.last){this.last.next=b}else{this.first=b}this.last=b},getArray:function(g){var e=[],d=this.first;while(d){e.push(g?d.key:d.value);d=d.next}return e},each:function(o,h,j){var l=this,m=j?l.last:l.first,n=l.length;h=h||l;while(m){if(o.call(h,m.key,m.value,n)===false){break}m=j?m.prev:m.next}return l},findKey:function(d){var e,g=this.map;for(e in g){if(g.hasOwnProperty(e)&&g[e].value===d){return e}}return undefined},clone:function(){var e=new this.self(this.initialConfig),g=this.map,d;e.suspendEvents();for(d in g){if(g.hasOwnProperty(d)){e.add(d,g[d].value)}}e.resumeEvents();return e},prune:function(){var d=this,e=d.getMaxSize(),g=e?(d.length-e):0;if(g>0){for(;d.first&&g;g--){d.removeAtKey(d.first.key)}}}});Ext.define("Ext.ComponentQuery",{singleton:true},function(){var J=this,w=Ext.util.Operators,F=/(\d*)n\+?(\d*)/,K=/\D/,C=/^(\s)+/,D=/\\(.)/g,B=new Ext.util.LruCache({maxSize:100}),A=["var r = [],","i = 0,","it = items,","l = it.length,","c;","for (; i < l; i++) {","c = it[i];","if (c.{0}) {","r.push(c);","}","}","return r;"].join(""),z=function(a,b){return b.method.apply(this,[a].concat(b.args))},O=function(h,e){var c=[],d=0,g=h.length,b,a=e!==">";for(;d<g;d++){b=h[d];if(b.getRefItems){c=c.concat(b.getRefItems(a))}}return c},I=function(b){var c=[],e=0,a=b.length,d;for(;e<a;e++){d=b[e];while(!!(d=d.getRefOwner())){c.push(d)}}return c},L=function(b,e,h){if(e==="*"){return b.slice()}else{var c=[],g=0,a=b.length,d;for(;g<a;g++){d=b[g];if(d.isXType(e,h)){c.push(d)}}return c}},N=function(p,o,e,g){var h=[],q=0,l=p.length,j,c,n,m,a,b,d;if(o.charAt(0)==="@"){j=true;o=o.substr(1)}if(o.charAt(0)==="?"){j=true;c=true;o=o.substr(1)}for(;q<l;q++){n=p[q];d=n.self.$config.configs[o];if(d){m=n[d.names.get]()}else{if(j&&!n.hasOwnProperty(o)){continue}else{m=n[o]}}if(c){h.push(n)}else{if(e==="~="){if(m){if(!Ext.isArray(m)){m=m.split(" ")}for(a=0,b=m.length;a<b;a++){if(w[e](Ext.coerce(m[a],g),g)){h.push(n);break}}}}else{if(e==="/="){if(m!=null&&g.test(m)){h.push(n)}}else{if(!g?!!n[o]:w[e](Ext.coerce(m,g),g)){h.push(n)}}}}}return h},H=function(b,g){var c=[],e=0,a=b.length,d;for(;e<a;e++){d=b[e];if(d.getItemId()===g){c.push(d)}}return c},x=function(b,a,c){return J.pseudos[a](b,c)},G=/^(\s?([>\^])\s?|\s|$)/,y=/^(#)?((?:\\\.|[\w\-])+|\*)(?:\((true|false)\))?/,M=[{re:/^\.((?:\\\.|[\w\-])+)(?:\((true|false)\))?/,method:L,argTransform:function(a){if(a[1]!==undefined){a[1]=a[1].replace(D,"$1")}return a.slice(1)}},{re:/^(?:\[((?:[@?$])?[\w\-]*)\s*(?:([\^$*~%!\/]?=)\s*(['"])?((?:\\\]|.)*?)\3)?(?!\\)\])/,method:N,argTransform:function(b){var c=b[0],h=b[1],g=b[2],a=b[3],e=b[4],d;if(e!==undefined){e=e.replace(D,"$1")}if(g==="/="){d=B.get(e);if(d){e=d}else{e=B.add(e,new RegExp(e))}}return[h,g,e]}},{re:/^#((?:\\\.|[\w\-])+)/,method:H},{re:/^\:([\w\-]+)(?:\(((?:\{[^\}]+\})|(?:(?!\{)[^\s>\/]*?(?!\})))\))?/,method:x,argTransform:function(a){if(a[2]!==undefined){a[2]=a[2].replace(D,"$1")}return a.slice(1)}},{re:/^(?:\{([^\}]+)\})/,method:A}];J.Query=Ext.extend(Object,{constructor:function(a){a=a||{};Ext.apply(this,a)},execute:function(g){var d=this.operations,b=[],e,a,c;for(a=0,c=d.length;a<c;a++){e=d[a];b=b.concat(this._execute(g,e))}return b},_execute:function(b,d){var a=0,g=d.length,e,c;if(!b){c=Ext.ComponentManager.getAll()}else{if(Ext.isIterable(b)){c=b}else{if(b.isMixedCollection){c=b.items}}}for(;a<g;a++){e=d[a];if(e.mode==="^"){c=I(c||[b])}else{if(e.mode){c=O(c||[b],e.mode)}else{c=z(c||O([b]),e)}}if(a===g-1){return c}}return[]},is:function(d){var g=this.operations,b=false,c=g.length,e,a;if(c===0){return true}for(a=0;a<c;a++){e=g[a];b=this._is(d,e);if(b){return b}}return false},_is:function(m,j){var a=j.length,h=[m],g,d,e,b,c,n,l;for(d=a-1;d>=0;--d){g=j[d];b=g.mode;if(b){if(b==="^"){h=O(h," ")}else{if(b===">"){n=[];for(e=0,a=h.length;e<a;++e){l=h[e].getRefOwner();if(l){n.push(l)}}h=n}else{h=I(h)}}if(h.length===0){return false}}else{h=z(h,g);if(h.length===0){return false}}}return true},getMatches:function(c,a){var b=a.length,d;for(d=0;d<b;++d){c=z(c,a[d]);if(c.length===0){break}}return c},isMultiMatch:function(){return this.operations.length>1}});Ext.apply(this,{cache:new Ext.util.LruCache({maxSize:100}),pseudos:{not:function(g,c){var d=Ext.ComponentQuery,b=0,j=g.length,e=[],h=-1,a;for(;b<j;++b){a=g[b];if(!d.is(a,c)){e[++h]=a}}return e},first:function(a){var b=[];if(a.length>0){b.push(a[0])}return b},last:function(c){var b=c.length,a=[];if(b>0){a.push(c[b-1])}return a},focusable:function(b){var c=b.length,d=[],e=0,a;for(;e<c;e++){a=b[e];if(a.isFocusable()){d.push(a)}}return d},"nth-child":function(b,a){var l=[],h=F.exec(a=="even"&&"2n"||a=="odd"&&"2n+1"||!K.test(a)&&"n+"+a||a),c=(h[1]||1)-0,e=h[2]-0,d,j,g;for(d=0;j=b[d];d++){g=d+1;if(c==1){if(e==0||g==e){l.push(j)}}else{if((g+e)%c==0){l.push(j)}}}return l}},query:function(j,a){if(!j){return Ext.ComponentManager.all.getArray()}var g=[],l=[],c={},d=this.cache.get(j),e,b,h;if(!d){d=this.cache.add(j,this.parse(j))}g=d.execute(a);if(d.isMultiMatch()){e=g.length;for(h=0;h<e;h++){b=g[h];if(!c[b.id]){l.push(b);c[b.id]=true}}g=l}return g},visitPreOrder:function(c,e,b,d,a){this._visit(true,c,e,b,d,a)},visitPostOrder:function(c,e,b,d,a){this._visit(false,c,e,b,d,a)},_visit:function(m,j,n,o,h,c){var p=this,a=p.cache.get(j),d=[n],l,b=0,e,g;if(!a){a=p.cache.add(j,p.parse(j))}g=a.is(n);if(n.getRefItems){l=n.getRefItems();b=l.length}if(c){Ext.Array.push(d,c)}if(m){if(g){if(o.apply(h||n,d)===false){return false}}}for(e=0;e<b;e++){if(p._visit.call(p,m,j,l[e],o,h,c)===false){return false}}if(!m){if(g){if(o.apply(h||n,d)===false){return false}}}},is:function(a,b){if(!b){return true}var c=this.cache.get(b);if(!c){c=this.cache.add(b,this.parse(b))}return c.is(a)},parse:function(b){var g=[],a,e,d,c;a=Ext.splitAndUnescape(b,",");for(d=0,c=a.length;d<c;d++){e=Ext.String.trim(a[d]);g.push(this._parse(e))}return new J.Query({operations:g})},_parse:function(b){var m=[],d=Ext.String.trim,j=M.length,o,a,c,l,h,g,e,r,q,n,p;while(b&&o!==b){o=b;a=b.match(y);if(a){l=a[1];c=d(a[2]).replace(D,"$1");if(l==="#"){m.push({method:H,args:[c]})}else{m.push({method:L,args:[c,Boolean(a[3])]})}b=b.replace(a[0],"").replace(C,"$1")}while(!(h=b.match(G))){for(r=0;b&&r<j;r++){q=M[r];g=b.match(q.re);n=q.method;e=q.argTransform;if(g){if(e){p=e(g)}else{p=g.slice(1)}m.push({method:Ext.isString(q.method)?Ext.functionFactory("items",Ext.String.format.apply(Ext.String,[n].concat(g.slice(1)))):q.method,args:p});b=b.replace(g[0],"").replace(C,"$1");break}if(r===(j-1)){Ext.Error.raise('Invalid ComponentQuery selector: "'+arguments[0]+'"')}}}if(h[1]){m.push({mode:h[2]||h[1]});b=b.replace(h[0],"").replace(C,"")}}return m}})});Ext.define("Ext.Evented",{alternateClassName:"Ext.EventedBase",mixins:[Ext.mixin.Observable],statics:{generateSetter:function(l){var m=l.names,j=l.name,o=m.internal,p=m.apply,q=m.changeEvent,n=m.doSet;return function(e){var g=this,a=g.$configPrefixed?o:j,d=g.initialized,b,c=g[p];if(c){e=c.call(g,e,g[a]);if(e===undefined){return g}}b=g[a];if(e!==b){if(d){g.fireAction(q,[g,e,b],g.doSet,g,{nameMap:m})}else{g[a]=e;if(g[n]){g[n](e,b)}}}return this}}},initialized:false,constructor:function(b){this.mixins.observable.constructor.call(this,b);this.initialized=true},doSet:function(m,l,g,h){var j=h.nameMap;m[j.internal]=l;if(m[j.doSet]){m[j.doSet].call(this,l,g)}},onClassExtended:function(j,o){if(!o.hasOwnProperty("eventedConfig")){return}var p=o.config,m=o.eventedConfig,n="eventedSetter",q,l;if(p){Ext.applyIf(p,m)}else{j.addConfig(m)}for(q in m){if(m.hasOwnProperty(q)){l=Ext.Config.get(q);o[l.names.set]=l[n]||(l[n]=this.generateSetter(l))}}}});Ext.define("Ext.util.Positionable",{mixinId:"positionable",_positionTopLeft:["position","top","left"],_alignRe:/^([a-z]+)-([a-z]+)(\?)?$/,afterSetPosition:Ext.emptyFn,adjustForConstraints:function(g,d){var e=this.getConstrainVector(d,g);if(e){g[0]+=e[0];g[1]+=e[1]}return g},alignTo:function(o,j,l,h){var m=this,n=m.el;return m.setXY(m.getAlignToXY(o,j,l),n.anim&&!!h?n.anim(h):false)},calculateAnchorXY:function(w,u,v,y){var s=this,z=s.el,r=document,x=(z.dom===r.body||z.dom===r),q=Math.round,p,A,B;w=(w||"tl").toLowerCase();y=y||{};A=y.width||(x?Ext.Element.getViewportWidth():s.getWidth());B=y.height||(x?Ext.Element.getViewportHeight():s.getHeight());switch(w){case"tl":p=[0,0];break;case"bl":p=[0,B];break;case"tr":p=[A,0];break;case"c":p=[q(A*0.5),q(B*0.5)];break;case"t":p=[q(A*0.5),0];break;case"l":p=[0,q(B*0.5)];break;case"r":p=[A,q(B*0.5)];break;case"b":p=[q(A*0.5),B];break;case"tc":p=[q(A*0.5),0];break;case"bc":p=[q(A*0.5),B];break;case"br":p=[A,B]}return[p[0]+u,p[1]+v]},convertPositionSpec:Ext.identityFn,getAlignToXY:function(Q,J,U){var H=this,V,L,Y,S,F,T,D,y,I,G,x,K,M,X,W,R,O,N,P;Q=Ext.get(Q.el||Q);if(!Q||!Q.dom){}U=U||[0,0];J=(!J||J==="?"?"tl-bl?":(!(/-/).test(J)&&J!==""?"tl-"+J:J||"tl-bl")).toLowerCase();J=H.convertPositionSpec(J);Y=J.match(H._alignRe);K=Y[1];M=Y[2];x=!!Y[3];S=H.getAnchorXY(K,true);F=H.getAnchorToXY(Q,M,false);N=F[0]-S[0]+U[0];P=F[1]-S[1]+U[1];if(x){V=H.constrainTo||H.container||H.el.parent();V=Ext.get(V.el||V);L=V.getViewRegion();L.right=L.left+V.el.dom.clientWidth;T=H.getWidth();D=H.getHeight();y=Q.getRegion();X=K.charAt(0);W=K.charAt(K.length-1);R=M.charAt(0);O=M.charAt(M.length-1);I=(N<y.right&&N+T>=y.left)&&((X=="t"&&R=="b")||(X=="b"&&R=="t"));G=(P<y.bottom&&P+D>=y.top)&&((W=="r"&&O=="l")||(W=="l"&&O=="r"));if(N+T>L.right){if(G){N=y.left-T;G=false}else{N=L.right-T}}if(N<L.left){N=G?y.right:L.left}if(P+D>L.bottom){if(I){P=y.top-D;I=false}else{P=L.bottom-D}}if(P<L.top){P=I?y.bottom:L.top}}return[N,P]},getAnchorXY:function(w,r,y){var s=this,q=s.getXY(),z=s.el,o=document,x=z.dom==o.body||z.dom==o,p=z.getScroll(),u=x?p.left:r?0:q[0],v=x?p.top:r?0:q[1];return s.calculateAnchorXY(w,u,v,y)},getBox:function(w,s){var v=this,h=s?v.getLocalXY():v.getXY(),r=h[0],u=h[1],q=v.getWidth(),y=v.getHeight(),x,z,p;if(w){x=v.getBorderPadding();z=x.beforeX;p=x.beforeY;r+=z;u+=p;q-=(z+x.afterX);y-=(p+x.afterY)}return{x:r,left:r,0:r,y:u,top:u,1:u,width:q,height:y,right:r+q,bottom:u+y}},calculateConstrainedPosition:function(v,A,q,y){var r=this,z,u=r.floatParent,x=u?u.getTargetEl():null,B,w,s,p=false;if(q&&u){B=x.getXY();w=x.getBorderPadding();B[0]+=w.beforeX;B[1]+=w.beforeY;if(A){s=[A[0]+B[0],A[1]+B[1]]}}else{s=A}v=v||r.constrainTo||x||r.container||r.el.parent();z=r.getConstrainVector(v,s,y);p=A||r.getPosition(q);if(z){p[0]+=z[0];p[1]+=z[1]}return p},getConstrainVector:function(q,v,s){var x=this.getRegion(),u=[0,0],n=this.shadow,w=(n&&this.constrainShadow&&!n.disabled)?n.getShadowSize():undefined,o=false,p,r=this.constraintInsets;if(!(q instanceof Ext.util.Region)){q=Ext.get(q.el||q);p=q.getViewSize();q=q.getViewRegion();q.right=q.left+p.width;q.bottom=q.top+p.height}if(r){r=Ext.isObject(r)?r:Ext.Element.parseBox(r);q.adjust(r.top,r.right,r.bottom,r.length)}if(v){x.translateBy(v[0]-x.x,v[1]-x.y)}if(s){x.right=x.left+s[0];x.bottom=x.top+s[1]}if(w){q.adjust(w[0],-w[1],-w[2],w[3])}if(x.right>q.right){o=true;u[0]=(q.right-x.right)}if(x.left+u[0]<q.left){o=true;u[0]=(q.left-x.left)}if(x.bottom>q.bottom){o=true;u[1]=(q.bottom-x.bottom)}if(x.top+u[1]<q.top){o=true;u[1]=(q.top-x.top)}return o?u:false},getOffsetsTo:function(e){var g=this.getXY(),d=Ext.fly(e.el||e).getXY();return[g[0]-d[0],g[1]-d[1]]},getRegion:function(){var b=this.getBox();return new Ext.util.Region(b.top,b.right,b.bottom,b.left)},getViewRegion:function(){var r=this,v=r.el,x=v.dom.nodeName==="BODY",s,o,q,p,u,w,n;if(x){o=v.getScroll();u=o.left;p=o.top;w=Ext.Element.getViewportWidth();n=Ext.Element.getViewportHeight()}else{s=r.getBorderPadding();q=r.getXY();u=q[0]+s.beforeX;p=q[1]+s.beforeY;w=r.getWidth(true);n=r.getHeight(true)}return new Ext.util.Region(p,u+w,p+n,u)},move:function(s,A,z){var w=this,p=w.getXY(),r=p[0],u=p[1],y=[r-A,u],q=[r+A,u],v=[r,u-A],B=[r,u+A],x={l:y,left:y,r:q,right:q,t:v,top:v,up:v,b:B,bottom:B,down:B};s=s.toLowerCase();w.setXY([x[s][0],x[s][1]],z)},setBox:function(j){var e=this,g,h;if(j.isRegion){j={x:j.left,y:j.top,width:j.right-j.left,height:j.bottom-j.top}}e.constrainBox(j);g=j.x;h=j.y;e.setXY([g,h]);e.setSize(j.width,j.height);e.afterSetPosition(g,h);return e},constrainBox:function(l){var m=this,g,h,j;if(m.constrain||m.constrainHeader){h=("x" in l)?l.x:l.left;j=("y" in l)?l.y:l.top;g=m.calculateConstrainedPosition(null,[h,j],false,[l.width,l.height]);if(g){l.x=g[0];l.y=g[1]}}},translatePoints:function(e,g){var d=this.translateXY(e,g);return{left:d.x,top:d.y}},translateXY:function(o,q){var r=this,u=r.el,n=u.getStyle(r._positionTopLeft),v=n.position==="relative",s=parseFloat(n.left),p=parseFloat(n.top),m=r.getXY();if(Ext.isArray(o)){q=o[1];o=o[0]}if(isNaN(s)){s=v?0:u.dom.offsetLeft}if(isNaN(p)){p=v?0:u.dom.offsetTop}s=(typeof o==="number")?o-m[0]+s:undefined;p=(typeof q==="number")?q-m[1]+p:undefined;return{x:s,y:p}}});Ext.define("Ext.overrides.util.Positionable",{override:"Ext.util.Positionable",anchorTo:function(q,s,w,x,o,n){var r=this,p=!Ext.isEmpty(o),v=function(){r.alignTo(q,s,w,x);Ext.callback(n,r)},u=r.getAnchor();r.removeAnchor();Ext.apply(u,{fn:v,scroll:p});Ext.on("resize",v,null);if(p){Ext.getWin().on("scroll",v,null,{buffer:!isNaN(o)?o:50})}v();return r},getAnchor:function(){var d=this.el,g,e;if(!d.dom){return}g=d.getData();e=g._anchor;if(!e){e=g._anchor={}}return e},removeAnchor:function(){var b=this.getAnchor();if(b&&b.fn){Ext.un("resize",b.fn);if(b.scroll){Ext.getWin().on("scroll",b.fn)}delete b.fn}return this},setBox:function(g,e){var d=this;if(g.isRegion){g={x:g.left,y:g.top,width:g.right-g.left,height:g.bottom-g.top}}if(e){d.constrainBox(g);d.animate(Ext.applyIf({to:g,listeners:{afteranimate:Ext.Function.bind(d.afterSetPosition,d,[g.x,g.y])}},e))}else{d.callParent([g])}return d}});Ext.define("Ext.dom.UnderlayPool",{constructor:function(b){this.elementConfig=b;this.cache=[]},checkOut:function(){var b=this.cache.shift();if(!b){b=Ext.Element.create(this.elementConfig);b.setVisibilityMode(2)}return b},checkIn:function(b){this.cache.push(b)},reset:function(){var d=this.cache,c=d.length;while(c--){d[c].destroy()}this.cache=[]}});Ext.define("Ext.dom.Underlay",{constructor:function(b){Ext.apply(this,b)},beforeShow:Ext.emptyFn,getInsertionTarget:function(){return this.target},getPool:function(){return this.pool||(this.self.prototype.pool=new Ext.dom.UnderlayPool(this.elementConfig))},hide:function(){var c=this,d=c.el;if(d){d.hide();c.getPool().checkIn(d);c.el=null;c.hidden=true}},realign:function(n,o,v,m){var q=this,u=q.el,r=q.target,s=q.offsets,p=Math.max;if(u){if(n==null){n=r.getX()}if(o==null){o=r.getY()}if(v==null){v=r.getWidth()}if(m==null){m=r.getHeight()}if(s){n=p(n+s.x,0);o=p(o+s.y,0);v=p(v+s.w,0);m=p(m+s.h,0)}u.setXY([n,o]);u.setSize(v,m)}},setZIndex:function(b){this.zIndex=b;if(this.el){this.el.setStyle("z-index",b)}},show:function(){var h=this,n=h.target,l=h.zIndex,j=h.el,o=h.getInsertionTarget().dom,m;if(!j){j=h.el=h.getPool().checkOut()}h.beforeShow();if(l==null){l=(parseInt(n.getStyle("z-index"),10))}if(l){j.setStyle("z-index",l)}j.setStyle("position",h.fixed?"fixed":"");m=j.dom;if(m.nextSibling!==o){n.dom.parentNode.insertBefore(m,o)}j.show();h.realign();h.hidden=false}});Ext.define("Ext.dom.Shadow",{extend:Ext.dom.Underlay,alternateClassName:"Ext.Shadow",mode:"drop",offset:4,cls:Ext.baseCSSPrefix+(!Ext.supports.CSS3BoxShadow?"ie":"css")+"-shadow",constructor:function(h){var n=this,m,o,l,j;n.callParent([h]);n.elementConfig={cls:n.cls,role:"presentation"};l=n.offset;j=Math.floor(l/2);n.opacity=50;switch(n.mode.toLowerCase()){case"drop":m={x:0,y:0,w:l,h:l};if(Ext.supports.CSS3BoxShadow){o={x:l,y:l,h:-l,w:-l}}else{o={x:-j,y:-j,h:-j,w:-j}}break;case"sides":m={x:-l,y:0,w:l*2,h:l};if(Ext.supports.CSS3BoxShadow){o={x:0,y:l,h:-l,w:0}}else{o={x:1+j-2*l,y:-(1+j),h:-1,w:j-1}}break;case"frame":m={x:-l,y:-l,w:l*2,h:l*2};if(Ext.supports.CSS3BoxShadow){o={x:0,y:0,h:0,w:0}}else{o={x:1+j-2*l,y:1+j-2*l,h:l-j-1,w:l-j-1}}break;case"bottom":m={x:-l,y:0,w:l*2,h:l};if(Ext.supports.CSS3BoxShadow){o={x:0,y:l,h:-l,w:0}}else{o={x:0,y:l,h:0,w:0}}break}n.offsets=o;n.outerOffsets=m},getShadowSize:function(){var e=this,h=e.el?e.offset:0,g=[h,h,h,h],j=e.mode.toLowerCase();if(e.el&&j!=="frame"){g[0]=0;if(j=="drop"){g[3]=0}}return g},boxShadowProperty:(function(){var c="boxShadow",d=document.documentElement.style;if(!("boxShadow" in d)){if("WebkitBoxShadow" in d){c="WebkitBoxShadow"}else{if("MozBoxShadow" in d){c="MozBoxShadow"}}}return c}()),beforeShow:function(){var d=this,e=d.el.dom.style,g=d.shim;if(Ext.supports.CSS3BoxShadow){e[d.boxShadowProperty]="0 0 "+(d.offset+2)+"px #888"}else{e.filter="progid:DXImageTransform.Microsoft.alpha(opacity="+d.opacity+") progid:DXImageTransform.Microsoft.Blur(pixelradius="+(d.offset)+")"}if(g){g.realign()}},setOpacity:function(d){var c=this.el;if(c){if(Ext.isIE&&!Ext.supports.CSS3BoxShadow){d=Math.floor(d*100/2)/100}this.opacity=d;c.setOpacity(d)}}});Ext.define("Ext.dom.Shim",{extend:Ext.dom.Underlay,cls:Ext.baseCSSPrefix+"shim",constructor:function(b){this.callParent([b]);this.elementConfig={tag:"iframe",cls:this.cls,role:"presentation",frameBorder:"0",src:Ext.SSL_SECURE_URL,tabindex:"-1"}},getInsertionTarget:function(){var b=this.shadow;return(b&&b.el)||this.target}});Ext.define("Ext.dom.ElementEvent",{extend:Ext.util.Event,addListener:function(s,p,o,x,v){var u=this,r=false,z=u.name,y,w,q;o=o||{};if(o.delegated===false||Ext.event.publisher.Dom.instance.directEvents[z]){if(o.capture){q=u.directCaptures||(u.directCaptures=new Ext.util.Event(u.observable,z));r=q.addListener(s,p,o,x,v)}else{w=u.directs||(u.directs=new Ext.util.Event(u.observable,z));r=w.addListener(s,p,o,x,v)}}else{if(o.capture){y=u.captures||(u.captures=new Ext.util.Event(u.observable,z));r=y.addListener(s,p,o,x,v)}else{r=u.callParent([s,p,o,x,v])}}return r},removeListener:function(q,r){var p=this,m=p.captures,s=p.directs,o=p.directCaptures,n=false,l=p.findListener(q,r);if(l!==-1){n=p.callParent([q,r,l])}else{if(s){l=s.findListener(q,r)}if(l!==-1){n=s.removeListener(q,r,l)}else{if(m){l=m.findListener(q,r)}if(l!==-1){n=m.removeListener(q,r,l)}else{if(o){l=o.findListener(q,r);if(l!==-1){n=o.removeListener(q,r,l)}}}}}return n},clearListeners:function(){var j=this,h=j.directCaptures,e=j.directs,g=j.captures;if(h){h.clearListeners()}if(e){e.clearListeners()}if(g){g.clearListeners()}j.callParent()},suspend:function(){var j=this,h=j.directCaptures,e=j.directs,g=j.captures;if(h){h.suspend()}if(e){e.suspend()}if(g){g.suspend()}j.callParent()},resume:function(){var j=this,h=j.directCaptures,e=j.directs,g=j.captures;if(h){h.resume()}if(e){e.resume()}if(g){g.resume()}j.callParent()}});Ext.define("Ext.event.publisher.Publisher",{handledEvents:[],statics:{publishers:{},publishersByEvent:{}},constructor:function(){var c=this,d=c.type;c.handles={};c.registerEvents();Ext.event.publisher.Publisher.publishers[d]=c},registerEvents:function(o){var m=this,p=Ext.event.publisher.Publisher.publishersByEvent,j=o||m.handledEvents,n=j.length,l,q;for(q=0;q<n;q++){l=j[q];m.handles[l]=1;p[l]=m}},fire:function(j,g,e){var h;if(j.hasListeners[g]){h=j.events[g];if(h){h.fire.apply(h,e)}}},destroy:Ext.emptyFn});Ext.define("Ext.util.Offset",{statics:{fromObject:function(b){return new this(b.x,b.y)}},constructor:function(d,c){this.x=(d!=null&&!isNaN(d))?d:0;this.y=(c!=null&&!isNaN(c))?c:0;return this},copy:function(){return new Ext.util.Offset(this.x,this.y)},copyFrom:function(b){this.x=b.x;this.y=b.y},toString:function(){return"Offset["+this.x+","+this.y+"]"},equals:function(b){return(this.x==b.x&&this.y==b.y)},round:function(c){if(!isNaN(c)){var d=Math.pow(10,c);this.x=Math.round(this.x*d)/d;this.y=Math.round(this.y*d)/d}else{this.x=Math.round(this.x);this.y=Math.round(this.y)}},isZero:function(){return this.x==0&&this.y==0}});Ext.define("Ext.util.Region",{isRegion:true,statics:{getRegion:function(b){return Ext.fly(b).getRegion()},from:function(b){return new this(b.top,b.right,b.bottom,b.left)}},constructor:function(l,h,b,m){var j=this;j.y=j.top=j[1]=l;j.right=h;j.bottom=b;j.x=j.left=j[0]=m},contains:function(c){var d=this;return(c.x>=d.x&&c.right<=d.right&&c.y>=d.y&&c.bottom<=d.bottom)},intersect:function(j){var l=this,n=Math.max(l.y,j.y),m=Math.min(l.right,j.right),b=Math.min(l.bottom,j.bottom),o=Math.max(l.x,j.x);if(b>n&&m>o){return new this.self(n,m,b,o)}else{return false}},union:function(j){var l=this,n=Math.min(l.y,j.y),m=Math.max(l.right,j.right),b=Math.max(l.bottom,j.bottom),o=Math.min(l.x,j.x);return new this.self(n,m,b,o)},constrainTo:function(d){var e=this,g=Ext.Number.constrain;e.top=e.y=g(e.top,d.y,d.bottom);e.bottom=g(e.bottom,d.y,d.bottom);e.left=e.x=g(e.left,d.x,d.right);e.right=g(e.right,d.x,d.right);return e},adjust:function(l,h,b,m){var j=this;j.top=j.y+=l;j.left=j.x+=m;j.right+=h;j.bottom+=b;return j},getOutOfBoundOffset:function(e,d){if(!Ext.isObject(e)){if(e=="x"){return this.getOutOfBoundOffsetX(d)}else{return this.getOutOfBoundOffsetY(d)}}else{d=e;var g=new Ext.util.Offset();g.x=this.getOutOfBoundOffsetX(d.x);g.y=this.getOutOfBoundOffsetY(d.y);return g}},getOutOfBoundOffsetX:function(b){if(b<=this.x){return this.x-b}else{if(b>=this.right){return this.right-b}}return 0},getOutOfBoundOffsetY:function(b){if(b<=this.y){return this.y-b}else{if(b>=this.bottom){return this.bottom-b}}return 0},isOutOfBound:function(d,c){if(!Ext.isObject(d)){if(d=="x"){return this.isOutOfBoundX(c)}else{return this.isOutOfBoundY(c)}}else{c=d;return(this.isOutOfBoundX(c.x)||this.isOutOfBoundY(c.y))}},isOutOfBoundX:function(b){return(b<this.x||b>this.right)},isOutOfBoundY:function(b){return(b<this.y||b>this.bottom)},restrict:function(e,h,g){if(Ext.isObject(e)){var j;g=h;h=e;if(h.copy){j=h.copy()}else{j={x:h.x,y:h.y}}j.x=this.restrictX(h.x,g);j.y=this.restrictY(h.y,g);return j}else{if(e=="x"){return this.restrictX(h,g)}else{return this.restrictY(h,g)}}},restrictX:function(c,d){if(!d){d=1}if(c<=this.x){c-=(c-this.x)*d}else{if(c>=this.right){c-=(c-this.right)*d}}return c},restrictY:function(c,d){if(!d){d=1}if(c<=this.y){c-=(c-this.y)*d}else{if(c>=this.bottom){c-=(c-this.bottom)*d}}return c},getSize:function(){return{width:this.right-this.x,height:this.bottom-this.y}},copy:function(){return new this.self(this.y,this.right,this.bottom,this.x)},copyFrom:function(c){var d=this;d.top=d.y=d[1]=c.y;d.right=c.right;d.bottom=c.bottom;d.left=d.x=d[0]=c.x;return this},toString:function(){return"Region["+this.top+","+this.right+","+this.bottom+","+this.left+"]"},translateBy:function(e,g){if(arguments.length==1){g=e.y;e=e.x}var d=this;d.top=d.y+=g;d.right+=e;d.bottom+=g;d.left=d.x+=e;return d},round:function(){var b=this;b.top=b.y=Math.round(b.y);b.right=Math.round(b.right);b.bottom=Math.round(b.bottom);b.left=b.x=Math.round(b.x);return b},equals:function(b){return(this.top===b.top&&this.right===b.right&&this.bottom===b.bottom&&this.left===b.left)}});Ext.define("Ext.util.Point",{extend:Ext.util.Region,radianToDegreeConstant:180/Math.PI,origin:{x:0,y:0},statics:{fromEvent:function(d){var e=d.changedTouches,g=(e&&e.length>0)?e[0]:d;return this.fromTouch(g)},fromTouch:function(b){return new this(b.pageX,b.pageY)},from:function(b){if(!b){return new this(0,0)}if(!(b instanceof this)){return new this(b.x,b.y)}return b}},constructor:function(d,c){if(d==null){d=0}if(c==null){c=0}this.callParent([c,d,c,d])},clone:function(){return new this.self(this.x,this.y)},copy:function(){return this.clone.apply(this,arguments)},copyFrom:function(b){this.x=b.x;this.y=b.y;return this},toString:function(){return"Point["+this.x+","+this.y+"]"},isCloseTo:function(o,h){if(typeof h=="number"){return this.getDistanceTo(o)<=h}var j=o.x,l=o.y,m=h.x,n=h.y;return(this.x<=j+m&&this.x>=j-m&&this.y<=l+n&&this.y>=l-n)},isWithin:function(){return this.isCloseTo.apply(this,arguments)},isContainedBy:function(b){if(!(b instanceof Ext.util.Region)){b=Ext.get(b.el||b).getRegion()}return b.contains(this)},roundedEquals:function(b){if(!b||typeof b!=="object"){b=this.origin}return(Math.round(this.x)===Math.round(b.x)&&Math.round(this.y)===Math.round(b.y))},getDistanceTo:function(d){if(!d||typeof d!=="object"){d=this.origin}var g=this.x-d.x,e=this.y-d.y;return Math.sqrt(g*g+e*e)},getAngleTo:function(d){if(!d||typeof d!=="object"){d=this.origin}var g=this.x-d.x,e=this.y-d.y;return Math.atan2(e,g)*this.radianToDegreeConstant}},function(){this.prototype.translate=this.prototype.translateBy});Ext.define("Ext.event.Event",{alternateClassName:"Ext.EventObjectImpl",isStopped:false,isEvent:true,statics:{resolveTextNode:function(b){return(b&&b.nodeType===3)?b.parentNode:b},pointerEvents:{pointerdown:1,pointermove:1,pointerup:1,pointercancel:1,pointerover:1,pointerout:1,pointerenter:1,pointerleave:1,MSPointerDown:1,MSPointerMove:1,MSPointerUp:1,MSPointerOver:1,MSPointerOut:1,MSPointerCancel:1,MSPointerEnter:1,MSPointerLeave:1},mouseEvents:{mousedown:1,mousemove:1,mouseup:1,mouseover:1,mouseout:1,mouseenter:1,mouseleave:1},clickEvents:{click:1,dblclick:1},touchEvents:{touchstart:1,touchmove:1,touchend:1,touchcancel:1},focusEvents:{focus:1,blur:1,focusin:1,focusout:1,focusenter:1,focusleave:1},pointerTypes:{2:"touch",3:"pen",4:"mouse",touch:"touch",pen:"pen",mouse:"mouse"}},constructor:function(u){var p=this,m=p.self,q=p.self.resolveTextNode,n=u.changedTouches,s=n?n[0]:u,o=u.type,v,r;p.pageX=s.pageX;p.pageY=s.pageY;p.target=p.delegatedTarget=q(u.target);r=u.relatedTarget;if(r){p.relatedTarget=q(r)}p.browserEvent=p.event=u;p.type=o;p.button=u.button||0;p.shiftKey=u.shiftKey;p.ctrlKey=u.ctrlKey||u.metaKey||false;p.altKey=u.altKey;p.charCode=u.charCode;p.keyCode=u.keyCode;if(m.forwardTab!==undefined&&m.focusEvents[o]){p.forwardTab=m.forwardTab}if(m.mouseEvents[o]||m.clickEvents[o]){v="mouse"}else{if(m.pointerEvents[o]){v=m.pointerTypes[u.pointerType]}else{if(m.touchEvents[o]){v="touch"}}}if(v){p.pointerType=v}p.timeStamp=p.time=+(u.timeStamp||new Date())},chain:function(d){var c=Ext.Object.chain(this);c.parentEvent=this;return Ext.apply(c,d)},correctWheelDelta:function(g){var d=this.WHEEL_SCALE,e=Math.round(g/d);if(!e&&g){e=(g<0)?-1:1}return e},getCharCode:function(){return this.charCode||this.keyCode},getKey:function(){return this.keyCode||this.charCode},getPoint:function(){var b=this.getXY();return new Ext.util.Point(b[0],b[1])},getRelatedTarget:function(g,j,h){var m=this.relatedTarget,l=null;if(m){if(g){l=Ext.fly(m).findParent(g,j,h)}else{l=h?Ext.get(m):m}}return l},getTarget:function(d,g,e){return d?Ext.fly(this.target).findParent(d,g,e):(e?Ext.get(this.target):this.target)},getTime:function(){return this.time},getWheelDelta:function(){var b=this.getWheelDeltas();return b.y},getWheelDeltas:function(){var h=this,j=h.browserEvent,e=0,g=0;if(Ext.isDefined(j.wheelDeltaX)){e=j.wheelDeltaX;g=j.wheelDeltaY}else{if(j.wheelDelta){g=j.wheelDelta}else{if(j.detail){g=-j.detail;if(g>100){g=3}else{if(g<-100){g=-3}}if(Ext.isDefined(j.axis)&&j.axis===j.HORIZONTAL_AXIS){e=g;g=0}}}}return{x:h.correctWheelDelta(e),y:h.correctWheelDelta(g)}},getX:function(){return this.getXY()[0]},getXY:function(){var q=this,o=q.xy;if(!o){o=q.xy=[q.pageX,q.pageY];var j=o[0],m,p,n,l;if(!j&&j!==0){m=q.browserEvent;p=document;n=p.documentElement;l=p.body;o[0]=m.clientX+(n&&n.scrollLeft||l&&l.scrollLeft||0)-(n&&n.clientLeft||l&&l.clientLeft||0);o[1]=m.clientY+(n&&n.scrollTop||l&&l.scrollTop||0)-(n&&n.clientTop||l&&l.clientTop||0)}}return o},getY:function(){return this.getXY()[1]},hasModifier:function(){var b=this;return !!(b.ctrlKey||b.altKey||b.shiftKey||b.metaKey)},isNavKeyPress:function(g){var d=this,e=d.keyCode;return(e>=33&&e<=40)||(!g&&(e===d.RETURN||e===d.TAB||e===d.ESC))},isSpecialKey:function(){var b=this.keyCode;return(this.type==="keypress"&&this.ctrlKey)||this.isNavKeyPress()||(b===this.BACKSPACE)||(b>=16&&b<=20)||(b>=44&&b<=46)},makeUnpreventable:function(){this.browserEvent.preventDefault=Ext.emptyFn},preventDefault:function(){this.browserEvent.preventDefault();return this},setCurrentTarget:function(b){this.currentTarget=this.delegatedTarget=b},stopEvent:function(){return this.preventDefault().stopPropagation()},stopPropagation:function(){var d=this,g=d.browserEvent,e=d.parentEvent;d.isStopped=true;if(e){e.isStopped=true}if(!g.stopPropagation){g.cancelBubble=true;return d}g.stopPropagation();return d},within:function(j,h,g){var e;if(j){e=h?this.getRelatedTarget():this.getTarget()}return e?Ext.fly(j).contains(e)||!!(g&&e===Ext.getDom(j)):false},deprecated:{"4.0":{methods:{getPageX:"getX",getPageY:"getY"}}}},function(e){var d=e.prototype,g={BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,RETURN:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,WHEEL_SCALE:(function(){var a;if(Ext.isGecko){a=3}else{if(Ext.isMac){if(Ext.isSafari&&Ext.webKitVersion>=532){a=120}else{a=12}a*=3}else{a=120}}return a}())};Ext.apply(e,g);Ext.apply(d,g);d.getTrueXY=d.getXY});Ext.define("Ext.overrides.event.Event",{override:"Ext.event.Event",mousedownEvents:{mousedown:1,pointerdown:1,touchstart:1},injectEvent:(function(){var l,j={},m;if(!Ext.isIE9m&&document.createEvent){l={createHtmlEvent:function(a,c,d,e){var b=a.createEvent("HTMLEvents");b.initEvent(c,d,e);return b},createMouseEvent:function(D,G,d,e,b,y,A,z,C,H,I,c,a){var B=D.createEvent("MouseEvents"),F=D.defaultView||window;if(B.initMouseEvent){B.initMouseEvent(G,d,e,F,b,y,A,y,A,z,C,H,I,c,a)}else{B=D.createEvent("UIEvents");B.initEvent(G,d,e);B.view=F;B.detail=b;B.screenX=y;B.screenY=A;B.clientX=y;B.clientY=A;B.ctrlKey=z;B.altKey=C;B.metaKey=I;B.shiftKey=H;B.button=c;B.relatedTarget=a}return B},createUIEvent:function(p,a,c,d,b){var q=p.createEvent("UIEvents"),e=p.defaultView||window;q.initUIEvent(a,c,d,e,b);return q},fireEvent:function(a,c,b){a.dispatchEvent(b)}}}else{if(document.createEventObject){m={0:1,1:4,2:2};l={createHtmlEvent:function(a,c,d,e){var b=a.createEventObject();b.bubbles=d;b.cancelable=e;return b},createMouseEvent:function(C,D,d,e,b,x,z,y,B,F,G,c,a){var A=C.createEventObject();A.bubbles=d;A.cancelable=e;A.detail=b;A.screenX=x;A.screenY=z;A.clientX=x;A.clientY=z;A.ctrlKey=y;A.altKey=B;A.shiftKey=F;A.metaKey=G;A.button=m[c]||c;A.relatedTarget=a;return A},createUIEvent:function(o,b,d,e,c){var a=o.createEventObject();a.bubbles=d;a.cancelable=e;return a},fireEvent:function(a,c,b){a.fireEvent("on"+c,b)}}}}Ext.Object.each({load:[false,false],unload:[false,false],select:[true,false],change:[true,false],submit:[true,true],reset:[true,false],resize:[true,false],scroll:[true,false]},function(b,a){var c=a[0],d=a[1];j[b]=function(p,e){var q=l.createHtmlEvent(b,c,d);l.fireEvent(p,b,q)}});function g(a,b){var c=(a!="mousemove");return function(p,e){var q=e.getXY(),d=l.createMouseEvent(p.ownerDocument,a,true,c,b,q[0],q[1],e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,e.button,e.relatedTarget);l.fireEvent(p,a,d)}}Ext.each(["click","dblclick","mousedown","mouseup","mouseover","mousemove","mouseout"],function(a){j[a]=g(a,1)});Ext.Object.each({focusin:[true,false],focusout:[true,false],activate:[true,true],focus:[false,false],blur:[false,false]},function(b,a){var c=a[0],d=a[1];j[b]=function(p,e){var q=l.createUIEvent(p.ownerDocument,b,c,d,1);l.fireEvent(p,b,q)}});if(!l){j={};l={}}function h(a,b){}return function(a){var b=this,c=j[b.type]||h,d=a?(a.dom||a):b.getTarget();c(d,b)}}()),preventDefault:function(){var j=this,e=j.browserEvent,g,h;if(typeof e.type!=="unknown"){if(e.preventDefault){e.preventDefault()}else{if(e.type==="mousedown"){h=e.target;g=h.getAttribute("unselectable");if(g!=="on"){h.setAttribute("unselectable","on");Ext.defer(function(){h.setAttribute("unselectable",g)},1)}}e.returnValue=false;if(e.ctrlKey||e.keyCode>111&&e.keyCode<124){e.keyCode=-1}}}return j},stopPropagation:function(){var c=this,d=c.browserEvent;if(typeof d.type!=="unknown"){if(c.mousedownEvents[c.type]){Ext.GlobalEvents.fireMouseDown(c)}c.callParent()}return c},deprecated:{"5.0":{methods:{clone:function(){return new this.self(this.browserEvent,this)}}}}},function(){var g=this,h,j=function(a){if(a.keyCode===9){g.forwardTab=!a.shiftKey}},e=function(a){if(a.keyCode===9){delete g.forwardTab}};if(Ext.isIE9m){h={0:0,1:0,4:1,2:2};g.override({statics:{enableIEAsync:function(a){var c,b={};for(c in a){b[c]=a[c]}return b}},constructor:function(b,a,d,m){var c=this;c.callParent([b,a,d,m]);c.button=h[b.button];if(b.type==="contextmenu"){c.button=2}c.toElement=b.toElement;c.fromElement=b.fromElement},mouseLeaveRe:/(mouseout|mouseleave)/,mouseEnterRe:/(mouseover|mouseenter)/,enableIEAsync:function(a){this.browserEvent=this.self.enableIEAsync(a)},getRelatedTarget:function(n,a,o){var c=this,d,b;if(!c.relatedTarget){d=c.type;if(c.mouseLeaveRe.test(d)){b=c.toElement}else{if(c.mouseEnterRe.test(d)){b=c.fromElement}}if(b){c.relatedTarget=c.self.resolveTextNode(b)}}return c.callParent([n,a,o])}});document.attachEvent("onkeydown",j);document.attachEvent("onkeyup",e);window.attachEvent("onunload",function(){document.detachEvent("onkeydown",j);document.detachEvent("onkeyup",e)})}else{if(document.addEventListener){document.addEventListener("keydown",j,true);document.addEventListener("keyup",e,true)}}});Ext.define("Ext.event.publisher.Dom",{extend:Ext.event.publisher.Publisher,type:"dom",handledDomEvents:[],reEnterCount:0,captureEvents:{resize:1,focus:1,blur:1,paste:1,input:1,change:1,animationstart:1,animationend:1,scroll:1},directEvents:{mouseenter:1,mouseleave:1,pointerenter:1,pointerleave:1,MSPointerEnter:1,MSPointerLeave:1,load:1,unload:1,beforeunload:1,error:1,DOMContentLoaded:1,DOMFrameContentLoaded:1,hashchange:1},blockedPointerEvents:{pointerover:1,pointerout:1,pointerenter:1,pointerleave:1,MSPointerOver:1,MSPointerOut:1,MSPointerEnter:1,MSPointerLeave:1},blockedCompatibilityMouseEvents:{mouseenter:1,mouseleave:1},constructor:function(){var b=this;b.bubbleSubscribers={};b.captureSubscribers={};b.directSubscribers={};b.directCaptureSubscribers={};b.delegatedListeners={};b.initHandlers();Ext.onReady(b.onReady,b);b.callParent()},registerEvents:function(){var l=this,n=Ext.event.publisher.Publisher.publishersByEvent,j=l.handledDomEvents,m=j.length,o=0,h;for(;o<m;o++){h=j[o];l.handles[h]=1;n[h]=l}this.callParent()},onReady:function(){var h=this,g=h.handledDomEvents,j,e;if(g){for(e=0,j=g.length;e<j;e++){h.addDelegatedListener(g[e])}}Ext.getWin().on("unload",h.destroy,h)},initHandlers:function(){var b=this;b.onDelegatedEvent=Ext.bind(b.onDelegatedEvent,b);b.onDirectEvent=Ext.bind(b.onDirectEvent,b);b.onDirectCaptureEvent=Ext.bind(b.onDirectCaptureEvent,b)},addDelegatedListener:function(b){this.delegatedListeners[b]=1;this.target.addEventListener(b,this.onDelegatedEvent,!!this.captureEvents[b])},removeDelegatedListener:function(b){delete this.delegatedListeners[b];this.target.removeEventListener(b,this.onDelegatedEvent,!!this.captureEvents[b])},addDirectListener:function(d,g,e){g.dom.addEventListener(d,e?this.onDirectCaptureEvent:this.onDirectEvent,e)},removeDirectListener:function(d,g,e){g.dom.removeEventListener(d,e?this.onDirectCaptureEvent:this.onDirectEvent,e)},subscribe:function(q,j,n,l){var p=this,o,m;if(n&&!p.directEvents[j]){o=l?p.captureSubscribers:p.bubbleSubscribers;if(!p.handles[j]&&!p.delegatedListeners[j]){p.addDelegatedListener(j)}if(o[j]){++o[j]}else{o[j]=1}}else{o=l?p.directCaptureSubscribers:p.directSubscribers;m=q.id;o=o[j]||(o[j]={});if(o[m]){++o[m]}else{o[m]=1;p.addDirectListener(j,q,l)}}},unsubscribe:function(q,p,u,m){var n=this,o,r,v,s;if(u&&!n.directEvents[p]){o=n.captureSubscribers;r=n.bubbleSubscribers;v=m?o:r;if(v[p]){--v[p]}if(!n.handles[p]&&!r[p]&&!o[p]){this.removeDelegatedListener(p)}}else{v=m?n.directCaptureSubscribers:n.directSubscribers;s=q.id;v=v[p];if(v[s]){--v[s]}if(!v[s]){delete v[s];n.removeDirectListener(p,q,m)}}},getPropagatingTargets:function(h){var j=h,e=[],g;while(j){e.push(j);g=j.parentNode;if(!g){g=j.defaultView}j=g}return e},publish:function(e,n,o){var p=this,m,r,s,q;if(Ext.isArray(n)){m=n}else{if(p.captureEvents[e]){r=Ext.cache[n.id];m=r?[r]:[]}else{m=p.getPropagatingTargets(n)}}q=m.length;if(p.captureSubscribers[e]){for(s=q;s--;){r=Ext.cache[m[s].id];if(r){p.fire(r,e,o,false,true);if(o.isStopped){break}}}}if(!o.isStopped&&p.bubbleSubscribers[e]){for(s=0;s<q;s++){r=Ext.cache[m[s].id];if(r){p.fire(r,e,o,false,false);if(o.isStopped){break}}}}},fire:function(o,e,m,l,j){var n;if(o.hasListeners[e]){n=o.events[e];if(n){if(j&&l){n=n.directCaptures}else{if(j){n=n.captures}else{if(l){n=n.directs}}}if(n){m.setCurrentTarget(o.dom);n.fire(m,m.target)}}}},onDelegatedEvent:function(b){if(Ext.elevateFunction){Ext.elevateFunction(this.doDelegatedEvent,this,[b])}else{this.doDelegatedEvent(b)}},doDelegatedEvent:function(h,j){var e=this,g=h.timeStamp;h=new Ext.event.Event(h);if(e.isEventBlocked(h)){return false}e.beforeEvent(h);Ext.frameStartTime=g;e.reEnterCount++;e.publish(h.type,h.target,h);e.reEnterCount--;if(j!==false){e.afterEvent(h)}return h},onDirectEvent:function(b){if(Ext.elevateFunction){Ext.elevateFunction(this.doDirectEvent,this,[b,false])}else{this.doDirectEvent(b,false)}},onDirectCaptureEvent:function(b){if(Ext.elevateFunction){Ext.elevateFunction(this.doDirectEvent,this,[b,true])}else{this.doDirectEvent(b,true)}},doDirectEvent:function(j,e){var m=this,l=j.currentTarget,h=j.timeStamp,l;j=new Ext.event.Event(j);if(m.isEventBlocked(j)){return}m.beforeEvent(j);Ext.frameStartTime=h;m.reEnterCount++;m.fire(Ext.cache[l.id],j.type,j,true,e);m.reEnterCount--;m.afterEvent(j)},beforeEvent:function(m){var j=m.browserEvent,h=Ext.event.publisher.Dom,e,l;if(j.type==="touchstart"){e=j.touches;if(e.length===1){l=e[0];h.lastTouchStartX=l.pageX;h.lastTouchStartY=l.pageY}}},afterEvent:function(l){var j=l.browserEvent,m=j.type,e=Ext.event.publisher.Dom,h=Ext.GlobalEvents;if(l.self.pointerEvents[m]&&l.pointerType!=="mouse"){e.lastScreenPointerEventTime=Ext.now()}if(m==="touchend"){e.lastTouchEndTime=Ext.now()}if(!this.reEnterCount&&h.hasListeners.idle&&!h.idleEventMask[m]){h.fireEvent("idle")}},isEventBlocked:function(j){var l=this,m=j.type,h=Ext.event.publisher.Dom,e=Ext.now();return(l.blockedPointerEvents[m]&&j.pointerType!=="mouse")||(l.blockedCompatibilityMouseEvents[m]&&(e-h.lastScreenPointerEventTime<1000))||(Ext.supports.TouchEvents&&j.self.mouseEvents[j.type]&&Math.abs(j.pageX-h.lastTouchStartX)<15&&Math.abs(j.pageY-h.lastTouchStartY)<15&&(Ext.now()-h.lastTouchEndTime)<1000)},destroy:function(){var b;for(b in this.delegatedListeners){this.removeDelegatedListener(b)}},reset:function(){var b=Ext.event.publisher.Dom;b.lastScreenPointerEventTime=b.lastTouchEndTime=b.lastTouchStartX=b.lastTouchStartY=undefined}},function(e){var h=document,j=h.defaultView,g=e.prototype;if((Ext.os.is.iOS&&Ext.os.version.getMajor()<5)||Ext.browser.is.AndroidStock||!(j&&j.addEventListener)){g.target=h}else{g.target=j}e.instance=new e()});Ext.define("Ext.overrides.event.publisher.Dom",{override:"Ext.event.publisher.Dom"},function(){var h=Ext.event.publisher.Dom,e=h.prototype,j=document.body,e,g;if(Ext.isIE9m){e=h.prototype;e.target=document;e.directBoundListeners={};g=function(a,b,c){a.target=a.srcElement||window;a.currentTarget=this;if(c){b.onDirectCaptureEvent(a)}else{b.onDirectEvent(a)}};onDirectCaptureEvent=function(a,b){a.target=a.srcElement||window;a.currentTarget=this;b.onDirectCaptureEvent(a)};h.override({addDelegatedListener:function(a){this.delegatedListeners[a]=1;this.target.attachEvent("on"+a,this.onDelegatedEvent)},removeDelegatedListener:function(a){delete this.delegatedListeners[a];this.target.detachEvent("on"+a,this.onDelegatedEvent)},addDirectListener:function(c,b,d){var s=this,r=b.dom,a=Ext.Function.bind(g,r,[s,d],true),q=s.directBoundListeners,p=q[c]||(q[c]={});p[r.id]=a;if(r.attachEvent){r.attachEvent("on"+c,a)}else{s.callParent(arguments)}},removeDirectListener:function(c,b){var a=b.dom;if(a.detachEvent){a.detachEvent("on"+c,this.directBoundListeners[c][a.id])}else{this.callParent(arguments)}},doDelegatedEvent:function(a,b){a.target=a.srcElement||window;if(a.type==="focusin"){a.relatedTarget=a.fromElement===j?null:a.fromElement}else{if(a.type==="focusout"){a.relatedTarget=a.toElement===j?null:a.toElement}}return this.callParent([a,b])}});Ext.apply(e.directEvents,e.captureEvents);e.captureEvents={}}});Ext.define("Ext.event.publisher.Gesture",{extend:Ext.event.publisher.Dom,type:"gesture",config:{async:true},isCancelEvent:{touchcancel:1,pointercancel:1,MSPointerCancel:1},handledEvents:[],handledDomEvents:[],constructor:function(A){var v=this,z=v.handledDomEvents,p=Ext.supports,r=p.TouchEvents,q=Ext.Function,y=v.onTouchStart,B=v.onTouchMove,s=v.onTouchEnd,w=q.createAnimationFrame(v.onTouchStart,v,null,1),x=q.createAnimationFrame(v.onTouchMove,v),u=q.createAnimationFrame(v.onTouchEnd,v,null,1);v._handlers={touchstart:y,touchmove:B,touchend:s,touchcancel:s,pointerdown:y,pointermove:B,pointerup:s,pointercancel:s,MSPointerDown:y,MSPointerMove:B,MSPointerUp:s,MSPointerCancel:s,mousedown:y,mousemove:B,mouseup:s};v._asyncHandlers={touchstart:w,touchmove:x,touchend:u,touchcancel:u,pointerdown:w,pointermove:x,pointerup:u,pointercancel:u,MSPointerDown:w,MSPointerMove:x,MSPointerUp:u,MSPointerCancel:u,mousedown:w,mousemove:x,mouseup:u};v.activeTouchesMap={};v.activeTouches=[];v.changedTouches=[];v.recognizers=[];if(r){v.onTargetTouchMove=v.onTargetTouchMove.bind(v);v.onTargetTouchEnd=v.onTargetTouchEnd.bind(v)}if(p.PointerEvents){z.push("pointerdown","pointermove","pointerup","pointercancel")}else{if(p.MSPointerEvents){z.push("MSPointerDown","MSPointerMove","MSPointerUp","MSPointerCancel")}else{if(r){z.push("touchstart","touchmove","touchend","touchcancel")}}}if(!z.length||(r&&Ext.isWebKit&&Ext.os.is.Desktop)){z.push("mousedown","mousemove","mouseup")}v.initConfig(A);return v.callParent()},onReady:function(){this.callParent();Ext.Array.sort(this.recognizers,function(a,b){var h=a.priority,j=b.priority;return(h>j)?1:(h<j)?-1:0})},registerRecognizer:function(h){var j=this,g=h.handledEvents,l=g.length,m;h.setOnRecognized(j.onRecognized);h.setCallbackScope(j);for(m=0;m<l;m++){j.handledEvents.push(g[m])}j.registerEvents(g);j.recognizers.push(h)},onRecognized:function(u,r,x){var p=this,o=r.changedTouches,q=o.length,e,s,v,w;x=x||{};x.type=u;x.target=o[0].target;x.isStopped=false;r=r.chain(x);if(q>1){e=[];for(v=0;v<q;v++){w=o[v];e.push(w.targets)}s=p.getCommonTargets(e)}else{s=o[0].targets}p.publish(u,s,r)},getCommonTargets:function(n){var m=n[0],p=n.length;if(p===1){return m}var r=[],q=1,o,j,s;while(true){o=m[m.length-q];if(!o){return r}for(s=1;s<p;s++){j=n[s];if(j[j.length-q]!==o){return r}}r.unshift(o);q++}return r},invokeRecognizers:function(o,l){var e=this.recognizers,m=e.length,n,j;if(o==="onStart"){for(n=0;n<m;n++){e[n].isActive=true}}for(n=0;n<m;n++){j=e[n];if(j.isActive&&j[o].call(j,l)===false){j.isActive=false}}},updateTouches:function(A,H){var w=this,J=A.browserEvent,D=J.changedTouches||[J],I=w.activeTouches,z=w.activeTouchesMap,e=[],x,B,F,C,G,y,K,v;for(G=0,y=D.length;G<y;G++){x=D[G];if("identifier" in x){B=x.identifier}else{if("pointerId" in x){B=x.pointerId}else{B=1}}F=z[B];if(!F){C=Ext.event.Event.resolveTextNode(x.target);F=z[B]={identifier:B,target:C,targets:w.getPropagatingTargets(C)};I.push(F)}if(H){delete z[B];Ext.Array.remove(I,F)}K=x.pageX;v=x.pageY;F.pageX=K;F.pageY=v;F.point=new Ext.util.Point(K,v);e.push(F)}A.touches=Ext.Array.clone(I);A.changedTouches=e},doDelegatedEvent:function(c){var d=this;c=d.callParent([c,false]);if(c){if(!c.button||c.button<1){d.handlers[c.type].call(d,c)}d.afterEvent(c)}},onTouchStart:function(g){var e=this,d=g.target;if(g.browserEvent.type==="touchstart"){d.addEventListener("touchmove",e.onTargetTouchMove);d.addEventListener("touchend",e.onTargetTouchEnd);d.addEventListener("touchcancel",e.onTargetTouchEnd)}e.updateTouches(g);if(!e.isStarted){e.isStarted=true;e.invokeRecognizers("onStart",g);if(Ext.enableGarbageCollector){Ext.dom.GarbageCollector.pause()}}e.invokeRecognizers("onTouchStart",g)},onTouchMove:function(b){if(this.isStarted){this.updateTouches(b);if(b.changedTouches.length>0){this.invokeRecognizers("onTouchMove",b)}}},onTouchEnd:function(c){var d=this;if(!d.isStarted){return}d.updateTouches(c,true);d.invokeRecognizers(d.isCancelEvent[c.type]?"onTouchCancel":"onTouchEnd",c);if(!d.activeTouches.length){d.isStarted=false;d.invokeRecognizers("onEnd",c);if(Ext.enableGarbageCollector){Ext.dom.GarbageCollector.resume()}}},onTargetTouchMove:function(b){if(Ext.elevateFunction){Ext.elevateFunction(this.doTargetTouchMove,this,[b])}else{this.doTargetTouchMove(b)}},doTargetTouchMove:function(b){if(!Ext.getBody().contains(b.target)){this.onTouchMove(new Ext.event.Event(b))}},onTargetTouchEnd:function(b){if(Ext.elevateFunction){Ext.elevateFunction(this.doTargetTouchEnd,this,[b])}else{this.doTargetTouchEnd(b)}},doTargetTouchEnd:function(g){var e=this,d=g.target;d.removeEventListener("touchmove",e.onTargetTouchMove);d.removeEventListener("touchend",e.onTargetTouchEnd);d.removeEventListener("touchcancel",e.onTargetTouchEnd);if(!Ext.getBody().contains(d)){e.onTouchEnd(new Ext.event.Event(g))}},updateAsync:function(b){this.handlers=b?this._asyncHandlers:this._handlers},reset:function(){var j=this,g=j.recognizers,l=g.length,m,h;j.activeTouchesMap={};j.activeTouches=[];j.changedTouches=[];for(m=0;m<l;m++){h=g[m];h.reset();h.isActive=false}this.callParent()}},function(b){b.instance=new b()});Ext.define("Ext.overrides.event.publisher.Gesture",{override:"Ext.event.publisher.Gesture"},function(){if(Ext.isIE9m){this.override({updateTouches:function(j,g){var h=j.browserEvent,e=j.getXY();h.pageX=e[0];h.pageY=e[1];this.callParent([j,g])},doDelegatedEvent:function(b){this.callParent([Ext.event.Event.enableIEAsync(b)])}})}});Ext.define("Ext.event.publisher.Focus",{extend:Ext.event.publisher.Dom,type:"focus",handledEvents:["focusenter","focusleave"],handledDomEvents:["focusin","focusout"],doDelegatedEvent:function(h,j){var e=this,g;h=e.callParent([h,false]);if(h){if(h.type==="focusout"){if(h.relatedTarget==null){e.processFocusIn(h,h.target,document.body,j)}}else{g=h.relatedTarget;e.processFocusIn(h,(g==null||!g.tagName)?document.body:g,h.target,j)}}},processFocusIn:function(s,r,v,p){var q=this,e=Ext.Element.getCommonAncestor(v,r,true),w,u=[],z,x,y;for(w=r;w&&w!==e;w=w.parentNode){u.push(w)}if(u.length){z=q.createSyntheticEvent("focusleave",s,r,v);q.publish("focusleave",u,z);u.length=0;if(z.isStopped){return}}for(w=v;w!==e;w=w.parentNode){u.push(w)}z=q.createSyntheticEvent("focusenter",s,v,r);q.publish("focusenter",u,z);if(z.isStopped){return}if(p){q.afterEvent(s)}Ext.GlobalEvents.fireEvent("focus",{event:z,toElement:v,fromElement:r})},createSyntheticEvent:function(g,j,l,h){var m=new Ext.event.Event(j);m.type=g;m.relatedTarget=h;m.target=l;return m}},function(c){var d;if(!Ext.supports.FocusinFocusoutEvents){this.override({handledDomEvents:["focus","blur"],doDelegatedEvent:function(a,b){var e=this;a=e.callSuper([a,false]);if(a){clearTimeout(d);d=0;if(a.type==="blur"){var j=a.target===window?document.body:a.target;d=setTimeout(function(){d=0;e.processFocusIn(a,j,document.body,b);c.previousActiveElement=null},0);if(a.target===window||a.target===document){c.previousActiveElement=null}else{c.previousActiveElement=a.target}}else{e.processFocusIn(a,c.previousActiveElement||document.body,a.target===window?document.body:a.target,b)}}}})}c.instance=new c()});Ext.define("Ext.mixin.Templatable",{extend:Ext.Mixin,mixinConfig:{id:"templatable"},referenceAttributeName:"reference",referenceSelector:"[reference]",getElementConfig:function(){return{reference:"element"}},getElementTemplate:function(){var b=document.createDocumentFragment();b.appendChild(Ext.Element.create(this.getElementConfig(),true));return b},initElement:function(){var b=this.self.prototype;b.elementTemplate=this.getElementTemplate();b.initElement=b.doInitElement;this.initElement.apply(this,arguments)},linkElement:function(d,c){this.link(d,c)},doInitElement:function(){var m=this.referenceAttributeName,q,p,o,n,j,l;q=this.elementTemplate.cloneNode(true);p=q.querySelectorAll(this.referenceSelector);for(o=0,n=p.length;o<n;o++){j=p[o];l=j.getAttribute(m);j.removeAttribute(m);this.linkElement(l,j)}}});Ext.define("Ext.TaskQueue",{singleton:true,pending:false,mode:true,constructor:function(){this.readQueue=[];this.writeQueue=[];this.run=Ext.Function.bind(this.run,this);if(Ext.os.is.iOS){Ext.interval(this.watch,500,this)}},requestRead:function(g,d,e){this.request(true);this.readQueue.push(arguments)},requestWrite:function(g,d,e){this.request(false);this.writeQueue.push(arguments)},request:function(b){if(!this.pending){this.pendingTime=Date.now();this.pending=true;this.mode=b;if(b){Ext.defer(this.run,1,this)}else{Ext.Function.requestAnimationFrame(this.run)}}},watch:function(){if(this.pending&&Date.now()-this.pendingTime>=500){this.run()}},run:function(){this.pending=false;var o=this.readQueue,s=this.writeQueue,v=null,r;if(this.mode){r=o;if(s.length>0){v=false}}else{r=s;if(o.length>0){v=true}}var w=r.slice(),u,q,x,p,n;r.length=0;for(u=0,q=w.length;u<q;u++){x=w[u];p=x[0];n=x[1];if(typeof p=="string"){p=n[p]}if(x.length>2){p.apply(n,x[2])}else{p.call(n)}}w.length=0;if(v!==null){this.request(v)}}});Ext.define("Ext.util.sizemonitor.Abstract",{mixins:[Ext.mixin.Templatable],config:{element:null,callback:Ext.emptyFn,scope:null,args:[]},width:0,height:0,contentWidth:0,contentHeight:0,constructor:function(b){this.refresh=Ext.Function.bind(this.refresh,this);this.info={width:0,height:0,contentWidth:0,contentHeight:0,flag:0};this.initElement();this.initConfig(b);this.bindListeners(true)},bindListeners:Ext.emptyFn,applyElement:function(b){if(b){return Ext.get(b)}},updateElement:function(b){b.append(this.detectorsContainer);b.addCls(Ext.baseCSSPrefix+"size-monitored")},applyArgs:function(b){return b.concat([this.info])},refreshMonitors:Ext.emptyFn,forceRefresh:function(){Ext.TaskQueue.requestRead("refresh",this)},getContentBounds:function(){return this.detectorsContainer.getBoundingClientRect()},getContentWidth:function(){return this.detectorsContainer.offsetWidth},getContentHeight:function(){return this.detectorsContainer.offsetHeight},refreshSize:function(){var u=this.getElement();if(!u||u.isDestroyed){return false}var w=u.getWidth(),n=u.getHeight(),x=this.getContentWidth(),o=this.getContentHeight(),p=this.contentWidth,r=this.contentHeight,v=this.info,s=false,q;this.width=w;this.height=n;this.contentWidth=x;this.contentHeight=o;q=((p!==x?1:0)+(r!==o?2:0));if(q>0){v.width=w;v.height=n;v.contentWidth=x;v.contentHeight=o;v.flag=q;s=true;this.getCallback().apply(this.getScope(),this.getArgs())}return s},refresh:function(b){if(this.refreshSize()||b){Ext.TaskQueue.requestWrite("refreshMonitors",this)}},destroy:function(){var b=this.getElement();this.bindListeners(false);if(b&&!b.isDestroyed){b.removeCls(Ext.baseCSSPrefix+"size-monitored")}delete this._element;this.callParent()}});Ext.define("Ext.util.sizemonitor.Default",{extend:Ext.util.sizemonitor.Abstract,updateElement:function(b){},bindListeners:function(c){var d=this.getElement().dom;if(!d){return}if(c){d.onresize=this.refresh}else{delete d.onresize}},getContentBounds:function(){return this.getElement().dom.getBoundingClientRect()},getContentWidth:function(){return this.getElement().getWidth()},getContentHeight:function(){return this.getElement().getHeight()}});Ext.define("Ext.util.sizemonitor.Scroll",{extend:Ext.util.sizemonitor.Abstract,getElementConfig:function(){return{reference:"detectorsContainer",classList:[Ext.baseCSSPrefix+"size-monitors","scroll"],children:[{reference:"expandMonitor",className:"expand"},{reference:"shrinkMonitor",className:"shrink"}]}},constructor:function(b){this.onScroll=Ext.Function.bind(this.onScroll,this);this.callParent(arguments)},bindListeners:function(c){var d=c?"addEventListener":"removeEventListener";this.expandMonitor[d]("scroll",this.onScroll,true);this.shrinkMonitor[d]("scroll",this.onScroll,true)},forceRefresh:function(){Ext.TaskQueue.requestRead("refresh",this,[true])},onScroll:function(){Ext.TaskQueue.requestRead("refresh",this)},refreshMonitors:function(){var d=this.expandMonitor,g=this.shrinkMonitor,e=1000000;if(d&&!d.isDestroyed){d.scrollLeft=e;d.scrollTop=e}if(g&&!g.isDestroyed){g.scrollLeft=e;g.scrollTop=e}}});Ext.define("Ext.util.sizemonitor.OverflowChange",{extend:Ext.util.sizemonitor.Abstract,constructor:function(b){this.onExpand=Ext.Function.bind(this.onExpand,this);this.onShrink=Ext.Function.bind(this.onShrink,this);this.callParent(arguments)},getElementConfig:function(){return{reference:"detectorsContainer",classList:[Ext.baseCSSPrefix+"size-monitors","overflowchanged"],children:[{reference:"expandMonitor",className:"expand",children:[{reference:"expandHelper"}]},{reference:"shrinkMonitor",className:"shrink",children:[{reference:"shrinkHelper"}]}]}},bindListeners:function(c){var d=c?"addEventListener":"removeEventListener";this.expandMonitor[d](Ext.browser.is.Firefox?"underflow":"overflowchanged",this.onExpand,true);this.shrinkMonitor[d](Ext.browser.is.Firefox?"overflow":"overflowchanged",this.onShrink,true)},onExpand:function(b){if(Ext.browser.is.Webkit&&b.horizontalOverflow&&b.verticalOverflow){return}Ext.TaskQueue.requestRead("refresh",this)},onShrink:function(b){if(Ext.browser.is.Webkit&&!b.horizontalOverflow&&!b.verticalOverflow){return}Ext.TaskQueue.requestRead("refresh",this)},refreshMonitors:function(){if(this.isDestroyed){return}var l=this.expandHelper,m=this.shrinkHelper,h=this.getContentBounds(),n=h.width,j=h.height,o;if(l&&!l.isDestroyed){o=l.style;o.width=(n+1)+"px";o.height=(j+1)+"px"}if(m&&!m.isDestroyed){o=m.style;o.width=n+"px";o.height=j+"px"}Ext.TaskQueue.requestRead("refresh",this)}});Ext.define("Ext.util.SizeMonitor",{constructor:function(d){var c=Ext.util.sizemonitor;if(Ext.browser.is.Firefox){return new c.OverflowChange(d)}else{if(Ext.browser.is.WebKit){if(!Ext.browser.is.Silk&&Ext.browser.engineVersion.gtEq("535")){return new c.OverflowChange(d)}else{return new c.Scroll(d)}}else{if(Ext.browser.is.IE11){return new c.Scroll(d)}else{return new c.Default(d)}}}}});Ext.define("Ext.event.publisher.ElementSize",{extend:Ext.event.publisher.Publisher,type:"size",handledEvents:["resize"],constructor:function(){this.monitors={};this.subscribers={};this.callParent(arguments)},subscribe:function(e){var h=e.id,j=this.subscribers,g=this.monitors;if(j[h]){++j[h]}else{j[h]=1;g[h]=new Ext.util.SizeMonitor({element:e,callback:this.onElementResize,scope:this,args:[e]})}e.on("painted","forceRefresh",g[h]);return true},unsubscribe:function(m){var j=m.id,l=this.subscribers,g=this.monitors,h;if(l[j]&&!--l[j]){delete l[j];h=g[j];m.un("painted","forceRefresh",h);h.destroy();delete g[j]}},onElementResize:function(d,c){Ext.TaskQueue.requestRead("fire",this,[d,"resize",[d,c]])}},function(b){b.instance=new b()});Ext.define("Ext.util.paintmonitor.Abstract",{config:{element:null,callback:Ext.emptyFn,scope:null,args:[]},eventName:"",monitorClass:"",constructor:function(b){this.onElementPainted=Ext.Function.bind(this.onElementPainted,this);this.initConfig(b)},bindListeners:function(b){this.monitorElement[b?"addEventListener":"removeEventListener"](this.eventName,this.onElementPainted,true)},applyElement:function(b){if(b){return Ext.get(b)}},updateElement:function(b){this.monitorElement=Ext.Element.create({classList:[Ext.baseCSSPrefix+"paint-monitor",this.monitorClass]},true);b.appendChild(this.monitorElement);b.addCls(Ext.baseCSSPrefix+"paint-monitored");this.bindListeners(true)},onElementPainted:function(){},destroy:function(){var d=this.monitorElement,e=d.parentNode,g=this.getElement();this.bindListeners(false);delete this.monitorElement;if(g&&!g.isDestroyed){g.removeCls(Ext.baseCSSPrefix+"paint-monitored");delete this._element}if(e){e.removeChild(d)}this.callParent()}});Ext.define("Ext.util.paintmonitor.CssAnimation",{extend:Ext.util.paintmonitor.Abstract,eventName:Ext.browser.is.WebKit?"webkitAnimationEnd":"animationend",monitorClass:"cssanimation",onElementPainted:function(b){if(b.animationName===Ext.baseCSSPrefix+"paint-monitor-helper"){this.getCallback().apply(this.getScope(),this.getArgs())}}});Ext.define("Ext.util.paintmonitor.OverflowChange",{extend:Ext.util.paintmonitor.Abstract,eventName:Ext.browser.is.Firefox?"overflow":"overflowchanged",monitorClass:"overflowchange",onElementPainted:function(b){this.getCallback().apply(this.getScope(),this.getArgs())}});Ext.define("Ext.util.PaintMonitor",{constructor:function(b){if(Ext.browser.is.Firefox||(Ext.browser.is.WebKit&&Ext.browser.engineVersion.gtEq("536")&&!Ext.os.is.Blackberry)){return new Ext.util.paintmonitor.OverflowChange(b)}else{return new Ext.util.paintmonitor.CssAnimation(b)}}});Ext.define("Ext.event.publisher.ElementPaint",{extend:Ext.event.publisher.Publisher,type:"paint",handledEvents:["painted"],constructor:function(){this.monitors={};this.subscribers={};this.callParent(arguments)},subscribe:function(e){var g=e.id,d=this.subscribers;if(d[g]){++d[g]}else{d[g]=1;this.monitors[g]=new Ext.util.PaintMonitor({element:e,callback:this.onElementPainted,scope:this,args:[e]})}},unsubscribe:function(e){var h=e.id,j=this.subscribers,g=this.monitors;if(j[h]&&!--j[h]){delete j[h];g[h].destroy();delete g[h]}},onElementPainted:function(b){Ext.TaskQueue.requestRead("fire",this,[b,"painted",[b]])}},function(b){b.instance=new b()});Ext.define("Ext.dom.Element",function(aP){var aK=window,ao=document,aF="ext-window",au="ext-document",aW="width",aq="height",af="min-width",aZ="min-height",aO="max-width",aC="max-height",an="top",aE="right",at="bottom",ax="left",aU="visibility",ae="hidden",a0="display",am="none",aR="z-index",ak="position",aM="relative",aL="static",aG="-",aI=/\w/g,av=/\s+/,ad=/[\s]+/,a1=/^(?:transparent|(?:rgba[(](?:\s*\d+\s*[,]){3}\s*0\s*[)]))$/i,aw=/table-row|table-.*-group/,aJ={t:"border-top-width",r:"border-right-width",b:"border-bottom-width",l:"border-left-width"},ag={t:"padding-top",r:"padding-right",b:"padding-bottom",l:"padding-left"},aS={t:"margin-top",r:"margin-right",b:"margin-bottom",l:"margin-left"},ay=[ag.l,ag.r,ag.t,ag.b],aY=[aJ.l,aJ.r,aJ.t,aJ.b],ah=/\d+$/,aV=/\d+(px|em|%|en|ex|pt|in|cm|mm|pc)$/i,ap="px",ar=/(-[a-z])/gi,aB=/([a-z0-9-]+)\s*:\s*([^;\s]+(?:\s*[^;\s]+)*);?/gi,aN=/^\d+(?:\.\d*)?px$/i,aH={},al=function(b,a){return a.charAt(1).toUpperCase()},aA=Ext.baseCSSPrefix+"hidden-visibility",aD=Ext.baseCSSPrefix+"hidden-display",aT=Ext.baseCSSPrefix+"hidden-offsets",ai=Ext.baseCSSPrefix+"no-touch-scroll",aQ={style:"style",className:"className",cls:"cls",classList:"classList",text:"text",hidden:"hidden",html:"html",children:"children"},aj,az,aX;return{alternateClassName:["Ext.Element"],mixins:[Ext.util.Positionable,Ext.mixin.Observable],observableType:"element",isElement:true,skipGarbageCollection:true,identifiablePrefix:"ext-element-",styleHooks:{},validIdRe:Ext.validIdRe,blockedEvents:Ext.supports.EmulatedMouseOver?{mouseover:1}:{},longpressEvents:{longpress:1,taphold:1},constructor:function(b){var c=this,a;if(typeof b==="string"){b=ao.getElementById(b)}if(!b){return null}c.dom=b;a=b.id;if(a){c.id=a}else{a=b.id=c.getUniqueId()}c.el=c;Ext.cache[a]=c;c.mixins.observable.constructor.call(c)},inheritableStatics:{cache:Ext.cache={},VISIBILITY:1,DISPLAY:2,OFFSETS:3,unitRe:aV,useDelegatedEvents:true,validNodeTypes:{1:1,9:1},addUnits:function(a,b){if(typeof a==="number"){return a+(b||ap)}if(a===""||a==="auto"||a==null){return a||""}if(ah.test(a)){return a+(b||ap)}if(!aV.test(a)){return a||""}return a},create:function(m,n){var d=this,h=aQ.hidden,j,c,a,b,o,l,e,g;if(!m){m={}}if(m.isElement){return n?m.dom:m}else{if("nodeType" in m){return n?m:Ext.get(m)}}if(typeof m==="string"){return ao.createTextNode(m)}a=m.tag;if(!a){a="div"}if(m.namespace){j=ao.createElementNS(m.namespace,a)}else{j=ao.createElement(a)}c=j.style;if(m[h]){g=m.className;g=(g==null)?"":g+" ";m.className=g+aD;delete m[h]}for(o in m){if(o!=="tag"){b=m[o];switch(o){case aQ.style:if(typeof b==="string"){j.setAttribute(o,b)}else{for(l in b){if(b.hasOwnProperty(l)){c[l]=b[l]}}}break;case aQ.className:case aQ.cls:j.className=b;break;case aQ.classList:j.className=b.join(" ");break;case aQ.text:j.textContent=b;break;case aQ.html:j.innerHTML=b;break;case aQ.children:for(l=0,e=b.length;l<e;l++){j.appendChild(d.create(b[l],true))}break;default:if(b!=null){j.setAttribute(o,b)}}}}if(n){return j}else{return d.get(j)}},detach:function(){var a=this.dom;if(a&&a.parentNode&&a.tagName!=="BODY"){a.parentNode.removeChild(a)}return this},fly:function(a,b){return Ext.fly(a,b)},fromPoint:function(b,a){return Ext.get(ao.elementFromPoint(b,a))},get:function(j){var d=this,m=Ext.cache,g,h,l,a,b,e,c;if(!j){return null}if(j.isFly){j=j.dom}if(typeof j==="string"){l=j;if(m.hasOwnProperty(l)){a=m[l];if(a.skipGarbageCollection||!Ext.isGarbage(a.dom)){return a}else{a.destroy()}}if(l===aF){return aP.get(aK)}else{if(l===au){return aP.get(ao)}}h=Ext.getElementById?Ext.getElementById(l):ao.getElementById(l);if(h){return new aP(h)}}g=j.nodeType;if(g){b=(g===9);c=d.validNodeTypes[g]}else{e=(j.window==j)}if(c||e){l=j.id;if(m.hasOwnProperty(l)){a=m[l];if(a.skipGarbageCollection||j===a.dom||!Ext.isGarbage(a.dom)){return a}else{a.destroy()}}if(j===ao){j.id=au}if(j==aK){j.id=aF}j=new aP(j);if(e||b){j.skipGarbageCollection=true}return j}if(j.isElement){return j}if(j.isComposite){return j}if(Ext.isIterable(j)){return d.select(j)}return null},getActiveElement:function(){var a=ao.activeElement;if(!a||!a.focus){a=ao.body}return a},getDocumentHeight:function(){return Math.max(!Ext.isStrict?ao.body.scrollHeight:ao.documentElement.scrollHeight,this.getViewportHeight())},getDocumentWidth:function(){return Math.max(!Ext.isStrict?ao.body.scrollWidth:ao.documentElement.scrollWidth,this.getViewportWidth())},getOrientation:function(){if(Ext.supports.OrientationChange){return(aK.orientation==0)?"portrait":"landscape"}return(aK.innerHeight>aK.innerWidth)?"portrait":"landscape"},getViewportHeight:function(){return aK.innerHeight},getViewportWidth:function(){return aK.innerWidth},getViewSize:function(){return{width:aP.getViewportWidth(),height:aP.getViewportHeight()}},normalize:function(a){return aH[a]||(aH[a]=a.replace(ar,al))},parseBox:function(b){b=b||0;var d=typeof b,a,c;if(d==="number"){return{top:b,right:b,bottom:b,left:b}}else{if(d!=="string"){return b}}a=b.split(" ");c=a.length;if(c===1){a[1]=a[2]=a[3]=a[0]}else{if(c===2){a[2]=a[0];a[3]=a[1]}else{if(c===3){a[3]=a[1]}}}return{top:parseFloat(a[0])||0,right:parseFloat(a[1])||0,bottom:parseFloat(a[2])||0,left:parseFloat(a[3])||0}},parseStyles:function(b){var c={},a;if(b){aB.lastIndex=0;while((a=aB.exec(b))){c[a[1]]=a[2]||""}}return c},select:function(c,a,b){return Ext.fly(b||ao).select(c,a)},query:function(b,c,a){return Ext.fly(a||ao).query(b,c)},unitizeBox:function(a,c){var b=this;a=b.parseBox(a);return b.addUnits(a.top,c)+" "+b.addUnits(a.right,c)+" "+b.addUnits(a.bottom,c)+" "+b.addUnits(a.left,c)},serializeForm:function(p){var o=p.elements||(ao.forms[p]||Ext.getDom(p)).elements,c=false,d=encodeURIComponent,l="",m=o.length,j,r,e,a,b,h,n,g,q;for(h=0;h<m;h++){j=o[h];r=j.name;e=j.type;a=j.options;if(!j.disabled&&r){if(/select-(one|multiple)/i.test(e)){g=a.length;for(n=0;n<g;n++){q=a[n];if(q.selected){b=q.hasAttribute("value");l+=Ext.String.format("{0}={1}&",d(r),d(b?q.value:q.text))}}}else{if(!(/file|undefined|reset|button/i.test(e))){if(!(/radio|checkbox/i.test(e)&&!j.checked)&&!(e=="submit"&&c)){l+=d(r)+"="+d(j.value)+"&";c=/submit/i.test(e)}}}}}return l.substr(0,l.length-1)},getCommonAncestor:function(a,b,c){aX=aX||new Ext.dom.Fly();aX.attach(Ext.getDom(a));while(!aX.isAncestor(b)){if(aX.dom.parentNode){aX.attach(aX.dom.parentNode)}else{aX.attach(document.body);break}}return c?aX.dom:Ext.get(aX)}},addCls:function(d,g,b){var c=this,a,j,n,m,h,e,o,l=c.getData();if(!d){return c}if(!l.isSynchronized){c.synchronize()}j=c.dom;n=l.classMap;m=l.classList;g=g?g+aG:"";b=b?aG+b:"";if(typeof d==="string"){d=d.split(av)}for(h=0,e=d.length;h<e;h++){o=g+d[h]+b;if(!n[o]){n[o]=true;m.push(o);a=true}}if(a){j.className=m.join(" ")}return c},addStyles:function(h,j){var d=0,a=(h||"").match(aI),b,g=a.length,c,e=[];if(g===1){d=Math.abs(parseFloat(this.getStyle(j[a[0]]))||0)}else{if(g){for(b=0;b<g;b++){c=a[b];e.push(j[c])}e=this.getStyle(e);for(b=0;b<g;b++){c=a[b];d+=parseFloat(e[j[c]])||0}}}return d},addUnits:function(a,b){return aP.addUnits(a,b)},adjustDirect2DDimension:function(h){var b=this,j=b.dom,d=b.getStyle("display"),e=j.style.display,a=j.style.position,c=h===aW?0:1,l=j.currentStyle,g;if(d==="inline"){j.style.display="inline-block"}j.style.position=d.match(aw)?"absolute":"static";g=(parseFloat(l[h])||parseFloat(l.msTransformOrigin.split(" ")[c])*2)%1;j.style.position=a;if(d==="inline"){j.style.display=e}return g},animate:function(a){a=new Ext.fx.Animation(a);a.setElement(this);this._activeAnimation=a;a.on({animationend:this._onAnimationEnd});Ext.Animator.run(a)},_onAnimationEnd:function(){this._activeAnimation=null},getActiveAnimation:function(){return this._activeAnimation},append:function(){this.appendChild.apply(this,arguments)},appendChild:function(d,e){var c=this,a,g,b;if(d.nodeType||d.dom||typeof d==="string"){d=Ext.getDom(d);c.dom.appendChild(d);return !e?Ext.get(d):d}else{if(d.length){a=Ext.fly(document.createDocumentFragment());g=d.length;for(b=0;b<g;b++){a.appendChild(d[b],e)}c.dom.appendChild(a.dom);return e?a.dom:a}else{return c.createChild(d,null,e)}}},appendTo:function(a){Ext.getDom(a).appendChild(this.dom);return this},applyStyles:function(a){if(a){if(typeof a==="function"){a=a.call()}if(typeof a==="string"){a=aP.parseStyles(a)}if(typeof a==="object"){this.setStyle(a)}}return this},blur:function(){var c=this,a=c.dom;if(a!==ao.body){try{a.blur()}catch(b){}return c}else{return c.focus(undefined,a)}},cacheScrollValues:function(){var b=this,a=[],c=[],h,d,e,g;az=az||new Ext.dom.Fly();h=b.query("*");for(e=0,g=h.length;e<g;e++){d=h[e];if(d.scrollTop>0||d.scrollLeft!==0){c.push(d);a.push(az.attach(d).getScroll())}}return function(){var l,j,m;for(j=0,m=c.length;j<m;j++){l=a[j];az.attach(c[j]);az.setScrollLeft(l.left);az.setScrollTop(l.top)}}},center:function(a){return this.alignTo(a||ao,"c-c")},child:function(d,c){var b=this,a=Ext.get(b).id;return b.selectNode(Ext.makeIdSelector(a)+" > "+d,!!c)},constrainScrollLeft:function(b){var a=this.dom;return Math.max(Math.min(b,a.scrollWidth-a.clientWidth),0)},constrainScrollTop:function(b){var a=this.dom;return Math.max(Math.min(b,a.scrollHeight-a.clientHeight),0)},createChild:function(b,c,a){b=b||{tag:"div"};if(c){return Ext.DomHelper.insertBefore(c,b,a!==true)}else{return Ext.DomHelper.append(this.dom,b,a!==true)}},contains:function(c){if(!c){return false}var b=this,a=Ext.getDom(c);return(a===b.dom)||b.isAncestor(a)},destroy:function(){var b=this,a=b.dom;if(a&&a.parentNode){a.parentNode.removeChild(a)}b.collect()},detach:function(){var a=this.dom;if(a&&a.parentNode&&a.tagName!=="BODY"){a.parentNode.removeChild(a)}return this},disableShadow:function(){var a=this.shadow;if(a){a.hide();a.disabled=true}},disableShim:function(){var a=this.shim;if(a){a.hide();a.disabled=true}},disableTouchContextMenu:function(){this._contextMenuListenerRemover=this.on({MSHoldVisual:function(a){a.preventDefault()},destroyable:true,delegated:false})},disableTouchScroll:function(){this.addCls(ai);this.on({touchmove:function(a){a.preventDefault()},translate:false})},doReplaceWith:function(b){var a=this.dom;a.parentNode.replaceChild(Ext.getDom(b),a)},doScrollIntoView:function(p,l,o,j,b,e){az=az||new Ext.dom.Fly();var d=this,h=d.dom,a=az.attach(p)[b](),c=p.scrollTop,g=d.getScrollIntoViewXY(p,a,c),m=g.x,n=g.y;if(j){if(o){o=Ext.apply({listeners:{afteranimate:function(){az.attach(h).highlight()}}},o)}else{az.attach(h).highlight()}}if(n!==c){az.attach(p).scrollTo("top",n,o)}if(l!==false&&(m!==a)){az.attach(p)[e]("left",m,o)}return d},down:function(b,a){return this.selectNode(b,!!a)},enableShadow:function(d,e){var c=this,a=c.shadow||(c.shadow=new Ext.dom.Shadow(Ext.apply({target:c},d))),b=c.shim;if(b){b.offsets=a.outerOffsets;b.shadow=a;a.shim=b}if(e===true||(e!==false&&c.isVisible())){a.show()}else{a.hide()}a.disabled=false},enableShim:function(d,e){var c=this,a=c.shim||(c.shim=new Ext.dom.Shim(Ext.apply({target:c},d))),b=c.shadow;if(b){a.offsets=b.outerOffsets;a.shadow=b;b.shim=a}if(e===true||(e!==false&&c.isVisible())){a.show()}else{a.hide()}a.disabled=false},findParent:function(h,e,g){var c=this,b=c.dom,d=ao.documentElement,a=0;if(e||e===0){if(typeof e!=="number"){d=Ext.getDom(e);e=Number.MAX_VALUE}}else{e=50}while(b&&b.nodeType===1&&a<e&&b!==d){if(Ext.fly(b).is(h)){return g?Ext.get(b):b}a++;b=b.parentNode}return null},findParentNode:function(a,c,d){var b=Ext.fly(this.dom.parentNode);return b?b.findParent(a,c,d):null},first:function(b,a){return this.matchNode("nextSibling","firstChild",b,a)},focus:function(a,b){var d=this;b=b||d.dom;try{if(Number(a)){Ext.defer(d.focus,a,d,[null,b])}else{Ext.GlobalEvents.fireEvent("beforefocus",b);b.focus()}}catch(c){}return d},collect:function(){var d=this,c=d.dom,a=d.shadow,b=d.shim;if(!d.isFly){d.clearListeners();delete Ext.cache[d.id];d.isDestroyed=true}if(c){c._extData=d.dom=null}if(a){a.hide();d.shadow=null}if(b){b.hide();d.shim=null}},getAnchorToXY:function(a,d,b,c){return a.getAnchorXY(d,b,c)},getAttribute:function(c,b){var a=this.dom;return b?(a.getAttributeNS(b,c)||a.getAttribute(b+":"+c)):(a.getAttribute(c)||a[c]||null)},getAttributes:function(){var b=this.dom.attributes,c={},d,a,e;for(a=0,e=b.length;a<e;a++){d=b[a];c[d.name]=d.value}return c},getBottom:function(a){return(a?this.getLocalY():this.getY())+this.getHeight()},getById:function(a,c){var b=ao.getElementById(a)||this.dom.querySelector(Ext.makeIdSelector(a));return c?b:(b?Ext.get(b):null)},getBorderPadding:function(){var b=this.getStyle(ay),a=this.getStyle(aY);return{beforeX:(parseFloat(a[aJ.l])||0)+(parseFloat(b[ag.l])||0),afterX:(parseFloat(a[aJ.r])||0)+(parseFloat(b[ag.r])||0),beforeY:(parseFloat(a[aJ.t])||0)+(parseFloat(b[ag.t])||0),afterY:(parseFloat(a[aJ.b])||0)+(parseFloat(b[ag.b])||0)}},getBorderWidth:function(a){return this.addStyles(a,aJ)},getData:function(c){var a=this.dom,b;if(a){b=a._extData;if(!b&&!c){a._extData=b={}}}return b},getFirstChild:function(){return Ext.get(this.dom.firstElementChild)},getHeight:function(c,e){var d=this,b=d.isStyle("display","none"),g,a;if(b){return 0}g=d.dom.offsetHeight;if(Ext.supports.Direct2DBug){a=d.adjustDirect2DDimension(aq);if(e){g+=a}else{if(a>0&&a<0.5){g++}}}if(c){g-=d.getBorderWidth("tb")+d.getPadding("tb")}return(g<0)?0:g},getHtml:function(){return this.dom?this.dom.innerHTML:""},getLeft:function(a){return a?this.getLocalX():this.getX()},getLocalX:function(){var a=this,b,c=a.getStyle("left");if(!c||c==="auto"){c=0}else{if(aN.test(c)){c=parseFloat(c)}else{c=a.getX();b=a.dom.offsetParent;if(b){c-=Ext.fly(b).getX()}}}return c},getLocalXY:function(){var b=this,c,d=b.getStyle(["left","top"]),e=d.left,a=d.top;if(!e||e==="auto"){e=0}else{if(aN.test(e)){e=parseFloat(e)}else{e=b.getX();c=b.dom.offsetParent;if(c){e-=Ext.fly(c).getX()}}}if(!a||a==="auto"){a=0}else{if(aN.test(a)){a=parseFloat(a)}else{a=b.getY();c=b.dom.offsetParent;if(c){a-=Ext.fly(c).getY()}}}return[e,a]},getLocalY:function(){var b=this,c,a=b.getStyle("top");if(!a||a==="auto"){a=0}else{if(aN.test(a)){a=parseFloat(a)}else{a=b.getY();c=b.dom.offsetParent;if(c){a-=Ext.fly(c).getY()}}}return a},getMargin:(function(){var a={t:"top",l:"left",r:"right",b:"bottom"},b=["margin-top","margin-left","margin-right","margin-bottom"];return function(e){var c=this,d,g,h;if(!e){d=c.getStyle(b);h={};if(d&&typeof d==="object"){h={};for(g in aS){h[g]=h[a[g]]=parseFloat(d[aS[g]])||0}}}else{h=c.addStyles(e,aS)}return h}})(),getPadding:function(a){return this.addStyles(a,ag)},getParent:function(){return Ext.get(this.dom.parentNode)},getRight:function(a){return(a?this.getLocalX():this.getX())+this.getWidth()},getScroll:function(){var d=this,a=d.dom,e=ao.documentElement,b,c,g=document.body;if(a===ao||a===g){b=e.scrollLeft||(g?g.scrollLeft:0);c=e.scrollTop||(g?g.scrollTop:0)}else{b=a.scrollLeft;c=a.scrollTop}return{left:b,top:c}},getScrollIntoViewXY:function(p,g,h){var d=this.dom,u=Ext.getDom(p),s=this.getOffsetsTo(u),j=d.offsetWidth,n=d.offsetHeight,v=s[0]+g,o=s[1]+h,q=o+n,b=v+j,m=u.clientHeight,e=u.clientWidth,c=g,l=h,r=l+m,a=c+e;if(n>m||o<l){h=o}else{if(q>r){h=q-m}}if(j>e||v<c){g=v}else{if(b>a){g=b-e}}return{x:g,y:h}},getScrollLeft:function(){var a=this.dom;if(a===ao||a===document.body){return this.getScroll().left}else{return a.scrollLeft}},getScrollTop:function(){var a=this.dom;if(a===ao||a===document.body){return this.getScroll().top}else{return a.scrollTop}},getSize:function(a){return{width:this.getWidth(a),height:this.getHeight(a)}},getStyle:function(d,l){var j=this,p=j.dom,a=typeof d!=="string",c=j.styleHooks,r=d,h=r,m=1,n,b,e,g,q,s,o;if(a){e={};r=h[0];o=0;if(!(m=h.length)){return e}}if(!p||p.documentElement){return e||""}n=p.style;if(l){s=n}else{s=p.ownerDocument.defaultView.getComputedStyle(p,null);if(!s){l=true;s=n}}do{g=c[r];if(!g){c[r]=g={name:aP.normalize(r)}}if(g.get){q=g.get(p,j,l,s)}else{b=g.name;q=s[b]}if(!a){return q}e[r]=q;r=h[++o]}while(o<m);return e},getStyleValue:function(a){return this.dom.style.getPropertyValue(a)},getTop:function(a){return a?this.getLocalY():this.getY()},getValue:function(a){var b=this.dom.value;return a?parseInt(b,10):b},getViewSize:function(){var a=this.dom;if(a===ao||a===ao.body){return{width:aP.getViewportWidth(),height:aP.getViewportHeight()}}else{return{width:a.clientWidth,height:a.clientHeight}}},getVisibilityMode:function(){var c=this,b=c.getData(),a=b.visibilityMode;if(a===undefined){b.visibilityMode=a=aP.DISPLAY}return a},getWidth:function(g,a){var c=this,j=c.dom,b=c.isStyle("display","none"),d,e,h;if(b){return 0}if(Ext.supports.BoundingClientRect){d=j.getBoundingClientRect();e=(c.vertical&&!Ext.supports.RotatedBoundingClientRect)?(d.bottom-d.top):(d.right-d.left);e=a?e:Math.ceil(e)}else{e=j.offsetWidth}if(Ext.supports.Direct2DBug&&!c.vertical){h=c.adjustDirect2DDimension(aW);if(a){e+=h}else{if(h>0&&h<0.5){e++}}}if(g){e-=c.getBorderWidth("lr")+c.getPadding("lr")}return(e<0)?0:e},getX:function(){return this.getXY()[0]},getXY:function(){var d=Math.round,a=this.dom,e=0,h=0,b,g;if(a!==ao&&a!==ao.body){try{b=a.getBoundingClientRect()}catch(c){b={left:0,top:0}}e=d(b.left);h=d(b.top);g=Ext.getDoc().getScroll();e+=g.left;h+=g.top}return[e,h]},getY:function(){return this.getXY()[1]},getZIndex:function(){return parseInt(this.getStyle("z-index"),10)},hasCls:function(b){var a=this.getData();if(!a.isSynchronized){this.synchronize()}return a.classMap.hasOwnProperty(b)},hide:function(){this.setVisible(false);return this},insertAfter:function(a){a=Ext.getDom(a);a.parentNode.insertBefore(this.dom,a.nextSibling);return this},insertBefore:function(a){a=Ext.getDom(a);a.parentNode.insertBefore(this.dom,a);return this},insertFirst:function(a,b){a=a||{};if(a.nodeType||a.dom||typeof a==="string"){a=Ext.getDom(a);this.dom.insertBefore(a,this.dom.firstChild);return !b?Ext.get(a):a}else{return this.createChild(a,this.dom.firstChild,b)}},insertHtml:function(c,b,d){var a=Ext.DomHelper.insertHtml(c,this.dom,b);return d?Ext.get(a):a},insertSibling:function(l,g,c){var d=this,b=Ext.DomHelper,a=(g||"before").toLowerCase()==="after",h,m,j,e;if(Ext.isIterable(l)){j=l.length;m=Ext.fly(document.createDocumentFragment());if(Ext.isArray(l)){for(e=0;e<j;e++){h=m.appendChild(l[e],c)}}else{for(e=0;e<j;e++){m.dom.appendChild(h=l[0])}if(c===false){h=Ext.get(h)}}d.dom.parentNode.insertBefore(m.dom,a?d.dom.nextSibling:d.dom);return h}l=l||{};if(l.nodeType||l.dom){h=d.dom.parentNode.insertBefore(Ext.getDom(l),a?d.dom.nextSibling:d.dom);if(!c){h=Ext.get(h)}}else{if(a&&!d.dom.nextSibling){h=b.append(d.dom.parentNode,l,!c)}else{h=b[a?"insertAfter":"insertBefore"](d.dom,l,!c)}}return h},is:function(c){var a=this.dom,b;if(!c){b=true}else{if(!a.tagName){b=false}else{if(Ext.isFunction(c)){b=c(a)}else{b=a[Ext.supports.matchesSelector](c)}}}return b},isAncestor:function(c){var d=false,b=this.dom,a=Ext.getDom(c);if(b&&a){if(b.contains){return b.contains(a)}else{if(b.compareDocumentPosition){return !!(b.compareDocumentPosition(a)&16)}else{while((a=a.parentNode)){d=a===b||d}}}}return d},isPainted:(function(){return !Ext.browser.is.IE?function(){var a=this.dom;return Boolean(a&&a.offsetParent)}:function(){var a=this.dom;return Boolean(a&&(a.offsetHeight!==0&&a.offsetWidth!==0))}})(),isStyle:function(b,a){return this.getStyle(b)===a},isVisible:function(b){var a=this.dom,c;if(!a){return false}if(!aj){aj=new Ext.dom.Fly()}for(c=a.ownerDocument.documentElement;a!==c;a=a.parentNode){if(!a||a.nodeType===11||(aj.attach(a)).isStyle(aU,ae)||aj.isStyle(a0,am)){return false}if(!b){break}}return true},last:function(b,a){return this.matchNode("previousSibling","lastChild",b,a)},matchNode:function(e,a,g,d){var c=this.dom,b;if(!c){return null}b=c[a];while(b){if(b.nodeType===1&&(!g||Ext.fly(b,"_matchNode").is(g))){return !d?Ext.get(b):b}b=b[e]}return null},next:function(b,a){return this.matchNode("nextSibling","nextSibling",b,a)},parent:function(b,a){return this.matchNode("parentNode","parentNode",b,a)},position:function(a,b,e,c){var d=this;if(!a&&d.isStyle(ak,aL)){d.setStyle(ak,aM)}else{if(a){d.setStyle(ak,a)}}if(b){d.setStyle(aR,b)}if(e||c){d.setXY([e||false,c||false])}},prev:function(b,a){return this.matchNode("previousSibling","previousSibling",b,a)},query:function(l,a,c){var h=this.dom,e,d,b,m,n,g,j;if(!h){return null}a=(a!==false);l=l.split(",");if(!c){e=[]}for(g=0,d=l.length;g<d;g++){if(typeof l[g]==="string"){if(c){m=h.querySelector(l[g]);return a?m:Ext.get(m)}n=h.querySelectorAll(l[g]);for(j=0,b=n.length;j<b;j++){e.push(a?n[j]:Ext.get(n[j]))}}}return e},radioCls:function(b){var a=this.dom.parentNode.childNodes,d;b=Ext.isArray(b)?b:[b];for(var c=0,e=a.length;c<e;c++){d=a[c];if(d&&d.nodeType===1){Ext.fly(d).removeCls(b)}}return this.addCls(b)},redraw:function(){var a=this.dom,b=a.style;b.display="none";a.offsetHeight;b.display=""},remove:function(){this.destroy()},removeChild:function(a){this.dom.removeChild(Ext.getDom(a));return this},removeCls:function(d,g,b){var c=this,a,j,n,m,h,e,o,l=c.getData();if(!d){return c}if(!l.isSynchronized){c.synchronize()}if(!b){b=""}j=c.dom;n=l.classMap;m=l.classList;g=g?g+aG:"";b=b?aG+b:"";if(typeof d==="string"){d=d.split(av)}for(h=0,e=d.length;h<e;h++){o=g+d[h]+b;if(n[o]){delete n[o];Ext.Array.remove(m,o);a=true}}if(a){j.className=m.join(" ")}return c},repaint:function(){var a=this;a.addCls(Ext.baseCSSPrefix+"repaint");Ext.defer(function(){if(a.dom){Ext.fly(a.dom).removeCls(Ext.baseCSSPrefix+"repaint")}},1);return a},replace:function(c,d){c=Ext.getDom(c);var e=c.parentNode,a=c.id,b=this.dom;if(d!==false&&a&&Ext.cache[a]){e.insertBefore(b,c);Ext.get(c).destroy()}else{e.replaceChild(b,c)}return this},replaceCls:function(m,c,e,a){var b=this,h,n,l,g,d,o,j=b.getData();if(!m&&!c){return b}m=m||[];c=c||[];if(!j.isSynchronized){b.synchronize()}if(!a){a=""}h=b.dom;n=j.classMap;l=j.classList;e=e?e+aG:"";a=a?aG+a:"";if(typeof m==="string"){m=m.split(av)}if(typeof c==="string"){c=c.split(av)}for(g=0,d=m.length;g<d;g++){o=e+m[g]+a;if(n[o]){delete n[o];Ext.Array.remove(l,o)}}for(g=0,d=c.length;g<d;g++){o=e+c[g]+a;if(!n[o]){n[o]=true;l.push(o)}}h.className=l.join(" ");return b},replaceWith:function(c){var b=this,a=b.dom,d=a.parentNode,g=Ext.cache,e;b.clearListeners();if(c.nodeType||c.dom||typeof c==="string"){c=Ext.get(c);e=d.insertBefore(c.dom,a)}else{e=Ext.DomHelper.insertBefore(a,c)}d.removeChild(a);b.dom=e;if(!b.isFly){delete g[b.id];g[b.id=Ext.id(e)]=b}return b},resolveListenerScope:function(a){var b=this.component;return b?b.resolveListenerScope(a):this},scroll:function(a,l,h){if(!this.isScrollable()){return false}a=a.charAt(0);var b=this,e=b.dom,c=a==="r"||a==="l"?"left":"top",j=false,g,d;if(a==="l"||a==="t"||a==="u"){l=-l}if(c==="left"){g=e.scrollLeft;d=b.constrainScrollLeft(g+l)}else{g=e.scrollTop;d=b.constrainScrollTop(g+l)}if(d!==g){this.scrollTo(c,d,h);j=true}return j},scrollBy:function(d,e,c){var b=this,a=b.dom;if(d.length){c=e;e=d[1];d=d[0]}else{if(typeof d!="number"){c=e;e=d.y;d=d.x}}if(d){b.scrollTo("left",b.constrainScrollLeft(a.scrollLeft+d),c)}if(e){b.scrollTo("top",b.constrainScrollTop(a.scrollTop+e),c)}return b},scrollChildIntoView:function(a,b){Ext.fly(a).scrollIntoView(this,b)},scrollIntoView:function(d,a,b,c){d=Ext.getDom(d)||Ext.getBody().dom;return this.doScrollIntoView(d,a,b,c,"getScrollLeft","scrollTo")},scrollTo:function(d,b,g){var a=/top/i.test(d),c=this,h=a?"scrollTop":"scrollLeft",j=c.dom,e;if(!g||!c.anim){j[h]=b;j[h]=b}else{e={to:{}};e.to[h]=b;if(Ext.isObject(g)){Ext.applyIf(e,g)}c.animate(e)}return c},select:function(c,a){var d,b;if(typeof c==="string"){b=this.query(c,!a)}else{b=c;d=true}return a?new Ext.CompositeElement(b,!d):new Ext.CompositeElementLite(b,true)},selectNode:function(a,b){return this.query(a,b,true)},set:function(g,e){var c=this,a=c.dom,d,b;for(d in g){if(g.hasOwnProperty(d)){b=g[d];if(d==="style"){c.applyStyles(b)}else{if(d==="cls"){a.className=b}else{if(e!==false){if(b===undefined){a.removeAttribute(d)}else{a.setAttribute(d,b)}}else{a[d]=b}}}}}return c},setBottom:function(a){this.dom.style[at]=aP.addUnits(a);return this},setBorder:function(c){var a=this,b=a.dom.style;if(c||c===0){c=a.self.unitizeBox((c===true)?1:c);b.setProperty("border-width",c,"important")}else{b.removeProperty("border-top-width");b.removeProperty("border-right-width");b.removeProperty("border-bottom-width");b.removeProperty("border-left-width")}},setCls:function(c){var a=this,d=a.getData(),h=d.classMap,e,b,g;if(typeof c==="string"){c=c.split(av)}for(e=0,b=c.length;e<b;e++){g=c[e];if(!h[g]){h[g]=true}}d.classList=c.slice();a.dom.className=c.join(" ")},setHeight:function(b){var a=this;a.dom.style[aq]=aP.addUnits(b);if(a.shadow||a.shim){a.syncUnderlays()}return a},setHtml:function(a){if(this.dom){this.dom.innerHTML=a}},setId:function(a){var b=this,d=b.id,c=Ext.cache;if(d){delete c[d]}b.dom.id=a;b.id=a;c[a]=b;return b},setLeft:function(a){var b=this;b.dom.style[ax]=aP.addUnits(a);if(b.shadow||b.shim){b.syncUnderlays()}return b},setLocalX:function(c){var a=this,b=a.dom.style;b.right="auto";b.left=(c===null)?"auto":c+"px";if(a.shadow||a.shim){a.syncUnderlays()}return a},setLocalXY:function(d,a){var b=this,c=b.dom.style;c.right="auto";if(d&&d.length){a=d[1];d=d[0]}if(d===null){c.left="auto"}else{if(d!==undefined){c.left=d+"px"}}if(a===null){c.top="auto"}else{if(a!==undefined){c.top=a+"px"}}if(b.shadow||b.shim){b.syncUnderlays()}return b},setLocalY:function(a){var b=this;b.dom.style.top=(a===null)?"auto":a+"px";if(b.shadow||b.shim){b.syncUnderlays()}return b},setMargin:function(a){var b=this,c=b.dom.style;if(a||a===0){a=b.self.unitizeBox((a===true)?5:a);c.setProperty("margin",a,"important")}else{c.removeProperty("margin-top");c.removeProperty("margin-right");c.removeProperty("margin-bottom");c.removeProperty("margin-left")}},setMaxHeight:function(a){this.dom.style[aC]=aP.addUnits(a);return this},setMaxWidth:function(a){this.dom.style[aO]=aP.addUnits(a);return this},setMinHeight:function(a){this.dom.style[aZ]=aP.addUnits(a);return this},setMinWidth:function(a){this.dom.style[af]=aP.addUnits(a);return this},setPadding:function(a){var b=this,c=b.dom.style;if(a||a===0){a=b.self.unitizeBox((a===true)?5:a);c.setProperty("padding",a,"important")}else{c.removeProperty("padding-top");c.removeProperty("padding-right");c.removeProperty("padding-bottom");c.removeProperty("padding-left")}},setRight:function(a){this.dom.style[aE]=aP.addUnits(a);return this},setScrollLeft:function(a){this.dom.scrollLeft=a;return this},setScrollTop:function(a){this.dom.scrollTop=a;return this},setSize:function(b,d){var a=this,c=a.dom.style;if(Ext.isObject(b)){d=b.height;b=b.width}c.width=aP.addUnits(b);c.height=aP.addUnits(d);if(a.shadow||a.shim){a.syncUnderlays()}return a},setSizeState:function(b){var c=this,d=[Ext.baseCSSPrefix+"sized",Ext.baseCSSPrefix+"unsized",Ext.baseCSSPrefix+"stretched"],g=[true,false,null],e=g.indexOf(b),a;if(e!==-1){a=d[e];d.splice(e,1);c.addCls(a)}c.removeCls(d);return c},setStyle:function(h,a){var c=this,j=c.dom,g=c.styleHooks,d=j.style,e=h,b;if(typeof e==="string"){b=g[e];if(!b){g[e]=b={name:aP.normalize(e)}}a=(a==null)?"":a;if(b.set){b.set(j,a,c)}else{d[b.name]=a}if(b.afterSet){b.afterSet(j,a,c)}}else{for(e in h){if(h.hasOwnProperty(e)){b=g[e];if(!b){g[e]=b={name:aP.normalize(e)}}a=h[e];a=(a==null)?"":a;if(b.set){b.set(j,a,c)}else{d[b.name]=a}if(b.afterSet){b.afterSet(j,a,c)}}}}return c},setText:function(a){this.dom.textContent=a},setTop:function(a){var b=this;b.dom.style[an]=aP.addUnits(a);if(b.shadow||b.shim){b.syncUnderlays()}return b},setUnderlaysVisible:function(c){var a=this.shadow,b=this.shim;if(a&&!a.disabled){if(c){a.show()}else{a.hide()}}if(b&&!b.disabled){if(c){b.show()}else{b.hide()}}},setVisibility:function(b){var a=this.dom.style;if(b){a.removeProperty("visibility")}else{a.setProperty("visibility","hidden","important")}},setVisibilityMode:function(a){this.getData().visibilityMode=a;return this},setVisible:function(b){var d=this,c=d.getVisibilityMode(),a=b?"removeCls":"addCls";switch(c){case aP.DISPLAY:d.removeCls([aA,aT]);d[a](aD);break;case aP.VISIBILITY:d.removeCls([aD,aT]);d[a](aA);break;case aP.OFFSETS:d.removeCls([aA,aD]);d[a](aT);break}if(d.shadow||d.shim){d.setUnderlaysVisible(b)}return d},setWidth:function(b){var a=this;a.dom.style[aW]=aP.addUnits(b);if(a.shadow||a.shim){a.syncUnderlays()}return a},setX:function(a){return this.setXY([a,false])},setXY:function(c){var d=this,b=d.translatePoints(c),e=d.dom.style,a;d.position();e.right="auto";for(a in b){if(!isNaN(b[a])){e[a]=b[a]+"px"}}if(d.shadow||d.shim){d.syncUnderlays()}return d},setY:function(a){return this.setXY([false,a])},setZIndex:function(b){var a=this;if(a.shadow){a.shadow.setZIndex(b)}if(a.shim){a.shim.setZIndex(b)}return a.setStyle("z-index",b)},show:function(){this.setVisible(true);return this},swapCls:function(e,h,g,b){if(g===undefined){g=true}var c=this,a=g?e:h,d=g?h:e;if(d){c.removeCls(b?b+"-"+d:d)}if(a){c.addCls(b?b+"-"+a:a)}return c},synchronize:function(){var b=this,g=b.dom,a={},c=g.className,j,e,d,l,h=b.getData();if(c&&c.length>0){j=g.className.split(ad);for(e=0,d=j.length;e<d;e++){l=j[e];a[l]=true}}else{j=[]}h.classList=j;h.classMap=a;h.isSynchronized=true;return b},syncUnderlays:function(){var g=this,b=g.shadow,l=g.shim,j=g.dom,a,d,e,c,h;if(g.isVisible()){a=g.getXY();d=a[0];e=a[1];c=j.offsetWidth;h=j.offsetHeight;if(b&&!b.hidden){b.realign(d,e,c,h)}if(l&&!l.hidden){l.realign(d,e,c,h)}}},toggleCls:function(b,a){if(typeof a!=="boolean"){a=!this.hasCls(b)}return(a)?this.addCls(b):this.removeCls(b)},toggle:function(){this.setVisible(!this.isVisible());return this},translate:function(){var a="webkitTransform" in ao.createElement("div").style?"webkitTransform":"transform";return function(d,b,c){this.dom.style[a]="translate3d("+(d||0)+"px, "+(b||0)+"px, "+(c||0)+"px)"}}(),unwrap:function(){var a=this.dom,c=a.parentNode,b;if(c){b=c.parentNode;b.insertBefore(a,c);b.removeChild(c)}else{b=document.createDocumentFragment();b.appendChild(a)}return this},up:function(a,c,b){return this.findParentNode(a,c,!b)},update:function(a){return this.setHtml(a)},wrap:function(e,d,g){var c=this,h=c.dom,a=Ext.DomHelper.insertBefore(h,e||{tag:"div"},!d),b=a;if(g){b=a.selectNode(g,d)}b.appendChild(h);return a},privates:{doAddListener:function(g,c,b,a,m,n,l){var d=this,j,h,e;if(!d.blockedEvents[g]){j=d.mixins.observable.doAddListener;a=a||{};if(d.longpressEvents[g]){d.disableTouchContextMenu()}if(aP.useDelegatedEvents===false){a.delegated=a.delegated||false}if(a.translate!==false){h=d.additiveEvents[g];if(h){a.type=g;g=h;j.call(d,g,c,b,a,m,n,l)}e=d.eventMap[g];if(e){a.type=a.type||g;g=e}}j.call(d,g,c,b,a,m,n,l);delete a.type}},doRemoveListener:function(g,b,c){var a=this,d,h,j,e;if(!a.blockedEvents[g]){d=a.mixins.observable.doRemoveListener;if(a.longpressEvents[g]){e=this._contextMenuListenerRemover;if(e){e.destroy()}}j=a.additiveEvents[g];if(j){g=j;d.call(a,g,b,c)}h=a.eventMap[g];if(h){d.call(a,h,b,c)}d.call(a,g,b,c)}},_initEvent:function(a){return(this.events[a]=new Ext.dom.ElementEvent(this,a))},_getPublisher:function(c){var a=Ext.event.publisher.Publisher,b=a.publishersByEvent[c];if(!b||(this.dom===window&&c==="resize")){b=a.publishers.dom}return b}},deprecated:{"5.0":{methods:{cssTranslate:null,getHTML:"getHtml",getOuterHeight:null,getOuterWidth:null,getPageBox:function(l){var g=this,j=g.dom,d=j.nodeName==="BODY",c=d?aP.getViewportWidth():j.offsetWidth,h=d?aP.getViewportHeight():j.offsetHeight,a=g.getXY(),b=a[1],n=a[0]+c,e=a[1]+h,m=a[0];if(l){return new Ext.util.Region(b,n,e,m)}else{return{left:m,top:b,width:c,height:h,right:n,bottom:e}}},getScrollParent:null,isDescendent:null,isTransparent:function(a){var b=this.getStyle(a);return b?a1.test(b):false},purgeAllListeners:"clearListeners",removeAllListeners:"clearListeners",setHTML:"setHtml",setTopLeft:null}}}}},function(V){var an=document,ad=V.prototype,ab=Ext.supports,N="pointerdown",ak="pointermove",am="pointerup",al="pointercancel",ah="MSPointerDown",ac="MSPointerMove",W="MSPointerUp",ao="MSPointerCancel",Q="mousedown",Y="mousemove",O="mouseup",M="mouseover",P="mouseout",X="mouseenter",aj="mouseleave",K="touchstart",ae="touchmove",U="touchend",ai="touchcancel",T="click",ag="dblclick",L="tap",S="doubletap",af=ad.eventMap={},R=ad.additiveEvents={},aa=Ext.id,Z;Ext.id=function(e,a){var b=Ext.getDom(e,true),d,c;if(!b){c=aa(e,a)}else{if(!(c=b.id)){c=aa(null,a||V.prototype.identifiablePrefix);if(Ext.isSandboxed){d=Ext.sandboxPrefix||(Ext.sandboxPrefix=Ext.sandboxName.toLowerCase()+"-");c=d+c}b.id=c}}return c};if(ab.PointerEvents){af[Q]=N;af[Y]=ak;af[O]=am;af[K]=N;af[ae]=ak;af[U]=am;af[ai]=al;af[T]=L;af[ag]=S;af[M]="pointerover";af[P]="pointerout";af[X]="pointerenter";af[aj]="pointerleave"}else{if(ab.MSPointerEvents){af[N]=ah;af[ak]=ac;af[am]=W;af[al]=ao;af[Q]=ah;af[Y]=ac;af[O]=W;af[K]=ah;af[ae]=ac;af[U]=W;af[ai]=ao;af[T]=L;af[ag]=S;af[M]="MSPointerOver";af[P]="MSPointerOut"}else{if(ab.TouchEvents){af[N]=K;af[ak]=ae;af[am]=U;af[al]=ai;af[Q]=K;af[Y]=ae;af[O]=U;af[T]=L;af[ag]=S;if(Ext.isWebKit&&Ext.os.is.Desktop){af[K]=Q;af[ae]=Y;af[U]=O;af[ai]=O;R[Q]=Q;R[Y]=Y;R[O]=O;R[K]=K;R[ae]=ae;R[U]=U;R[ai]=ai;R[N]=Q;R[ak]=Y;R[am]=O;R[al]=O}}else{af[N]=Q;af[ak]=Y;af[am]=O;af[al]=O;af[K]=Q;af[ae]=Y;af[U]=O;af[ai]=O}}}if(Ext.isWebKit){af.transitionend=Ext.browser.getVendorProperyName("transitionEnd");af.animationstart=Ext.browser.getVendorProperyName("animationStart");af.animationend=Ext.browser.getVendorProperyName("animationEnd")}if(!Ext.supports.MouseWheel&&!Ext.isOpera){af.mousewheel="DOMMouseScroll"}Z=ad.$eventOptions=Ext.Object.chain(ad.$eventOptions);Z.translate=Z.capture=Z.delegate=Z.delegated=Z.stopEvent=Z.preventDefault=Z.stopPropagation=Z.element=1;ad.getTrueXY=ad.getXY;Ext.select=V.select;Ext.query=V.query;Ext.apply(Ext,{get:function(a){return V.get(a)},getDom:function(a){if(!a||!an){return null}return a.dom||(typeof a==="string"?Ext.getElementById(a):a)},getBody:function(){if(!Ext._bodyEl){if(!an.body){throw new Error("[Ext.getBody] document.body does not yet exist")}Ext._bodyEl=Ext.get(an.body)}return Ext._bodyEl},getHead:function(){if(!Ext._headEl){Ext._headEl=Ext.get(an.head||an.getElementsByTagName("head")[0])}return Ext._headEl},getDoc:function(){if(!Ext._docEl){Ext._docEl=Ext.get(an)}return Ext._docEl},getWin:function(){if(!Ext._winEl){Ext._winEl=Ext.get(window)}return Ext._winEl},removeNode:function(d){var c=d&&d.id,a=Ext.cache[c],b;if(a){a.destroy()}else{if(d&&d.tagName.toUpperCase()!=="BODY"){b=d.parentNode;if(b){b.removeChild(d)}}}}});Ext.isGarbage=function(a){return a&&a.nodeType===1&&a.tagName!=="BODY"&&a.tagName!=="HTML"&&(!a.parentNode||(!a.offsetParent&&((Ext.isIE8?an.all[a.id]:an.getElementById(a.id))!==a)&&!(Ext.detachedBodyEl&&Ext.detachedBodyEl.isAncestor(a))))}});Ext.define("Ext.util.Filter",{isFilter:true,config:{property:null,value:null,filterFn:null,id:null,anyMatch:false,exactMatch:false,caseSensitive:false,disabled:false,disableOnEmpty:false,operator:null,root:null,serializer:null,convert:null},scope:null,$configStrict:false,statics:{createFilterFn:function(b){if(!b){return Ext.returnTrue}return function(l){var a=b.isCollection?b.items:b,j=a.length,o=true,n,m;for(n=0;o&&n<j;n++){m=a[n];if(!m.getDisabled()){o=m.filter(l)}}return o}},isInvalid:function(b){if(!b.filterFn){if(!b.property){return"A Filter requires either a property or a filterFn to be set"}if(!b.hasOwnProperty("value")&&!b.operator){return"A Filter requires either a property and value, or a filterFn to be set"}}return false}},constructor:function(b){this.initConfig(b)},preventConvert:{"in":1},filter:function(g){var h=this,j=h._filterFn||h.getFilterFn(),l=h.getConvert(),m=h._value;h._filterValue=m;h.isDateValue=Ext.isDate(m);if(h.isDateValue){h.dateValue=m.getTime()}if(l&&!h.preventConvert[h.getOperator()]){h._filterValue=l.call(h.scope||h,m)}return j.call(h.scope||h,g)},getId:function(){var b=this._id;if(!b){b=this.getProperty();if(!b){b=Ext.id(null,"ext-filter-")}this._id=b}return b},getFilterFn:function(){var d=this,g=d._filterFn,e;if(!g){e=d.getOperator();if(e){g=d.operatorFns[e]}else{g=d.createRegexFilter()}d._filterFn=g}return g},createRegexFilter:function(){var g=this,j=!!g.getAnyMatch(),h=!!g.getExactMatch(),m=g.getValue(),l=Ext.String.createRegex(m,!j,!j&&h,!g.getCaseSensitive());return function(b){var a=g.getPropertyValue(b);return l?l.test(a):(a==null)}},getPropertyValue:function(d){var e=this._root,g=(e==null)?d:d[e];return g[this._property]},getState:function(){var g=this.getInitialConfig(),e={},d;for(d in g){if(g.hasOwnProperty(d)){e[d]=g[d]}}delete e.root;e.value=this.getValue();return e},getScope:function(){return this.scope},serialize:function(){var d=this.getState(),c=this.getSerializer();delete d.id;delete d.serializer;if(c){c.call(this,d)}return d},updateOperator:function(){this._filterFn=null},updateValue:function(b){this._filterFn=null;if(this.getDisableOnEmpty()){this.setDisabled(Ext.isEmpty(b))}},updateDisableOnEmpty:function(d){var c=false;if(d){c=Ext.isEmpty(this.getValue())}this.setDisabled(c)},privates:{getCandidateValue:function(o,h,m){var n=this,l=n._convert,j=n.getPropertyValue(o);if(l){j=l.call(n.scope||n,j)}else{if(!m){j=Ext.coerce(j,h)}}return j}}},function(){var d=this.prototype,c=(d.operatorFns={"<":function(a){var b=this._filterValue;return this.getCandidateValue(a,b)<b},"<=":function(a){var b=this._filterValue;return this.getCandidateValue(a,b)<=b},"=":function(b){var a=this,g=a._filterValue;b=a.getCandidateValue(b,g);if(a.isDateValue&&b instanceof Date){b=b.getTime();g=a.dateValue}return b==g},"===":function(b){var a=this,g=a._filterValue;b=a.getCandidateValue(b,g,true);if(a.isDateValue&&b instanceof Date){b=b.getTime();g=a.dateValue}return b===g},">=":function(a){var b=this._filterValue;return this.getCandidateValue(a,b)>=b},">":function(a){var b=this._filterValue;return this.getCandidateValue(a,b)>b},"!=":function(b){var a=this,g=a._filterValue;b=a.getCandidateValue(b,g);if(a.isDateValue&&b instanceof Date){b=b.getTime();g=a.dateValue}return b!=g},"!==":function(b){var a=this,g=a._filterValue;b=a.getCandidateValue(b,g,true);if(a.isDateValue&&b instanceof Date){b=b.getTime();g=a.dateValue}return b!==g},"in":function(a){var b=this._filterValue;return Ext.Array.contains(b,this.getCandidateValue(a,b))},like:function(a){var b=this._filterValue;return b&&this.getCandidateValue(a,b).toLowerCase().indexOf(b.toLowerCase())>-1}});c["=="]=c["="];c.gt=c[">"];c.ge=c[">="];c.lt=c["<"];c.le=c["<="];c.eq=c["="];c.ne=c["!="]});Ext.define("E.overrides.Filter",{override:"Ext.util.Filter",config:{skipOnNull:null},statics:{createFilterFn:function(b){if(!b){return Ext.returnTrue}return function(n){var a=b.isCollection?b.items:b,m=a.length,q=true,p,o,l;for(p=0;q&&p<m;p++){o=a[p];if(!o.getDisabled()&&!(o._skipOnNull&&(o._value===null||o._value===""))){q=o.filter(n)}}return q}}}});Ext.define("Ext.util.Observable",{extend:Ext.mixin.Observable,$applyConfigs:true});Ext.define("Ext.util.AbstractMixedCollection",{mixins:{observable:Ext.util.Observable},isMixedCollection:true,generation:0,indexGeneration:0,constructor:function(d,e){var g=this;if(arguments.length===1&&Ext.isObject(d)){g.initialConfig=d;Ext.apply(g,d)}else{g.allowFunctions=d===true;if(e){g.getKey=e}g.initialConfig={allowFunctions:g.allowFunctions,getKey:g.getKey}}g.items=[];g.map={};g.keys=[];g.indexMap={};g.length=0;g.mixins.observable.constructor.call(g)},allowFunctions:false,add:function(j,h){var g=this.length,e;if(arguments.length===1){e=this.insert(g,j)}else{e=this.insert(g,j,h)}return e},getKey:function(b){return b.id},replace:function(m,j){var l=this,h,g;if(arguments.length==1){j=arguments[0];m=l.getKey(j)}h=l.map[m];if(typeof m=="undefined"||m===null||typeof h=="undefined"){return l.add(m,j)}l.generation++;g=l.indexOfKey(m);l.items[g]=j;l.map[m]=j;if(l.hasListeners.replace){l.fireEvent("replace",m,h,j)}return j},updateKey:function(n,m){var p=this,o=p.map,l=p.indexOfKey(n),q=p.indexMap,j;if(l>-1){j=o[n];delete o[n];delete q[n];o[m]=j;q[m]=l;p.keys[l]=m;p.indexGeneration=++p.generation}},addAll:function(g){var d=this,e;if(arguments.length>1||Ext.isArray(g)){d.insert(d.length,arguments.length>1?arguments:g)}else{for(e in g){if(g.hasOwnProperty(e)){if(d.allowFunctions||typeof g[e]!="function"){d.add(e,g[e])}}}}},each:function(m,n){var h=Ext.Array.push([],this.items),o=0,j=h.length,l;for(;o<j;o++){l=h[o];if(m.call(n||l,l,o,j)===false){break}}},eachKey:function(m,n){var l=this.keys,h=this.items,o=0,j=l.length;for(;o<j;o++){m.call(n||window,l[o],h[o],o,j)}},findBy:function(m,n){var l=this.keys,h=this.items,o=0,j=h.length;for(;o<j;o++){if(m.call(n||window,h[o],l[o])){return h[o]}}return null},insert:function(e,j,h){var g;if(Ext.isIterable(j)){g=this.doInsert(e,j,h)}else{if(arguments.length>2){g=this.doInsert(e,[j],[h])}else{g=this.doInsert(e,[j])}g=g[0]}return g},doInsert:function(A,v,w){var y=this,H,G,C,z=v.length,I=z,D=y.hasListeners.add,F,B={},x,s,u;if(w!=null){y.useLinearSearch=true}else{w=v;v=new Array(z);for(C=0;C<z;C++){v[C]=this.getKey(w[C])}}y.suspendEvents();for(C=0;C<z;C++){H=v[C];G=y.indexOfKey(H);if(G!==-1){if(G<A){A--}y.removeAt(G)}if(H!=null){if(B[H]!=null){x=true;I--}B[H]=C}}y.resumeEvents();if(x){s=v;u=w;v=new Array(I);w=new Array(I);C=0;for(H in B){v[C]=s[B[H]];w[C]=u[B[H]];C++}z=I}F=A===y.length&&y.indexGeneration===y.generation;Ext.Array.insert(y.items,A,w);Ext.Array.insert(y.keys,A,v);y.length+=z;y.generation++;if(F){y.indexGeneration=y.generation}for(C=0;C<z;C++,A++){H=v[C];if(H!=null){y.map[H]=w[C];if(F){y.indexMap[H]=A}}if(D){y.fireEvent("add",A,w[C],H)}}return w},remove:function(h){var j=this,e,g;if(!j.useLinearSearch&&(e=j.getKey(h))){g=j.indexOfKey(e)}else{g=Ext.Array.indexOf(j.items,h)}return(g===-1)?false:j.removeAt(g)},removeAll:function(e){var g=this,d;if(e||g.hasListeners.remove){if(e){for(d=e.length-1;d>=0;--d){g.remove(e[d])}}else{while(g.length){g.removeAt(0)}}}else{g.length=g.items.length=g.keys.length=0;g.map={};g.indexMap={};g.generation++;g.indexGeneration=g.generation}},removeAt:function(g){var j=this,h,e;if(g<j.length&&g>=0){j.length--;h=j.items[g];Ext.Array.erase(j.items,g,1);e=j.keys[g];if(typeof e!="undefined"){delete j.map[e]}Ext.Array.erase(j.keys,g,1);if(j.hasListeners.remove){j.fireEvent("remove",h,e)}j.generation++;return h}return false},removeRange:function(o,v){var n=this,u,m,p,q,s,r;if(o<n.length&&o>=0){if(!v){v=1}q=Math.min(o+v,n.length);v=q-o;r=q===n.length;s=r&&n.indexGeneration===n.generation;for(p=o;p<q;p++){m=n.keys[p];if(m!=null){delete n.map[m];if(s){delete n.indexMap[m]}}}u=n.items[p-1];n.length-=v;n.generation++;if(s){n.indexGeneration=n.generation}if(r){n.items.length=n.keys.length=n.length}else{n.items.splice(o,v);n.keys.splice(o,v)}return u}return false},removeAtKey:function(e){var h=this,j=h.keys,g;if(e==null){for(g=j.length-1;g>=0;g--){if(j[g]==null){h.removeAt(g)}}}else{return h.removeAt(h.indexOfKey(e))}},getCount:function(){return this.length},indexOf:function(g){var d=this,e;if(g!=null){if(!d.useLinearSearch&&(e=d.getKey(g))){return this.indexOfKey(e)}return Ext.Array.indexOf(d.items,g)}return -1},indexOfKey:function(b){if(!this.map.hasOwnProperty(b)){return -1}if(this.indexGeneration!==this.generation){this.rebuildIndexMap()}return this.indexMap[b]},rebuildIndexMap:function(){var j=this,l=j.indexMap={},m=j.keys,h=m.length,g;for(g=0;g<h;g++){l[m[g]]=g}j.indexGeneration=j.generation},get:function(e){var h=this,g=h.map[e],j=g!==undefined?g:(typeof e=="number")?h.items[e]:undefined;return typeof j!="function"||h.allowFunctions?j:null},getAt:function(b){return this.items[b]},getByKey:function(b){return this.map[b]},contains:function(g){var d=this,e;if(g!=null){if(!d.useLinearSearch&&(e=d.getKey(g))){return this.map[e]!=null}return Ext.Array.indexOf(this.items,g)!==-1}return false},containsKey:function(b){return this.map.hasOwnProperty(b)},clear:function(){var b=this;if(b.generation){b.length=0;b.items=[];b.keys=[];b.map={};b.indexMap={};b.generation++;b.indexGeneration=b.generation}if(b.hasListeners.clear){b.fireEvent("clear")}},first:function(){return this.items[0]},last:function(){return this.items[this.length-1]},sum:function(o,l,n,m){var s=this.extractValues(o,l),p=s.length,q=0,r;n=n||0;m=(m||m===0)?m:p-1;for(r=n;r<=m;r++){q+=s[r]}return q},collect:function(o,s,q){var n=this.extractValues(o,s),x=n.length,w={},v=[],p,r,u;for(u=0;u<x;u++){p=n[u];r=String(p);if((q||!Ext.isEmpty(p))&&!w[r]){w[r]=true;v.push(p)}}return v},extractValues:function(g,e){var d=this.items;if(e){d=Ext.Array.pluck(d,e)}return Ext.Array.pluck(d,g)},hasRange:function(c,d){return(d<this.length)},getRange:function(n,l){var o=this,r=o.items,s=[],m=r.length,p,q;if(m<1){return s}if(n>l){q=true;p=n;n=l;l=p}if(n<0){n=0}if(l==null||l>=m){l=m-1}s=r.slice(n,l+1);if(q&&s.length){s.reverse()}return s},filter:function(l,m,j,h){var g=[];if(Ext.isString(l)){g.push(new Ext.util.Filter({property:l,value:m,anyMatch:j,caseSensitive:h}))}else{if(Ext.isArray(l)||l instanceof Ext.util.Filter){g=g.concat(l)}}return this.filterBy(Ext.util.Filter.createFilterFn(g))},filterBy:function(q,r){var n=this,m=new n.self(n.initialConfig),o=n.keys,l=n.items,p=l.length,s;m.getKey=n.getKey;for(s=0;s<p;s++){if(q.call(r||n,l[s],o[s])){m.add(o[s],l[s])}}m.useLinearSearch=n.useLinearSearch;return m},findIndex:function(m,g,j,l,h){if(Ext.isEmpty(g,false)){return -1}g=this.createValueMatcher(g,l,h);return this.findIndexBy(function(a){return a&&g.test(a[m])},null,j)},findIndexBy:function(q,r,n){var o=this,p=o.keys,l=o.items,s=n||0,m=l.length;for(;s<m;s++){if(q.call(r||o,l[s],p[s])){return s}}return -1},createValueMatcher:function(m,j,h,g){if(!m.exec){var l=Ext.String.escapeRegex;m=String(m);if(j===true){m=l(m)}else{m="^"+l(m);if(g===true){m+="$"}}m=new RegExp(m,h?"":"i")}return m},clone:function(){var d=this,c=new d.self(d.initialConfig);c.add(d.keys,d.items);c.useLinearSearch=d.useLinearSearch;return c}});Ext.define("Ext.util.Sorter",{isSorter:true,config:{property:null,sorterFn:null,root:null,transform:null,direction:"ASC",id:undefined},statics:{createComparator:function(c,d){d=d||0;return function(o,a){var m=c.isCollection?c.items:c,b=m.length,n,l;for(l=0;l<b;++l){n=m[l].sort(o,a);if(n){return n}}return d&&d(o,a)}}},multiplier:1,constructor:function(b){this.initConfig(b)},getId:function(){var b=this._id;if(!b){b=this.getProperty();if(!b){b=Ext.id(null,"ext-sorter-")}this._id=b}return b},sort:function(d,c){return this.multiplier*this.sortFn(d,c)},sortFn:function(r,s){var p=this,q=p._transform,l=p._root,o=p._property,m,n;if(l){r=r[l];s=s[l]}m=r[o];n=s[o];if(q){m=q(m);n=q(n)}return(m>n)?1:(m<n?-1:0)},applyDirection:function(b){return b?b:"ASC"},updateDirection:function(b){this.multiplier=(b.toUpperCase()==="DESC")?-1:1},updateProperty:function(b){if(b){delete this.sortFn}},updateSorterFn:function(b){this.sortFn=b},toggle:function(){this.setDirection(Ext.String.toggle(this.getDirection(),"ASC","DESC"))},getState:function(){return{root:this.getRoot(),property:this.getProperty(),direction:this.getDirection()}},serialize:function(){return{property:this.getProperty(),direction:this.getDirection()}}});Ext.define("Ext.util.Sortable",{isSortable:true,$configPrefixed:false,$configStrict:false,config:{sorters:null},defaultSortDirection:"ASC",multiSortLimit:3,statics:{createComparator:function(b){return b&&b.length?function(l,m){var a=b[0].sort(l,m),h=b.length,j=1;for(;!a&&j<h;j++){a=b[j].sort.call(this,l,m)}return a}:function(){return 0}}},applySorters:function(g){var d=this,e=d.getSorters()||new Ext.util.MixedCollection(false,Ext.returnId);if(g){e.addAll(d.decodeSorters(g))}return e},sort:function(o,p,m,q){var l=this,n,r,s=l.getSorters();if(!s){l.setSorters(null);s=l.getSorters()}if(Ext.isArray(o)){q=m;m=p}else{if(Ext.isObject(o)){o=[o];q=m;m=p}else{if(Ext.isString(o)){n=s.get(o);if(!n){n={property:o,direction:p}}else{if(p==null){n.toggle()}else{n.setDirection(p)}}o=[n]}}}if(o&&o.length){o=l.decodeSorters(o);switch(m){case"multi":s.insert(0,o[0]);r=s.getCount()-l.multiSortLimit;if(r>0){s.removeRange(l.multiSortLimit,r)}break;case"prepend":s.insert(0,o);break;case"append":s.addAll(o);break;case undefined:case null:case"replace":s.clear();s.addAll(o);break;default:}}if(q!==false){l.fireEvent("beforesort",l,o);l.onBeforeSort(o);if(l.getSorterCount()){l.doSort(l.generateComparator())}}return o},getSorterCount:function(){return this.getSorters().items.length},generateComparator:function(){var b=this.getSorters().getRange();return b.length?this.createComparator(b):this.emptyComparator},emptyComparator:function(){return 0},onBeforeSort:Ext.emptyFn,decodeSorters:function(n){if(!Ext.isArray(n)){if(n===undefined){n=[]}else{n=[n]}}var p=n.length,m=Ext.util.Sorter,j=this.getModel?this.getModel():this.model,o,l,q;for(q=0;q<p;q++){l=n[q];if(!(l instanceof m)){if(Ext.isString(l)){l={property:l}}Ext.applyIf(l,{root:this.sortRoot,direction:"ASC"});if(l.fn){l.sorterFn=l.fn}if(typeof l=="function"){l={sorterFn:l}}if(j&&!l.transform){o=j.getField(l.property);l.transform=o&&o.sortType!==Ext.identityFn?o.sortType:undefined}n[q]=new Ext.util.Sorter(l)}}return n},getFirstSorter:function(){var j=this.getSorters().items,g=j.length,e=0,h;for(;e<g;++e){h=j[e];if(!h.isGrouper){return h}}return null}},function(){this.prototype.createComparator=this.createComparator});Ext.define("Ext.util.MixedCollection",{extend:Ext.util.AbstractMixedCollection,mixins:{sortable:Ext.util.Sortable},constructor:function(){var b=this;b.initConfig();b.callParent(arguments)},doSort:function(b){this.sortBy(b)},_sort:function(o,y,q){var r=this,w,v,x=String(y).toUpperCase()=="DESC"?-1:1,s=[],c=r.keys,u=r.items,z;q=q||function(a,b){return a-b};for(w=0,v=u.length;w<v;w++){s[s.length]={key:c[w],value:u[w],index:w}}Ext.Array.sort(s,function(a,b){return q(a[o],b[o])*x||(a.index<b.index?-1:1)});for(w=0,v=s.length;w<v;w++){z=s[w];u[w]=z.value;c[w]=z.key;r.indexMap[z.key]=w}r.generation++;r.indexGeneration=r.generation;r.fireEvent("sort",r)},sortBy:function(l){var n=this,m=n.items,o,p=n.keys,r,q=m.length,s;for(s=0;s<q;s++){m[s].$extCollectionIndex=s}Ext.Array.sort(m,function(a,b){return l(a,b)||(a.$extCollectionIndex<b.$extCollectionIndex?-1:1)});for(s=0;s<q;s++){o=m[s];r=n.getKey(o);p[s]=r;n.indexMap[r]=s;delete m.$extCollectionIndex}n.generation++;n.indexGeneration=n.generation;n.fireEvent("sort",n,m,p)},findInsertionIndex:function(q,r){var p=this,l=p.items,n=0,m=l.length-1,s,o;if(!r){r=p.generateComparator()}while(n<=m){s=(n+m)>>1;o=r(q,l[s]);if(o>=0){n=s+1}else{if(o<0){m=s-1}}}return n},reorder:function(r){var o=this,l=o.items,s=0,p=l.length,m=[],q=[],n;o.suspendEvents();for(n in r){m[r[n]]=l[n]}for(s=0;s<p;s++){if(r[s]==undefined){q.push(l[s])}}for(s=0;s<p;s++){if(m[s]==undefined){m[s]=q.shift()}}o.clear();o.addAll(m);o.resumeEvents();o.fireEvent("sort",o)},sortByKey:function(d,c){this._sort("key",d,c||function(h,j){var a=String(h).toUpperCase(),b=String(j).toUpperCase();return a>b?1:(a<b?-1:0)})}});Ext.define("Ext.util.TaskRunner",{interval:10,timerId:null,constructor:function(d){var c=this;if(typeof d=="number"){c.interval=d}else{if(d){Ext.apply(c,d)}}c.tasks=[];c.timerFn=Ext.Function.bind(c.onTick,c)},newTask:function(c){var d=new Ext.util.TaskRunner.Task(c);d.manager=this;return d},start:function(e){var g=this,d=Ext.Date.now();if(!e.pending){g.tasks.push(e);e.pending=true}e.stopped=false;e.taskStartTime=d;e.taskRunTime=e.fireOnStart!==false?0:e.taskStartTime;e.taskRunCount=0;if(!g.firing){if(e.fireOnStart!==false){g.startTimer(0,d)}else{g.startTimer(e.interval,d)}}return e},stop:function(b){if(!b.stopped){b.stopped=true;if(b.onStop){b.onStop.call(b.scope||b,b)}}return b},stopAll:function(){Ext.each(this.tasks,this.stop,this)},firing:false,nextExpires:1e+99,onTick:function(){var w=this,C=w.tasks,I=Ext.Date.now(),v=1e+99,y=C.length,F=Ext.GlobalEvents,G,u,A,H,D,B,s;w.timerId=null;w.firing=true;for(A=0;A<y||A<(y=C.length);++A){H=C[A];if(!(B=H.stopped)){G=H.taskRunTime+H.interval;if(G<=I){D=1;if(H.hasOwnProperty("fireIdleEvent")){s=H.fireIdleEvent}else{s=w.fireIdleEvent}try{D=H.run.apply(H.scope||H,H.args||[++H.taskRunCount])}catch(z){try{if(H.onError){D=H.onError.call(H.scope||H,H,z)}}catch(x){}}H.taskRunTime=I;if(D===false||H.taskRunCount===H.repeat){w.stop(H);B=true}else{B=H.stopped;G=I+H.interval}}if(!B&&H.duration&&H.duration<=(I-H.taskStartTime)){w.stop(H);B=true}}if(B){H.pending=false;if(!u){u=C.slice(0,A)}}else{if(u){u.push(H)}if(v>G){v=G}}}if(u){w.tasks=u}w.firing=false;if(w.tasks.length){w.startTimer(v-I,Ext.Date.now())}if(s!==false&&F.hasListeners.idle){F.fireEvent("idle")}},startTimer:function(j,m){var l=this,g=m+j,h=l.timerId;if(h&&l.nextExpires-g>l.interval){clearTimeout(h);h=null}if(!h){if(j<l.interval){j=l.interval}l.timerId=Ext.defer(l.timerFn,j);l.nextExpires=g}}},function(){var c=this,d=c.prototype;d.destroy=d.stopAll;c.Task=new Ext.Class({isTask:true,stopped:true,fireOnStart:false,constructor:function(a){Ext.apply(this,a)},restart:function(a){if(a!==undefined){this.interval=a}this.manager.start(this)},start:function(a){if(this.stopped){this.restart(a)}},stop:function(){this.manager.stop(this)}});d=c.Task.prototype;d.destroy=d.stop});Ext.define("Ext.fx.target.Target",{isAnimTarget:true,constructor:function(b){this.target=b;this.id=this.getId()},getId:function(){return this.target.id},remove:function(){Ext.destroy(this.target)}});Ext.define("Ext.fx.target.Element",{extend:Ext.fx.target.Target,type:"element",getElVal:function(d,e,g){if(g==undefined){if(e==="x"){g=d.getX()}else{if(e==="y"){g=d.getY()}else{if(e==="scrollTop"){g=d.getScroll().top}else{if(e==="scrollLeft"){g=d.getScroll().left}else{if(e==="height"){g=d.getHeight()}else{if(e==="width"){g=d.getWidth()}else{g=d.getStyle(e)}}}}}}}return g},getAttr:function(e,g){var d=this.target;return[[d,this.getElVal(d,e,g)]]},setAttr:function(n){var q=this.target,o=n.length,j,p,u,r,s,v;for(r=0;r<o;r++){j=n[r].attrs;for(p in j){if(j.hasOwnProperty(p)){v=j[p].length;for(s=0;s<v;s++){u=j[p][s];this.setElVal(u[0],p,u[1])}}}}},setElVal:function(d,e,g){if(e==="x"){d.setX(g)}else{if(e==="y"){d.setY(g)}else{if(e==="scrollTop"){d.scrollTo("top",g)}else{if(e==="scrollLeft"){d.scrollTo("left",g)}else{if(e==="width"){d.setWidth(g)}else{if(e==="height"){d.setHeight(g)}else{d.setStyle(e,g)}}}}}}}});Ext.define("Ext.fx.target.ElementCSS",{extend:Ext.fx.target.Element,setAttr:function(s,z){var j={attrs:[],duration:[],easing:[]},u=s.length,y,o,w,v,B,C,x,A,D;for(x=0;x<u;x++){o=s[x];B=o.duration;v=o.easing;o=o.attrs;for(w in o){if(Ext.Array.indexOf(j.attrs,w)==-1){j.attrs.push(w.replace(/[A-Z]/g,function(a){return"-"+a.toLowerCase()}));j.duration.push(B+"ms");j.easing.push(v)}}}y=j.attrs.join(",");B=j.duration.join(",");v=j.easing.join(", ");for(x=0;x<u;x++){o=s[x].attrs;for(w in o){D=o[w].length;for(A=0;A<D;A++){C=o[w][A];C[0].setStyle(Ext.supports.CSS3Prefix+"TransitionProperty",z?"":y);C[0].setStyle(Ext.supports.CSS3Prefix+"TransitionDuration",z?"":B);C[0].setStyle(Ext.supports.CSS3Prefix+"TransitionTimingFunction",z?"":v);C[0].setStyle(w,C[1]);if(z){C=C[0].dom.offsetWidth}else{C[0].on(Ext.supports.CSS3TransitionEnd,function(){this.setStyle(Ext.supports.CSS3Prefix+"TransitionProperty",null);this.setStyle(Ext.supports.CSS3Prefix+"TransitionDuration",null);this.setStyle(Ext.supports.CSS3Prefix+"TransitionTimingFunction",null)},C[0],{single:true})}}}}}});Ext.define("Ext.fx.target.CompositeElement",{extend:Ext.fx.target.Element,isComposite:true,constructor:function(b){b.id=b.id||Ext.id(null,"ext-composite-");this.callParent([b])},getAttr:function(m,n){var l=[],o=this.target,p=o.elements,q=p.length,s,r;for(s=0;s<q;s++){r=p[s];if(r){r=o.getElement(r);l.push([r,this.getElVal(r,m,n)])}}return l},setAttr:function(u){var w=this.target,v=u.length,C=w.elements,j=C.length,s,A,o,x,B,y,z,D;for(y=0;y<v;y++){o=u[y].attrs;for(x in o){if(o.hasOwnProperty(x)){D=o[x].length;for(z=0;z<D;z++){s=o[x][z][1];for(A=0;A<j;++A){el=C[A];if(el){el=w.getElement(el);this.setElVal(el,x,s)}}}}}}},remove:function(){this.target.destroy()}});Ext.define("Ext.fx.target.CompositeElementCSS",{extend:Ext.fx.target.CompositeElement,setAttr:function(){return Ext.fx.target.ElementCSS.prototype.setAttr.apply(this,arguments)}});Ext.define("Ext.fx.target.Sprite",{extend:Ext.fx.target.Target,type:"draw",getFromPrim:function(d,e){var g;switch(e){case"rotate":case"rotation":g=d.attr.rotation;return{x:g.x||0,y:g.y||0,degrees:g.degrees||0};case"scale":case"scaling":g=d.attr.scaling;return{x:g.x||1,y:g.y||1,cx:g.cx||0,cy:g.cy||0};case"translate":case"translation":g=d.attr.translation;return{x:g.x||0,y:g.y||0};default:return d.attr[e]}},getAttr:function(d,c){return[[this.target,c!=undefined?c:this.getFromPrim(this.target,d)]]},setAttr:function(x){var B=x.length,z=[],G,C,u,I,j,v,w,D,F,y,A,H;for(D=0;D<B;D++){G=x[D].attrs;for(C in G){u=G[C];H=u.length;for(F=0;F<H;F++){j=u[F][0];I=u[F][1];if(C==="translate"||C==="translation"){w={x:I.x,y:I.y}}else{if(C==="rotate"||C==="rotation"){y=I.x;if(isNaN(y)){y=null}A=I.y;if(isNaN(A)){A=null}w={degrees:I.degrees,x:y,y:A}}else{if(C==="scale"||C==="scaling"){y=I.x;if(isNaN(y)){y=null}A=I.y;if(isNaN(A)){A=null}w={x:y,y:A,cx:I.cx,cy:I.cy}}else{if(C==="width"||C==="height"||C==="x"||C==="y"){w=parseFloat(I)}else{w=I}}}}v=Ext.Array.indexOf(z,j);if(v==-1){z.push([j,{}]);v=z.length-1}z[v][1][C]=w}}}B=z.length;for(D=0;D<B;D++){z[D][0].setAttributes(z[D][1])}this.target.redraw()}});Ext.define("Ext.fx.target.CompositeSprite",{extend:Ext.fx.target.Sprite,getAttr:function(l,m){var j=[],n=[].concat(this.target.items),o=n.length,p,q;for(p=0;p<o;p++){q=n[p];j.push([q,m!=undefined?m:this.getFromPrim(q,l)])}return j}});Ext.define("Ext.fx.target.Component",{extend:Ext.fx.target.Target,type:"component",getPropMethod:{top:function(){return this.getPosition(true)[1]},left:function(){return this.getPosition(true)[0]},x:function(){return this.getPosition()[0]},y:function(){return this.getPosition()[1]},height:function(){return this.getHeight()},width:function(){return this.getWidth()},opacity:function(){return this.el.getStyle("opacity")}},setMethods:{top:"setPosition",left:"setPosition",x:"setPagePosition",y:"setPagePosition",height:"setSize",width:"setSize",opacity:"setOpacity"},getAttr:function(d,c){return[[this.target,c!==undefined?c:this.getPropMethod[d].call(this.target)]]},setAttr:function(L,B,H){var h=this,j=L.length,G,o,F,A,C,w,D,M,J,z,I={},K;for(A=0;A<j;A++){G=L[A].attrs;for(o in G){w=G[o].length;for(C=0;C<w;C++){F=G[o][C];K=I[h.setMethods[o]]||(I[h.setMethods[o]]={});K.target=F[0];K[o]=F[1]}}if(I.setPosition){F=I.setPosition;D=(F.left===undefined)?undefined:parseFloat(F.left);M=(F.top===undefined)?undefined:parseFloat(F.top);F.target.setPosition(D,M)}if(I.setPagePosition){F=I.setPagePosition;F.target.setPagePosition(F.x,F.y)}if(I.setSize){F=I.setSize;J=(F.width===undefined)?F.target.getWidth():parseFloat(F.width);z=(F.height===undefined)?F.target.getHeight():parseFloat(F.height);F.target.el.setSize(J,z);if(H||h.dynamic){Ext.GlobalEvents.on({idle:Ext.Function.bind(F.target.setSize,F.target,[J,z]),single:true})}}if(I.setOpacity){F=I.setOpacity;F.target.el.setStyle("opacity",F.opacity)}}}});Ext.define("Ext.fx.Queue",{constructor:function(){this.targets=new Ext.util.HashMap();this.fxQueue={}},getFxDefaults:function(d){var c=this.targets.get(d);if(c){return c.fxDefaults}return{}},setFxDefaults:function(e,g){var d=this.targets.get(e);if(d){d.fxDefaults=Ext.apply(d.fxDefaults||{},g)}},stopAnimation:function(e){var h=this,g=h.getFxQueue(e),j=g.length;while(j){g[j-1].end();j--}},getActiveAnimation:function(c){var d=this.getFxQueue(c);return(d&&!!d.length)?d[0]:false},hasFxBlock:function(c){var d=this.getFxQueue(c);return d&&d[0]&&d[0].block},getFxQueue:function(e){if(!e){return false}var j=this,g=j.fxQueue[e],h=j.targets.get(e);if(!h){return false}if(!g){j.fxQueue[e]=[];if(h.type!="element"){h.target.on("destroy",function(){j.fxQueue[e]=[]})}}return j.fxQueue[e]},queueFx:function(l){var m=this,j=l.target,h,g;if(!j){return}h=m.getFxQueue(j.getId());g=h.length;if(g){if(l.concurrent){l.paused=false}else{h[g-1].on("afteranimate",function(){l.paused=false})}}else{l.paused=false}l.on("afteranimate",function(){Ext.Array.remove(h,l);if(h.length===0){m.targets.remove(l.target)}if(l.remove){if(j.type=="element"){var a=Ext.get(j.id);if(a){a.destroy()}}}},m,{single:true});h.push(l)}});Ext.define("Ext.fx.Manager",{singleton:true,mixins:{queue:Ext.fx.Queue},constructor:function(){var b=this;b.items=new Ext.util.MixedCollection();b.targetArr={};b.mixins.queue.constructor.call(b);b.taskRunner=new Ext.util.TaskRunner()},interval:16,forceJS:true,createTarget:function(h){var e=this,j=!e.forceJS&&Ext.supports.Transitions,g;e.useCSS3=j;if(h){if(h.tagName||Ext.isString(h)||h.isFly){h=Ext.get(h);g=new Ext.fx.target["Element"+(j?"CSS":"")](h)}else{if(h.dom){g=new Ext.fx.target["Element"+(j?"CSS":"")](h)}else{if(h.isComposite){g=new Ext.fx.target["CompositeElement"+(j?"CSS":"")](h)}else{if(h.isSprite){g=new Ext.fx.target.Sprite(h)}else{if(h.isCompositeSprite){g=new Ext.fx.target.CompositeSprite(h)}else{if(h.isComponent){g=new Ext.fx.target.Component(h)}else{if(h.isAnimTarget){return h}else{return null}}}}}}}e.targets.add(g);return g}else{return null}},addAnim:function(h){var j=this,e=j.items,g=j.task;e.add(h.id,h);if(!g&&e.length){g=j.task={run:j.runner,interval:j.interval,scope:j};j.taskRunner.start(g)}},removeAnim:function(h){var j=this,e=j.items,g=j.task;e.removeAtKey(h.id);if(g&&!e.length){j.taskRunner.stop(g);delete j.task}},runner:function(){var l=this,g=l.items.getRange(),m=0,h=g.length,j;l.targetArr={};l.timestamp=new Date();for(;m<h;m++){j=g[m];if(j.isReady()){l.startAnim(j)}}for(m=0;m<h;m++){j=g[m];if(j.isRunning()){l.runAnim(j)}}l.applyPendingAttrs()},startAnim:function(b){b.start(this.timestamp)},runAnim:function(q,m){if(!q){return}var r=this,o=r.useCSS3&&q.target.type=="element",l=r.timestamp-q.startTime,s=(l>=q.duration),p,n;if(m){l=q.duration;s=true}p=this.collectTargetData(q,l,o,s);if(o){q.target.setAttr(p.anims[q.id].attributes,true);r.collectTargetData(q,q.duration,o,s);q.paused=true;p=q.target.target;if(q.target.isComposite){p=q.target.target.last()}n={};n[Ext.supports.CSS3TransitionEnd]=q.lastFrame;n.scope=q;n.single=true;p.on(n)}return p},jumpToEnd:function(d){var c=this.runAnim(d,true);this.applyAnimAttrs(c,c.anims[d.id])},collectTargetData:function(o,j,m,l){var h=o.target.getId(),n=this.targetArr[h];if(!n){n=this.targetArr[h]={id:h,el:o.target,anims:{}}}n.anims[o.id]={id:o.id,anim:o,elapsed:j,isLastFrame:l,attributes:[{duration:o.duration,easing:(m&&o.reverse)?o.easingFn.reverse().toCSS3():o.easing,attrs:o.runAnim(j)}]};return n},applyAnimAttrs:function(g,e){var d=e.anim;if(e.attributes&&d.isRunning()){g.el.setAttr(e.attributes,false,e.isLastFrame);if(e.isLastFrame){d.lastFrame()}}},applyPendingAttrs:function(){var m=this.targetArr,l,o,h,n,j;for(o in m){if(m.hasOwnProperty(o)){l=m[o];for(j in l.anims){if(l.anims.hasOwnProperty(j)){h=l.anims[j];n=h.anim;if(h.attributes&&n.isRunning()){l.el.setAttr(h.attributes,false,h.isLastFrame);if(h.isLastFrame){n.lastFrame()}}}}}}}});Ext.define("Ext.fx.Animator",{mixins:{observable:Ext.util.Observable},isAnimator:true,duration:250,delay:0,delayStart:0,dynamic:false,easing:"ease",running:false,paused:false,damper:1,iterations:1,currentIteration:0,keyframeStep:0,animKeyFramesRE:/^(from|to|\d+%?)$/,constructor:function(d){var c=this;d=Ext.apply(c,d||{});c.config=d;c.id=Ext.id(null,"ext-animator-");c.mixins.observable.constructor.call(c,d);c.timeline=[];c.createTimeline(c.keyframes);if(c.target){c.applyAnimator(c.target);Ext.fx.Manager.addAnim(c)}},sorter:function(a,b){return a.pct-b.pct},createTimeline:function(w){var s=this,p=[],r=s.to||{},y=s.duration,o,z,x,u,q,v;for(q in w){if(w.hasOwnProperty(q)&&s.animKeyFramesRE.test(q)){v={attrs:Ext.apply(w[q],r)};if(q=="from"){q=0}else{if(q=="to"){q=100}}v.pct=parseInt(q,10);p.push(v)}}Ext.Array.sort(p,s.sorter);u=p.length;for(x=0;x<u;x++){o=(p[x-1])?y*(p[x-1].pct/100):0;z=y*(p[x].pct/100);s.timeline.push({duration:z-o,attrs:p[x].attrs})}},applyAnimator:function(u){var q=this,p=[],n=q.timeline,r=n.length,w,s,x,o,v;if(q.fireEvent("beforeanimate",q)!==false){for(v=0;v<r;v++){w=n[v];o=w.attrs;s=o.easing||q.easing;x=o.damper||q.damper;delete o.easing;delete o.damper;w=new Ext.fx.Anim({target:u,easing:s,damper:x,duration:w.duration,paused:true,to:o});p.push(w)}q.animations=p;q.target=w.target;for(v=0;v<r-1;v++){w=p[v];w.nextAnim=p[v+1];w.on("afteranimate",function(){this.nextAnim.paused=false});w.on("afteranimate",function(){this.fireEvent("keyframe",this,++this.keyframeStep)},q)}p[r-1].on("afteranimate",function(){this.lastFrame()},q)}},start:function(l){var j=this,m=j.delay,g=j.delayStart,h;if(m){if(!g){j.delayStart=l;return}else{h=l-g;if(h<m){return}else{l=new Date(g.getTime()+m)}}}if(j.fireEvent("beforeanimate",j)!==false){j.startTime=l;j.running=true;j.animations[j.keyframeStep].paused=false}},lastFrame:function(){var g=this,e=g.iterations,d=g.currentIteration;d++;if(d<e){g.startTime=new Date();g.currentIteration=d;g.keyframeStep=0;g.applyAnimator(g.target);g.animations[g.keyframeStep].paused=false}else{g.currentIteration=0;g.end()}},end:function(){var b=this;b.fireEvent("afteranimate",b,b.startTime,new Date()-b.startTime)},isReady:function(){return this.paused===false&&this.running===false&&this.iterations>0},isRunning:function(){return false}});Ext.define("Ext.fx.CubicBezier",{singleton:true,cubicBezierAtTime:function(u,F,H,v,w,A){var z=3*F,x=3*(v-F)-z,I=1-z-x,B=3*H,y=3*(w-H)-B,s=1-B-y;function C(a){return((I*a+x)*a+z)*a}function G(c,a){var b=D(c,a);return((s*b+y)*b+B)*b}function D(e,j){var a,g,b,d,h,c;for(b=e,c=0;c<8;c++){d=C(b)-e;if(Math.abs(d)<j){return b}h=(3*I*b+2*x)*b+z;if(Math.abs(h)<0.000001){break}b=b-d/h}a=0;g=1;b=e;if(b<a){return a}if(b>g){return g}while(a<g){d=C(b);if(Math.abs(d-e)<j){return b}if(e>d){a=b}else{g=b}b=(g-a)/2+a}return b}return G(u,1/(200*A))},cubicBezier:function(g,j,h,m){var l=function(a){return Ext.fx.CubicBezier.cubicBezierAtTime(a,g,j,h,m,1)};l.toCSS3=function(){return"cubic-bezier("+[g,j,h,m].join(",")+")"};l.reverse=function(){return Ext.fx.CubicBezier.cubicBezier(1-h,1-m,1-g,1-j)};return l}});Ext.require("Ext.fx.CubicBezier",function(){var o=Math,m=o.PI,p=o.pow,j=o.sin,n=o.sqrt,l=o.abs,q=1.70158;Ext.define("Ext.fx.Easing",{singleton:true,linear:Ext.identityFn,ease:function(c){var g=0.07813-c/2,b=-0.25,a=n(0.0066+g*g),w=a-g,d=p(l(w),1/3)*(w<0?-1:1),x=-a-g,e=p(l(x),1/3)*(x<0?-1:1),h=d+e+0.25;return p(1-h,2)*3*h*0.1+(1-h)*3*h*h+h*h*h},easeIn:function(a){return p(a,1.7)},easeOut:function(a){return p(a,0.48)},easeInOut:function(d){var v=0.48-d/1.04,a=n(0.1734+v*v),c=a-v,e=p(l(c),1/3)*(c<0?-1:1),g=-a-v,h=p(l(g),1/3)*(g<0?-1:1),b=e+h+0.5;return(1-b)*3*b*b+b*b*b},backIn:function(a){return a*a*((q+1)*a-q)},backOut:function(a){a=a-1;return a*a*((q+1)*a+q)+1},elasticIn:function(a){if(a===0||a===1){return a}var b=0.3,c=b/4;return p(2,-10*a)*j((a-c)*(2*m)/b)+1},elasticOut:function(a){return 1-Ext.fx.Easing.elasticIn(1-a)},bounceIn:function(a){return 1-Ext.fx.Easing.bounceOut(1-a)},bounceOut:function(c){var a=7.5625,d=2.75,b;if(c<(1/d)){b=a*c*c}else{if(c<(2/d)){c-=(1.5/d);b=a*c*c+0.75}else{if(c<(2.5/d)){c-=(2.25/d);b=a*c*c+0.9375}else{c-=(2.625/d);b=a*c*c+0.984375}}}return b}},function(){var a=Ext.fx.Easing.self,b=a.prototype;a.addMembers({"back-in":b.backIn,"back-out":b.backOut,"ease-in":b.easeIn,"ease-out":b.easeOut,"elastic-in":b.elasticIn,"elastic-out":b.elasticOut,"bounce-in":b.bounceIn,"bounce-out":b.bounceOut,"ease-in-out":b.easeInOut})})});Ext.define("Ext.fx.DrawPath",{singleton:true,pathToStringRE:/,?([achlmqrstvxz]),?/gi,pathCommandRE:/([achlmqstvz])[\s,]*((-?\d*\.?\d*(?:e[-+]?\d+)?\s*,?\s*)+)/ig,pathValuesRE:/(-?\d*\.?\d*(?:e[-+]?\d+)?)\s*,?\s*/ig,stopsRE:/^(\d+%?)$/,radian:Math.PI/180,is:function(c,d){d=String(d).toLowerCase();return(d=="object"&&c===Object(c))||(d=="undefined"&&typeof c==d)||(d=="null"&&c===null)||(d=="array"&&Array.isArray&&Array.isArray(c))||(Object.prototype.toString.call(c).toLowerCase().slice(8,-1))==d},path2string:function(){return this.join(",").replace(Ext.fx.DrawPath.pathToStringRE,"$1")},pathToString:function(b){return b.join(",").replace(Ext.fx.DrawPath.pathToStringRE,"$1")},parsePathString:function(g){if(!g){return null}var h={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},j=[],e=this;if(e.is(g,"array")&&e.is(g[0],"array")){j=e.pathClone(g)}if(!j.length){String(g).replace(e.pathCommandRE,function(d,m,a){var b=[],c=m.toLowerCase();a.replace(e.pathValuesRE,function(o,l){l&&b.push(+l)});if(c=="m"&&b.length>2){j.push([m].concat(Ext.Array.splice(b,0,2)));c="l";m=(m=="m")?"l":"L"}while(b.length>=h[c]){j.push([m].concat(Ext.Array.splice(b,0,h[c])));if(!h[c]){break}}})}j.toString=e.path2string;return j},pathClone:function(l){var o=[],j,m,h,n;if(!this.is(l,"array")||!this.is(l&&l[0],"array")){l=this.parsePathString(l)}for(h=0,n=l.length;h<n;h++){o[h]=[];for(j=0,m=l[h].length;j<m;j++){o[h][j]=l[h][j]}}o.toString=this.path2string;return o},pathToAbsolute:function(z){if(!this.is(z,"array")||!this.is(z&&z[0],"array")){z=this.parsePathString(z)}var u=[],r=0,s=0,j=0,q=0,w=0,v=z.length,A,y,x,B;if(v&&z[0][0]=="M"){r=+z[0][1];s=+z[0][2];j=r;q=s;w++;u[0]=["M",r,s]}for(;w<v;w++){A=u[w]=[];y=z[w];if(y[0]!=y[0].toUpperCase()){A[0]=y[0].toUpperCase();switch(A[0]){case"A":A[1]=y[1];A[2]=y[2];A[3]=y[3];A[4]=y[4];A[5]=y[5];A[6]=+(y[6]+r);A[7]=+(y[7]+s);break;case"V":A[1]=+y[1]+s;break;case"H":A[1]=+y[1]+r;break;case"M":j=+y[1]+r;q=+y[2]+s;default:x=1;B=y.length;for(;x<B;x++){A[x]=+y[x]+((x%2)?r:s)}}}else{x=0;B=y.length;for(;x<B;x++){u[w][x]=y[x]}}switch(A[0]){case"Z":r=j;s=q;break;case"H":r=A[1];break;case"V":s=A[1];break;case"M":y=u[w];B=y.length;j=y[B-2];q=y[B-1];default:y=u[w];B=y.length;r=y[B-2];s=y[B-1]}}u.toString=this.path2string;return u},interpolatePaths:function(I,x){var z=this,D=z.pathToAbsolute(I),w=z.pathToAbsolute(x),v={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},H={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},G=function(c,b){if(c[b].length>7){c[b].shift();var a=c[b];while(a.length){Ext.Array.splice(c,b++,0,["C"].concat(Ext.Array.splice(a,0,6)))}Ext.Array.erase(c,b,1);u=Math.max(D.length,w.length||0)}},F=function(a,b,d,e,c){if(a&&b&&a[c][0]=="M"&&b[c][0]!="M"){Ext.Array.splice(b,c,0,["M",e.x,e.y]);d.bx=0;d.by=0;d.x=a[c][1];d.y=a[c][2];u=Math.max(D.length,w.length||0)}},A,u,B,p,C,y;for(A=0,u=Math.max(D.length,w.length||0);A<u;A++){D[A]=z.command2curve(D[A],v);G(D,A);(w[A]=z.command2curve(w[A],H));G(w,A);F(D,w,v,H,A);F(w,D,H,v,A);B=D[A];p=w[A];C=B.length;y=p.length;v.x=B[C-2];v.y=B[C-1];v.bx=parseFloat(B[C-4])||v.x;v.by=parseFloat(B[C-3])||v.y;H.bx=(parseFloat(p[y-4])||H.x);H.by=(parseFloat(p[y-3])||H.y);H.x=p[y-2];H.y=p[y-1]}return[D,w]},command2curve:function(g,d){var e=this;if(!g){return["C",d.x,d.y,d.x,d.y,d.x,d.y]}if(g[0]!="T"&&g[0]!="Q"){d.qx=d.qy=null}switch(g[0]){case"M":d.X=g[1];d.Y=g[2];break;case"A":g=["C"].concat(e.arc2curve.apply(e,[d.x,d.y].concat(g.slice(1))));break;case"S":g=["C",d.x+(d.x-(d.bx||d.x)),d.y+(d.y-(d.by||d.y))].concat(g.slice(1));break;case"T":d.qx=d.x+(d.x-(d.qx||d.x));d.qy=d.y+(d.y-(d.qy||d.y));g=["C"].concat(e.quadratic2curve(d.x,d.y,d.qx,d.qy,g[1],g[2]));break;case"Q":d.qx=g[1];d.qy=g[2];g=["C"].concat(e.quadratic2curve(d.x,d.y,g[1],g[2],g[3],g[4]));break;case"L":g=["C"].concat(d.x,d.y,g[1],g[2],g[1],g[2]);break;case"H":g=["C"].concat(d.x,d.y,g[1],d.y,g[1],d.y);break;case"V":g=["C"].concat(d.x,d.y,d.x,g[1],d.x,g[1]);break;case"Z":g=["C"].concat(d.x,d.y,d.X,d.Y,d.X,d.Y);break}return g},quadratic2curve:function(l,r,o,q,m,s){var p=1/3,n=2/3;return[p*l+n*o,p*r+n*q,p*m+n*o,p*s+n*q,m,s]},rotate:function(j,m,l){var p=Math.cos(l),q=Math.sin(l),n=j*p-m*q,o=j*q+m*p;return{x:n,y:o}},arc2curve:function(aP,az,aw,ay,aL,aU,aY,aQ,aB,aJ){var aN=this,a0=Math.PI,aM=aN.radian,aA=a0*120/180,a2=aM*(+aL||0),aq=[],au=Math,aj=au.cos,a3=au.sin,ah=au.sqrt,aO=au.abs,aT=au.asin,av,ao,ap,aI,a1,al,ai,aF,aH,aV,aW,aR,aX,aD,aZ,aE,an,ak,am,aG,aK,h,y,ar,x,at,aC,ax,aS;if(!aJ){av=aN.rotate(aP,az,-a2);aP=av.x;az=av.y;av=aN.rotate(aQ,aB,-a2);aQ=av.x;aB=av.y;ao=(aP-aQ)/2;ap=(az-aB)/2;aI=(ao*ao)/(aw*aw)+(ap*ap)/(ay*ay);if(aI>1){aI=ah(aI);aw=aI*aw;ay=aI*ay}a1=aw*aw;al=ay*ay;ai=(aU==aY?-1:1)*ah(aO((a1*al-a1*ap*ap-al*ao*ao)/(a1*ap*ap+al*ao*ao)));aF=ai*aw*ap/ay+(aP+aQ)/2;aH=ai*-ay*ao/aw+(az+aB)/2;aV=aT(((az-aH)/ay).toFixed(7));aW=aT(((aB-aH)/ay).toFixed(7));aV=aP<aF?a0-aV:aV;aW=aQ<aF?a0-aW:aW;if(aV<0){aV=a0*2+aV}if(aW<0){aW=a0*2+aW}if(aY&&aV>aW){aV=aV-a0*2}if(!aY&&aW>aV){aW=aW-a0*2}}else{aV=aJ[0];aW=aJ[1];aF=aJ[2];aH=aJ[3]}aR=aW-aV;if(aO(aR)>aA){aC=aW;ax=aQ;aS=aB;aW=aV+aA*(aY&&aW>aV?1:-1);aQ=aF+aw*aj(aW);aB=aH+ay*a3(aW);aq=aN.arc2curve(aQ,aB,aw,ay,aL,0,aY,ax,aS,[aW,aC,aF,aH])}aR=aW-aV;aX=aj(aV);aD=a3(aV);aZ=aj(aW);aE=a3(aW);an=au.tan(aR/4);ak=4/3*aw*an;am=4/3*ay*an;aG=[aP,az];aK=[aP+ak*aD,az-am*aX];h=[aQ+ak*aE,aB-am*aZ];y=[aQ,aB];aK[0]=2*aG[0]-aK[0];aK[1]=2*aG[1]-aK[1];if(aJ){return[aK,h,y].concat(aq)}else{aq=[aK,h,y].concat(aq).join().split(",");ar=[];at=aq.length;for(x=0;x<at;x++){ar[x]=x%2?aN.rotate(aq[x-1],aq[x],a2).y:aN.rotate(aq[x],aq[x+1],a2).x}return ar}}});Ext.define("Ext.fx.PropertyHandler",{statics:{defaultHandler:{pixelDefaultsRE:/width|height|top$|bottom$|left$|right$/i,unitRE:/^(-?\d*\.?\d*){1}(em|ex|px|in|cm|mm|pt|pc|%)*$/,scrollRE:/^scroll/i,computeDelta:function(m,s,v,p,n){v=(typeof v=="number")?v:1;var o=this.unitRE,r=o.exec(m),u,q;if(r){m=r[1];q=r[2];if(!this.scrollRE.test(n)&&!q&&this.pixelDefaultsRE.test(n)){q="px"}}m=+m||0;r=o.exec(s);if(r){s=r[1];q=r[2]||q}s=+s||0;u=(p!=null)?p:m;return{from:m,delta:(s-u)*v,units:q}},get:function(j,A,B,q,u){var r=j.length,y=[],x,v,s,z,w;for(x=0;x<r;x++){if(q){v=q[x][1].from}if(Ext.isArray(j[x][1])&&Ext.isArray(A)){s=[];z=0;w=j[x][1].length;for(;z<w;z++){s.push(this.computeDelta(j[x][1][z],A[z],B,v,u))}y.push([j[x][0],s])}else{y.push([j[x][0],this.computeDelta(j[x][1],A,B,v,u)])}}return y},set:function(j,p){var o=j.length,s=[],r,v,n,q,u;for(r=0;r<o;r++){v=j[r][1];if(Ext.isArray(v)){n=[];u=0;q=v.length;for(;u<q;u++){n.push(v[u].from+v[u].delta*p+(v[u].units||0))}s.push([j[r][0],n])}else{s.push([j[r][0],v.from+v.delta*p+(v.units||0)])}}return s}},stringHandler:{computeDelta:function(j,g,l,m,h){return{from:j,delta:g}},get:function(j,A,B,q,u){var r=j.length,y=[],x,v,s,z,w;for(x=0;x<r;x++){y.push([j[x][0],this.computeDelta(j[x][1],A,B,v,u)])}return y},set:function(j,p){var o=j.length,s=[],r,v,n,q,u;for(r=0;r<o;r++){v=j[r][1];s.push([j[r][0],v.delta])}return s}},color:{rgbRE:/^rgb\(([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\)$/i,hexRE:/^#?([0-9A-F]{2})([0-9A-F]{2})([0-9A-F]{2})$/i,hex3RE:/^#?([0-9A-F]{1})([0-9A-F]{1})([0-9A-F]{1})$/i,parseColor:function(q,v){v=(typeof v=="number")?v:1;var p=false,s=[this.hexRE,this.rgbRE,this.hex3RE],r=s.length,n,u,m,o;for(o=0;o<r;o++){m=s[o];u=(o%2===0)?16:10;n=m.exec(q);if(n&&n.length===4){if(o===2){n[1]+=n[1];n[2]+=n[2];n[3]+=n[3]}p={red:parseInt(n[1],u),green:parseInt(n[2],u),blue:parseInt(n[3],u)};break}}return p||q},computeDelta:function(m,l,o,q){m=this.parseColor(m);l=this.parseColor(l,o);var n=q?q:m,j=typeof n,p=typeof l;if(j=="string"||j=="undefined"||p=="string"||p=="undefined"){return l||n}return{from:m,delta:{red:Math.round((l.red-n.red)*o),green:Math.round((l.green-n.green)*o),blue:Math.round((l.blue-n.blue)*o)}}},get:function(n,m,p,r){var o=n.length,s=[],q,l;for(q=0;q<o;q++){if(r){l=r[q][1].from}s.push([n[q][0],this.computeDelta(n[q][1],m,p,l)])}return s},set:function(m,q){var p=m.length,s=[],r,u,v,o,n;for(r=0;r<p;r++){u=m[r][1];if(u){o=u.from;n=u.delta;u=(typeof u=="object"&&"red" in u)?"rgb("+u.red+", "+u.green+", "+u.blue+")":u;u=(typeof u=="object"&&u.length)?u[0]:u;if(typeof u=="undefined"){return[]}v=typeof u=="string"?u:"rgb("+[(o.red+Math.round(n.red*q))%256,(o.green+Math.round(n.green*q))%256,(o.blue+Math.round(n.blue*q))%256].join(",")+")";s.push([m[r][0],v])}}return s}},object:{interpolate:function(h,e){e=(typeof e=="number")?e:1;var g={},j;for(j in h){g[j]=parseFloat(h[j])*e}return g},computeDelta:function(m,l,q,j){m=this.interpolate(m);l=this.interpolate(l,q);var n=j?j:m,o={},p;for(p in l){o[p]=l[p]-n[p]}return{from:m,delta:o}},get:function(n,m,p,r){var o=n.length,s=[],q,l;for(q=0;q<o;q++){if(r){l=r[q][1].from}s.push([n[q][0],this.computeDelta(n[q][1],m,p,l)])}return s},set:function(n,r){var q=n.length,v=[],s={},u,p,o,w,x;for(u=0;u<q;u++){w=n[u][1];p=w.from;o=w.delta;for(x in p){s[x]=p[x]+o[x]*r}v.push([n[u][0],s])}return v}},path:{computeDelta:function(j,h,m,g){m=(typeof m=="number")?m:1;var l;j=+j||0;h=+h||0;l=(g!=null)?g:j;return{from:j,delta:(h-l)*m}},forcePath:function(b){if(!Ext.isArray(b)&&!Ext.isArray(b[0])){b=Ext.fx.DrawPath.parsePathString(b)}return b},get:function(H,A,I,v){var G=this.forcePath(A),y=[],K=H.length,F,B,x,C,w,z,D,J,j;for(x=0;x<K;x++){j=this.forcePath(H[x][1]);C=Ext.fx.DrawPath.interpolatePaths(j,G);j=C[0];G=C[1];F=j.length;J=[];for(z=0;z<F;z++){C=[j[z][0]];B=j[z].length;for(D=1;D<B;D++){w=v&&v[0][1][z][D].from;C.push(this.computeDelta(j[z][D],G[z][D],I,w))}J.push(C)}y.push([H[x][0],J])}return y},set:function(j,r){var q=j.length,x=[],v,w,y,u,s,z,B,A;for(v=0;v<q;v++){z=j[v][1];u=[];B=z.length;for(w=0;w<B;w++){s=[z[w][0]];A=z[w].length;for(y=1;y<A;y++){s.push(z[w][y].from+z[w][y].delta*r)}u.push(s.join(","))}x.push([j[v][0],u.join(",")])}return x}}}},function(){var e=["outlineColor","backgroundColor","borderColor","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","fill","stroke"],j=e.length,g=0,h;for(;g<j;g++){h=e[g];this[h]=this.color}e=["cursor"];j=e.length;g=0;for(;g<j;g++){h=e[g];this[h]=this.stringHandler}});Ext.define("Ext.fx.Anim",{mixins:{observable:Ext.util.Observable},isAnimation:true,duration:250,delay:0,delayStart:0,dynamic:false,easing:"ease",damper:1,bezierRE:/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,reverse:false,running:false,paused:false,iterations:1,autoEnd:false,alternate:false,currentIteration:0,startTime:0,frameCount:0,constructor:function(e){var d=this,g;e=e||{};if(e.keyframes){return new Ext.fx.Animator(e)}Ext.apply(d,e);if(d.from===undefined){d.from={}}d.propHandlers={};d.config=e;d.target=Ext.fx.Manager.createTarget(d.target);d.easingFn=Ext.fx.Easing[d.easing];d.target.dynamic=d.dynamic;if(!d.easingFn){d.easingFn=String(d.easing).match(d.bezierRE);if(d.easingFn&&d.easingFn.length==5){g=d.easingFn;d.easingFn=Ext.fx.CubicBezier.cubicBezier(+g[1],+g[2],+g[3],+g[4])}}d.id=Ext.id(null,"ext-anim-");d.mixins.observable.constructor.call(d);Ext.fx.Manager.addAnim(d);if(e.autoEnd){d.running=true;d.jumpToEnd()}},setAttr:function(d,c){return Ext.fx.Manager.items.get(this.id).setAttr(this.target,d,c)},initAttrs:function(){var q=this,o=q.from,n=q.to,p=q.initialFrom||{},s={},v,u,m,r;for(r in n){if(n.hasOwnProperty(r)){v=q.target.getAttr(r,o[r]);u=n[r];if(!Ext.fx.PropertyHandler[r]){if(Ext.isObject(u)){m=q.propHandlers[r]=Ext.fx.PropertyHandler.object}else{m=q.propHandlers[r]=Ext.fx.PropertyHandler.defaultHandler}}else{m=q.propHandlers[r]=Ext.fx.PropertyHandler[r]}s[r]=m.get(v,u,q.damper,p[r],r)}}q.currentAttrs=s},start:function(l){var j=this,m=j.delay,g=j.delayStart,h;if(m){if(!g){j.delayStart=l;return}else{h=l-g;if(h<m){return}else{l=new Date(g.getTime()+m)}}}if(j.fireEvent("beforeanimate",j)!==false){j.startTime=l;if(!j.paused&&!j.currentAttrs){j.initAttrs()}j.running=true;j.frameCount=0}},jumpToEnd:function(){var b=this;if(!b.endWasCalled){if(!b.currentAttrs){b.initAttrs()}Ext.fx.Manager.jumpToEnd(b);b.end()}},runAnim:function(o){var r=this,p=r.currentAttrs,w=r.duration,x=r.easingFn,y=r.propHandlers,u={},s,q,v,z;if(o>=w){o=w;z=true}if(r.reverse){o=w-o}for(v in p){if(p.hasOwnProperty(v)){q=p[v];s=z?1:x(o/w);u[v]=y[v].set(q,s)}}r.frameCount++;return u},lastFrame:function(){var g=this,e=g.iterations,d=g.currentIteration;d++;if(d<e){if(g.alternate){g.reverse=!g.reverse}g.startTime=new Date();g.currentIteration=d;g.paused=false}else{g.currentIteration=0;g.end();g.fireEvent("lastframe",g,g.startTime)}},endWasCalled:0,end:function(){var b=this;if(b.endWasCalled++){return}b.startTime=0;b.paused=false;b.running=false;Ext.fx.Manager.removeAnim(b);b.fireEvent("afteranimate",b,b.startTime);Ext.callback(b.callback,b.scope,[b,b.startTime]);if(b.remove){b.target.destroy()}},isReady:function(){return this.paused===false&&this.running===false&&this.iterations>0},isRunning:function(){return this.paused===false&&this.running===true&&this.isAnimator!==true}});Ext.enableFx=true;Ext.define("Ext.util.Animate",{mixinId:"animate",isAnimate:true,animate:function(d){var c=this;if(Ext.fx.Manager.hasFxBlock(c.id)){return c}Ext.fx.Manager.queueFx(new Ext.fx.Anim(c.anim(d)));return this},anim:function(d){if(!Ext.isObject(d)){return(d)?{}:false}var c=this;if(d.stopAnimation){c.stopAnimation()}Ext.applyIf(d,Ext.fx.Manager.getFxDefaults(c.id));return Ext.apply({target:c,paused:true},d)},getAnimationProps:function(){var c=this,d=c.layout;return d&&d.animate?d.animate:{}},stopFx:Ext.Function.alias(Ext.util.Animate,"stopAnimation"),stopAnimation:function(){Ext.fx.Manager.stopAnimation(this.id);return this},syncFx:function(){Ext.fx.Manager.setFxDefaults(this.id,{concurrent:true});return this},sequenceFx:function(){Ext.fx.Manager.setFxDefaults(this.id,{concurrent:false});return this},hasActiveFx:Ext.Function.alias(Ext.util.Animate,"getActiveAnimation"),getActiveAnimation:function(){return Ext.fx.Manager.getActiveAnimation(this.id)}});Ext.define("Ext.dom.Fly",{extend:Ext.dom.Element,alternateClassName:"Ext.dom.Element.Fly",validNodeTypes:{1:1,9:1,11:1},isFly:true,constructor:function(b){this.dom=b;this.el=this},attach:function(c){var d=this;if(!c){return d.detach()}d.dom=c;if(!Ext.cache[c.id]){d.getData().isSynchronized=false}return d},detach:function(){this.dom=null},addListener:null,removeListener:null},function(d){var c={};d.cache=c;Ext.fly=function(a,n){var l=null,m=Ext.fly,o,b;n=n||(m.caller&&m.caller.$name)||"_global";a=Ext.getDom(a);if(a){o=a.nodeType;if(d.prototype.validNodeTypes[o]||(!o&&(a.window==a))){l=Ext.cache[a.id];if(!l||l.dom!==a){l=c[n]||(c[n]=new d());l.dom=a;b=l.getData(true);if(b){b.isSynchronized=false}}}}return l}});Ext.define("Ext.dom.CompositeElementLite",{alternateClassName:["Ext.CompositeElementLite"],isComposite:true,isLite:true,statics:{importElementMethods:function(){var d=Ext.dom.Element,c=this.prototype;Ext.Object.each(d.prototype,function(b,a){if(typeof a==="function"&&!c[b]){c[b]=function(){return this.invoke(b,arguments)}}})}},constructor:function(c,d){if(d){this.elements=c||[]}else{this.elements=[];this.add(c)}},getElement:function(c){var d=this._fly||(this._fly=new Ext.dom.Fly());return d.attach(c)},transformElement:function(b){return Ext.getDom(b)},getCount:function(){return this.elements.length},add:function(m,h){var j=this.elements,g,l;if(!m){return this}if(typeof m=="string"){m=Ext.fly(h||document).query(m)}else{if(m.isComposite){m=m.elements}else{if(!Ext.isIterable(m)){m=[m]}}}for(g=0,l=m.length;g<l;++g){j.push(this.transformElement(m[g]))}return this},invoke:function(q,l){var o=this,n=o.elements,p=n.length,m,r,s;if(s!==0){m=(o.isLite?Ext.dom.Fly:Ext.dom.Element).prototype;for(s=0;s<p;s++){r=n[s];if(r){m[q].apply(o.getElement(r),l)}}}return o},item:function(d){var g=this.elements[d],e=null;if(g){e=this.getElement(g)}return e},slice:function(c,d){return Ext.Array.slice(this.elements,c,d)},each:function(o,p){var n=this,q=n.elements,l=q.length,e,m;for(e=0;e<l;e++){m=q[e];if(m){m=this.getElement(m);if(o.call(p||m,m,n,e)===false){break}}}return n},fill:function(d){var c=this;c.elements=[];c.add(d);return c},insert:function(c,d){Ext.Array.insert(this.elements,c,d)},filter:function(u){var o=this,s=o.elements,p=s.length,r=[],q=0,n=typeof u=="function",m,v;for(;q<p;q++){v=s[q];m=false;if(v){v=o.getElement(v);if(n){m=u.call(v,v,o,q)!==false}else{m=v.is(u)}if(m){r.push(o.transformElement(v))}}}o.elements=r;return o},indexOf:function(b){return Ext.Array.indexOf(this.elements,this.transformElement(b))},replaceElement:function(l,m,h){var d=!isNaN(l)?l:this.indexOf(l),j;if(d>-1){m=Ext.getDom(m);if(h){j=this.elements[d];j.parentNode.insertBefore(m,j);Ext.removeNode(j)}Ext.Array.splice(this.elements,d,1,m)}return this},clear:function(h){var j=this,e=j.elements,g=e.length-1;if(h){for(;g>=0;g--){Ext.removeNode(e[g])}}this.elements=[]},addElements:function(l,e){if(!l){return this}if(typeof l==="string"){l=Ext.dom.Element.selectorFunction(l,e)}var m=this.elements,h=l.length,j;for(j=0;j<h;j++){m.push(Ext.get(l[j]))}return this},first:function(){return this.item(0)},last:function(){return this.item(this.getCount()-1)},contains:function(b){return this.indexOf(b)!=-1},removeElement:function(q,n){q=[].concat(q);var r=this,p=r.elements,s=q.length,o,l,m;for(m=0;m<s;m++){o=q[m];if((l=(p[o]||p[o=r.indexOf(o)]))){if(n){if(l.dom){l.destroy()}else{Ext.removeNode(l)}}Ext.Array.erase(p,o,1)}}return r},destroy:function(){return this.invoke("destroy",arguments)}},function(c){var d=c.prototype;c.importElementMethods();d.on=d.addListener});Ext.define("Ext.overrides.dom.Element",(function(){var Element,WIN=window,DOC=document,HIDDEN="hidden",ISCLIPPED="isClipped",OVERFLOW="overflow",OVERFLOWX="overflow-x",OVERFLOWY="overflow-y",ORIGINALCLIP="originalClip",HEIGHT="height",WIDTH="width",VISIBILITY="visibility",DISPLAY="display",NONE="none",HIDDEN="hidden",OFFSETS="offsets",ORIGINALDISPLAY="originalDisplay",VISMODE="visibilityMode",ISVISIBLE="isVisible",OFFSETCLASS=Ext.baseCSSPrefix+"hidden-offsets",boxMarkup=['<div class="{0}-tl" role="presentation">','<div class="{0}-tr" role="presentation">','<div class="{0}-tc" role="presentation"></div>',"</div>","</div>",'<div class="{0}-ml" role="presentation">','<div class="{0}-mr" role="presentation">','<div class="{0}-mc" role="presentation"></div>',"</div>","</div>",'<div class="{0}-bl" role="presentation">','<div class="{0}-br" role="presentation">','<div class="{0}-bc" role="presentation"></div>',"</div>","</div>"].join(""),scriptTagRe=/(?:<script([^>]*)?>)((\n|\r|.)*?)(?:<\/script>)/ig,replaceScriptTagRe=/(?:<script.*?>)((\n|\r|.)*?)(?:<\/script>)/ig,srcRe=/\ssrc=([\'\"])(.*?)\1/i,nonSpaceRe=/\S/,typeRe=/\stype=([\'\"])(.*?)\1/i,msRe=/^-ms-/,camelRe=/(-[a-z])/gi,camelReplaceFn=function(m,a){return a.charAt(1).toUpperCase()},XMASKED=Ext.baseCSSPrefix+"masked",XMASKEDRELATIVE=Ext.baseCSSPrefix+"masked-relative",EXTELMASKMSG=Ext.baseCSSPrefix+"mask-msg",mouseEnterLeaveRe=/^(?:mouseenter|mouseleave)$/,bodyRe=/^body/i,propertyCache={},getDisplay=function(el){var data=el.getData(),display=data[ORIGINALDISPLAY];if(display===undefined){data[ORIGINALDISPLAY]=display=""}return display},getVisMode=function(el){var data=el.getData(),visMode=data[VISMODE];if(visMode===undefined){data[VISMODE]=visMode=Element.VISIBILITY}return visMode},garbageBin,emptyRange=DOC.createRange?DOC.createRange():null,inputTags={INPUT:true,TEXTAREA:true};return{override:"Ext.dom.Element",mixins:[Ext.util.Animate],skipGarbageCollection:false,_init:function(E){Element=E},statics:{selectableCls:Ext.baseCSSPrefix+"selectable",unselectableCls:Ext.baseCSSPrefix+"unselectable",tabIndexAttributeName:Ext.isIE8?"tabIndex":"tabindex",tabbableSelector:'a[href],button,iframe,input,select,textarea,[tabindex],[contenteditable="true"]',naturallyFocusableTags:{BUTTON:true,IFRAME:true,EMBED:true,INPUT:true,OBJECT:true,SELECT:true,TEXTAREA:true,HTML:Ext.isIE?true:false},naturallyTabbableTags:{BUTTON:true,IFRAME:true,INPUT:true,SELECT:true,TEXTAREA:true,OBJECT:Ext.isIE8m?true:false},tabbableSavedFlagAttribute:"data-tabindexsaved",tabbableSavedAttribute:"data-savedtabindex",normalize:function(prop){if(prop==="float"){prop=Ext.supports.Float?"cssFloat":"styleFloat"}return propertyCache[prop]||(propertyCache[prop]=prop.replace(msRe,"ms-").replace(camelRe,camelReplaceFn))},getViewportHeight:function(){return Ext.isIE9m?DOC.documentElement.clientHeight:WIN.innerHeight},getViewportWidth:function(){return(!Ext.isStrict&&!Ext.isOpera)?document.body.clientWidth:Ext.isIE9m?DOC.documentElement.clientWidth:WIN.innerWidth}},addClsOnClick:function(className,testFn,scope){var me=this,dom=me.dom,hasTest=Ext.isFunction(testFn);me.on("mousedown",function(){if(hasTest&&testFn.call(scope||me,me)===false){return false}Ext.fly(dom).addCls(className);var d=Ext.getDoc(),fn=function(){Ext.fly(dom).removeCls(className);d.removeListener("mouseup",fn)};d.on("mouseup",fn)});return me},addClsOnFocus:function(className,testFn,scope){var me=this,dom=me.dom,hasTest=Ext.isFunction(testFn);me.on("focus",function(){if(hasTest&&testFn.call(scope||me,me)===false){return false}Ext.fly(dom).addCls(className)});me.on("blur",function(){Ext.fly(dom).removeCls(className)});return me},addClsOnOver:function(className,testFn,scope){var me=this,dom=me.dom,hasTest=Ext.isFunction(testFn);me.hover(function(){if(hasTest&&testFn.call(scope||me,me)===false){return}Ext.fly(dom).addCls(className)},function(){Ext.fly(dom).removeCls(className)});return me},addKeyListener:function(key,fn,scope){var config;if(typeof key!=="object"||Ext.isArray(key)){config={target:this,key:key,fn:fn,scope:scope}}else{config={target:this,key:key.key,shift:key.shift,ctrl:key.ctrl,alt:key.alt,fn:fn,scope:scope}}return new Ext.util.KeyMap(config)},addKeyMap:function(config){return new Ext.util.KeyMap(Ext.apply({target:this},config))},afterAnimate:function(){var shadow=this.shadow;if(shadow&&!shadow.disabled&&!shadow.animate){shadow.show()}},anchorAnimX:function(anchor){var xName=(anchor==="l")?"right":"left";this.dom.style[xName]="0px"},anim:function(config){if(!Ext.isObject(config)){return(config)?{}:false}var me=this,duration=config.duration||Ext.fx.Anim.prototype.duration,easing=config.easing||"ease",animConfig;if(config.stopAnimation){me.stopAnimation()}Ext.applyIf(config,Ext.fx.Manager.getFxDefaults(me.id));Ext.fx.Manager.setFxDefaults(me.id,{delay:0});animConfig={target:me.dom,remove:config.remove,alternate:config.alternate||false,duration:duration,easing:easing,callback:config.callback,listeners:config.listeners,iterations:config.iterations||1,scope:config.scope,block:config.block,concurrent:config.concurrent,delay:config.delay||0,paused:true,keyframes:config.keyframes,from:config.from||{},to:Ext.apply({},config)};Ext.apply(animConfig.to,config.to);delete animConfig.to.to;delete animConfig.to.from;delete animConfig.to.remove;delete animConfig.to.alternate;delete animConfig.to.keyframes;delete animConfig.to.iterations;delete animConfig.to.listeners;delete animConfig.to.target;delete animConfig.to.paused;delete animConfig.to.callback;delete animConfig.to.scope;delete animConfig.to.duration;delete animConfig.to.easing;delete animConfig.to.concurrent;delete animConfig.to.block;delete animConfig.to.stopAnimation;delete animConfig.to.delay;return animConfig},animate:function(config){var me=this,animId=me.dom.id||Ext.id(me.dom),listeners,anim,end;if(!Ext.fx.Manager.hasFxBlock(animId)){if(config.listeners){listeners=config.listeners;delete config.listeners}if(config.internalListeners){config.listeners=config.internalListeners;delete config.internalListeners}end=config.autoEnd;delete config.autoEnd;anim=new Ext.fx.Anim(me.anim(config));anim.on({afteranimate:"afterAnimate",beforeanimate:"beforeAnimate",scope:me,single:true});if(listeners){anim.on(listeners)}Ext.fx.Manager.queueFx(anim);if(end){anim.jumpToEnd()}}return me},beforeAnimate:function(){var shadow=this.shadow;if(shadow&&!shadow.disabled&&!shadow.animate){shadow.hide()}},boxWrap:function(cls){cls=cls||Ext.baseCSSPrefix+"box";var el=Ext.get(this.insertHtml("beforeBegin","<div class='"+cls+"' role='presentation'>"+Ext.String.format(boxMarkup,cls)+"</div>"));el.selectNode("."+cls+"-mc").appendChild(this.dom);return el},clean:function(forceReclean){var me=this,dom=me.dom,data=me.getData(),n=dom.firstChild,ni=-1,nx;if(data.isCleaned&&forceReclean!==true){return me}while(n){nx=n.nextSibling;if(n.nodeType===3){if(!(nonSpaceRe.test(n.nodeValue))){dom.removeChild(n)}else{if(nx&&nx.nodeType===3){n.appendData(Ext.String.trim(nx.data));dom.removeChild(nx);nx=n.nextSibling;n.nodeIndex=++ni}}}else{Ext.fly(n,"_clean").clean();n.nodeIndex=++ni}n=nx}data.isCleaned=true;return me},empty:emptyRange?function(){var dom=this.dom;if(dom.firstChild){emptyRange.setStartBefore(dom.firstChild);emptyRange.setEndAfter(dom.lastChild);emptyRange.deleteContents()}}:function(){var dom=this.dom;while(dom.lastChild){dom.removeChild(dom.lastChild)}},clearListeners:function(){this.removeAnchor();this.callParent()},clearPositioning:function(value){value=value||"";return this.setStyle({left:value,right:value,top:value,bottom:value,"z-index":"",position:"static"})},createProxy:function(config,renderTo,matchBox){config=(typeof config==="object")?config:{tag:"div",role:"presentation",cls:config};var me=this,proxy=renderTo?Ext.DomHelper.append(renderTo,config,true):Ext.DomHelper.insertBefore(me.dom,config,true);proxy.setVisibilityMode(Element.DISPLAY);proxy.hide();if(matchBox&&me.setBox&&me.getBox){proxy.setBox(me.getBox())}return proxy},clearOpacity:function(){return this.setOpacity("")},clip:function(){var me=this,data=me.getData(),style;if(!data[ISCLIPPED]){data[ISCLIPPED]=true;style=me.getStyle([OVERFLOW,OVERFLOWX,OVERFLOWY]);data[ORIGINALCLIP]={o:style[OVERFLOW],x:style[OVERFLOWX],y:style[OVERFLOWY]};me.setStyle(OVERFLOW,HIDDEN);me.setStyle(OVERFLOWX,HIDDEN);me.setStyle(OVERFLOWY,HIDDEN)}return me},destroy:function(){var me=this,dom=me.dom,data=me.getData(),maskEl,maskMsg;if(dom&&me.isAnimate){me.stopAnimation()}me.callParent();if(dom&&Ext.isIE8&&(dom.window!=dom)&&(dom.nodeType!==9)&&(dom.tagName!=="BODY")&&(dom.tagName!=="HTML")){garbageBin=garbageBin||DOC.createElement("div");garbageBin.appendChild(dom);garbageBin.innerHTML=""}if(data){maskEl=data.maskEl;maskMsg=data.maskMsg;if(maskEl){maskEl.destroy()}if(maskMsg){maskMsg.destroy()}}},enableDisplayMode:function(display){var me=this;me.setVisibilityMode(Element.DISPLAY);if(display!==undefined){me.getData()[ORIGINALDISPLAY]=display}return me},fadeIn:function(o){var me=this,dom=me.dom;me.animate(Ext.apply({},o,{opacity:1,internalListeners:{beforeanimate:function(anim){var el=Ext.fly(dom,"_anim");if(el.isStyle("display","none")){el.setDisplayed("")}else{el.show()}}}}));return this},fadeOut:function(o){var me=this,dom=me.dom;o=Ext.apply({opacity:0,internalListeners:{afteranimate:function(anim){if(dom&&anim.to.opacity===0){var el=Ext.fly(dom,"_anim");if(o.useDisplay){el.setDisplayed(false)}else{el.hide()}}}}},o);me.animate(o);return me},fixDisplay:function(){var me=this;if(me.isStyle(DISPLAY,NONE)){me.setStyle(VISIBILITY,HIDDEN);me.setStyle(DISPLAY,getDisplay(me));if(me.isStyle(DISPLAY,NONE)){me.setStyle(DISPLAY,"block")}}},frame:function(color,count,obj){var me=this,dom=me.dom,beforeAnim;color=color||"#C3DAF9";count=count||1;obj=obj||{};beforeAnim=function(){var el=Ext.fly(dom,"_anim"),animScope=this,box,proxy,proxyAnim;el.show();box=el.getBox();proxy=Ext.getBody().createChild({role:"presentation",id:el.dom.id+"-anim-proxy",style:{position:"absolute","pointer-events":"none","z-index":35000,border:"0px solid "+color}});proxyAnim=new Ext.fx.Anim({target:proxy,duration:obj.duration||1000,iterations:count,from:{top:box.y,left:box.x,borderWidth:0,opacity:1,height:box.height,width:box.width},to:{top:box.y-20,left:box.x-20,borderWidth:10,opacity:0,height:box.height+40,width:box.width+40}});proxyAnim.on("afteranimate",function(){proxy.destroy();animScope.end()})};me.animate({duration:(Math.max(obj.duration,500)*2)||2000,listeners:{beforeanimate:{fn:beforeAnim}},callback:obj.callback,scope:obj.scope});return me},getColor:function(attr,defaultValue,prefix){var v=this.getStyle(attr),color=prefix||prefix===""?prefix:"#",h,len,i=0;if(!v||(/transparent|inherit/.test(v))){return defaultValue}if(/^r/.test(v)){v=v.slice(4,v.length-1).split(",");len=v.length;for(;i<len;i++){h=parseInt(v[i],10);color+=(h<16?"0":"")+h.toString(16)}}else{v=v.replace("#","");color+=v.length===3?v.replace(/^(\w)(\w)(\w)$/,"$1$1$2$2$3$3"):v}return(color.length>5?color.toLowerCase():defaultValue)},getLoader:function(){var me=this,data=me.getData(),loader=data.loader;if(!loader){data.loader=loader=new Ext.ElementLoader({target:me})}return loader},getPositioning:function(autoPx){var styles=this.getStyle(["left","top","position","z-index"]),dom=this.dom;if(autoPx){if(styles.left==="auto"){styles.left=dom.offsetLeft+"px"}if(styles.top==="auto"){styles.top=dom.offsetTop+"px"}}return styles},ghost:function(anchor,obj){var me=this,dom=me.dom,beforeAnim;anchor=anchor||"b";beforeAnim=function(){var el=Ext.fly(dom,"_anim"),width=el.getWidth(),height=el.getHeight(),xy=el.getXY(),position=el.getPositioning(),to={opacity:0};switch(anchor){case"t":to.y=xy[1]-height;break;case"l":to.x=xy[0]-width;break;case"r":to.x=xy[0]+width;break;case"b":to.y=xy[1]+height;break;case"tl":to.x=xy[0]-width;to.y=xy[1]-height;break;case"bl":to.x=xy[0]-width;to.y=xy[1]+height;break;case"br":to.x=xy[0]+width;to.y=xy[1]+height;break;case"tr":to.x=xy[0]+width;to.y=xy[1]-height;break}this.to=to;this.on("afteranimate",function(){var el=Ext.fly(dom,"_anim");if(el){el.hide();el.clearOpacity();el.setPositioning(position)}})};me.animate(Ext.applyIf(obj||{},{duration:500,easing:"ease-out",listeners:{beforeanimate:beforeAnim}}));return me},hide:function(animate){if(typeof animate==="string"){this.setVisible(false,animate);return this}this.setVisible(false,this.anim(animate));return this},highlight:function(color,o){var me=this,dom=me.dom,from={},restore,to,attr,lns,event,fn;o=o||{};lns=o.listeners||{};attr=o.attr||"backgroundColor";from[attr]=color||"ffff9c";if(!o.to){to={};to[attr]=o.endColor||me.getColor(attr,"ffffff","")}else{to=o.to}o.listeners=Ext.apply(Ext.apply({},lns),{beforeanimate:function(){restore=dom.style[attr];var el=Ext.fly(dom,"_anim");el.clearOpacity();el.show();event=lns.beforeanimate;if(event){fn=event.fn||event;return fn.apply(event.scope||lns.scope||WIN,arguments)}},afteranimate:function(){if(dom){dom.style[attr]=restore}event=lns.afteranimate;if(event){fn=event.fn||event;fn.apply(event.scope||lns.scope||WIN,arguments)}}});me.animate(Ext.apply({},o,{duration:1000,easing:"ease-in",from:from,to:to}));return me},hover:function(overFn,outFn,scope,options){var me=this;me.on("mouseenter",overFn,scope||me.dom,options);me.on("mouseleave",outFn,scope||me.dom,options);return me},initDD:function(group,config,overrides){var dd=new Ext.dd.DD(Ext.id(this.dom),group,config);return Ext.apply(dd,overrides)},initDDProxy:function(group,config,overrides){var dd=new Ext.dd.DDProxy(Ext.id(this.dom),group,config);return Ext.apply(dd,overrides)},initDDTarget:function(group,config,overrides){var dd=new Ext.dd.DDTarget(Ext.id(this.dom),group,config);return Ext.apply(dd,overrides)},isFocusable:function(){var dom=this.dom,focusable=false,nodeName;if(dom&&!dom.disabled){nodeName=dom.nodeName;focusable=!!Ext.Element.naturallyFocusableTags[nodeName]||((nodeName==="A"||nodeName==="LINK")&&!!dom.href)||dom.getAttribute("tabindex")!=null||dom.contentEditable==="true";if(Ext.isIE8&&nodeName==="INPUT"&&dom.type==="hidden"){focusable=false}focusable=focusable&&this.isVisible(true)}return focusable},isInputField:function(){var dom=this.dom,contentEditable=dom.contentEditable;if((inputTags[dom.tagName]&&dom.type!=="button")||(contentEditable===""||contentEditable==="true")){return true}return false},isTabbable:function(){var dom=this.dom,tabbable=false,nodeName,hasIndex,tabIndex;if(dom&&!dom.disabled){nodeName=dom.nodeName;tabIndex=dom.getAttribute("tabindex");hasIndex=tabIndex!=null;tabIndex-=0;if(nodeName==="A"||nodeName==="LINK"){if(dom.href){tabbable=hasIndex&&tabIndex<0?false:true}else{if(dom.contentEditable==="true"){tabbable=!hasIndex||(hasIndex&&tabIndex>=0)?true:false}else{tabbable=hasIndex&&tabIndex>=0?true:false}}}else{if(dom.contentEditable==="true"||Ext.Element.naturallyTabbableTags[nodeName]){tabbable=hasIndex&&tabIndex<0?false:true}else{if(hasIndex&&tabIndex>=0){tabbable=true}}}if(Ext.isIE8&&nodeName==="INPUT"&&dom.type==="hidden"){tabbable=false}tabbable=tabbable&&(!this.component||this.component.isVisible(true))&&this.isVisible(true)}return tabbable},isMasked:function(deep){var me=this,data=me.getData(),maskEl=data.maskEl,maskMsg=data.maskMsg,hasMask=false,parent;if(maskEl&&maskEl.isVisible()){if(maskMsg){maskMsg.center(me)}hasMask=true}else{if(deep){parent=me.findParentNode();if(parent){return Ext.fly(parent).isMasked(deep)}}}return hasMask},isScrollable:function(){var dom=this.dom;return dom.scrollHeight>dom.clientHeight||dom.scrollWidth>dom.clientWidth},load:function(options){this.getLoader().load(options);return this},mask:function(msg,msgCls,elHeight){var me=this,dom=me.dom,data=me.getData(),maskEl=data.maskEl,maskMsg;if(!(bodyRe.test(dom.tagName)&&me.getStyle("position")==="static")){me.addCls(XMASKEDRELATIVE)}if(maskEl){maskEl.destroy()}maskEl=Ext.DomHelper.append(dom,{role:"presentation",cls:Ext.baseCSSPrefix+"mask "+Ext.baseCSSPrefix+"border-box",children:{role:"presentation",cls:msgCls?EXTELMASKMSG+" "+msgCls:EXTELMASKMSG,cn:{tag:"div",role:"presentation",cls:Ext.baseCSSPrefix+"mask-msg-inner",cn:{tag:"div",role:"presentation",cls:Ext.baseCSSPrefix+"mask-msg-text",html:msg||""}}}},true);maskMsg=Ext.get(maskEl.dom.firstChild);data.maskEl=maskEl;me.addCls(XMASKED);maskEl.setDisplayed(true);if(typeof msg==="string"){maskMsg.setDisplayed(true);maskMsg.center(me)}else{maskMsg.setDisplayed(false)}if(dom===DOC.body){maskEl.addCls(Ext.baseCSSPrefix+"mask-fixed")}else{me.saveTabbableState()}me.saveChildrenTabbableState();if(Ext.isIE9m&&dom!==DOC.body&&me.isStyle("height","auto")){maskEl.setSize(undefined,elHeight||me.getHeight())}return maskEl},monitorMouseLeave:function(delay,handler,scope){var me=this,timer,listeners={mouseleave:function(e){if(Ext.isIE9m){e.enableIEAsync()}timer=Ext.defer(handler,delay,scope||me,[e])},mouseenter:function(){clearTimeout(timer)}};me.on(listeners);return listeners},puff:function(obj){var me=this,dom=me.dom,beforeAnim,box=me.getBox(),originalStyles=me.getStyle(["width","height","left","right","top","bottom","position","z-index","font-size","opacity"],true);obj=Ext.applyIf(obj||{},{easing:"ease-out",duration:500,useDisplay:false});beforeAnim=function(){var el=Ext.fly(dom,"_anim");el.clearOpacity();el.show();this.to={width:box.width*2,height:box.height*2,x:box.x-(box.width/2),y:box.y-(box.height/2),opacity:0,fontSize:"200%"};this.on("afteranimate",function(){var el=Ext.fly(dom,"_anim");if(el){if(obj.useDisplay){el.setDisplayed(false)}else{el.hide()}el.setStyle(originalStyles);Ext.callback(obj.callback,obj.scope)}})};me.animate({duration:obj.duration,easing:obj.easing,listeners:{beforeanimate:{fn:beforeAnim}}});return me},selectable:function(){var me=this;me.dom.unselectable="";me.removeCls(Element.unselectableCls);me.addCls(Element.selectableCls);return me},setCapture:function(){var dom=this.dom;if(Ext.isIE9m&&dom.setCapture){dom.setCapture()}},setDisplayed:function(value){var me=this;if(typeof value==="boolean"){value=value?getDisplay(me):NONE}me.setStyle(DISPLAY,value);if(me.shadow||me.shim){me.setUnderlaysVisible(value!==NONE)}return me},setHeight:function(height,animate){var me=this;if(!animate||!me.anim){me.callParent(arguments)}else{if(!Ext.isObject(animate)){animate={}}me.animate(Ext.applyIf({to:{height:height}},animate))}return me},setHorizontal:function(){var me=this,cls=me.verticalCls;delete me.vertical;if(cls){delete me.verticalCls;me.removeCls(cls)}delete me.setWidth;delete me.setHeight;if(!Ext.isIE8){delete me.getWidth;delete me.getHeight}delete me.styleHooks},updateText:function(text){var me=this,dom,textNode;if(dom){textNode=dom.firstChild;if(!textNode||(textNode.nodeType!==3||textNode.nextSibling)){textNode=DOC.createTextNode();me.empty();dom.appendChild(textNode)}if(text){textNode.data=text}}},setHtml:function(html,loadScripts,callback){var me=this,id,dom,interval;if(!me.dom){return me}html=html||"";dom=me.dom;if(loadScripts!==true){dom.innerHTML=html;Ext.callback(callback,me);return me}id=Ext.id();html+='<span id="'+id+'" role="presentation"></span>';interval=Ext.interval(function(){var hd,match,attrs,srcMatch,typeMatch,el,s;if(!(el=DOC.getElementById(id))){return false}clearInterval(interval);Ext.removeNode(el);hd=Ext.getHead().dom;while((match=scriptTagRe.exec(html))){attrs=match[1];srcMatch=attrs?attrs.match(srcRe):false;if(srcMatch&&srcMatch[2]){s=DOC.createElement("script");s.src=srcMatch[2];typeMatch=attrs.match(typeRe);if(typeMatch&&typeMatch[2]){s.type=typeMatch[2]}hd.appendChild(s)}else{if(match[2]&&match[2].length>0){if(WIN.execScript){WIN.execScript(match[2])}else{WIN.eval(match[2])}}}}Ext.callback(callback,me)},20);dom.innerHTML=html.replace(replaceScriptTagRe,"");return me},setOpacity:function(opacity,animate){var me=this;if(!me.dom){return me}if(!animate||!me.anim){me.setStyle("opacity",opacity)}else{if(typeof animate!="object"){animate={duration:350,easing:"ease-in"}}me.animate(Ext.applyIf({to:{opacity:opacity}},animate))}return me},setPositioning:function(pc){return this.setStyle(pc)},setVertical:function(angle,cls){var me=this,proto=Element.prototype;me.vertical=true;if(cls){me.addCls(me.verticalCls=cls)}me.setWidth=proto.setHeight;me.setHeight=proto.setWidth;if(!Ext.isIE8){me.getWidth=proto.getHeight;me.getHeight=proto.getWidth}me.styleHooks=(angle===270)?proto.verticalStyleHooks270:proto.verticalStyleHooks90},setSize:function(width,height,animate){var me=this;if(Ext.isObject(width)){animate=height;height=width.height;width=width.width}if(!animate||!me.anim){me.dom.style.width=Element.addUnits(width);me.dom.style.height=Element.addUnits(height);if(me.shadow||me.shim){me.syncUnderlays()}}else{if(animate===true){animate={}}me.animate(Ext.applyIf({to:{width:width,height:height}},animate))}return me},setVisible:function(visible,animate){var me=this,dom=me.dom,visMode=getVisMode(me);if(typeof animate==="string"){switch(animate){case DISPLAY:visMode=Element.DISPLAY;break;case VISIBILITY:visMode=Element.VISIBILITY;break;case OFFSETS:visMode=Element.OFFSETS;break}me.setVisibilityMode(visMode);animate=false}if(!animate||!me.anim){if(visMode===Element.DISPLAY){return me.setDisplayed(visible)}else{if(visMode===Element.OFFSETS){me[visible?"removeCls":"addCls"](OFFSETCLASS)}else{if(visMode===Element.VISIBILITY){me.fixDisplay();dom.style.visibility=visible?"":HIDDEN}}}}else{if(visible){me.setOpacity(0.01);me.setVisible(true)}if(!Ext.isObject(animate)){animate={duration:350,easing:"ease-in"}}me.animate(Ext.applyIf({callback:function(){if(!visible){Ext.fly(dom).setVisible(false).setOpacity(1)}},to:{opacity:(visible)?1:0}},animate))}me.getData()[ISVISIBLE]=visible;if(me.shadow||me.shim){me.setUnderlaysVisible(visible)}return me},setWidth:function(width,animate){var me=this;if(!animate||!me.anim){me.callParent(arguments)}else{if(!Ext.isObject(animate)){animate={}}me.animate(Ext.applyIf({to:{width:width}},animate))}return me},setX:function(x,animate){return this.setXY([x,this.getY()],animate)},setXY:function(xy,animate){var me=this;if(!animate||!me.anim){me.callParent([xy])}else{if(!Ext.isObject(animate)){animate={}}me.animate(Ext.applyIf({to:{x:xy[0],y:xy[1]}},animate))}return this},setY:function(y,animate){return this.setXY([this.getX(),y],animate)},show:function(animate){if(typeof animate==="string"){this.setVisible(true,animate);return this}this.setVisible(true,this.anim(animate));return this},slideIn:function(anchor,obj,slideOut){var me=this,dom=me.dom,elStyle=dom.style,beforeAnim,wrapAnim,restoreScroll,wrapDomParentNode;anchor=anchor||"t";obj=obj||{};beforeAnim=function(){var animScope=this,listeners=obj.listeners,el=Ext.fly(dom,"_anim"),box,originalStyles,anim,wrap;if(!slideOut){el.fixDisplay()}box=el.getBox();if((anchor=="t"||anchor=="b")&&box.height===0){box.height=dom.scrollHeight}else{if((anchor=="l"||anchor=="r")&&box.width===0){box.width=dom.scrollWidth}}originalStyles=el.getStyle(["width","height","left","right","top","bottom","position","z-index"],true);el.setSize(box.width,box.height);if(obj.preserveScroll){restoreScroll=el.cacheScrollValues()}wrap=el.wrap({role:"presentation",id:Ext.id()+"-anim-wrap-for-"+el.dom.id,style:{visibility:slideOut?"visible":"hidden"}});wrapDomParentNode=wrap.dom.parentNode;wrap.setPositioning(el.getPositioning(true));if(wrap.isStyle("position","static")){wrap.position("relative")}el.clearPositioning("auto");wrap.clip();if(restoreScroll){restoreScroll()}el.setStyle({visibility:"",position:"absolute"});if(slideOut){wrap.setSize(box.width,box.height)}switch(anchor){case"t":anim={from:{width:box.width+"px",height:"0px"},to:{width:box.width+"px",height:box.height+"px"}};elStyle.bottom="0px";break;case"l":anim={from:{width:"0px",height:box.height+"px"},to:{width:box.width+"px",height:box.height+"px"}};me.anchorAnimX(anchor);break;case"r":anim={from:{x:box.x+box.width,width:"0px",height:box.height+"px"},to:{x:box.x,width:box.width+"px",height:box.height+"px"}};me.anchorAnimX(anchor);break;case"b":anim={from:{y:box.y+box.height,width:box.width+"px",height:"0px"},to:{y:box.y,width:box.width+"px",height:box.height+"px"}};break;case"tl":anim={from:{x:box.x,y:box.y,width:"0px",height:"0px"},to:{width:box.width+"px",height:box.height+"px"}};elStyle.bottom="0px";me.anchorAnimX("l");break;case"bl":anim={from:{y:box.y+box.height,width:"0px",height:"0px"},to:{y:box.y,width:box.width+"px",height:box.height+"px"}};me.anchorAnimX("l");break;case"br":anim={from:{x:box.x+box.width,y:box.y+box.height,width:"0px",height:"0px"},to:{x:box.x,y:box.y,width:box.width+"px",height:box.height+"px"}};me.anchorAnimX("r");break;case"tr":anim={from:{x:box.x+box.width,width:"0px",height:"0px"},to:{x:box.x,width:box.width+"px",height:box.height+"px"}};elStyle.bottom="0px";me.anchorAnimX("r");break}wrap.show();wrapAnim=Ext.apply({},obj);delete wrapAnim.listeners;wrapAnim=new Ext.fx.Anim(Ext.applyIf(wrapAnim,{target:wrap,duration:500,easing:"ease-out",from:slideOut?anim.to:anim.from,to:slideOut?anim.from:anim.to}));wrapAnim.on("afteranimate",function(){var el=Ext.fly(dom,"_anim");el.setStyle(originalStyles);if(slideOut){if(obj.useDisplay){el.setDisplayed(false)}else{el.hide()}}if(wrap.dom){if(wrap.dom.parentNode){wrap.dom.parentNode.insertBefore(el.dom,wrap.dom)}else{wrapDomParentNode.appendChild(el.dom)}wrap.destroy()}if(restoreScroll){restoreScroll()}animScope.end()});if(listeners){wrapAnim.on(listeners)}};me.animate({duration:obj.duration?Math.max(obj.duration,500)*2:1000,listeners:{beforeanimate:beforeAnim}});return me},slideOut:function(anchor,o){return this.slideIn(anchor,o,true)},swallowEvent:function(eventName,preventDefault){var me=this,e,eLen,fn=function(e){e.stopPropagation();if(preventDefault){e.preventDefault()}};if(Ext.isArray(eventName)){eLen=eventName.length;for(e=0;e<eLen;e++){me.on(eventName[e],fn)}return me}me.on(eventName,fn);return me},switchOff:function(obj){var me=this,dom=me.dom,beforeAnim;obj=Ext.applyIf(obj||{},{easing:"ease-in",duration:500,remove:false,useDisplay:false});beforeAnim=function(){var el=Ext.fly(dom,"_anim"),animScope=this,size=el.getSize(),xy=el.getXY(),keyframe,position;el.clearOpacity();el.clip();position=el.getPositioning();keyframe=new Ext.fx.Animator({target:dom,duration:obj.duration,easing:obj.easing,keyframes:{33:{opacity:0.3},66:{height:1,y:xy[1]+size.height/2},100:{width:1,x:xy[0]+size.width/2}}});keyframe.on("afteranimate",function(){var el=Ext.fly(dom,"_anim");if(obj.useDisplay){el.setDisplayed(false)}else{el.hide()}el.clearOpacity();el.setPositioning(position);el.setSize(size);animScope.end()})};me.animate({duration:(Math.max(obj.duration,500)*2),listeners:{beforeanimate:{fn:beforeAnim}},callback:obj.callback,scope:obj.scope});return me},syncContent:function(source){source=Ext.getDom(source);var sourceNodes=source.childNodes,sourceLen=sourceNodes.length,dest=this.dom,destNodes=dest.childNodes,destLen=destNodes.length,i,destNode,sourceNode,nodeType,newAttrs,attLen,attName,elData=dest._extData;if(Ext.isIE9m&&dest.mergeAttributes){dest.mergeAttributes(source,true);dest.src=source.src}else{newAttrs=source.attributes;attLen=newAttrs.length;for(i=0;i<attLen;i++){attName=newAttrs[i].name;if(attName!=="id"){dest.setAttribute(attName,newAttrs[i].value)}}}if(elData){elData.isSynchronized=false}if(sourceLen!==destLen){dest.innerHTML=source.innerHTML;return}for(i=0;i<sourceLen;i++){sourceNode=sourceNodes[i];destNode=destNodes[i];nodeType=sourceNode.nodeType;if(nodeType!==destNode.nodeType||(nodeType===1&&sourceNode.tagName!==destNode.tagName)){dest.innerHTML=source.innerHTML;return}if(nodeType===3){destNode.data=sourceNode.data}else{if(sourceNode.id&&destNode.id!==sourceNode.id){destNode.id=sourceNode.id}destNode.style.cssText=sourceNode.style.cssText;destNode.className=sourceNode.className;Ext.fly(destNode,"_syncContent").syncContent(sourceNode)}}},toggle:function(animate){var me=this;me.setVisible(!me.isVisible(),me.anim(animate));return me},unmask:function(){var me=this,data=me.getData(),maskEl=data.maskEl,style;if(maskEl){style=maskEl.dom.style;if(style.clearExpression){style.clearExpression("width");style.clearExpression("height")}if(maskEl){maskEl.destroy();delete data.maskEl}me.removeCls([XMASKED,XMASKEDRELATIVE])}me.restoreChildrenTabbableState();if(me.dom!==DOC.body){me.restoreTabbableState()}},unclip:function(){var me=this,data=me.getData(),clip;if(data[ISCLIPPED]){data[ISCLIPPED]=false;clip=data[ORIGINALCLIP];if(clip.o){me.setStyle(OVERFLOW,clip.o)}if(clip.x){me.setStyle(OVERFLOWX,clip.x)}if(clip.y){me.setStyle(OVERFLOWY,clip.y)}}return me},translate:function(x,y,z){if(Ext.supports.CssTransforms&&!Ext.isIE9m){this.callParent(arguments)}else{if(x!=null){this.dom.style.left=x+"px"}if(y!=null){this.dom.style.top=y+"px"}}},unselectable:function(){var me=this;if(Ext.isOpera){me.dom.unselectable="on"}me.removeCls(Element.selectableCls);me.addCls(Element.unselectableCls);return me},privates:{needsTabIndex:function(){var dom=this.dom,nodeName,isFocusable;if(dom){nodeName=dom.nodeName;isFocusable=!!Ext.Element.naturallyFocusableTags[nodeName]||((nodeName==="A"||nodeName==="LINK")&&!!dom.href)||dom.getAttribute("tabindex")!=null||dom.contentEditable==="true";return !isFocusable}},findTabbableElements:function(asDom,selector,limit,backward){asDom=asDom!=undefined?asDom:true;var me=this,selection;selection=me.selectTabbableElements(asDom,selector,limit,backward);if(me.isTabbable()){selection.unshift(asDom?me.dom:me)}return selection},selectTabbableElements:function(asDom,selector,limit,backward){var selection=[],nodes,node,el,i,len,to,step,tabIndex;asDom=asDom!=undefined?asDom:true;nodes=this.dom.querySelectorAll(selector||Ext.Element.tabbableSelector);len=nodes.length;if(!len){return selection}if(backward){i=len-1;to=0;step=-1}else{i=0;to=len-1;step=1}for(;;i+=step){if((step>0&&i>to)||(step<0&&i<to)){break}node=nodes[i];tabIndex=node.getAttribute("tabindex")-0;if(!(tabIndex<0)){el=asDom?Ext.fly(node):Ext.get(node);if(el.isTabbable()){selection.push(asDom?node:el)}}if(selection.length>=limit){return selection}}return selection},selectFirstTabbableElement:function(asDom,selector){var els=this.selectTabbableElements(asDom,selector,1,false);return els[0]},selectLastTabbableElement:function(asDom,selector){var el=this.selectTabbableElements(true,selector,1,true)[0];return(asDom!==false)?el:Ext.get(el)},saveTabbableState:function(attribute){var tabbableSavedFlagAttribute=Ext.Element.tabbableSavedFlagAttribute,dom=this.dom;if(dom.hasAttribute(tabbableSavedFlagAttribute)){return}attribute=attribute||Ext.Element.tabbableSavedAttribute;if(dom.hasAttribute("tabindex")){dom.setAttribute(attribute,dom.getAttribute("tabindex"))}else{dom.setAttribute(attribute,"none")}dom.setAttribute("tabindex",-1);dom.setAttribute(tabbableSavedFlagAttribute,true);return this},restoreTabbableState:function(attribute){var tabbableSavedFlagAttribute=Ext.Element.tabbableSavedFlagAttribute,dom=this.dom,idx;attribute=attribute||Ext.Element.tabbableSavedAttribute;if(!dom.hasAttribute(tabbableSavedFlagAttribute)||!dom.hasAttribute(attribute)){return}idx=dom.getAttribute(attribute);if(idx==="none"){dom.removeAttribute("tabindex")}else{dom.setAttribute("tabindex",idx)}dom.removeAttribute(attribute);dom.removeAttribute(tabbableSavedFlagAttribute);return this},saveChildrenTabbableState:function(attribute){var children,child,i,len;if(this.dom){children=this.selectTabbableElements();for(i=0,len=children.length;i<len;i++){child=Ext.fly(children[i]);child.saveTabbableState(attribute)}}return children},restoreChildrenTabbableState:function(attribute,children){var child,i,len;if(this.dom){attribute=attribute||Ext.Element.tabbableSavedAttribute;children=children||this.dom.querySelectorAll("["+attribute+"]");for(i=0,len=children.length;i<len;i++){child=Ext.fly(children[i]);child.restoreTabbableState(attribute)}}return children}},deprecated:{"4.0":{methods:{pause:function(ms){var me=this;Ext.fx.Manager.setFxDefaults(me.id,{delay:ms});return me},scale:function(w,h,o){this.animate(Ext.apply({},o,{width:w,height:h}));return this},shift:function(config){this.animate(config);return this}}},"4.2":{methods:{moveTo:function(x,y,animate){return this.setXY([x,y],animate)},setBounds:function(x,y,width,height,animate){return this.setBox({x:x,y:y,width:width,height:height},animate)},setLeftTop:function(left,top){var me=this,style=me.dom.style;style.left=Element.addUnits(left);style.top=Element.addUnits(top);if(me.shadow||me.shim){me.syncUnderlays()}return me},setLocation:function(x,y,animate){return this.setXY([x,y],animate)}}},"5.0":{methods:{getAttributeNS:function(namespace,name){return this.getAttribute(name,namespace)},getCenterXY:function(){return this.getAlignToXY(DOC,"c-c")},getComputedHeight:function(){return Math.max(this.dom.offsetHeight,this.dom.clientHeight)||parseFloat(this.getStyle(HEIGHT))||0},getComputedWidth:function(){return Math.max(this.dom.offsetWidth,this.dom.clientWidth)||parseFloat(this.getStyle(WIDTH))||0},getStyleSize:function(){var me=this,d=this.dom,isDoc=(d===DOC||d===DOC.body),s,w,h;if(isDoc){return{width:Element.getViewportWidth(),height:Element.getViewportHeight()}}s=me.getStyle(["height","width"],true);if(s.width&&s.width!=="auto"){w=parseFloat(s.width)}if(s.height&&s.height!=="auto"){h=parseFloat(s.height)}return{width:w||me.getWidth(true),height:h||me.getHeight(true)}},isBorderBox:function(){return true},isDisplayed:function(){return !this.isStyle("display","none")},focusable:"isFocusable"}}}}})(),function(){var K=Ext.dom.Element,M=K.prototype,C=!Ext.isIE8,Z=document,Q=Z.defaultView,D=/alpha\(opacity=(.*)\)/i,T=/^\s+|\s+$/g,N=M.styleHooks,G=Ext.supports,H,V,W,O,X,I,U,L;M._init(K);delete M._init;Ext.plainTableCls=Ext.baseCSSPrefix+"table-plain";Ext.plainListCls=Ext.baseCSSPrefix+"list-plain";if(Ext.CompositeElementLite){Ext.CompositeElementLite.importElementMethods()}N.opacity={name:"opacity",afterSet:function(b,c,d){var a=d.shadow;if(a){a.setOpacity(c)}}};if(!G.Opacity&&Ext.isIE){Ext.apply(N.opacity,{get:function(a){var b=a.style.filter,c,d;if(b.match){c=b.match(D);if(c){d=parseFloat(c[1]);if(!isNaN(d)){return d?d/100:0}}}return 1},set:function(a,c){var d=a.style,b=d.filter.replace(D,"").replace(T,"");d.zoom=1;if(typeof(c)==="number"&&c>=0&&c<1){c*=100;d.filter=b+(b.length?" ":"")+"alpha(opacity="+c+")"}else{d.filter=b}}})}if(!G.matchesSelector){var S=/^([a-z]+|\*)?(?:\.([a-z][a-z\-_0-9]*))?$/i,R=/\-/g,aa,F=function(c,b){var a=new RegExp("(?:^|\\s+)"+b.replace(R,"\\-")+"(?:\\s+|$)");if(c&&c!=="*"){c=c.toUpperCase();return function(d){return d.tagName===c&&a.test(d.className)}}return function(d){return a.test(d.className)}},J=function(a){a=a.toUpperCase();return function(b){return b.tagName===a}},P={};M.matcherCache=P;M.is=function(b){if(!b){return true}var a=this.dom,d,j,e,g,h,l,c;if(a.nodeType!==1){return false}if(!(e=Ext.isFunction(b)?b:P[b])){if(!(j=b.match(S))){g=a.parentNode;if(!g){h=true;g=aa||(aa=Z.createDocumentFragment());aa.appendChild(a)}l=Ext.Array.indexOf(Ext.fly(g,"_is").query(b),a)!==-1;if(h){aa.removeChild(a)}return l}c=j[1];d=j[2];P[b]=e=d?F(c,d):J(c)}return e(a)}}if(!Q||!Q.getComputedStyle){M.getStyle=function(e,m){var l=this,q=l.dom,c=typeof e!=="string",u=e,j=u,n=1,s=m,a=l.styleHooks,d,o,g,h,r,b,p;if(c){g={};u=j[0];p=0;if(!(n=j.length)){return g}}if(!q||q.documentElement){return g||""}o=q.style;if(m){b=o}else{b=q.currentStyle;if(!b){s=true;b=o}}do{h=a[u];if(!h){a[u]=h={name:K.normalize(u)}}if(h.get){r=h.get(q,l,s,b)}else{d=h.name;r=b[d]}if(!c){return r}g[u]=r;u=j[++p]}while(p<n);return g}}if(Ext.isIE8){function Y(a,c,b,d){if(d[this.styleName]==="none"){return"0px"}return d[this.name]}X=["Top","Right","Bottom","Left"];I=X.length;while(I--){U=X[I];L="border"+U+"Width";N["border-"+U.toLowerCase()+"-width"]=N[L]={name:L,styleName:"border"+U+"Style",get:Y}}}Ext.apply(Ext,{enableGarbageCollector:true,isBorderBox:true,useShims:false,getDetachedBody:function(){var a=Ext.detachedBodyEl;if(!a){a=Z.createElement("div");Ext.detachedBodyEl=a=new Ext.dom.Fly(a);a.isDetachedBody=true}return a},getElementById:function(a){var b=Z.getElementById(a),c;if(!b&&(c=Ext.detachedBodyEl)){b=c.dom.querySelector(Ext.makeIdSelector(a))}return b},addBehaviors:function(a){if(!Ext.isReady){Ext.onReady(function(){Ext.addBehaviors(a)})}else{var d={},b,e,c;for(e in a){if((b=e.split("@"))[1]){c=b[0];if(!d[c]){d[c]=Ext.fly(document).select(c,true)}d[c].on(b[1],a[e])}}d=null}}});if(Ext.isIE8){H=Ext.removeNode;Ext.removeNode=function(a){H(a);V=V||Z.createElement("div");V.appendChild(a);V.innerHTML=""}}if(Ext.isIE9m){Ext.getElementById=function(a){var b=Z.getElementById(a),c;if(!b&&(c=Ext.detachedBodyEl)){b=c.dom.all[a]}return b};M.getById=function(a,g){var b=this.dom,e=null,c,d;if(b){d=(C&&Z.getElementById(a))||b.all[a];if(d){if(g){e=d}else{c=Ext.cache[a];if(c){if(c.skipGarbageCollection||!Ext.isGarbage(c.dom)){e=c}else{c.destroy()}}e=e||new Ext.Element(d)}}}return e}}else{if(!Z.querySelector){Ext.getDetachedBody=Ext.getBody;Ext.getElementById=function(a){return Z.getElementById(a)};M.getById=function(a,c){var b=Z.getElementById(a);return c?b:(b?Ext.get(b):null)}}}if(Ext.isIE&&!(Ext.isIE9p&&Z.documentMode>=9)){M.getAttribute=function(d,b){var a=this.dom,c;if(b){c=typeof a[b+":"+d];if(c!="undefined"&&c!="unknown"){return a[b+":"+d]||null}return null}if(d==="for"){d="htmlFor"}return a[d]||null}}Ext.onReady(function(){var q=/^(?:transparent|(?:rgba[(](?:\s*\d+\s*[,]){3}\s*0\s*[)]))$/i,a=[],l=M.setWidth,j=M.setHeight,d=M.setSize,c=/^\d+(?:\.\d*)?px$/i,m,o,b,e;if(G.FixedTableWidthBug){N.width={name:"width",set:function(y,s,v){var w=y.style,x=v._needsTableWidthFix,u=w.display;if(x){w.display="none"}w.width=s;if(x){y.scrollWidth;w.display=u}}};M.setWidth=function(u,w){var z=this,y=z.dom,v=y.style,x=z._needsTableWidthFix,s=v.display;if(x&&!w){v.display="none"}l.call(z,u,w);if(x&&!w){y.scrollWidth;v.display=s}return z};M.setSize=function(s,w,v){var z=this,y=z.dom,u=y.style,x=z._needsTableWidthFix,A=u.display;if(x&&!v){u.display="none"}d.call(z,s,w,v);if(x&&!v){y.scrollWidth;u.display=A}return z}}if(Ext.isIE8){N.height={name:"height",set:function(y,s,v){var w=v.component,u,x;if(w&&w._syncFrameHeight&&this===w.el){x=w.frameBody.dom.style;if(c.test(s)){u=w.getFrameInfo();if(u){x.height=(parseInt(s,10)-u.height)+"px"}}else{if(!s||s==="auto"){x.height=""}}}y.style.height=s}};M.setHeight=function(x,v){var u=this.component,s,w;if(u&&u._syncFrameHeight&&this===u.el){w=u.frameBody.dom.style;if(!x||x==="auto"){w.height=""}else{s=u.getFrameInfo();if(s){w.height=(x-s.height)+"px"}}}return j.call(this,x,v)};M.setSize=function(s,x,v){var u=this.component,y,w;if(u&&u._syncFrameHeight&&this===u.el){w=u.frameBody.dom.style;if(!x||x==="auto"){w.height=""}else{y=u.getFrameInfo();if(y){w.height=(x-y.height)+"px"}}}return d.call(this,s,x,v)}}Ext.getDoc().on("selectstart",function(s,y){var u=K.selectableCls,v=K.unselectableCls,x=y&&y.tagName;x=x&&x.toLowerCase();if(x==="input"||x==="textarea"){return}while(y&&y.nodeType===1&&y!==Z.documentElement){var w=Ext.fly(y);if(w.hasCls(u)){return}if(w.hasCls(v)){s.stopEvent();return}y=y.parentNode}});function n(s,w,u,x){var v=x[this.name]||"";return q.test(v)?"transparent":v}function g(u,s,v){return function(){u.selectionStart=s;u.selectionEnd=v}}function h(s){var v=G.DisplayChangeInputSelectionBug,u=G.DisplayChangeTextAreaSelectionBug,z,x,y,w;if(v||u){z=K.getActiveElement();x=z&&z.tagName;if((u&&x==="TEXTAREA")||(v&&x==="INPUT"&&z.type==="text")){if(Ext.fly(s).isAncestor(z)){y=z.selectionStart;w=z.selectionEnd;if(Ext.isNumber(y)&&Ext.isNumber(w)){return g(z,y,w)}}}}return Ext.emptyFn}function p(y,u,z,v){var x=v.marginRight,w,s;if(x!=="0px"){w=y.style;s=w.display;w.display="inline-block";x=(z?v:y.ownerDocument.defaultView.getComputedStyle(y,null)).marginRight;w.display=s}return x}function r(y,s,z,u){var x=u.marginRight,v,w,A;if(x!=="0px"){v=y.style;w=h(y);A=v.display;v.display="inline-block";x=(z?u:y.ownerDocument.defaultView.getComputedStyle(y,"")).marginRight;v.display=A;w()}return x}if(!G.RightMargin){N.marginRight=N["margin-right"]={name:"marginRight",get:(G.DisplayChangeInputSelectionBug||G.DisplayChangeTextAreaSelectionBug)?r:p}}if(!G.TransparentColor){m=["background-color","border-color","color","outline-color"];for(o=m.length;o--;){b=m[o];e=K.normalize(b);N[b]=N[e]={name:e,get:n}}}M.verticalStyleHooks90=W=Ext.Object.chain(N);M.verticalStyleHooks270=O=Ext.Object.chain(N);W.width=N.height||{name:"height"};W.height=N.width||{name:"width"};W["margin-top"]={name:"marginLeft"};W["margin-right"]={name:"marginTop"};W["margin-bottom"]={name:"marginRight"};W["margin-left"]={name:"marginBottom"};W["padding-top"]={name:"paddingLeft"};W["padding-right"]={name:"paddingTop"};W["padding-bottom"]={name:"paddingRight"};W["padding-left"]={name:"paddingBottom"};W["border-top"]={name:"borderLeft"};W["border-right"]={name:"borderTop"};W["border-bottom"]={name:"borderRight"};W["border-left"]={name:"borderBottom"};O.width=N.height||{name:"height"};O.height=N.width||{name:"width"};O["margin-top"]={name:"marginRight"};O["margin-right"]={name:"marginBottom"};O["margin-bottom"]={name:"marginLeft"};O["margin-left"]={name:"marginTop"};O["padding-top"]={name:"paddingRight"};O["padding-right"]={name:"paddingBottom"};O["padding-bottom"]={name:"paddingLeft"};O["padding-left"]={name:"paddingTop"};O["border-top"]={name:"borderRight"};O["border-right"]={name:"borderBottom"};O["border-bottom"]={name:"borderLeft"};O["border-left"]={name:"borderTop"};if(!Ext.scopeCss){a.push(Ext.baseCSSPrefix+"body")}if(G.Touch){a.push(Ext.baseCSSPrefix+"touch")}if(Ext.isIE&&Ext.isIE9m){a.push(Ext.baseCSSPrefix+"ie",Ext.baseCSSPrefix+"ie9m");a.push(Ext.baseCSSPrefix+"ie8p");if(Ext.isIE8){a.push(Ext.baseCSSPrefix+"ie8")}else{a.push(Ext.baseCSSPrefix+"ie9",Ext.baseCSSPrefix+"ie9p")}if(Ext.isIE8m){a.push(Ext.baseCSSPrefix+"ie8m")}}if(Ext.isIE10){a.push(Ext.baseCSSPrefix+"ie10")}if(Ext.isIE11){a.push(Ext.baseCSSPrefix+"ie11")}if(Ext.isGecko){a.push(Ext.baseCSSPrefix+"gecko")}if(Ext.isOpera){a.push(Ext.baseCSSPrefix+"opera")}if(Ext.isOpera12m){a.push(Ext.baseCSSPrefix+"opera12m")}if(Ext.isWebKit){a.push(Ext.baseCSSPrefix+"webkit")}if(Ext.isSafari){a.push(Ext.baseCSSPrefix+"safari")}if(Ext.isChrome){a.push(Ext.baseCSSPrefix+"chrome")}if(Ext.isMac){a.push(Ext.baseCSSPrefix+"mac")}if(Ext.isLinux){a.push(Ext.baseCSSPrefix+"linux")}if(!G.CSS3BorderRadius){a.push(Ext.baseCSSPrefix+"nbr")}if(!G.CSS3LinearGradient){a.push(Ext.baseCSSPrefix+"nlg")}if(G.Touch){a.push(Ext.baseCSSPrefix+"touch")}Ext.getBody().addCls(a)},null,{priority:1500})});Ext.define("Ext.GlobalEvents",{extend:Ext.mixin.Observable,alternateClassName:"Ext.globalEvents",observableType:"global",singleton:true,resizeBuffer:100,idleEventMask:{mousemove:1,touchmove:1,pointermove:1,MSPointerMove:1,unload:1},constructor:function(){var b=this;b.callParent();Ext.onReady(function(){b.attachListeners()})},attachListeners:function(){Ext.get(window).on("resize",this.fireResize,this,{buffer:this.resizeBuffer})},fireResize:function(){var h=this,e=Ext.Element,g=e.getViewportWidth(),j=e.getViewportHeight();if(h.curHeight!==j||h.curWidth!==g){h.curHeight=j;h.curWidth=g;h.fireEvent("resize",g,j)}}},function(b){Ext.on=function(){return b.addListener.apply(b,arguments)};Ext.un=function(){return b.removeListener.apply(b,arguments)}});Ext.define("Ext.overrides.GlobalEvents",{override:"Ext.GlobalEvents",attachListeners:function(){this.callParent();Ext.getDoc().on("mousedown",this.fireMouseDown,this)},fireMouseDown:function(b){this.fireEvent("mousedown",b)},deprecated:{5:{methods:{addListener:function(r,o,n,m,s,u,q){var v,p;if(r==="ready"){p=o}else{if(typeof r!=="string"){for(v in r){if(v==="ready"){p=r[v]}}}}if(p){Ext.onReady(p)}this.callParent([r,o,n,m,s,u,q])}}}}});Ext.USE_NATIVE_JSON=false;Ext.JSON=(new (function(){var me=this,hasNative=window.JSON&&JSON.toString()=="[object JSON]",useHasOwn=!!{}.hasOwnProperty,pad=function(n){return n<10?"0"+n:n},doDecode=function(json){return eval("("+json+")")},doEncode=function(o,newline){if(o===null||o===undefined){return"null"}else{if(Ext.isDate(o)){return me.encodeDate(o)}else{if(Ext.isString(o)){if(Ext.isMSDate(o)){return me.encodeMSDate(o)}else{return me.encodeString(o)}}else{if(typeof o=="number"){return isFinite(o)?String(o):"null"}else{if(Ext.isBoolean(o)){return String(o)}else{if(o.toJSON){return o.toJSON()}else{if(Ext.isArray(o)){return encodeArray(o,newline)}else{if(Ext.isObject(o)){return encodeObject(o,newline)}else{if(typeof o==="function"){return"null"}}}}}}}}}return"undefined"},m={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\","\v":"\\u000b"},charToReplace=/[\\\"\x00-\x1f\x7f-\uffff]/g,encodeString=function(s){return'"'+s.replace(charToReplace,function(a){var c=m[a];return typeof c==="string"?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"'},encodeMSDate=function(o){return'"'+o+'"'},encodeArrayPretty=function(o,newline){var len=o.length,cnewline=newline+"   ",sep=","+cnewline,a=["[",cnewline],i;for(i=0;i<len;i+=1){a.push(me.encodeValue(o[i],cnewline),sep)}a[a.length-1]=newline+"]";return a.join("")},encodeObjectPretty=function(o,newline){var cnewline=newline+"   ",sep=","+cnewline,a=["{",cnewline],i,val;for(i in o){val=o[i];if(!useHasOwn||o.hasOwnProperty(i)){if(typeof val==="function"||val===undefined){continue}a.push(me.encodeValue(i)+": "+me.encodeValue(val,cnewline),sep)}}a[a.length-1]=newline+"}";return a.join("")},encodeArray=function(o,newline){if(newline){return encodeArrayPretty(o,newline)}var a=["[",""],len=o.length,i;for(i=0;i<len;i+=1){a.push(me.encodeValue(o[i]),",")}a[a.length-1]="]";return a.join("")},encodeObject=function(o,newline){if(newline){return encodeObjectPretty(o,newline)}var a=["{",""],i,val;for(i in o){val=o[i];if(!useHasOwn||o.hasOwnProperty(i)){if(typeof val==="function"||val===undefined){continue}a.push(me.encodeValue(i),":",me.encodeValue(val),",")}}a[a.length-1]="}";return a.join("")};me.encodeString=encodeString;me.encodeValue=doEncode;me.encodeDate=function(o){return'"'+o.getFullYear()+"-"+pad(o.getMonth()+1)+"-"+pad(o.getDate())+"T"+pad(o.getHours())+":"+pad(o.getMinutes())+":"+pad(o.getSeconds())+'"'};me.encode=function(o){if(hasNative&&Ext.USE_NATIVE_JSON){return JSON.stringify(o)}return me.encodeValue(o)};me.decode=function(json,safe){try{if(hasNative&&Ext.USE_NATIVE_JSON){return JSON.parse(json)}return doDecode(json)}catch(e){if(safe){return null}Ext.Error.raise({sourceClass:"Ext.JSON",sourceMethod:"decode",msg:"You're trying to decode an invalid JSON String: "+json})}};me.encodeMSDate=encodeMSDate;if(!Ext.util){Ext.util={}}Ext.util.JSON=me;Ext.encode=me.encode;Ext.decode=me.decode})());Ext.define("Ext.util.Format",function(){var b;return{singleton:true,defaultDateFormat:"m/d/Y",thousandSeparator:",",decimalSeparator:".",currencyPrecision:2,currencySign:"$",percentSign:"%",currencyAtEnd:false,stripTagsRe:/<\/?[^>]+>/gi,stripScriptsRe:/(?:<script.*?>)((\n|\r|.)*?)(?:<\/script>)/ig,nl2brRe:/\r?\n/g,hashRe:/#+$/,allHashes:/^#+$/,formatPattern:/[\d,\.#]+/,formatCleanRe:/[^\d\.#]/g,I18NFormatCleanRe:null,formatFns:{},constructor:function(){b=this},undef:function(a){return a!==undefined?a:""},defaultValue:function(d,a){return d!==undefined&&d!==""?d:a},substr:"ab".substr(-1)!="b"?function(j,g,a){var h=String(j);return(g<0)?h.substr(Math.max(h.length+g,0),a):h.substr(g,a)}:function(g,e,a){return String(g).substr(e,a)},lowercase:function(a){return String(a).toLowerCase()},uppercase:function(a){return String(a).toUpperCase()},usMoney:function(a){return b.currency(a,"$",2)},currency:function(p,n,q,a){var l="",m=",0",o=0;p=p-0;if(p<0){p=-p;l="-"}q=Ext.isDefined(q)?q:b.currencyPrecision;m+=(q>0?".":"");for(;o<q;o++){m+="0"}p=b.number(p,m);if((a||b.currencyAtEnd)===true){return Ext.String.format("{0}{1}{2}",l,p,n||b.currencySign)}else{return Ext.String.format("{0}{1}{2}",l,n||b.currencySign,p)}},date:function(a,d){if(!a){return""}if(!Ext.isDate(a)){a=new Date(Date.parse(a))}return Ext.Date.dateFormat(a,d||Ext.Date.defaultFormat)},dateRenderer:function(a){return function(d){return b.date(d,a)}},hex:function(e,g){var a=parseInt(e||0,10).toString(16);if(g){if(g<0){g=-g;if(a.length>g){a=a.substring(a.length-g)}}while(a.length<g){a="0"+a}}return a},or:function(d,a){return d||a},pick:function(h,j,g){if(Ext.isNumber(h)){var a=arguments[h+1];if(a){return a}}return h?g:j},stripTags:function(a){return !a?a:String(a).replace(b.stripTagsRe,"")},stripScripts:function(a){return !a?a:String(a).replace(b.stripScriptsRe,"")},fileSize:(function(){var a=1024,g=1048576,e=1073741824;return function(c){var d;if(c<a){if(c===1){d="1 byte"}else{d=c+" bytes"}}else{if(c<g){d=(Math.round(((c*10)/a))/10)+" KB"}else{if(c<e){d=(Math.round(((c*10)/g))/10)+" MB"}else{d=(Math.round(((c*10)/e))/10)+" GB"}}}return d}})(),math:(function(){var a={};return function(e,g){if(!a[g]){a[g]=Ext.functionFactory("v","return v "+g+";")}return a[g](e)}}()),round:function(e,g){var a=Number(e);if(typeof g==="number"){g=Math.pow(10,g);a=Math.round(e*g)/g}else{if(g===undefined){a=Math.round(a)}}return a},number:function(v,B){if(!B){return v}if(isNaN(v)){return""}var C=b.formatFns[B];if(!C){var y=B,a=b.thousandSeparator,u=b.decimalSeparator,A=0,D="",F,x,w,s,G,z;if(B.substr(B.length-2)==="/i"){if(!b.I18NFormatCleanRe||b.lastDecimalSeparator!==u){b.I18NFormatCleanRe=new RegExp("[^\\d\\"+u+"]","g");b.lastDecimalSeparator=u}B=B.substr(0,B.length-2);F=B.indexOf(a)!==-1;x=B.replace(b.I18NFormatCleanRe,"").split(u)}else{F=B.indexOf(",")!==-1;x=B.replace(b.formatCleanRe,"").split(".")}w=B.replace(b.formatPattern,"");if(x.length>2){}else{if(x.length===2){A=x[1].length;s=x[1].match(b.hashRe);if(s){z=s[0].length;D='trailingZeroes=new RegExp(Ext.String.escapeRegex(utilFormat.decimalSeparator) + "*0{0,'+z+'}$")'}}}G=["var utilFormat=Ext.util.Format,extNumber=Ext.Number,neg,absVal,fnum,parts"+(F?",thousandSeparator,thousands=[],j,n,i":"")+(w?',formatString="'+B+'",formatPattern=/[\\d,\\.#]+/':"")+',trailingZeroes;return function(v){if(typeof v!=="number"&&isNaN(v=extNumber.from(v,NaN)))return"";neg=v<0;',"absVal=Math.abs(v);","fnum=Ext.Number.toFixed(absVal, "+A+");",D,";"];if(F){if(A){G[G.length]='parts=fnum.split(".");';G[G.length]="fnum=parts[0];"}G[G.length]="if(absVal>=1000) {";G[G.length]="thousandSeparator=utilFormat.thousandSeparator;thousands.length=0;j=fnum.length;n=fnum.length%3||3;for(i=0;i<j;i+=n){if(i!==0){n=3;}thousands[thousands.length]=fnum.substr(i,n);}fnum=thousands.join(thousandSeparator);}";if(A){G[G.length]="fnum += utilFormat.decimalSeparator+parts[1];"}}else{if(A){G[G.length]='if(utilFormat.decimalSeparator!=="."){parts=fnum.split(".");fnum=parts[0]+utilFormat.decimalSeparator+parts[1];}'}}G[G.length]='if(neg&&fnum!=="'+(A?"0."+Ext.String.repeat("0",A):"0")+'") { fnum="-"+fnum; }';if(s){G[G.length]='fnum=fnum.replace(trailingZeroes,"");'}G[G.length]="return ";if(w){G[G.length]="formatString.replace(formatPattern, fnum);"}else{G[G.length]="fnum;"}G[G.length]="};";C=b.formatFns[y]=Ext.functionFactory("Ext",G.join(""))(Ext)}return C(v)},numberRenderer:function(a){return function(d){return b.number(d,a)}},percent:function(d,a){return b.number(d*100,a||"0")+b.percentSign},attributes:function(g){if(typeof g==="object"){var a=[],e;for(e in g){if(g.hasOwnProperty(e)){a.push(e,'="',e==="style"?Ext.DomHelper.generateStyles(g[e],null,true):Ext.htmlEncode(g[e]),'" ')}}g=a.join("")}return g||""},plural:function(a,g,e){return a+" "+(a===1?g:(e?e:g+"s"))},nl2br:function(a){return Ext.isEmpty(a)?"":a.replace(b.nl2brRe,"<br/>")},capitalize:Ext.String.capitalize,uncapitalize:Ext.String.uncapitalize,ellipsis:Ext.String.ellipsis,escape:Ext.String.escape,escapeRegex:Ext.String.escapeRegex,htmlDecode:Ext.String.htmlDecode,htmlEncode:Ext.String.htmlEncode,leftPad:Ext.String.leftPad,toggle:Ext.String.toggle,trim:Ext.String.trim,parseBox:function(g){g=g||0;if(typeof g==="number"){return{top:g,right:g,bottom:g,left:g}}var e=g.split(" "),a=e.length;if(a===1){e[1]=e[2]=e[3]=e[0]}else{if(a===2){e[2]=e[0];e[3]=e[1]}else{if(a===3){e[3]=e[1]}}}return{top:parseInt(e[0],10)||0,right:parseInt(e[1],10)||0,bottom:parseInt(e[2],10)||0,left:parseInt(e[3],10)||0}}}});Ext.define("Ext.Template",{inheritableStatics:{from:function(c,d){c=Ext.getDom(c);return new this(c.value||c.innerHTML,d||"")}},useEval:Ext.isGecko,constructor:function(p){var n=this,j=arguments,l=[],q,o=j.length,m;n.initialConfig={};if(o===1&&Ext.isArray(p)){j=p;o=j.length}if(o>1){for(q=0;q<o;q++){m=j[q];if(typeof m=="object"){Ext.apply(n.initialConfig,m);Ext.apply(n,m)}else{l.push(m)}}}else{l.push(p)}n.html=l.join("")},isTemplate:true,disableFormats:false,tokenRe:/\{(?:(?:(\d+)|([a-z_][\w\-]*))(?::([a-z_\.]+)(?:\(([^\)]*?)?\))?)?)\}/gi,apply:function(d){var c=this;if(c.compiled){if(!c.fn){c.compile()}return c.fn(d).join("")}return c.evaluate(d)},evaluate:function(j){var l=this,o=!l.disableFormats,m=Ext.util.Format,h=l;function n(a,b,c,e,d){if(c==null||c==""){c=b}if(e&&o){if(d){d=[j[c]].concat(Ext.functionFactory("return ["+d+"];")())}else{d=[j[c]]}if(e.substr(0,5)==="this."){return h[e.substr(5)].apply(h,d)}else{if(m[e]){return m[e].apply(m,d)}else{return a}}}else{return j[c]!==undefined?j[c]:""}}return l.html.replace(l.tokenRe,n)},applyOut:function(e,d){var g=this;if(g.compiled){if(!g.fn){g.compile()}d.push.apply(d,g.fn(e))}else{d.push(g.apply(e))}return d},applyTemplate:function(){return this.apply.apply(this,arguments)},set:function(e,g){var d=this;d.html=e;d.compiled=!!g;d.fn=null;return d},compileARe:/\\/g,compileBRe:/(\r\n|\n)/g,compileCRe:/'/g,compile:function(){var c=this,d;d=c.html.replace(c.compileARe,"\\\\").replace(c.compileBRe,"\\n").replace(c.compileCRe,"\\'").replace(c.tokenRe,c.regexReplaceFn.bind(c));d=(this.disableFormats!==true?"var fm=Ext.util.Format;":"")+(c.useEval?"$=":"return")+" function(v){return ['"+d+"'];};";c.fn=c.useEval?c.evalCompiled(d):(new Function("Ext",d))(Ext);c.compiled=true;return c},evalCompiled:function($){eval($);return $},regexReplaceFn:function(l,m,g,j,h){if(m==null||m==""){m='"'+g+'"'}else{if(this.stringFormat){m=parseInt(m)+1}}if(j&&this.disableFormats!==true){h=h?","+h:"";if(j.substr(0,5)==="this."){j=j+"("}else{if(Ext.util.Format[j]){j="fm."+j+"("}else{return l}}return"',"+j+"v["+m+"]"+h+"),'"}else{return"',v["+m+"] == undefined ? '' : v["+m+"],'"}},insertFirst:function(d,e,g){return this.doInsert("afterBegin",d,e,g)},insertBefore:function(d,e,g){return this.doInsert("beforeBegin",d,e,g)},insertAfter:function(d,e,g){return this.doInsert("afterEnd",d,e,g)},append:function(d,e,g){return this.doInsert("beforeEnd",d,e,g)},doInsert:function(g,l,h,j){var m=Ext.DomHelper.insertHtml(g,Ext.getDom(l),this.apply(h));return j?Ext.get(m):m},overwrite:function(j,g,h){var e=Ext.DomHelper.overwrite(Ext.getDom(j),this.apply(g));return h?Ext.get(e):e}},function(l){var m=/\{\d+\}/,h=function(a){if(m.test(a)){a=new l(a,g);return function(){return a.apply(arguments)}}else{return function(){return a}}},g={useFormat:false,compiled:true,stringFormat:true},j={};Ext.String.format=Ext.util.Format.format=function(a){var b=j[a]||(j[a]=h(a));return b.apply(this,arguments)}});Ext.define("Ext.mixin.Inheritable",{extend:Ext.Mixin,mixinConfig:{id:"inheritable"},getInherited:function(l){var o=this,p=(l&&o.inheritedStateInner)||o.inheritedState,q=o.ownerCt||o.initOwnerCt,r=o.isContainer,s,m,n;if(!p||p.invalid){s=o.getRefOwner();if(q){n=o.ownerLayout===q.layout}o.inheritedState=p=Ext.Object.chain(s?s.getInherited(n):Ext.rootInheritedState);if(r){o.inheritedStateInner=m=Ext.Object.chain(p)}o.initInheritedState(p,m);p=(r&&l)?o.inheritedStateInner:o.inheritedState}return p},getInheritedConfig:function(j,h){var l=this.inheritedState,g,m;if(!l||l.invalid){l=this.getInherited()}m=l[j];if(h&&l.hasOwnProperty(j)){g=m;delete l[j];m=l[j];l[j]=g}return m},fixReference:function(){var d=this,c;if(d.reference){c=d.lookupReferenceHolder();if(c){c.attachReference(d)}}},resolveListenerScope:function(h){var j=this,e=Ext._namedScopes[h],g;if(!e){g=j.getInheritedConfig("defaultListenerScope",true)||h||j}else{if(e.isController){g=j.getInheritedConfig("controller",!e.isSelf)}else{if(e.isSelf){g=j.getInheritedConfig("defaultListenerScope")||j}else{if(e.isThis){g=j}}}}return g||null},lookupReferenceHolder:function(b){return this.getInheritedConfig("referenceHolder",b!==false)||null},getRefOwner:function(){return this.ownerCt||this.initOwnerCt||this.ownerCmp||this.floatParent},invalidateInheritedState:function(){var b=this.inheritedState;if(b){b.invalid=true;delete this.inheritedState}}},function(){Ext.rootInheritedState={}});Ext.define("Ext.mixin.Bindable",{mixinId:"bindable",config:{bind:{$value:null,lazy:true},controller:null,defaultListenerScope:false,publishes:{$value:null,lazy:true,merge:function(c,d){return this.mergeSets(c,d)}},reference:null,session:{$value:null,lazy:true},twoWayBindable:{$value:null,lazy:true,merge:function(c,d){return this.mergeSets(c,d)}},viewModel:{$value:null,lazy:true}},defaultBindProperty:null,validRefRe:/^[a-z_][a-z0-9_]*$/i,initInheritedState:function(p){var o=this,l=o.getReference(),j=o.getController(),q=o.getConfig("viewModel",true),m=o.getConfig("session",true),n=o.getDefaultListenerScope();if(j){p.controller=j}if(n){p.defaultListenerScope=o}else{if(j){p.defaultListenerScope=j}}if(q){if(!q.isViewModel){q=o}p.viewModel=q}if(m){if(!m.isSession){m=o}p.session=m}if(l){o.referenceKey=(p.referencePath||"")+l;o.viewModelKey=(p.viewModelPath||"")+l}},lookupController:function(b){return this.getInheritedConfig("controller",b)||null},lookupSession:function(d){var c=d?null:this.getSession();if(!c){c=this.getInheritedConfig("session",d);if(c&&!c.isSession){c=c.getInherited().session=c.getSession()}}return c||null},lookupViewModel:function(d){var c=d?null:this.getViewModel();if(!c){c=this.getInheritedConfig("viewModel",d);if(c&&!c.isViewModel){c=c.getInherited().viewModel=c.getViewModel()}}return c||null},publishState:function(p,q){var r=this,o=r.viewModelKey,x=r.publishedState,v=r.getBind(),s=v&&p&&v[p],u=0,y,z,w;if(s&&!s.syncing&&!s.isReadOnly()){if(!(s.calls===0&&(q==null||q===r.getInitialConfig()[p]))){s.setValue(q)}}if(!o||!(z=r.getPublishes())){return}if(!(w=r.lookupViewModel())){return}if(p&&x){if(!z[p]){return}if(!(q&&q.constructor===Object)&&!(q instanceof Array)){if(x[p]===q){return}}o+=".";o+=p}else{x=x||(r.publishedState={});for(y in z){++u;if(y===p){x[y]=q}else{x[y]=r[y]}}if(!u){return}q=x}w.set(o,q)},privates:{addBindableUpdater:function(m){var g=this,l=g.self.$config.configs,h=l[m],j;if(h&&!g.hasOwnProperty(j=h.names.update)){g[j]=h.bindableUpdater||(h.root.bindableUpdater=g.makeBindableUpdater(h))}},applyBind:function(s,b){var q=this,o=q.lookupViewModel(),r=q.getTwoWayBindable(),v=q._getBindTemplateScope,p,n,u;if(!b||typeof b==="string"){b={}}if(Ext.isString(s)){p=s;s={};s[q.defaultBindProperty]=p}for(n in s){u=s[n];p=b[n];if(p&&typeof p!=="string"){p.destroy();p=null}if(u){p=o.bind(u,q.onBindNotify,q);p._config=Ext.Config.get(n);p.getTemplateScope=v}b[n]=p;if(r&&r[n]&&!p.isReadOnly()){q.addBindableUpdater(n)}}return b},applyController:function(b){if(b){b=Ext.Factory.controller(b);b.setView(this)}return b},applyPublishes:function(d){if(this.lookupViewModel()){for(var c in d){this.addBindableUpdater(c)}}return d},applySession:function(g){if(!g){return null}if(!g.isSession){var d=this.lookupSession(true),e=(g===true)?{}:g;if(d){g=d.spawn(e)}else{g=new Ext.data.Session(e)}}return g},applyViewModel:function(e){var j=this,g,h;if(!(e&&e.isViewModel)){g={parent:j.lookupViewModel(true)};g.session=j.getSession();if(!h&&!g.parent){g.session=j.lookupSession()}if(e){if(e.constructor===Object){Ext.apply(g,e)}else{if(typeof e==="string"){g.type=e}}}e=Ext.Factory.viewModel(g)}return e},_getBindTemplateScope:function(){return this.scope.resolveListenerScope()},initBindable:function(){this.initBindable=Ext.emptyFn;this.getBind();this.getPublishes()},makeBindableUpdater:function(d){var c=d.names.update;return function(b,j){var h=this,a=h.self.prototype[c];if(a){a.call(h,b,j)}h.publishState(d.name,b)}},onBindNotify:function(d,e,g){g.syncing=(g.syncing+1)||1;this[g._config.names.set](d);--g.syncing},removeBindings:function(){var g=this.bind,e,d;if(g&&typeof g!=="string"){for(e in g){d=g[e];d.destroy();d._config=d.getTemplateScope=null}}this.bind=null},updateSession:function(c){var d=this.getInherited();if(c){d.session=c}else{delete d.session}},updateViewModel:function(d){var g=this.getInherited(),e=this.getController();if(d){g.viewModel=d;d.setView(this);if(e){e.initViewModel(d)}}else{delete g.viewModel}}}});Ext.define("Ext.Widget",{extend:Ext.Evented,xtype:"widget",mixins:[Ext.mixin.Inheritable,Ext.mixin.Bindable],isWidget:true,element:{reference:"element"},observableType:"component",eventedConfig:{width:null,height:null},template:[],constructor:function(d){var c=this;c.initId(d);c.initElement();c.mixins.observable.constructor.call(c,d);Ext.ComponentManager.register(c)},afterCachedConfig:function(){var p=this,o=p.self.prototype,n=p.referenceList,v=p.renderElement.dom,r,u,s,q,w,x;o.renderTemplate=r=document.createDocumentFragment();r.appendChild(v.cloneNode(true));x=r.querySelectorAll("[id]");for(s=0,q=x.length;s<q;s++){u=x[s];u.removeAttribute("id")}for(s=0,q=n.length;s<q;s++){w=n[s];p[w].dom.removeAttribute("reference")}},applyWidth:function(b){return this.filterLengthValue(b)},applyHeight:function(b){return this.filterLengthValue(b)},destroy:function(){var j=this,g=j.referenceList,m,l,h;for(m=0,l=g.length;m<l;m++){h=g[m];if(j.hasOwnProperty(h)){j[h].destroy();j[h]=null}}j.callParent();Ext.ComponentManager.unregister(j)},doSetWidth:function(b){this.element.setWidth(b)},doSetHeight:function(b){this.element.setHeight(b)},getElementConfig:function(){var c=this,d=c.element;if(!("children" in d)){d=Ext.apply({children:c.getTemplate()},d)}return d},getItemId:function(){return this.itemId||this.id},getSize:function(){return{width:this.getWidth(),height:this.getHeight()}},getTemplate:function(){return this.template},initElement:function(){var v=this,u=v.self.prototype,G=v.getId(),r=v.referenceList=[],D=true,y,B,z,F,A,w,x,C,s;if(u.hasOwnProperty("renderTemplate")){y=v.renderTemplate.cloneNode(true);B=y.firstChild}else{D=false;y=document.createDocumentFragment();s=v.getElementConfig();v.initElementListeners(s);B=Ext.Element.create(s,true);y.appendChild(B)}F=y.querySelectorAll("[reference]");for(A=0,w=F.length;A<w;A++){x=F[A];C=x.getAttribute("reference");if(D){x.removeAttribute("reference")}if(C==="element"){x.id=G;z=v.el=v.addElementReference(C,x)}else{v.addElementReferenceOnDemand(C,x)}r.push(C)}if(B===z.dom){v.renderElement=z}else{v.addElementReferenceOnDemand("renderElement",B)}},is:function(b){return Ext.ComponentQuery.is(this,b)},isXType:function(c,d){return d?(Ext.Array.indexOf(this.xtypes,c)!==-1):!!this.xtypesMap[c]},resolveListenerScope:function(b){return this.mixins.inheritable.resolveListenerScope.call(this,b)},setSize:function(c,d){if(c!==undefined){this.setWidth(c)}if(d!==undefined){this.setHeight(d)}},privates:{addElementReferenceOnDemand:function(d,c){if(this._elementListeners[d]){this.addElementReference(d,c)}else{Ext.Object.defineProperty(this,d,{get:function(){delete this[d];return this.addElementReference(d,c)},configurable:true})}},addElementReference:function(q,o){var n=this,j=n[q]=Ext.get(o),p=n._elementListeners[q],l,m;j.skipGarbageCollection=true;j.component=n;if(p){p=Ext.clone(p);p.scope=n;for(l in p){m=p[l];if(typeof m==="object"){m.scope=n}}j.on(p)}return j},doAddListener:function(p,m,n,q,l,j,o){if(q&&"element" in q){this[q.element].doAddListener(p,m,n||this,q,l)}this.callParent([p,m,n,q,l,j,o])},filterLengthValue:function(b){if(b==="auto"||(!b&&b!==0)){return null}return b},getFocusEl:function(){return this.element},initElementListeners:function(n){var o=this,p=o._elementListeners||(o.self.prototype._elementListeners={}),m=n.reference,s=n.children,r,q,l;if(m){r=n.listeners;if(r){p[m]=r;n.listeners=null}}if(s){for(l=0,q=s.length;l<q;l++){o.initElementListeners(s[l])}}},initId:function(e){var j=this,g=j.config,h=(e&&e.id)||(g&&g.id);if(h){j.setId(h);j.id=h}else{j.getId()}}}},function(b){(b.prototype.$elementEventOptions=Ext.Object.chain(Ext.Element.prototype.$eventOptions)).element=1});Ext.define("Ext.overrides.Widget",{override:"Ext.Widget",$configStrict:false,isComponent:true,liquidLayout:true,rendered:true,rendering:true,cachedConfig:{baseCls:Ext.baseCSSPrefix+"widget"},constructor:function(b){this.callParent([b]);this.getComponentLayout()},addCls:function(b){this.el.addCls(b)},addClsWithUI:function(b){this.el.addCls(b)},afterComponentLayout:Ext.emptyFn,finishRender:function(){this.rendering=false;this.initBindable()},getComponentLayout:function(){var c=this,d=c.componentLayout;if(!d){d=c.componentLayout=new Ext.layout.component.Auto();d.setOwner(c)}return d},getTdCls:function(){return Ext.baseCSSPrefix+this.getTdType()+"-"+(this.ui||"default")+"-cell"},getTdType:function(){return this.xtype},getItemId:function(){return this.itemId||this.id},getSizeModel:function(){return Ext.Component.prototype.getSizeModel.apply(this,arguments)},onAdded:function(g,j,h){var l=this,m=l.inheritedState;l.ownerCt=g;if(m&&h){l.invalidateInheritedState()}if(l.reference){l.fixReference()}},onRemoved:function(d){var e=this,g;if(e.reference){g=e.lookupReferenceHolder();if(g){g.clearReference(e)}}if(!d){e.removeBindings()}if(e.inheritedState&&!d){e.invalidateInheritedState()}e.ownerCt=e.ownerLayout=null},parseBox:function(b){return Ext.Element.parseBox(b)},render:function(e,g){var j=this.element,h;if(g){h=e.childNodes[g];if(h){e.insertBefore(j,h);return}}e.appendChild(j)},setPosition:function(d,c){this.el.setLocalXY(d,c)},up:function(){return Ext.Component.prototype.up.apply(this,arguments)},isAncestor:function(){return Ext.Component.prototype.isAncestor.apply(this,arguments)},onFocusEnter:function(){return Ext.Component.prototype.onFocusEnter.apply(this,arguments)},onFocusLeave:function(){return Ext.Component.prototype.onFocusLeave.apply(this,arguments)}},function(){var b;if(Ext.isIE8){b=Ext.Widget.prototype;b.addElementReferenceOnDemand=b.addElementReference}});Ext.define("Ext.util.XTemplateParser",{constructor:function(b){Ext.apply(this,b)},doTpl:Ext.emptyFn,parse:function(F){var m=this,B=F.length,C={elseif:"elif"},A=m.topRe,O=m.actionsRe,M,N,I,D,K,H,J,s,z,P,L,Q,G;m.level=0;m.stack=N=[];for(M=0;M<B;M=P){A.lastIndex=M;D=A.exec(F);if(!D){m.doText(F.substring(M,B));break}z=D.index;P=A.lastIndex;if(M<z){I=F.substring(M,z);if(!(G&&Ext.String.trim(I)==="")){m.doText(I)}}G=false;if(D[1]){P=F.indexOf("%}",z+2);m.doEval(F.substring(z+2,P));P+=2}else{if(D[2]){P=F.indexOf("]}",z+2);m.doExpr(F.substring(z+2,P));P+=2}else{if(D[3]){m.doTag(D[3])}else{if(D[4]){L=null;while((s=O.exec(D[4]))!==null){I=s[2]||s[3];if(I){I=Ext.String.htmlDecode(I);K=s[1];K=C[K]||K;L=L||{};H=L[K];if(typeof H=="string"){L[K]=[H,I]}else{if(H){L[K].push(I)}else{L[K]=I}}}}if(!L){if(m.elseRe.test(D[4])){m.doElse()}else{if(m.defaultRe.test(D[4])){m.doDefault()}else{m.doTpl();N.push({type:"tpl"})}}}else{if(L["if"]){m.doIf(L["if"],L);N.push({type:"if"})}else{if(L["switch"]){m.doSwitch(L["switch"],L);N.push({type:"switch"});G=true}else{if(L["case"]){m.doCase(L["case"],L)}else{if(L.elif){m.doElseIf(L.elif,L)}else{if(L["for"]){++m.level;if(Q=m.propRe.exec(D[4])){L.propName=Q[1]||Q[2]}m.doFor(L["for"],L);N.push({type:"for",actions:L})}else{if(L.foreach){++m.level;if(Q=m.propRe.exec(D[4])){L.propName=Q[1]||Q[2]}m.doForEach(L.foreach,L);N.push({type:"foreach",actions:L})}else{if(L.exec){m.doExec(L.exec,L);N.push({type:"exec",actions:L})}}}}}}}}}else{if(D[0].length===5){N.push({type:"tpl"})}else{J=N.pop();m.doEnd(J.type,J.actions);if(J.type=="for"||J.type=="foreach"){--m.level}}}}}}}},topRe:/(?:(\{\%)|(\{\[)|\{([^{}]+)\})|(?:<tpl([^>]*)\>)|(?:<\/tpl>)/g,actionsRe:/\s*(elif|elseif|if|for|foreach|exec|switch|case|eval|between)\s*\=\s*(?:(?:"([^"]*)")|(?:'([^']*)'))\s*/g,propRe:/prop=(?:(?:"([^"]*)")|(?:'([^']*)'))/,defaultRe:/^\s*default\s*$/,elseRe:/^\s*else\s*$/});Ext.define("Ext.util.XTemplateCompiler",{extend:Ext.util.XTemplateParser,useEval:Ext.isGecko,useIndex:Ext.isIE8m,useFormat:true,propNameRe:/^[\w\d\$]*$/,compile:function(e){var g=this,d=g.generate(e);return g.useEval?g.evalTpl(d):(new Function("Ext",d))(Ext)},generate:function(g){var h=this,e="var fm=Ext.util.Format,ts=Object.prototype.toString;",j;h.maxLevel=0;h.body=["var c0=values, a0="+h.createArrayTest(0)+", p0=parent, n0=xcount, i0=xindex, k0, v;\n"];if(h.definitions){if(typeof h.definitions==="string"){h.definitions=[h.definitions,e]}else{h.definitions.push(e)}}else{h.definitions=[e]}h.switches=[];h.parse(g);h.definitions.push((h.useEval?"$=":"return")+" function ("+h.fnArgs+") {",h.body.join(""),"}");j=h.definitions.join("\n");h.definitions.length=h.body.length=h.switches.length=0;delete h.definitions;delete h.body;delete h.switches;return j},doText:function(g){var d=this,e=d.body;g=g.replace(d.aposRe,"\\'").replace(d.newLineRe,"\\n");if(d.useIndex){e.push("out[out.length]='",g,"'\n")}else{e.push("out.push('",g,"')\n")}},doExpr:function(c){var d=this.body;d.push("if ((v="+c+") != null) out");if(this.useIndex){d.push("[out.length]=v+''\n")}else{d.push(".push(v+'')\n")}},doTag:function(d){var c=this.parseTag(d);if(c){this.doExpr(c)}else{this.doText("{"+d+"}")}},doElse:function(){this.body.push("} else {\n")},doEval:function(b){this.body.push(b,"\n")},doIf:function(d,g){var e=this;if(d==="."){e.body.push("if (values) {\n")}else{if(e.propNameRe.test(d)){e.body.push("if (",e.parseTag(d),") {\n")}else{e.body.push("if (",e.addFn(d),e.callFn,") {\n")}}if(g.exec){e.doExec(g.exec)}},doElseIf:function(d,g){var e=this;if(d==="."){e.body.push("else if (values) {\n")}else{if(e.propNameRe.test(d)){e.body.push("} else if (",e.parseTag(d),") {\n")}else{e.body.push("} else if (",e.addFn(d),e.callFn,") {\n")}}if(g.exec){e.doExec(g.exec)}},doSwitch:function(g){var d=this,e;if(g==="."||g==="#"){e=g==="."?"values":"xindex";d.body.push("switch (",e,") {\n")}else{if(d.propNameRe.test(g)){d.body.push("switch (",d.parseTag(g),") {\n")}else{d.body.push("switch (",d.addFn(g),d.callFn,") {\n")}}d.switches.push(0)},doCase:function(m){var n=this,o=Ext.isArray(m)?m:[m],l=n.switches.length-1,j,h;if(n.switches[l]){n.body.push("break;\n")}else{n.switches[l]++}for(h=0,l=o.length;h<l;++h){j=n.intRe.exec(o[h]);o[h]=j?j[1]:("'"+o[h].replace(n.aposRe,"\\'")+"'")}n.body.push("case ",o.join(": case "),":\n")},doDefault:function(){var d=this,c=d.switches.length-1;if(d.switches[c]){d.body.push("break;\n")}else{d.switches[c]++}d.body.push("default:\n")},doEnd:function(e,h){var j=this,g=j.level-1;if(e=="for"||e=="foreach"){if(h.exec){j.doExec(h.exec)}j.body.push("}\n");j.body.push("parent=p",g,";values=r",g+1,";xcount=n"+g+";xindex=i",g,"+1;xkey=k",g,";\n")}else{if(e=="if"||e=="switch"){j.body.push("}\n")}}},doFor:function(o,m){var p=this,q,j=p.level,l=j-1,n;if(o==="."){q="values"}else{if(p.propNameRe.test(o)){q=p.parseTag(o)}else{q=p.addFn(o)+p.callFn}}if(p.maxLevel<j){p.maxLevel=j;p.body.push("var ")}if(o=="."){n="c"+j}else{n="a"+l+"?c"+l+"[i"+l+"]:c"+l}p.body.push("i",j,"=0,n",j,"=0,c",j,"=",q,",a",j,"=",p.createArrayTest(j),",r",j,"=values,p",j,",k",j,";\n","p",j,"=parent=",n,"\n","if (c",j,"){if(a",j,"){n",j,"=c",j,".length;}else if (c",j,".isMixedCollection){c",j,"=c",j,".items;n",j,"=c",j,".length;}else if(c",j,".isStore){c",j,"=c",j,".data.items;n",j,"=c",j,".length;}else{c",j,"=[c",j,"];n",j,"=1;}}\n","for (xcount=n",j,";i",j,"<n"+j+";++i",j,"){\n","values=c",j,"[i",j,"]");if(m.propName){p.body.push(".",m.propName)}p.body.push("\n","xindex=i",j,"+1\n");if(m.between){p.body.push('if(xindex>1){ out.push("',m.between,'"); } \n')}},doForEach:function(o,m){var p=this,q,j=p.level,l=j-1,n;if(o==="."){q="values"}else{if(p.propNameRe.test(o)){q=p.parseTag(o)}else{q=p.addFn(o)+p.callFn}}if(p.maxLevel<j){p.maxLevel=j;p.body.push("var ")}if(o=="."){n="c"+j}else{n="a"+l+"?c"+l+"[i"+l+"]:c"+l}p.body.push("i",j,"=-1,n",j,"=0,c",j,"=",q,",a",j,"=",p.createArrayTest(j),",r",j,"=values,p",j,",k",j,";\n","p",j,"=parent=",n,"\n","for(k",j," in c",j,"){\n","xindex=++i",j,"+1;\n","xkey=k",j,";\n","values=c",j,"[k",j,"];");if(m.propName){p.body.push(".",m.propName)}if(m.between){p.body.push('if(xindex>1){ out.push("',m.between,'"); } \n')}},createArrayTest:("isArray" in Array)?function(b){return"Array.isArray(c"+b+")"}:function(b){return"ts.call(c"+b+')==="[object Array]"'},doExec:function(l,j){var m=this,h="f"+m.definitions.length,g=m.guards[m.strict?0:1];m.definitions.push("function "+h+"("+m.fnArgs+") {",g.doTry," var $v = values; with($v) {","  "+l," }",g.doCatch,"}");m.body.push(h+m.callFn+"\n")},guards:[{doTry:"",doCatch:""},{doTry:"try { ",doCatch:" } catch(e) {\n}"}],addFn:function(g){var h=this,e="f"+h.definitions.length,j=h.guards[h.strict?0:1];if(g==="."){h.definitions.push("function "+e+"("+h.fnArgs+") {"," return values","}")}else{if(g===".."){h.definitions.push("function "+e+"("+h.fnArgs+") {"," return parent","}")}else{h.definitions.push("function "+e+"("+h.fnArgs+") {",j.doTry," var $v = values; with($v) {","  return("+g+")"," }",j.doCatch,"}")}}return e},parseTag:function(l){var o=this,m=o.tagRe.exec(l),q,n,r,p,s;if(!m){return null}q=m[1];n=m[2];r=m[3];p=m[4];if(q=="."){if(!o.validTypes){o.definitions.push("var validTypes={string:1,number:1,boolean:1};");o.validTypes=true}s='validTypes[typeof values] || ts.call(values) === "[object Date]" ? values : ""'}else{if(q=="#"){s="xindex"}else{if(q=="$"){s="xkey"}else{if(q.substr(0,7)=="parent."){s=q}else{if(isNaN(q)&&q.indexOf("-")==-1&&q.indexOf(".")!=-1){s="values."+q}else{s="values['"+q+"']"}}}}}if(p){s="("+s+p+")"}if(n&&o.useFormat){r=r?","+r:"";if(n.substr(0,5)!="this."){n="fm."+n+"("}else{n+="("}}else{return s}return n+s+r+")"},evalTpl:function($){eval($);return $},newLineRe:/\r\n|\r|\n/g,aposRe:/[']/g,intRe:/^\s*(\d+)\s*$/,tagRe:/^([\w-\.\#\$]+)(?:\:([\w\.]*)(?:\((.*?)?\))?)?(\s?[\+\-\*\/]\s?[\d\.\+\-\*\/\(\)]+)?$/},function(){var b=this.prototype;b.fnArgs="out,values,parent,xindex,xcount,xkey";b.callFn=".call(this,"+b.fnArgs+")"});Ext.define("Ext.XTemplate",{extend:Ext.Template,emptyObj:{},fn:null,strict:false,apply:function(d,c){return this.applyOut(d,[],c).join("")},applyOut:function(j,e,n){var m=this,o;if(!m.fn){o=new Ext.util.XTemplateCompiler({useFormat:m.disableFormats!==true,definitions:m.definitions,strict:m.strict});m.fn=o.compile(m.html)}if(m.strict){m.fn(e,j,n||m.emptyObj,1,1)}else{try{m.fn(e,j,n||m.emptyObj,1,1)}catch(l){}}return e},compile:function(){return this},statics:{getTpl:function(e,h){var j=e[h],g;if(j&&!j.isTemplate){j=Ext.ClassManager.dynInstantiate("Ext.XTemplate",j);if(e.hasOwnProperty(h)){g=e}else{for(g=e.self.prototype;g&&!g.hasOwnProperty(h);g=g.superclass){}}g[h]=j;j.owner=g}return j||null}}});Ext.define("Ext.app.EventDomain",{statics:{instances:{}},isEventDomain:true,isInstance:false,constructor:function(){var b=this;if(!b.isInstance){Ext.app.EventDomain.instances[b.type]=b}b.bus={};b.monitoredClasses=[]},dispatch:function(y,u,w){u=Ext.canonicalEventName(u);var v=this,x=v.bus,s=x[u],B,D,F,C,r,z,A,G;if(!s){return true}for(B in s){if(s.hasOwnProperty(B)&&v.match(y,B,v.controller)){D=s[B];for(F in D){if(D.hasOwnProperty(F)){C=D[F];if(C.controller.isActive()){r=C.list;z=r.length;for(A=0;A<z;A++){G=r[A];if(G.fire.apply(G,w)===false){return false}}}}}}}return true},listen:function(R,J){var z=this,K=z.bus,O=z.idProperty,N=z.monitoredClasses,Q=N.length,L=J.getId(),A=(z.type==="component"),G=A?J.getRefMap():null,D,M,C,F,T,S,U,H,I,B,P;for(F in R){I=R[F];if(A){F=G[F]||F}if(I){if(O){F=F==="*"?F:F.substring(1)}for(B in I){T=null;S=I[B];U=J;B=Ext.canonicalEventName(B);H=new Ext.util.Event(J,B);if(Ext.isObject(S)){T=S;S=T.fn;U=T.scope||J;delete T.fn;delete T.scope}if(typeof S==="string"){S=U[S]}H.addListener(S,U,T);for(D=0;D<Q;++D){P=N[D].hasListeners;if(P){P._incr_(B)}}M=K[B]||(K[B]={});M=M[F]||(M[F]={});C=M[L]||(M[L]={controller:J,list:[]});C.list.push(H)}}}},match:function(g,e){var d=this.idProperty;if(d){return e==="*"||g[d]===e}return false},monitor:function(j){var e=this,g=j.isInstance?j:j.prototype,h=g.doFireEvent;e.monitoredClasses.push(j);g.doFireEvent=function(a,b){var c=h.apply(this,arguments);if(c!==false&&!this.isSuspended(a)){c=e.dispatch(this,a,b)}return c}},unlisten:function(F){var x=this.bus,I=F,K=this.monitoredClasses,z=K.length,H,w,J,y,j,D,v,A,B,G,C;if(F.isController){I=F.getId()}for(w in x){w=Ext.canonicalEventName(w);if(x.hasOwnProperty(w)&&(v=x[w])){for(D in v){H=v[D];G=H[I];if(G){J=G.list;if(J){for(A=0,y=J.length;A<y;++A){j=J[A];j.clearListeners();for(B=0;B<z;++B){C=K[B].hasListeners;if(C){C._decr_(j.name)}}}delete H[I]}}}}}},destroy:function(){this.monitoredClasses=this.bus=null}});Ext.define("Ext.app.domain.Component",{extend:Ext.app.EventDomain,singleton:true,type:"component",constructor:function(){this.callParent();this.monitor(Ext.Widget)},dispatch:function(l,n,o){var h=l.lookupController(false),m,j;while(h){m=h.compDomain;if(m){if(m.dispatch(l,n,o)===false){return false}}j=h.getView();h=j?j.lookupController(true):null}return this.callParent(arguments)},match:function(c,d){return c.is(d)}});Ext.define("Ext.app.EventBus",{singleton:true,constructor:function(){var c=this,d=Ext.app.EventDomain.instances;c.callParent();c.domains=d;c.bus=d.component.bus},control:function(c,d){return this.domains.component.listen(c,d)},listen:function(h,e){var g=this.domains,j;for(j in h){if(h.hasOwnProperty(j)){g[j].listen(h[j],e)}}},unlisten:function(g){var e=Ext.app.EventDomain.instances,d;for(d in e){e[d].unlisten(g)}}});Ext.define("Ext.app.domain.Global",{extend:Ext.app.EventDomain,singleton:true,type:"global",constructor:function(){var b=this;b.callParent();b.monitor(Ext.GlobalEvents)},listen:function(c,d){this.callParent([{global:c},d])},match:Ext.returnTrue});Ext.define("Ext.app.BaseController",{mixins:[Ext.mixin.Observable],isController:true,config:{id:null,control:null,listen:null,routes:null,before:null},constructor:function(d){var c=this;Ext.apply(c,d);delete c.control;delete c.listen;c.eventbus=Ext.app.EventBus;c.mixins.observable.constructor.call(c,d);c.ensureId()},applyListen:function(b){if(Ext.isObject(b)){b=Ext.clone(b)}return b},applyControl:function(b){if(Ext.isObject(b)){b=Ext.clone(b)}return b},updateControl:function(b){this.ensureId();if(b){this.control(b)}},updateListen:function(b){this.ensureId();if(b){this.listen(b)}},updateRoutes:function(j){if(j){var o=this,n=o.getBefore()||{},l=Ext.app.route.Router,p,q,m;for(p in j){q=j[p];if(Ext.isString(q)){q={action:q}}m=q.action;if(!q.before){q.before=n[m]}l.connect(p,q,o)}}},isActive:function(){return true},control:function(h,o,j){var n=this,m=j,l;if(Ext.isString(h)){l={};l[h]=o}else{l=h;m=o}n.eventbus.control(l,m||n)},listen:function(c,d){this.eventbus.listen(c,d||this)},destroy:function(){var c=this,d=c.eventbus;Ext.app.route.Router.disconnectAll(c);if(d){d.unlisten(c);c.eventbus=null}c.clearListeners();c.callParent()},redirectTo:function(d,g){if(d.isModel){d=d.toUrl()}if(!g){var e=Ext.util.History.getToken();if(e===d){return false}}else{Ext.app.route.Router.onStateChange(d)}Ext.util.History.add(d);return true}});Ext.define("Ext.util.ProtoElement",function(){var c=Ext.String.splitWords,d=Ext.Array.toMap;return{isProtoEl:true,clsProp:"cls",styleProp:"style",removedProp:"removed",styleIsText:false,constructor:function(h){var a=this,j,b;if(h){Ext.apply(a,h);j=a.cls;b=a.style;delete a.cls}a.classList=j?c(j):[];a.classMap=j?d(a.classList):{};if(b){if(typeof b==="string"){a.style=Ext.Element.parseStyles(b)}else{if(Ext.isFunction(b)){a.styleFn=b;delete a.style}else{a.style=Ext.apply({},b)}}}},flush:function(){this.flushClassList=[];this.removedClasses={};delete this.style;delete this.unselectableAttr},addCls:function(a){if(!a){return this}var p=this,b=(typeof a==="string")?c(a):a,v=b.length,r=p.classList,w=p.classMap,u=p.flushClassList,s=0,q;for(;s<v;++s){q=b[s];if(!w[q]){w[q]=true;r.push(q);if(u){u.push(q);delete p.removedClasses[q]}}}return p},hasCls:function(a){return a in this.classMap},removeCls:function(a){var b=this,r=b.classList,w=(b.classList=[]),u=d(c(a)),x=r.length,y=b.classMap,s=b.removedClasses,v,q;for(v=0;v<x;++v){q=r[v];if(u[q]){if(s){if(y[q]){s[q]=true;Ext.Array.remove(b.flushClassList,q)}}delete y[q]}else{w.push(q)}}return b},setStyle:function(a,b){var h=this,j=h.style||(h.style={});if(typeof a=="string"){if(arguments.length===1){h.setStyle(Ext.Element.parseStyles(a))}else{j[a]=b}}else{Ext.apply(j,a)}return h},unselectable:function(){this.addCls(Ext.dom.Element.unselectableCls);if(Ext.isOpera){this.unselectableAttr=true}},writeTo:function(a){var j=this,b=j.flushClassList||j.classList,l=j.removedClasses,m;if(j.styleFn){m=Ext.apply({},j.styleFn());Ext.apply(m,j.style)}else{m=j.style}a[j.clsProp]=b.join(" ");if(m){a[j.styleProp]=j.styleIsText?Ext.DomHelper.generateStyles(m,null,true):m}if(l){l=Ext.Object.getKeys(l);if(l.length){a[j.removedProp]=l.join(" ")}}if(j.unselectableAttr){a.unselectable="on"}return a}}});Ext.define("Ext.dom.CompositeElement",{alternateClassName:"Ext.CompositeElement",extend:Ext.dom.CompositeElementLite,isLite:false,getElement:function(b){return b},transformElement:function(b){return Ext.get(b)}});Ext.Factory=function(d){var c=this;c.aliasPrefix=d+".";c.cache={};c.name=d.replace(c.fixNameRe,c.fixNameFn);c.type=d};Ext.Factory.prototype={defaultProperty:"type",instanceProp:"isInstance",create:function(s,q){var n=this,v=Ext.ClassManager,u=n.cache,r,o,p,m;if(s){if(s[n.instanceProp]){return s}if(typeof s==="string"){m=s;s={};s[n.defaultProperty]=m}o=s.xclass;m=s.type}if(o){if(!(p=v.get(o))){return v.instantiate(o,s)}}else{if(!(m=m||q||n.defaultType)){p=n.defaultClass}if(!p&&!(p=u[m])){r=n.aliasPrefix+m;o=v.getNameByAlias(r);if(!(p=o&&v.get(o))){return v.instantiateByAlias(r,s)}u[m]=p}}return p.isInstance?p:new p(s)},fixNameRe:/\.[a-z]/ig,fixNameFn:function(b){return b.substring(1).toUpperCase()},clearCache:function(){this.cache={}}};Ext.Factory.define=function(l,n){var j=Ext.Factory,h,o,m;if(l.constructor===Object){Ext.Object.each(l,j.define,j)}else{o=new Ext.Factory(l);if(n){if(n.constructor===Object){Ext.apply(o,n);if(typeof(h=o.xclass)==="string"){o.defaultClass=Ext.ClassManager.get(h)}}else{o.defaultType=n}}j[o.name]=m=o.create.bind(o);m.instance=o}return m};Ext.define("Ext.mixin.Factoryable",{mixinId:"factoryable",onClassMixedIn:function(n){var o=n.prototype,m=o.factoryConfig,p=o.alias,q={},j,l;p=p&&p.length&&p[0];if(p&&(j=p.lastIndexOf("."))>0){q.type=p.substring(0,j);q.defaultType=p.substring(j+1)}if(m){delete o.factoryConfig;Ext.apply(q,m)}l=Ext.Factory.define(q.type,q);if(n.create===Ext.Base.create){n.create=l}}});Ext.define("Ext.scroll.Scroller",{extend:Ext.Evented,alias:"scroller.scroller",mixins:[Ext.mixin.Factoryable],factoryConfig:{defaultType:"dom"},isScroller:true,config:{direction:undefined,directionLock:false,disabled:null,element:undefined,indicators:null,maxPosition:null,maxUserPosition:null,minPosition:{x:0,y:0},minUserPosition:{x:0,y:0},momentumEasing:null,size:null,x:true,y:true},statics:{create:function(b){return Ext.Factory.scroller(b,Ext.supports.Touch?"touch":"dom")}},constructor:function(d){var c=this;c.callParent([d]);c.onDomScrollEnd=Ext.Function.createBuffered(c.onDomScrollEnd,100,c)},addPartner:function(l,g){var m=this,j=m._partners||(m._partners={}),h=l._partners||(l._partners={});j[l.getId()]={scroller:l,axis:g};h[m.getId()]={scroller:m,axis:g}},applyElement:function(d){var c;if(d){if(d.isElement){c=d}else{c=Ext.get(d)}}return c},updateDirectionLock:Ext.emptyFn,updateDisabled:Ext.emptyFn,updateIndicators:Ext.emptyFn,updateMaxPosition:Ext.emptyFn,updateMaxUserPosition:Ext.emptyFn,updateMinPosition:Ext.emptyFn,updateMinUserPosition:Ext.emptyFn,updateMomenumEasing:Ext.emptyFn,updateSize:Ext.emptyFn,updateX:Ext.emptyFn,updateY:Ext.emptyFn,updateElement:function(b){b.on("scroll","onDomScroll",this)},refresh:function(){this.fireEvent("refresh",this);return this},removePartner:function(d){var g=this._partners,e=d._partners;if(g){delete g[d.getId()]}if(e){delete (e[this.getId()])}},scrollBy:function(j,e,h){var g=this.getPosition();if(j){if(j.length){h=e;e=j[1];j=j[0]}else{if(typeof j!=="number"){h=e;e=j.y;j=j.x}}}j=(typeof j==="number")?j+g.x:null;e=(typeof e==="number")?e+g.y:null;return this.doScrollTo(j,e,h)},scrollIntoView:function(s,r,u,p){var n=this,o=n.getPosition(),q,v,m;q=Ext.fly(s).getScrollIntoViewXY(n.getElement(),o.x,o.y);v=(r===false)?o.x:q.x;m=q.y;if(p){n.on({scrollend:"doHighlight",scope:n,single:true,args:[s,p]})}n.doScrollTo(v,m,u)},scrollTo:function(g,h,e){var j;if(g){if(g.length){e=h;h=g[1];g=g[0]}else{if(typeof g!=="number"){e=h;h=g.y;g=g.x}}}if(g<0||h<0){j=this.getMaxPosition();if(g<0){g+=j.x}if(h<0){h+=j.y}}this.doScrollTo(g,h,e)},updateDirection:function(j){var e=this,g,h;if(!j){g=e.getX();h=e.getY();if(g&&h){j=(h==="scroll"&&g==="scroll")?"both":"auto"}else{if(h){j="vertical"}else{if(g){j="horizontal"}}}e._direction=j}else{if(j==="auto"){g=true;h=true}else{if(j==="vertical"){g=false;h=true}else{if(j==="horizontal"){g=true;h=false}else{if(j==="both"){g="scroll";h="scroll"}}}}e.setX(g);e.setY(h)}},deprecated:{"5":{methods:{getScroller:function(){return this}}},"5.1.0":{methods:{scrollToTop:function(b){return this.scrollTo(0,0,b)},scrollToEnd:function(b){return this.scrollTo(Infinity,Infinity,b)}}}},privates:{convertX:function(b){return b},doHighlight:function(c,d){if(d!==true){Ext.fly(c).highlight(d)}else{Ext.fly(c).highlight()}},fireScrollStart:function(g,h){var j=this,e=j.component;j.invokePartners("onPartnerScrollStart",g,h);if(j.hasListeners.scrollstart){j.fireEvent("scrollstart",j,g,h)}if(e&&e.onScrollStart){e.onScrollStart(g,h)}},fireScroll:function(g,h){var j=this,e=j.component;j.invokePartners("onPartnerScroll",g,h);if(j.hasListeners.scroll){j.fireEvent("scroll",j,g,h)}if(e&&e.onScrollMove){e.onScrollMove(g,h)}},fireScrollEnd:function(g,h){var j=this,e=j.component;j.invokePartners("onPartnerScrollEnd",g,h);if(j.hasListeners.scrollend){j.fireEvent("scrollend",j,g,h)}if(e&&e.onScrollEnd){e.onScrollEnd(g,h)}},invokePartners:function(l,j,m){var o=this._partners,h,n;if(!this.suspendSync){for(n in o){h=o[n];if(!h.suspendSync){h.scroller[l](this,j,m)}}}},suspendPartnerSync:function(){this.suspendSync=(this.suspendSync||0)+1},resumePartnerSync:function(){if(this.suspendSync){this.suspendSync--}},onDomScroll:function(){var j=this,e=j.getPosition(),g=e.x,h=e.y;if(!j.isScrolling){j.isScrolling=true;j.fireScrollStart(g,h)}j.fireScroll(g,h);j.onDomScrollEnd()},onDomScrollEnd:function(){var c=this,d=c.getPosition();c.isScrolling=false;c.fireScrollEnd(d.x,d.y)},onPartnerScroll:function(j,g,h){var e=j._partners[this.getId()].axis;if(e){if(e==="x"){h=null}else{if(e==="y"){g=null}}}this.doScrollTo(g,h,null,true)},onPartnerScrollEnd:Ext.privateFn,onPartnerScrollStart:Ext.privateFn}});Ext.define("Ext.fx.easing.Abstract",{config:{startTime:0,startValue:0},isEasing:true,isEnded:false,constructor:function(b){this.initConfig(b);return this},applyStartTime:function(b){if(!b){b=Ext.Date.now()}return b},updateStartTime:function(b){this.reset()},reset:function(){this.isEnded=false},getValue:Ext.emptyFn});Ext.define("Ext.fx.easing.Momentum",{extend:Ext.fx.easing.Abstract,config:{acceleration:30,friction:0,startVelocity:0},alpha:0,updateFriction:function(c){var d=Math.log(1-(c/10));this.theta=d;this.alpha=d/this.getAcceleration()},updateStartVelocity:function(b){this.velocity=b*this.getAcceleration()},updateAcceleration:function(b){this.velocity=this.getStartVelocity()*b;this.alpha=this.theta/b},getValue:function(){return this.getStartValue()-this.velocity*(1-this.getFrictionFactor())/this.theta},getFrictionFactor:function(){var b=Ext.Date.now()-this.getStartTime();return Math.exp(b*this.alpha)},getVelocity:function(){return this.getFrictionFactor()*this.velocity}});Ext.define("Ext.fx.easing.Bounce",{extend:Ext.fx.easing.Abstract,config:{springTension:0.3,acceleration:30,startVelocity:0},getValue:function(){var d=Ext.Date.now()-this.getStartTime(),g=(d/this.getAcceleration()),e=g*Math.pow(Math.E,-this.getSpringTension()*g);return this.getStartValue()+(this.getStartVelocity()*e)}});Ext.define("Ext.fx.easing.BoundMomentum",{extend:Ext.fx.easing.Abstract,config:{momentum:null,bounce:null,minMomentumValue:0,maxMomentumValue:0,minVelocity:0.01,startVelocity:0},applyMomentum:function(d,c){return Ext.factory(d,Ext.fx.easing.Momentum,c)},applyBounce:function(d,c){return Ext.factory(d,Ext.fx.easing.Bounce,c)},updateStartTime:function(b){this.getMomentum().setStartTime(b);this.callParent(arguments)},updateStartVelocity:function(b){this.getMomentum().setStartVelocity(b)},updateStartValue:function(b){this.getMomentum().setStartValue(b)},reset:function(){this.lastValue=null;this.isBouncingBack=false;this.isOutOfBound=false;return this.callParent(arguments)},getValue:function(){var x=this.getMomentum(),n=this.getBounce(),s=x.getStartVelocity(),r=s>0?1:-1,q=this.getMinMomentumValue(),u=this.getMaxMomentumValue(),v=(r==1)?u:q,p=this.lastValue,o,w;if(s===0){return this.getStartValue()}if(!this.isOutOfBound){o=x.getValue();w=x.getVelocity();if(Math.abs(w)<this.getMinVelocity()){this.isEnded=true}if(o>=q&&o<=u){return o}this.isOutOfBound=true;n.setStartTime(Ext.Date.now()).setStartVelocity(w).setStartValue(v)}o=n.getValue();if(!this.isEnded){if(!this.isBouncingBack){if(p!==null){if((r==1&&o<p)||(r==-1&&o>p)){this.isBouncingBack=true}}}else{if(Math.round(o)==v){this.isEnded=true}}}this.lastValue=o;return o}});Ext.define("Ext.fx.easing.Linear",{extend:Ext.fx.easing.Abstract,alias:"easing.linear",config:{duration:0,endValue:0},updateStartValue:function(b){this.distance=this.getEndValue()-b},updateEndValue:function(b){this.distance=b-this.getStartValue()},getValue:function(){var d=Ext.Date.now()-this.getStartTime(),c=this.getDuration();if(d>c){this.isEnded=true;return this.getEndValue()}else{return this.getStartValue()+((d/c)*this.distance)}}});Ext.define("Ext.fx.easing.EaseOut",{extend:Ext.fx.easing.Linear,alias:"easing.ease-out",config:{exponent:4,duration:1500},getValue:function(){var p=Ext.Date.now()-this.getStartTime(),r=this.getDuration(),u=this.getStartValue(),n=this.getEndValue(),v=this.distance,s=p/r,o=1-s,q=1-Math.pow(o,this.getExponent()),m=u+(q*v);if(p>=r){this.isEnded=true;return n}return m}});Ext.define("Ext.util.translatable.Abstract",{extend:Ext.Evented,config:{useWrapper:null,easing:null,easingX:null,easingY:null},x:0,y:0,activeEasingX:null,activeEasingY:null,isAnimating:false,isTranslatable:true,constructor:function(b){this.mixins.observable.constructor.call(this,b);this.position={x:0,y:0}},factoryEasing:function(b){return Ext.factory(b,Ext.fx.easing.Linear,null,"easing")},applyEasing:function(b){if(!this.getEasingX()){this.setEasingX(this.factoryEasing(b))}if(!this.getEasingY()){this.setEasingY(this.factoryEasing(b))}},applyEasingX:function(b){return this.factoryEasing(b)},applyEasingY:function(b){return this.factoryEasing(b)},doTranslate:Ext.emptyFn,translate:function(e,g,d){if(d){return this.translateAnimated(e,g,d)}if(this.isAnimating){this.stopAnimation()}if(!isNaN(e)&&typeof e=="number"){this.x=e}if(!isNaN(g)&&typeof g=="number"){this.y=g}this.doTranslate(e,g)},translateAxis:function(g,l,m){var h,j;if(g=="x"){h=l}else{j=l}return this.translate(h,j,m)},getPosition:function(){var c=this,d=c.position;d.x=-c.x;d.y=-c.y;return d},animate:function(c,d){this.activeEasingX=c;this.activeEasingY=d;this.isAnimating=true;this.lastX=null;this.lastY=null;Ext.AnimationQueue.start(this.doAnimationFrame,this);this.fireEvent("animationstart",this,this.x,this.y);return this},translateAnimated:function(l,n,p){var q=this;if(!Ext.isObject(p)){p={}}if(q.isAnimating){q.stopAnimation()}q.callback=p.callback;q.callbackScope=p.scope;var r=Ext.Date.now(),o=p.easing,s=(typeof l=="number")?(p.easingX||o||q.getEasingX()||true):null,m=(typeof n=="number")?(p.easingY||o||q.getEasingY()||true):null;if(s){s=q.factoryEasing(s);s.setStartTime(r);s.setStartValue(q.x);s.setEndValue(l);if("duration" in p){s.setDuration(p.duration)}}if(m){m=q.factoryEasing(m);m.setStartTime(r);m.setStartValue(q.y);m.setEndValue(n);if("duration" in p){m.setDuration(p.duration)}}return q.animate(s,m)},doAnimationFrame:function(){var m=this,o=m.activeEasingX,h=m.activeEasingY,n=Date.now(),j,l;if(!m.isAnimating){return}m.lastRun=n;if(o===null&&h===null){m.stopAnimation();return}if(o!==null){m.x=j=Math.round(o.getValue());if(o.isEnded){m.activeEasingX=null;m.fireEvent("axisanimationend",m,"x",j)}}else{j=m.x}if(h!==null){m.y=l=Math.round(h.getValue());if(h.isEnded){m.activeEasingY=null;m.fireEvent("axisanimationend",m,"y",l)}}else{l=m.y}if(m.lastX!==j||m.lastY!==l){m.doTranslate(j,l);m.lastX=j;m.lastY=l}m.fireEvent("animationframe",m,j,l)},stopAnimation:function(){var b=this;if(!b.isAnimating){return}b.activeEasingX=null;b.activeEasingY=null;b.isAnimating=false;Ext.AnimationQueue.stop(b.doAnimationFrame,b);b.fireEvent("animationend",b,b.x,b.y);if(b.callback){b.callback.call(b.callbackScope);b.callback=null}},refresh:function(){this.translate(this.x,this.y)},destroy:function(){if(this.isAnimating){this.stopAnimation()}this.callParent(arguments)}});Ext.define("Ext.util.translatable.Dom",{extend:Ext.util.translatable.Abstract,config:{element:null},applyElement:function(b){if(!b){return}return Ext.get(b)},updateElement:function(){this.refresh()}});Ext.define("Ext.util.translatable.CssTransform",{extend:Ext.util.translatable.Dom,doTranslate:function(e,g){var d=this.getElement();if(!this.isDestroyed&&!d.isDestroyed){d.translate(e,g)}},destroy:function(){var b=this.getElement();if(b&&!b.isDestroyed){b.dom.style.webkitTransform=null}this.callParent()}});Ext.define("Ext.util.translatable.ScrollPosition",{extend:Ext.util.translatable.Dom,type:"scrollposition",config:{useWrapper:true},getWrapper:function(){var g=this.wrapper,d=this.getElement(),e;if(!g){e=d.getParent();if(!e){return null}if(e.hasCls(Ext.baseCSSPrefix+"translatable-hboxfix")){e=e.getParent()}if(this.getUseWrapper()){g=d.wrap()}else{g=e}d.addCls(Ext.baseCSSPrefix+"translatable");g.addCls(Ext.baseCSSPrefix+"translatable-container");this.wrapper=g;g.on("painted",function(){if(!this.isAnimating){this.refresh()}},this);this.refresh()}return g},doTranslate:function(g,h){var j=this.getWrapper(),e;if(j){e=j.dom;if(typeof g=="number"){e.scrollLeft=500000-g}if(typeof h=="number"){e.scrollTop=500000-h}}},destroy:function(){var d=this.getElement(),c=this.wrapper;if(c){if(!d.isDestroyed){if(this.getUseWrapper()){c.doReplaceWith(d)}d.removeCls(Ext.baseCSSPrefix+"translatable")}if(!c.isDestroyed){c.removeCls(Ext.baseCSSPrefix+"translatable-container");c.un("painted","refresh",this)}delete this.wrapper;delete this._element}this.callParent()}});Ext.define("Ext.util.translatable.ScrollParent",{extend:Ext.util.translatable.Dom,isScrollParent:true,applyElement:function(d){var c=Ext.get(d);if(c){this.parent=c.parent()}return c},doTranslate:function(e,g){var d=this.parent;d.setScrollLeft(Math.round(-e));d.setScrollTop(Math.round(-g))},getPosition:function(){var g=this,e=g.position,d=g.parent;e.x=d.getScrollLeft();e.y=d.getScrollTop();return e}});Ext.define("Ext.util.translatable.CssPosition",{extend:Ext.util.translatable.Dom,doTranslate:function(e,g){var d=this.getElement().dom.style;if(typeof e=="number"){d.left=e+"px"}if(typeof g=="number"){d.top=g+"px"}},destroy:function(){var b=this.getElement().dom.style;b.left=null;b.top=null;this.callParent(arguments)}});Ext.define("Ext.util.Translatable",{constructor:function(d){var c=Ext.util.translatable;switch(Ext.browser.getPreferredTranslationMethod(d)){case"scrollposition":return new c.ScrollPosition(d);case"scrollparent":return new c.ScrollParent(d);case"csstransform":return new c.CssTransform(d);case"cssposition":return new c.CssPosition(d)}}});Ext.define("Ext.scroll.Indicator",{extend:Ext.Widget,xtype:"scrollindicator",config:{axis:null,hideAnimation:true,hideDelay:0,scroller:null,minLength:24},defaultHideAnimation:{to:{opacity:0},duration:300},names:{x:{side:"l",getSize:"getHeight",setLength:"setWidth",translate:"translateX"},y:{side:"t",getSize:"getWidth",setLength:"setHeight",translate:"translateY"}},oppositeAxis:{x:"y",y:"x"},cls:Ext.baseCSSPrefix+"scroll-indicator",applyHideAnimation:function(b){if(b){b=Ext.mergeIf({onEnd:this.onHideAnimationEnd,scope:this},this.defaultHideAnimation,b)}return b},constructor:function(e){var g=this,d;g.callParent([e]);d=g.getAxis();g.names=g.names[d];g.element.addCls(g.cls+" "+g.cls+"-"+d)},hide:function(){var c=this,d=c.getHideDelay();if(d){c._hideTimer=Ext.defer(c.doHide,d,c)}else{c.doHide()}},setValue:function(v){var x=this,G=x.element,y=x.names,F=x.getAxis(),A=x.getScroller(),B=A.getMaxUserPosition()[F],u=A.getElementSize()[F],z=x.length,H=x.getMinLength(),I=z,C=u-z-x.sizeAdjust,s=Math.round,w=Math.max,D;if(v<0){I=s(w(z+(z*v/u),H));D=0}else{if(v>B){I=s(w(z-(z*(v-B)/u),H));D=C+z-I}else{D=s(v/B*C)}}x[y.translate](D);G[y.setLength](I)},show:function(){var d=this,e=d.element,g=e.getActiveAnimation();if(g){g.end()}if(!d._inDom){d.getScroller().getElement().appendChild(e);d._inDom=true;if(!d.size){d.cacheStyles()}}d.refreshLength();clearTimeout(d._hideTimer);e.setStyle("opacity","")},privates:{cacheStyles:function(){var j=this,e=j.element,g=j.getAxis(),h=j.names;j.size=e[h.getSize]();j.margin=e.getMargin(h.side)},doHide:function(){var c=this.getHideAnimation(),d=this.element;if(c){d.animate(c)}else{d.setStyle("opacity",0)}},hasOpposite:function(){return this.getScroller().isAxisEnabled(this.oppositeAxis[this.getAxis()])},onHideAnimationEnd:function(){this.element.setStyle("opacity","0")},refreshLength:function(){var o=this,p=o.names,u=o.getAxis(),r=o.getScroller(),x=r.getSize()[u],n=r.getElementSize()[u],q=n/x,v=o.margin*2,s=o.hasOpposite()?(v+o.size):v,w=Math.max(Math.round((n-s)*q),o.getMinLength());o.sizeAdjust=s;o.length=w;o.element[p.setLength](w)},translateX:function(b){this.element.translate(b)},translateY:function(b){this.element.translate(0,b)}}});Ext.define("Ext.scroll.TouchScroller",{extend:Ext.scroll.Scroller,alias:"scroller.touch",isTouchScroller:true,config:{autoRefresh:true,bounceEasing:{duration:400},elementSize:undefined,indicators:true,fps:"auto",maxAbsoluteVelocity:6,momentumEasing:{momentum:{acceleration:30,friction:0.5},bounce:{acceleration:30,springTension:0.3},minVelocity:1},outOfBoundRestrictFactor:0.5,innerElement:null,size:undefined,slotSnapEasing:{duration:150},slotSnapSize:{x:0,y:0},slotSnapOffset:{x:0,y:0},startMomentumResetTime:300,translatable:{translationMethod:"auto",useWrapper:false}},cls:Ext.baseCSSPrefix+"scroll-container",scrollerCls:Ext.baseCSSPrefix+"scroll-scroller",dragStartTime:0,dragEndTime:0,isDragging:false,isAnimating:false,isMouseEvent:{mousedown:1,mousemove:1,mouseup:1},listenerMap:{touchstart:"onTouchStart",touchmove:"onTouchMove",touchend:"onTouchEnd",dragstart:"onDragStart",drag:"onDrag",dragend:"onDragEnd"},refreshCounter:0,constructor:function(e){var d=this,g="onEvent";d.elementListeners={touchstart:g,touchmove:g,touchend:g,dragstart:g,drag:g,dragend:g,scope:d};d.minPosition={x:0,y:0};d.startPosition={x:0,y:0};d.position={x:0,y:0};d.velocity={x:0,y:0};d.isAxisEnabledFlags={x:false,y:false};d.flickStartPosition={x:0,y:0};d.flickStartTime={x:0,y:0};d.lastDragPosition={x:0,y:0};d.dragDirection={x:0,y:0};Ext.GlobalEvents.on("idle",d.onIdle,d);d.callParent([e]);d.refreshAxes()},applyBounceEasing:function(c){var d=Ext.fx.easing.EaseOut;return{x:Ext.factory(c,d),y:Ext.factory(c,d)}},applyElementSize:function(g){var m=this.getElement(),l,h,j;if(!m){return null}l=m.dom;if(!l){return}if(g==null){h=l.clientWidth;j=l.clientHeight}else{h=g.x;j=g.y}return{x:h,y:j}},applyIndicators:function(n,q){var o=this,j,p,l,m;if(n){if(n===true){j=p={}}else{l=n.x;m=n.y;if(l||m){j=(l==null||l===true)?{}:l;p=(l==null||m===true)?{}:m}else{j=p=n}}if(q){if(j){q.x.setConfig(j)}else{q.x.destroy();q.x=null}if(p){q.y.setConfig(p)}else{q.y.destroy();q.y=null}n=q}else{n={x:null,y:null};if(j){n.x=new Ext.scroll.Indicator(Ext.applyIf({axis:"x",scroller:o},j))}if(p){n.y=new Ext.scroll.Indicator(Ext.applyIf({axis:"y",scroller:o},p))}}}else{if(q){q.x.destroy();q.y.destroy();q.x=null;q.y=null}}return n},applyMomentumEasing:function(c){var d=Ext.fx.easing.BoundMomentum;return{x:Ext.factory(c,d),y:Ext.factory(c,d)}},applyInnerElement:function(b){if(b&&!b.isElement){b=Ext.get(b)}return b},applySize:function(h){var o,m,n,j,l;if(h==null){o=this.getElement();if(!o){return null}m=o.dom;n=this.getInnerElement().dom;j=Math.max(n.scrollWidth,m.clientWidth);l=Math.max(n.scrollHeight,m.clientHeight)}else{if(typeof h==="number"){j=h;l=h}else{j=h.x;l=h.y}}return{x:j,y:l}},applySlotSnapOffset:function(b){if(typeof b=="number"){return{x:b,y:b}}return b},applySlotSnapSize:function(b){if(typeof b=="number"){return{x:b,y:b}}return b},applySlotSnapEasing:function(c){var d=Ext.fx.easing.EaseOut;return{x:Ext.factory(c,d),y:Ext.factory(c,d)}},applyTranslatable:function(c,d){return Ext.factory(c,Ext.util.Translatable,d)},destroy:function(){var j=this,e=j.getElement(),h=j.getInnerElement(),g=j.sizeMonitors;if(g){g.element.destroy();g.container.destroy()}if(e&&!e.isDestroyed){e.removeCls(j.cls)}if(h&&!h.isDestroyed){h.removeCls(j.scrollerCls)}if(j._isWrapped){if(!e.isDestroyed){j.unwrapContent()}h.destroy();if(j.FixedHBoxStretching){h.parent().destroy()}}j.setElement(null);j.setInnerElement(null);Ext.GlobalEvents.un("idle",j.onIdle,j);Ext.destroy(j.getTranslatable());j.callParent(arguments)},getPosition:function(){return this.position},refresh:function(d,c){++this.refreshCounter;if(d){this.doRefresh(c)}},updateAutoRefresh:function(b){this.toggleResizeListeners(b)},updateBounceEasing:function(b){this.getTranslatable().setEasingX(b.x).setEasingY(b.y)},updateElementSize:function(){if(!this.isConfiguring){this.refreshAxes()}},updateDisabled:function(b){if(!this.isConfiguring){if(b){this.detachListeners()}else{this.attachListeners()}}},updateElement:function(h,j){var n=this,m=n.getInnerElement(),l=this.FixedHBoxStretching,o;if(!m){m=h.dom.firstChild;if(l&&m){m=m.dom.firstChild}if(!m||m.nodeType!==1||!Ext.fly(m).hasCls(n.scrollerCls)){m=n.wrapContent(h)}n.setInnerElement(m)}if(!l){h.addCls(n.cls)}if(n.isConfiguring){if(!n.getTranslatable().isScrollParent){o=n.elementListeners;o.mousewheel="onMouseWheel";o.scroll={fn:"onElementScroll",delegated:false,scope:n}}}if(!n.getDisabled()){n.attachListeners()}if(!n.isConfiguring){if(n.getAutoRefresh()){n.toggleResizeListeners(true)}n.setSize(null);n.setElementSize(null)}n.callParent([h,j])},updateFps:function(b){if(b!=="auto"){this.getTranslatable().setFps(b)}},updateMaxUserPosition:function(){this.snapToBoundary()},updateMinUserPosition:function(){this.snapToBoundary()},updateInnerElement:function(b){if(b){b.addCls(this.scrollerCls)}this.getTranslatable().setElement(b)},updateSize:function(){if(!this.isConfiguring){this.refreshAxes()}},updateTranslatable:function(b){b.setElement(this.getInnerElement());b.on({animationframe:"onAnimationFrame",animationend:"onAnimationEnd",scope:this})},updateX:function(){if(!this.isConfiguring){this.refreshAxes()}},updateY:function(){if(!this.isConfiguring){this.refreshAxes()}},privates:{attachListeners:function(){this.getElement().on(this.elementListeners)},constrainX:function(d){var c=this.getMaxPosition().x;return Math.min(this.getMaxPosition().x,Math.max(d,0))},constrainY:function(c){var d=this.getMaxPosition().y;return Math.min(this.getMaxPosition().y,Math.max(c,0))},convertEasingConfig:function(b){return b},detachListeners:function(){this.getElement().un(this.elementListeners)},doRefresh:function(e){var h=this,j,g;if(h.refreshCounter&&h.getElement()){h.stopAnimation();h.getTranslatable().refresh();if(e){j=e.size;g=e.elementSize;if(j){h.setSize(j)}if(g){h.setElementSize(g)}}else{h.setSize(null);h.setElementSize(null)}h.fireEvent("refresh",h);h.refreshCounter=0}},doScrollTo:function(r,s,A,w){var u=this,v=u.isDragging,B;if(u.isDestroyed||!u.getElement()){return u}w=w||u.isDragging;var q=u.getTranslatable(),z=u.position,p=false,x,y;if(!v||u.isAxisEnabled("x")){if(isNaN(r)||typeof r!="number"){r=z.x}else{if(!w){r=u.constrainX(r)}if(z.x!==r){z.x=r;p=true}}x=u.convertX(-r)}if(!v||u.isAxisEnabled("y")){if(isNaN(s)||typeof s!="number"){s=z.y}else{if(!w){s=u.constrainY(s)}if(z.y!==s){z.y=s;p=true}}y=-s}if(p){if(A){B=function(){u.onScroll()};if(A===true){A={callback:B}}else{if(A.callback){A.callback=Ext.Function.createSequence(A.callback,B)}else{A.callback=B}}q.translateAnimated(x,y,A)}else{q.translate(x,y);u.onScroll()}}return u},getAnimationEasing:function(x,u){if(!this.isAxisEnabled(x)){return null}var r=this,y=r.position[x],A=r.getMinUserPosition()[x],v=r.getMaxUserPosition()[x],C=r.getMaxAbsoluteVelocity(),z=null,B=r.dragEndTime,w=u.flick.velocity[x],e=x==="x",D,s;if(y<A){z=A}else{if(y>v){z=v}}if(e){y=r.convertX(y);z=r.convertX(z)}if(z!==null){s=r.getBounceEasing()[x];s.setConfig({startTime:B,startValue:-y,endValue:-z});return s}if(w===0){return null}if(w<-C){w=-C}else{if(w>C){w=C}}if(Ext.browser.is.IE){w*=2}s=r.getMomentumEasing()[x];D={startTime:B,startValue:-y,startVelocity:w*1.5,minMomentumValue:-v,maxMomentumValue:0};if(e){r.convertEasingConfig(D)}s.setConfig(D);return s},getSnapPosition:function(s){var r=this,n=r.getSlotSnapSize()[s],q=null,m,o,p,l;if(n!==0&&r.isAxisEnabled(s)){m=r.position[s];o=r.getSlotSnapOffset()[s];p=r.getMaxUserPosition()[s];l=Math.floor((m-o)%n);if(l!==0){if(m!==p){if(Math.abs(l)>n/2){q=Math.min(p,m+((l>0)?n-l:l-n))}else{q=m-l}}else{q=m-l}}}return q},hideIndicators:function(){var j=this,h=j.getIndicators(),g,e;if(h){if(j.isAxisEnabled("x")){g=h.x;if(g){g.hide()}}if(j.isAxisEnabled("y")){e=h.y;if(e){e.hide()}}}},isAxisEnabled:function(b){this.getX();this.getY();return this.isAxisEnabledFlags[b]},onAnimationEnd:function(){this.snapToBoundary();this.onScrollEnd()},onAnimationFrame:function(j,e,h){var g=this.position;g.x=this.convertX(-e);g.y=-h;this.onScroll()},onAxisDrag:function(L,y){if(!this.isAxisEnabled(L)){return}var x=this,D=x.flickStartPosition,w=x.flickStartTime,G=x.lastDragPosition,B=x.dragDirection,O=x.position[L],A=x.getMinUserPosition()[L],z=x.getMaxUserPosition()[L],I=x.startPosition[L],F=G[L],C=I-y,H=B[L],J=x.getOutOfBoundRestrictFactor(),N=x.getStartMomentumResetTime(),M=Ext.Date.now(),K;if(C<A){C*=J}else{if(C>z){K=C-z;C=z+K*J}}if(C>F){B[L]=1}else{if(C<F){B[L]=-1}}if((H!==0&&(B[L]!==H))||(M-w[L])>N){D[L]=O;w[L]=M}G[L]=C},onDomScroll:function(){var d=this,g,e;if(d.getTranslatable().isScrollParent){g=d.getElement().dom;e=d.position;e.x=g.scrollLeft;e.y=g.scrollTop}d.callParent()},onDrag:function(g){var e=this,d=e.lastDragPosition;if(!e.isDragging){return}e.onAxisDrag("x",e.convertX(g.deltaX));e.onAxisDrag("y",g.deltaY);e.doScrollTo(d.x,d.y)},onDragEnd:function(h){var j=this,e,g;if(!j.isDragging){return}j.dragEndTime=Ext.Date.now();j.onDrag(h);j.isDragging=false;e=j.getAnimationEasing("x",h);g=j.getAnimationEasing("y",h);if(e||g){j.getTranslatable().animate(e,g)}else{j.onScrollEnd()}},onDragStart:function(w){var v=this,I=v.getDirection(),B=w.absDeltaX,C=w.absDeltaY,x=v.getDirectionLock(),z=v.startPosition,D=v.flickStartPosition,y=v.flickStartTime,A=v.lastDragPosition,F=v.position,G=v.dragDirection,e=F.x,u=F.y,H=Ext.Date.now();v.isDragging=true;if(x&&I!=="both"){if((I==="horizontal"&&B>C)||(I==="vertical"&&C>B)){w.stopPropagation()}else{v.isDragging=false;return}}A.x=e;A.y=u;D.x=e;D.y=u;z.x=e;z.y=u;y.x=H;y.y=H;G.x=0;G.y=0;v.dragStartTime=H;v.isDragging=true;v.onScrollStart()},onElementResize:function(d,c){this.refresh(true,{elementSize:{x:c.width,y:c.height}})},onElementScroll:function(d,c){c.scrollTop=c.scrollLeft=0},onEvent:function(d){var e=this,g=d.browserEvent;if((!e.self.isTouching||e.isTouching)&&((!e.getTranslatable().isScrollParent)||(!e.isMouseEvent[g.type]&&g.pointerType!=="mouse"))&&(e.getY()||e.getX())){e[e.listenerMap[d.type]](d)}},onIdle:function(){this.doRefresh()},onInnerElementResize:function(d,c){this.refresh(true,{size:{x:c.width,y:c.height}})},onMouseWheel:function(s){var r=this,e=s.getWheelDeltas(),y=-e.x,A=-e.y,w=r.position,x=r.getMaxUserPosition(),B=r.getMinUserPosition(),q=Math.max,z=Math.min,u=q(z(w.x+y,x.x),B.x),v=q(z(w.y+A,x.y),B.y);y=u-w.x;A=v-w.y;if(!y&&!A){return}s.stopEvent();r.onScrollStart();r.scrollBy(y,A);r.onScroll();r.onScrollEnd()},onPartnerScrollEnd:function(){this.hideIndicators()},onPartnerScrollStart:function(){this.showIndicators()},onScroll:function(){var o=this,q=o.position,j=q.x,m=q.y,n=o.getIndicators(),l,p;if(n){if(o.isAxisEnabled("x")){l=n.x;if(l){l.setValue(j)}}if(o.isAxisEnabled("y")){p=n.y;if(p){p.setValue(m)}}}o.fireScroll(j,m)},onScrollEnd:function(){var c=this,d=c.position;if(!c.isTouching&&!c.snapToSlot()){c.hideIndicators();Ext.isScrolling=false;c.fireScrollEnd(d.x,d.y)}},onScrollStart:function(){var c=this,d=c.position;c.showIndicators();Ext.isScrolling=true;c.fireScrollStart(d.x,d.y)},onTouchEnd:function(){var b=this;b.isTouching=b.self.isTouching=false;if(!b.isDragging&&b.snapToSlot()){b.onScrollStart()}},onTouchMove:function(b){b.preventDefault()},onTouchStart:function(){this.isTouching=this.self.isTouching=true;this.stopAnimation()},refreshAxes:function(){var v=this,x=v.isAxisEnabledFlags,o=v.getSize(),p=v.getElementSize(),q=v.getIndicators(),y,z,r,s,w,u;if(!o||!p){return}y=Math.max(0,o.x-p.x);z=Math.max(0,o.y-p.y);r=v.getX();s=v.getY();v.setMaxPosition({x:y,y:z});if(r===true||r==="auto"){x.x=!!y}else{if(r===false){x.x=false;w=q&&q.x;if(w){w.hide()}}else{if(r==="scroll"){x.x=true}}}if(s===true||s==="auto"){x.y=!!z}else{if(s===false){x.y=false;u=q&&q.y;if(u){u.hide()}}else{if(s==="scroll"){x.y=true}}}v.setMaxUserPosition({x:x.x?y:0,y:x.y?z:0})},showIndicators:function(){var j=this,h=j.getIndicators(),g,e;if(h){if(j.isAxisEnabled("x")){g=h.x;if(g){g.show()}}if(j.isAxisEnabled("y")){e=h.y;if(e){e.show()}}}},snapToBoundary:function(){if(this.isConfiguring){return}var p=this,q=p.position,v=p.getMinUserPosition(),r=p.getMaxUserPosition(),s=v.x,u=v.y,w=r.x,x=r.y,n=Math.round(q.x),o=Math.round(q.y);if(n<s){n=s}else{if(n>w){n=w}}if(o<u){o=u}else{if(o>x){o=x}}p.doScrollTo(n,o)},snapToSlot:function(){var g=this,j=g.getSnapPosition("x"),e=g.getSnapPosition("y"),h=g.getSlotSnapEasing();if(j!==null||e!==null){g.doScrollTo(j,e,{easingX:h.x,easingY:h.y});return true}return false},stopAnimation:function(){this.getTranslatable().stopAnimation()},toggleResizeListeners:function(g){var j=this,e=j.getElement(),h=g?"on":"un";if(e){e[h]("resize","onElementResize",j);j.getInnerElement()[h]("resize","onInnerElementResize",j)}},unwrapContent:function(){var e=this.getInnerElement().dom,d=this.getElement().dom,g;while((g=e.firstChild)){d.insertBefore(g,e)}},wrapContent:function(g){var e=document.createElement("div"),j=g.dom,h;while(h=j.lastChild){e.insertBefore(h,e.firstChild)}j.appendChild(e);this.setInnerElement(e);this._isWrapped=true;return this.getInnerElement()}}});Ext.define("Ext.scroll.DomScroller",{extend:Ext.scroll.Scroller,alias:"scroller.dom",isDomScroller:true,constructor:function(d){var c=this;c.callParent([d])},getMaxPosition:function(){var e=this.getElement(),g=0,h=0,j;if(e&&!e.isDestroyed){j=e.dom;g=j.scrollWidth-j.clientWidth;h=j.scrollHeight-j.clientHeight}return{x:g,y:h}},getMaxUserPosition:function(){var m=this,g=m.getElement(),h=0,j=0,l;if(g&&!g.isDestroyed){l=g.dom;if(m.getX()){h=l.scrollWidth-l.clientWidth}if(m.getY()){j=l.scrollHeight-l.clientHeight}}return{x:h,y:j}},getPosition:function(){var j=this.getElement(),e=0,h=0,g;if(j&&!j.isDestroyed){g=this.getElementScroll(j);e=g.left;h=g.top}return{x:e,y:h}},getSize:function(){var d=this.getElement(),e,g;if(d&&!d.isDestroyed){g=d.dom;e={x:g.scrollWidth,y:g.scrollHeight}}else{e={x:0,y:0}}return e},setSize:Ext.emptyFn,updateElement:function(c,d){this.initXStyle();this.initYStyle();this.callParent([c,d])},updateX:function(b){this.initXStyle()},updateY:function(b){this.initYStyle()},privates:{doScrollTo:function(p,q,x){var r=this,v=r.getElement(),u,w,o,n,s;if(v&&!v.isDestroyed){w=this.getElement().dom;n=(p===Infinity);s=(q===Infinity);if(n||s){u=r.getMaxPosition();if(n){p=u.x}if(s){q=u.y}}p=r.convertX(p);if(x){o={};if(q!=null){o.scrollTop=q}if(p!=null){o.scrollLeft=p}v.animate(Ext.mergeIf({to:{scrollTop:q,scrollLeft:p}},x))}else{if(q!=null){w.scrollTop=q}if(p!=null){w.scrollLeft=p}}}},getElementScroll:function(b){return b.getScroll()},initXStyle:function(){var c=this.getElement(),d=this.getX();if(!d){d="hidden"}else{if(d===true){d="auto"}}if(c){c.setStyle("overflow-x",d)}},initYStyle:function(){var d=this.getElement(),c=this.getY();if(!c){c="hidden"}else{if(c===true){c="auto"}}if(d){d.setStyle("overflow-y",c)}},stopAnimation:function(){var b=this.getElement().getActiveAnimation();if(b){b.end()}}}});Ext.define("Ext.util.ElementContainer",{mixinId:"elementCt",config:{childEls:{$value:{},cached:true,lazy:true,merge:function(n,l,o,p){var q=l?Ext.Object.chain(l):{},j,m;if(n instanceof Array){for(j=n.length;j--;){m=n[j];if(!p||!(m in q)){if(typeof m==="string"){q[m]={name:m,itemId:m}}else{q[m.name]=m}}}}else{if(n){if(n.constructor===Object){for(j in n){if(!p||!(j in q)){m=n[j];if(m===true){q[j]={itemId:j}}else{if(typeof m==="string"){q[j]={itemId:m}}else{q[j]=m;if(!("itemId" in m)){m.itemId=j}}}q[j].name=j}}}else{if(!p||!(n in q)){q[n]={name:n,itemId:n}}}}}return q}}},destroy:function(){var j=this,e=j.getChildEls(),h,g;for(g in e){h=j[g];if(h){if(h.destroy){h.destroy()}j[g]=null}}},privates:{afterClassMixedIn:function(g){var d=g.prototype,e=d.childEls;if(e){delete d.childEls;g.getConfigurator().add({childEls:e})}},attachChildEls:function(C,D){var y=this,x=y.getChildEls(),z=D||y,s=z.id+"-",u=!z.frame,r,G,v,A,B,w,F;for(r in x){v=x[r];if(u&&v.frame){continue}B=v.select;if(B){w=C.select(B,true)}else{if(!(B=v.selectNode)){if(!(F=v.id)){F=s+v.itemId;w=Ext.cache[F]}else{w=Ext.cache[F]||C.getById(F)}}else{w=C.selectNode(B,false)}}if(w){if(w.isElement){w.component=z}else{if(w.isComposite&&!w.isLite){G=w.elements;for(A=G.length;A--;){G[A].component=z}}}}y[r]=w||null}}}});Ext.define("Ext.util.Renderable",{mixinId:"renderable",frameCls:Ext.baseCSSPrefix+"frame",frameIdRegex:/[\-]frame\d+[TMB][LCR]$/,frameElNames:["TL","TC","TR","ML","MC","MR","BL","BC","BR","Table"],frameTpl:["{%this.renderDockedItems(out,values,0);%}",'<tpl if="top">','<tpl if="left"><div id="{fgid}TL" data-ref="frameTL" class="{frameCls}-tl {baseCls}-tl {baseCls}-{ui}-tl<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tl</tpl>{frameElCls}" role="presentation"></tpl>','<tpl if="right"><div id="{fgid}TR" data-ref="frameTR" class="{frameCls}-tr {baseCls}-tr {baseCls}-{ui}-tr<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tr</tpl>{frameElCls}" role="presentation"></tpl>','<div id="{fgid}TC" data-ref="frameTC" class="{frameCls}-tc {baseCls}-tc {baseCls}-{ui}-tc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tc</tpl>{frameElCls}" role="presentation"></div>','<tpl if="right"></div></tpl>','<tpl if="left"></div></tpl>',"</tpl>",'<tpl if="left"><div id="{fgid}ML" data-ref="frameML" class="{frameCls}-ml {baseCls}-ml {baseCls}-{ui}-ml<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-ml</tpl>{frameElCls}" role="presentation"></tpl>','<tpl if="right"><div id="{fgid}MR" data-ref="frameMR" class="{frameCls}-mr {baseCls}-mr {baseCls}-{ui}-mr<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-mr</tpl>{frameElCls}" role="presentation"></tpl>','<div id="{fgid}Body" data-ref="frameBody" class="{frameCls}-mc {baseCls}-mc {baseCls}-{ui}-mc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-mc</tpl>{frameElCls}" role="presentation">',"{%this.applyRenderTpl(out, values)%}","</div>",'<tpl if="right"></div></tpl>','<tpl if="left"></div></tpl>','<tpl if="bottom">','<tpl if="left"><div id="{fgid}BL" data-ref="frameBL" class="{frameCls}-bl {baseCls}-bl {baseCls}-{ui}-bl<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-bl</tpl>{frameElCls}" role="presentation"></tpl>','<tpl if="right"><div id="{fgid}BR" data-ref="frameBR" class="{frameCls}-br {baseCls}-br {baseCls}-{ui}-br<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-br</tpl>{frameElCls}" role="presentation"></tpl>','<div id="{fgid}BC" data-ref="frameBC" class="{frameCls}-bc {baseCls}-bc {baseCls}-{ui}-bc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-bc</tpl>{frameElCls}" role="presentation"></div>','<tpl if="right"></div></tpl>','<tpl if="left"></div></tpl>',"</tpl>","{%this.renderDockedItems(out,values,1);%}"],frameTableTpl:["{%this.renderDockedItems(out,values,0);%}",'<table id="{fgid}Table" data-ref="frameTable" class="{frameCls} ',Ext.baseCSSPrefix+'table-plain" cellpadding="0" role="presentation">','<tpl if="top">','<tr role="presentation">','<tpl if="left"><td id="{fgid}TL" data-ref="frameTL" class="{frameCls}-tl {baseCls}-tl {baseCls}-{ui}-tl<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tl</tpl>{frameElCls}" role="presentation"></td></tpl>','<td id="{fgid}TC" data-ref="frameTC" class="{frameCls}-tc {baseCls}-tc {baseCls}-{ui}-tc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tc</tpl>{frameElCls}" role="presentation"></td>','<tpl if="right"><td id="{fgid}TR" data-ref="frameTR" class="{frameCls}-tr {baseCls}-tr {baseCls}-{ui}-tr<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tr</tpl>{frameElCls}" role="presentation"></td></tpl>',"</tr>","</tpl>",'<tr role="presentation">','<tpl if="left"><td id="{fgid}ML" data-ref="frameML" class="{frameCls}-ml {baseCls}-ml {baseCls}-{ui}-ml<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-ml</tpl>{frameElCls}" role="presentation"></td></tpl>','<td id="{fgid}Body" data-ref="frameBody" class="{frameCls}-mc {baseCls}-mc {baseCls}-{ui}-mc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-mc</tpl>{frameElCls}" style="{mcStyle}" role="presentation">',"{%this.applyRenderTpl(out, values)%}","</td>",'<tpl if="right"><td id="{fgid}MR" data-ref="frameMR" class="{frameCls}-mr {baseCls}-mr {baseCls}-{ui}-mr<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-mr</tpl>{frameElCls}" role="presentation"></td></tpl>',"</tr>",'<tpl if="bottom">','<tr role="presentation">','<tpl if="left"><td id="{fgid}BL" data-ref="frameBL" class="{frameCls}-bl {baseCls}-bl {baseCls}-{ui}-bl<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-bl</tpl>{frameElCls}" role="presentation"></td></tpl>','<td id="{fgid}BC" data-ref="frameBC" class="{frameCls}-bc {baseCls}-bc {baseCls}-{ui}-bc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-bc</tpl>{frameElCls}" role="presentation"></td>','<tpl if="right"><td id="{fgid}BR" data-ref="frameBR" class="{frameCls}-br {baseCls}-br {baseCls}-{ui}-br<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-br</tpl>{frameElCls}" role="presentation"></td></tpl>',"</tr>","</tpl>","</table>","{%this.renderDockedItems(out,values,1);%}"],_renderState:0,_layerCls:Ext.baseCSSPrefix+"layer",_fixedLayerCls:Ext.baseCSSPrefix+"fixed-layer",statics:{makeRenderSetter:function(e,g){var d=e.name;return function(c){var j=this,a=(j.renderConfigs||(j.renderConfigs={})),b=a[g];if(j._renderState>=g){(e.setter||e.getSetter()).call(j,c)}else{if(!b){a[g]=b={}}if(!(d in b)){b[d]=j[d]}j[d]=c}return j}},processRenderConfig:function(B,q,z){var v=this.prototype,x=this.getConfigurator(),p=Ext.util.Renderable,r=p.makeRenderSetter,y=B[q],u,s,A,w;for(A in y){s=Ext.Config.get(A);if(!v[w=s.names.set]){u=(s.renderSetter||(s.renderSetter={}));v[w]=u[z]||(u[z]=r(s,z))}}delete B[q];x.add(y)}},onClassMixedIn:function(m){var h=m.override,j=this.processRenderConfig,l=function(a){if(a.beforeRenderConfig){this.processRenderConfig(a,"beforeRenderConfig",1)}if(a.renderConfig){this.processRenderConfig(a,"renderConfig",3)}h.call(this,a)},g=function(a,b){a.override=l;a.processRenderConfig=j;if(b.beforeRenderConfig){a.processRenderConfig(b,"beforeRenderConfig",1)}if(b.renderConfig){a.processRenderConfig(b,"renderConfig",3)}};g(m,m.prototype);m.onExtended(g)},afterRender:function(){var n=this,r={},u=n.protoEl,o=n.el,q,m,s,p,v;n.finishRenderChildren();n._renderState=4;if(n.contentEl){s=Ext.baseCSSPrefix;p=s+"hidden-";v=n.contentEl=Ext.get(n.contentEl);v.component=n;v.removeCls([s+"hidden",p+"display",p+"offsets"]);n.getContentTarget().appendChild(v.dom)}u.writeTo(r);m=r.removed;if(m){o.removeCls(m)}m=r.cls;if(m.length){o.addCls(m)}m=r.style;if(r.style){o.setStyle(m)}n.protoEl=null;if(!n.ownerCt){n.updateLayout()}if(!(n.x&&n.y)&&(n.pageX||n.pageY)){n.setPagePosition(n.pageX,n.pageY)}if(n.disableOnRender){n.onDisable()}else{if(n.enableOnRender){n.onEnable()}}if(Ext.enableAria){n.ariaApplyAfterRenderAttributes()}q=n.controller;if(q&&q.afterRender){q.afterRender(n)}},afterFirstLayout:function(y,q){var w=this,r=w.x,u=w.y,s=w.defaultAlign,A=w.alignOffset,x,z,B,v,p;if(!w.ownerLayout){z=r!==undefined;B=u!==undefined}if(w.floating&&!w.preventDefaultAlign&&(!z||!B)){if(w.floatParent){v=w.floatParent.getTargetEl().getViewRegion();p=w.el.getAlignToXY(w.alignTarget||w.floatParent.getTargetEl(),s,A);v.x=p[0]-v.x;v.y=p[1]-v.y}else{p=w.el.getAlignToXY(w.alignTarget||w.container,s,A);v=w.container.translateXY(p[0],p[1])}r=z?r:v.x;u=B?u:v.y;z=B=true}if(z||B){w.setPosition(r,u)}w.onBoxReady(y,q);x=w.controller;if(x&&x.boxReady){x.boxReady(w)}},beforeRender:function(){var l=this,j=l.floating,m=l.getComponentLayout(),g,h;l._renderState=1;h=l.controller;if(h&&h.beforeRender){h.beforeRender(l)}l.initBindable();if(l.renderConfigs){l.flushRenderConfigs()}if(l.reference){l.publishState()}if(j){l.addCls(l.fixed?l._fixedLayerCls:l._layerCls);g=j.cls;if(g){l.addCls(g)}}l.frame=l.frame||l.alwaysFramed;if(!m.initialized){m.initLayout()}l.initOverflow();l.setUI(l.ui);if(l.disabled){l.disable(true)}},doApplyRenderTpl:function(j,g){var h=g.$comp,e;if(!h.rendered){e=h.initRenderTpl();e.applyOut(g.renderData,j)}},getElConfig:function(){var n=this,l=n.autoEl,o=n.getFrameInfo(),j={tag:"div",tpl:o?n.initFramingTpl(o.table):n.initRenderTpl()},m=n.protoEl,h;n.initStyles(m);m.writeTo(j);m.flush();if(Ext.isString(l)){j.tag=l}else{Ext.apply(j,l)}if(Ext.enableAria&&n.ariaRenderAttributesToElement){Ext.apply(j,n.ariaGetRenderAttributes())}j.id=n.id;if(j.tpl){if(o){j.tplData=h=n.getFrameRenderData();h.renderData=n.initRenderData()}else{j.tplData=n.initRenderData()}}return j},getInsertPosition:function(b){if(b!==undefined){if(Ext.isNumber(b)){b=this.container.dom.childNodes[b]}else{b=Ext.getDom(b)}}return b},getRenderTree:function(){var c=this,d=null;if(!c.hasListeners.beforerender||c.fireEvent("beforerender",c)!==false){c._renderState=1;c.beforeRender();c.rendering=true;c._renderState=2;d=c.getElConfig();if(c.el){d.id=c.$pid=Ext.id(null,c.el.identifiablePrefix)}}return d},initRenderData:function(){var b=this;return Ext.apply({$comp:b,id:b.id,ui:b.ui,uiCls:b.uiCls,baseCls:b.baseCls,componentCls:b.componentCls,frame:b.frame,renderScroller:b.touchScroll,scrollerCls:b.scrollerCls,role:b.ariaRole,childElCls:""},b.renderData)},onRender:function(r,q){var p=this,n=p.x,o=p.y,s=null,u=p.el,v,m;p.applyRenderSelectors();p.rendering=null;p.rendered=true;p._renderState=3;if(p.renderConfigs){p.flushRenderConfigs()}if(n!=null){s={x:n}}if(o!=null){(s=s||{}).y=o}if(!p.getFrameInfo()){v=p.width;m=p.height;if(typeof v==="number"){s=s||{};s.width=v}if(typeof m==="number"){s=s||{};s.height=m}}if(p.touchScroll===1){p.getOverflowEl().disableTouchScroll()}p.lastBox=u.lastBox=s},render:function(s,l){var q=this,r=q.el,n=q.ownerLayout,o,m,p;if(r&&!r.isElement){q.wrapPrimaryEl(r);r=q.el}Ext.suspendLayouts();s=q.initContainer(s);p=q.getInsertPosition(l);if(!r){m=q.getRenderTree();if(n&&n.transformItemRenderTree){m=n.transformItemRenderTree(m)}if(m){if(p){r=Ext.DomHelper.insertBefore(p,m)}else{r=Ext.DomHelper.append(s,m)}q.wrapPrimaryEl(r);q.cacheRefEls(r)}}else{if(!q.hasListeners.beforerender||q.fireEvent("beforerender",q)!==false){q.beforeRender();q.needsRenderTpl=q.rendering=true;q._renderState=2;q.initStyles(r);if(q.allowDomMove!==false){if(p){s.dom.insertBefore(r.dom,p)}else{s.dom.appendChild(r.dom)}}}else{o=true}}if(r&&!o){q.finishRender(l)}Ext.resumeLayouts(!q.hidden&&!s.isDetachedBody)},ensureAttachedToBody:function(g){var d=this,e;while(d.ownerCt){d=d.ownerCt}if(d.container.isDetachedBody){d.container=e=Ext.getBody();e.appendChild(d.el.dom);if(g){d.updateLayout()}if(typeof d.x=="number"||typeof d.y=="number"){d.setPosition(d.x,d.y)}}},privates:{applyRenderSelectors:function(){var l=this,g=l.renderSelectors,m=l.el,j,h;l.attachChildEls(m);if(g){for(h in g){j=g[h];if(j){l[h]=m.selectNode(j,false)}}}},cacheRefEls:function(q){q=q||this.el;var s=Ext.cache,o=Ext.dom.Element,n=q.isElement?q.dom:q,l=n.querySelectorAll("[data-ref]"),m=l.length,p,r;for(r=0;r<m;r++){p=l[r];if(!s[p.id]){new o(p)}}},doAutoRender:function(){var b=this;if(!b.rendered){if(b.floating){b.render(b.renderTo||document.body)}else{b.render(Ext.isBoolean(b.autoRender)?Ext.getBody():b.autoRender)}}},doRenderContent:function(g,h){var e=h.$comp,j=e.data;if(e.html){Ext.DomHelper.generateMarkup(e.html,g);delete e.html}if(e.tpl){if(!e.tpl.isTemplate){e.tpl=new Ext.XTemplate(e.tpl)}if(j){e.data=j=j.isEntity?j.getData(true):j;e.tpl.applyOut(j,g)}}},doRenderFramingDockedItems:function(g,j,h){var e=j.$comp;if(!e.rendered&&e.doRenderDockedItems){j.renderData.$skipDockedItems=true;e.doRenderDockedItems.call(this,g,j,h)}},flushRenderConfigs:function(){var r=this,o=r.renderConfigs,p=r._renderState,n,s,l,m,q;if(o){for(s=0;s<=p;++s){n=o[s];if(n){o[s]=null;for(l in n){q=n[l];(m||(m={}))[l]=r[l];r[l]=q}}}if(m){r.setConfig(m)}}},finishRender:function(q){var n=this,x=Ext.cache,o,r,w,p,s,u,v;if(!n.el||n.$pid){if(n.container){v=x[n.id];u=v?v.dom:n.container.getById(n.id,true)}else{w=n.$pid||n.id;v=x[w];u=v?v.dom:Ext.getDom(w)}if(!n.el){n.wrapPrimaryEl(u)}else{delete n.$pid;if(!n.el.dom){n.wrapPrimaryEl(n.el)}u.parentNode.insertBefore(n.el.dom,u);o=u;u=n.el.dom;r=u.firstChild;while(o.firstChild){u.insertBefore(o.firstChild,r)}n.el.addCls(o.className);Ext.removeNode(o)}}else{if(n.needsRenderTpl){p=n.initRenderTpl();if(p){s=n.initRenderData();p.insertFirst(n.getTargetEl(),s)}n.cacheRefEls()}}n.el.component=n;if(!n.container){n.container=Ext.get(n.el.dom.parentNode)}if(n.ctCls){n.container.addCls(n.ctCls)}n.onRender(n.container,q);if(!n.overflowInited){n.initOverflow()}n.el.setVisibilityMode(Ext.Element[n.hideMode.toUpperCase()]);if(n.overCls){n.el.hover(n.addOverCls,n.removeOverCls,n)}if(n.hasListeners.render){n.fireEvent("render",n)}n.afterRender();if(n.hasListeners.afterrender){n.fireEvent("afterrender",n)}n.initEvents();if(n.hidden){n.el.hide()}},finishRenderChildren:function(){var b=this.getComponentLayout();b.finishRender()},getFrameRenderData:function(){var g=this,d=g.frameSize,e="";if(g._syncFrameHeight&&g.height){e="height:"+(g.height-d.height)+"px"}return{$comp:g,fgid:g.id+"-frame",ui:g.ui,uiCls:g.uiCls,frameCls:g.frameCls,baseCls:g.baseCls,top:!!d.top,left:!!d.left,right:!!d.right,bottom:!!d.bottom,mcStyle:e,frameElCls:""}},getFrameInfo:function(){if(Ext.supports.CSS3BorderRadius||!this.frame){return false}var A=this,I=A.frameInfoCache,O=A.getFramingInfoCls()+"-frameInfo",z=I[O],J,F,K,y,N,L,H,G,x,B,P,D,Q,M,C;if(z==null){J=Ext.fly(A.getStyleProxy(O),"frame-style-el");F=J.getStyle("font-family");if(F){F=F.split("-");K=parseInt(F[1],10);y=parseInt(F[2],10);N=parseInt(F[3],10);L=parseInt(F[4],10);G=parseInt(F[5],10);x=parseInt(F[6],10);B=parseInt(F[7],10);P=parseInt(F[8],10);D=parseInt(F[9],10);Q=parseInt(F[10],10);M=parseInt(F[11],10);C=parseInt(F[12],10);z={table:F[0].charAt(0)==="t",vertical:F[0].charAt(1)==="v",top:K,right:y,bottom:N,left:L,width:L+y,height:K+N,border:{top:G,right:x,bottom:B,left:P,width:P+x,height:G+B},padding:{top:D,right:Q,bottom:M,left:C,width:C+Q,height:D+M}}}else{z=false}I[O]=z}A.frame=!!z;A.frameSize=z;return z},getFramingInfoCls:function(){return this.baseCls+"-"+this.ui},getStyleProxy:function(c){var d=this.styleProxyEl||(Ext.Component.prototype.styleProxyEl=Ext.getBody().createChild({role:"presentation",style:{position:"absolute",top:"-10000px"}},null,true));d.className=c;return d},getFrameTpl:function(b){return this.getTpl(b?"frameTableTpl":"frameTpl")},initContainer:function(d){var c=this;if(!d&&c.el){d=c.el.dom.parentNode;c.allowDomMove=false}c.container=d.dom?d:Ext.get(d);return c.container},initOverflow:function(){var n=this,j=n.getOverflowStyle(),l=n.scrollFlags,m=n.getOverflowEl(),o=(l.y||l.x),h=n.touchScroll=(o&&Ext.supports.touchScroll);if(!o||!m||!m.isElement){return}n.overflowInited=true;if(h===2){m.setStyle("overflow","hidden")}else{m.setStyle(j)}},doRenderPadding:function(e,g){var d=g.$comp;if(d.touchScroll){e.push("padding:",d.unitizeBox(d.padding))}},initFramingTpl:function(c){var d=this.getFrameTpl(c);if(d&&!d.applyRenderTpl){this.setupFramingTpl(d)}return d},initRenderTpl:function(){var b=this.getTpl("renderTpl");if(b&&!b.renderContent){this.setupRenderTpl(b)}return b},setupFramingTpl:function(b){b.applyRenderTpl=this.doApplyRenderTpl;b.renderDockedItems=this.doRenderFramingDockedItems},setupRenderTpl:function(b){b.renderBody=b.renderContent=this.doRenderContent;b.renderPadding=this.doRenderPadding},updateFrame:function(){if(Ext.supports.CSS3BorderRadius||!this.frame){return}var y=this,D=y.el.dom,z=y.frameTable,I=y.frameBody,w=I.dom,A=y.getFrameInfo(),v,F,J,G,B,M,L,H,C,K,x;J=document.createElement("div");M=y.getFrameRenderData();H=y.getFrameTpl(A.table);H.insertFirst(J,M);x=J.querySelectorAll("[data-ref]");K=J.querySelector('[data-ref="frameBody"]');for(B=w;B.parentNode!==D;){B=B.parentNode}while(J.firstChild){D.insertBefore(J.firstChild,B)}K.parentNode.replaceChild(w,K);w.className=K.className;I.setSize();v=y.getChildEls();if(z){z.destroy();y.frameTable=null}for(F in v){if(v[F].frame){G=y[F];if(G&&G!==I){G.destroy();y[F]=null}}}for(C=x.length;C--;){F=(L=x[C]).getAttribute("data-ref");if(F!=="frameBody"){y[F]=new Ext.dom.Element(L)}}},frameInfoCache:{}}});Ext.define("Ext.state.Provider",{mixins:{observable:Ext.util.Observable},prefix:"ext-",constructor:function(d){var c=this;Ext.apply(c,d);c.state={};c.mixins.observable.constructor.call(c)},get:function(c,d){return typeof this.state[c]=="undefined"?d:this.state[c]},clear:function(d){var c=this;delete c.state[d];c.fireEvent("statechange",c,d,null)},set:function(e,g){var d=this;d.state[e]=g;d.fireEvent("statechange",d,e,g)},decodeValue:function(r){var v=this,n=/^(a|n|d|b|s|o|e)\:(.*)$/,w=n.exec(unescape(r)),q,u,x,o,s,p;if(!w||!w[1]){return}u=w[1];r=w[2];switch(u){case"e":return null;case"n":return parseFloat(r);case"d":return new Date(Date.parse(r));case"b":return(r=="1");case"a":q=[];if(r!=""){o=r.split("^");s=o.length;for(p=0;p<s;p++){r=o[p];q.push(v.decodeValue(r))}}return q;case"o":q={};if(r!=""){o=r.split("^");s=o.length;for(p=0;p<s;p++){r=o[p];x=r.split("=");q[x[0]]=v.decodeValue(x[1])}}return q;default:return r}},encodeValue:function(m){var l="",n=0,h,j,o;if(m==null){return"e:1"}else{if(typeof m=="number"){h="n:"+m}else{if(typeof m=="boolean"){h="b:"+(m?"1":"0")}else{if(Ext.isDate(m)){h="d:"+m.toUTCString()}else{if(Ext.isArray(m)){for(j=m.length;n<j;n++){l+=this.encodeValue(m[n]);if(n!=j-1){l+="^"}}h="a:"+l}else{if(typeof m=="object"){for(o in m){if(typeof m[o]!="function"&&m[o]!==undefined){l+=o+"="+this.encodeValue(m[o])+"^"}}h="o:"+l.substring(0,l.length-1)}else{h="s:"+m}}}}}}return escape(h)}});Ext.define("Ext.state.Manager",{singleton:true,constructor:function(){this.provider=new Ext.state.Provider()},setProvider:function(b){this.provider=b},get:function(c,d){return this.provider.get(c,d)},set:function(d,c){this.provider.set(d,c)},clear:function(b){this.provider.clear(b)},getProvider:function(){return this.provider}});Ext.define("Ext.state.Stateful",{mixinId:"state",stateful:false,saveDelay:100,constructor:function(){var b=this;if(!b.stateEvents){b.stateEvents=[]}if(b.stateful!==false){b.addStateEvents(b.stateEvents);b.initState()}},addStateEvents:function(n){var l=this,o,m,h,j;if(l.stateful&&l.getStateId()){j=(typeof n==="string")?arguments:n;h=l.stateEventsByName||(l.stateEventsByName={});for(o=j.length;o--;){m=j[o];if(m&&!h[m]){h[m]=1;l.on(m,l.onStateChange,l)}}}},onStateChange:function(){var j=this,g=j.saveDelay,h,e;if(!j.stateful){return}if(g){if(!j.stateTask){h=Ext.state.Stateful;e=h.runner||(h.runner=new Ext.util.TaskRunner());j.stateTask=e.newTask({run:j.saveState,scope:j,interval:g,repeat:1,fireIdleEvent:false})}j.stateTask.start()}else{j.saveState()}},saveState:function(){var n=this,u=n.stateful&&n.getStateId(),o=n.hasListeners,s,q,r,p,v,m;if(u){v=n.getState()||{};s=n.getPlugins()||[];for(r=0,p=s.length;r<p;r++){q=s[r];if(q&&q.getState){m=q.getState(v);if(m&&!v[q.ptype]){v[q.ptype]=m}}}if(!o.beforestatesave||n.fireEvent("beforestatesave",n,v)!==false){Ext.state.Manager.set(u,v);if(o.statesave){n.fireEvent("statesave",n,v)}}}},getState:function(){return null},applyState:function(b){if(b){Ext.apply(this,b)}},getStateId:function(){var b=this;return b.stateId||(b.autoGenId?null:b.id)},initState:function(){var o=this,w=o.stateful&&o.getStateId(),p=o.hasListeners,x,n,s,q,u,r,v;if(w){n=Ext.state.Manager.get(w);if(n){x=Ext.apply({},n);if(!p.beforestaterestore||o.fireEvent("beforestaterestore",o,n)!==false){u=o.getPlugins()||[];for(s=0,q=u.length;s<q;s++){r=u[s];if(r){v=r.ptype;if(r.applyState){r.applyState(x[v],n)}delete x[v]}}o.applyState(x);if(p.staterestore){o.fireEvent("staterestore",o,n)}}}}},savePropToState:function(l,m,n){var h=this,o=h[l],j=h.initialConfig;if(h.hasOwnProperty(l)){if(!j||j[l]!==o){if(m){m[n||l]=o}return true}}return false},savePropsToState:function(j,m){var g=this,h,l;if(typeof j==="string"){g.savePropToState(j,m)}else{for(h=0,l=j.length;h<l;++h){g.savePropToState(j[h],m)}}return m},destroy:function(){var c=this,d=c.stateTask;if(d){d.destroy();c.stateTask=null}c.clearListeners()}});Ext.define("Ext.util.Floating",{mixinId:"floating",focusOnToFront:true,shadow:"sides",animateShadow:false,constrain:false,config:{activeCounter:0,alwaysOnTop:false},preventDefaultAlign:false,_visModeMap:{visibility:1,display:2,offsets:3},constructor:function(){var l=this,m=l.el,j=l.shadow,h,g;if(j){g={mode:(j===true)?"sides":j};h=l.shadowOffset;if(h){g.offset=h}g.animate=l.animateShadow;g.fixed=l.fixed;m.enableShadow(g,false)}if(l.shim||Ext.useShims){m.enableShim({fixed:l.fixed},false)}m.setVisibilityMode(l._visModeMap[l.hideMode]);if(l.modal&&!(Ext.enableFocusManager)){l.mon(l.el,{keydown:l.onKeyDown,scope:l})}l.mon(l.el,{mousedown:l.onMouseDown,scope:l,capture:true});l.registerWithOwnerCt();l.initHierarchyEvents()},initFloatConstrain:function(){var d=this,c=d.floatParent;if((d.constrain||d.constrainHeader)&&!d.constrainTo){d.constrainTo=c?c.getTargetEl():d.container}},initHierarchyEvents:function(){var c=this,d=this.syncHidden;if(!c.hasHierarchyEventListeners){c.mon(Ext.GlobalEvents,{hide:d,collapse:d,show:d,expand:d,added:d,scope:c});c.hasHierarchyEventListeners=true}},registerWithOwnerCt:function(){var g=this,d=g.ownerCt,e=g.zIndexParent;if(e){e.unregisterFloatingItem(g)}e=g.zIndexParent=g.up("[floating]");g.floatParent=d||e;g.initFloatConstrain();delete g.ownerCt;if(e){e.registerFloatingItem(g)}else{Ext.WindowManager.register(g)}},onKeyDown:function(n){var o=this,j,l,m,e;if(n.getKey()===n.TAB){j=n.shiftKey;l=o.query(":focusable");if(l.length){m=l[0];e=l[l.length-1];if(!j&&e.hasFocus){n.stopEvent();m.focus()}else{if(j&&m.hasFocus){n.stopEvent();e.focus()}}}}},onMouseDown:function(p){var s=this,n=s.focusTask,e=p.parentEvent,r=e&&e.type==="touchstart",q,o,m;if(s.floating&&(!n||!n.id)){q=p.target;o=s.el.dom;while(!r&&q&&q!==o){if(Ext.fly(q).isFocusable()){r=true}q=q.parentNode}m=Ext.WindowManager.getActive()===s&&(q===o||r);if(!m){s.toFront(r)}}},onBeforeFloatLayout:function(){this.el.preventSync=true},onAfterFloatLayout:function(){var b=this.el;if(b.shadow||b.shim){b.setUnderlaysVisible(true);b.syncUnderlays()}},syncHidden:function(){var j=this,h=j.hidden||!j.rendered,g=j.hierarchicallyHidden=j.isHierarchicallyHidden(),e=j.pendingShow;if(h!==g){if(g){j.hide();j.pendingShow=true}else{if(e){delete j.pendingShow;if(e.length){j.show.apply(j,e)}else{j.show()}}}}},setZIndex:function(d){var c=this;c.el.setZIndex(d);d+=10;if(c.floatingDescendants){d=Math.floor(c.floatingDescendants.setBase(d)/100)*100+10000}return d},doConstrain:function(e){var d=this,g=d.calculateConstrainedPosition(e,null,true);if(g){d.setPosition(g)}},updateActiveCounter:function(d){var c=this.zIndexParent;if(c&&this.bringParentToFront!==false){c.setActiveCounter(++Ext.ZIndexManager.activeCounter)}if(c=this.zIndexManager){c.onComponentUpdate(this)}},updateAlwaysOnTop:function(d){var c=this.zIndexManager;if(c){c.onComponentUpdate(this)}},toFront:function(c){var d=this;if(d.zIndexManager.bringToFront(d,c||!d.focusOnToFront)){if(d.hasListeners.tofront){d.fireEvent("tofront",d,d.el.getZIndex())}}return d},setActive:function(j,h,g){var e=this;if(j){if(e.el.shadow&&!e.maximized){e.el.enableShadow(null,true)}if(g){if(!e.el.contains(Ext.Element.getActiveElement())){e.focus()}}e.fireEvent("activate",e)}else{e.fireEvent("deactivate",e)}},toBack:function(){this.zIndexManager.sendToBack(this);return this},center:function(){var d=this,c;if(d.isVisible()){c=d.getAlignToXY(d.container,"c-c");d.setPagePosition(c)}else{d.needsCenter=true}return d},onFloatShow:function(){if(this.needsCenter){this.center()}delete this.needsCenter;if(this.toFrontOnShow){this.toFront()}},fitContainer:function(o){var l=this,m=l.floatParent,h=m?m.getTargetEl():l.container,j=h.getViewSize(),n=m||(h.dom!==document.body)?[0,0]:h.getXY();j.x=n[0];j.y=n[1];l.setBox(j,o)}});Ext.define("Ext.util.Focusable",{mixinId:"focusable",focusable:false,focusCls:"focus",initFocusable:Ext.emptyFn,initFocusableEvents:function(){this.initFocusableElement()},destroyFocusable:function(){this.focusListeners=Ext.destroy(this.focusListeners);delete this.focusTask},enableFocusable:Ext.emptyFn,disableFocusable:function(){var g=this,d=g.focusCls,e;e=g.getFocusClsEl();if(d&&e){e.removeCls(g.removeClsWithUI(d,true))}},isFocusable:function(e){var g=this,d;if(!g.focusable&&(!g.isContainer||!e)){return false}d=g.getFocusEl();if(d&&g.canFocus()){return d.isFocusable(e)}return false},canFocus:function(){var b=this;return(b.isContainer||b.focusable)&&b.rendered&&!b.destroying&&!b.isDestroyed&&!b.disabled&&b.isVisible(true)},focus:function(p,s,n,r){var q=this,m,o,l;if((!q.focusable&&!q.isContainer)||q.isDestroyed||q.destroying){return}if(s){q.getFocusTask().delay(Ext.isNumber(s)?s:10,q.focus,q,[p,false,n,r]);return q}q.cancelFocus();if(q.canFocus()&&(m=q.getFocusEl())){if(m.isComponent){return m.focus(p,s,n,r)}o=m.dom;if(o){if(m.needsTabIndex()){o.tabIndex=-1}if(q.floating){l=q.container.dom.scrollTop}m.focus();if(p){if(Ext.isArray(p)){if(q.selectText){q.selectText.apply(q,p)}}else{if(o.select){o.select()}else{if(q.selectText){q.selectText()}}}}Ext.callback(n,r)}if(q.floating){if(q!==q.zIndexManager.getActive()){q.toFront(true)}if(l!==undefined){q.container.dom.scrollTop=l}}}return q},cancelFocus:function(){var b=this.getFocusTask();if(b){b.cancel()}},beforeBlur:Ext.emptyFn,onBlur:function(j){var l=this,e=l.focusableContainer,m=l.focusCls,h;if(!l.focusable||l.destroying){return}l.beforeBlur(j);if(e){e.beforeFocusableChildBlur(l,j)}h=l.getFocusClsEl();if(m&&h){h.removeCls(l.removeClsWithUI(m,true))}if(l.validateOnBlur){l.validate()}l.hasFocus=false;l.fireEvent("blur",l,j);l.postBlur(j);if(e){e.afterFocusableChildBlur(l,j)}},postBlur:Ext.emptyFn,beforeFocus:Ext.emptyFn,onFocus:function(j){var l=this,e=l.focusableContainer,m=l.focusCls,h;if(!l.focusable){return}if(l.canFocus()){l.beforeFocus(j);if(e){e.beforeFocusableChildFocus(l,j)}h=l.getFocusClsEl();if(m&&h){h.addCls(l.addClsWithUI(m,true))}if(!l.hasFocus){l.hasFocus=true;l.fireEvent("focus",l,j)}l.postFocus(j);if(e){e.afterFocusableChildFocus(l,j)}}},postFocus:Ext.emptyFn,getTabIndex:function(){var g=this,d,e;if(!g.focusable){return}d=g.getFocusEl();if(d){if(d.isComponent){e=d.getTabIndex()}else{if(d.isElement){e=d.getAttribute(Ext.Element.tabIndexAttributeName)}else{return}}g.tabIndex=e}else{e=g.tabIndex}return e-0},setTabIndex:function(g){var d=this,e;if(!d.focusable){return}d.tabIndex=g;e=d.getFocusEl();if(e){if(e.isComponent){e.setTabIndex(g)}else{if(e.isElement){e.set({tabindex:g})}}}},onFocusEnter:function(c){var d=this;d.previousFocus=c.relatedTarget;d.containsFocus=true;d.fireEvent("focusenter",d,c)},onFocusLeave:function(c){var d=this;d.previousFocus=null;d.containsFocus=false;d.fireEvent("focusleave",d,c)},privates:{initFocusableElement:function(){var h=this,g=h.tabIndex,j=h.getFocusEl(),e;if(j&&!j.isComponent){e=j.needsTabIndex();if(e||g!=null){j.dom.setAttribute("tabindex",g)}j.dom.setAttribute(Ext.Component.componentIdAttribute,h.id)}},getFocusEl:function(){return this.element||this.el},getFocusClsEl:function(){return this.getFocusEl()},getFocusTask:function(){if(!this.focusTask){this.focusTask=Ext.focusTask}return this.focusTask},blur:function(){var c=this,d;if(!c.focusable||!c.rendered){return}d=c.getFocusEl();if(d){c.blurring=true;d.blur();delete c.blurring}return c},disableTabbing:function(){var g=this,d=g.el,e;if(!g.focusable){return}e=g.getFocusEl();if(d){d.saveChildrenTabbableState()}if(e){e=e.isComponent?e.getFocusEl():e;e.saveTabbableState()}},enableTabbing:function(){var g=this,d=g.el,e;if(!g.focusable){return}e=g.getFocusEl();if(e){e=e.isComponent?e.getFocusEl():e;e.restoreTabbableState()}if(d){d.restoreChildrenTabbableState()}}}},function(){if(!Ext.focusTask){Ext.focusTask=new Ext.util.DelayedTask()}});Ext.define("Ext.Component",{alternateClassName:"Ext.AbstractComponent",xtype:["component","box"],mixins:[Ext.mixin.Inheritable,Ext.util.Positionable,Ext.util.Observable,Ext.mixin.Bindable,Ext.util.Animate,Ext.util.ElementContainer,Ext.util.Renderable,Ext.state.Stateful,Ext.util.Floating,Ext.util.Focusable],statics:{AUTO_ID:1000,pendingLayouts:null,layoutSuspendCount:0,DIRECTION_TOP:"top",DIRECTION_RIGHT:"right",DIRECTION_BOTTOM:"bottom",DIRECTION_LEFT:"left",VERTICAL_DIRECTION_Re:/^(?:top|bottom)$/,INVALID_ID_CHARS_Re:/[\.,\s]/g,componentIdAttribute:"componentId",cancelLayout:function(e,g){var d=this.runningLayoutContext||this.pendingLayouts;if(d){d.cancelComponent(e,false,g)}},flushLayouts:function(){var c=this,d=c.pendingLayouts;if(d&&d.invalidQueue.length){c.pendingLayouts=null;c.runningLayoutContext=d;Ext.override(d,{runComplete:function(){c.runningLayoutContext=null;var a=this.callParent();if(Ext.GlobalEvents.hasListeners.afterlayout){Ext.GlobalEvents.fireEvent("afterlayout")}return a}});d.run()}},resumeLayouts:function(b){if(this.layoutSuspendCount&&!--this.layoutSuspendCount){if(b){this.flushLayouts()}if(Ext.GlobalEvents.hasListeners.resumelayouts){Ext.GlobalEvents.fireEvent("resumelayouts")}}},suspendLayouts:function(){++this.layoutSuspendCount},updateLayout:function(g,j){var m=this,h=m.runningLayoutContext,l;if(h){h.queueInvalidate(g)}else{l=m.pendingLayouts||(m.pendingLayouts=new Ext.layout.Context());l.queueInvalidate(g);if(!j&&!m.layoutSuspendCount&&!g.isLayoutSuspended()){m.flushLayouts()}}}},$configPrefixed:false,$configStrict:false,config:{data:null,maxHeight:null,maxWidth:null,minHeight:null,minWidth:null,scrollable:null},defaultBindProperty:"html",alignTarget:null,autoRender:false,autoShow:false,baseCls:Ext.baseCSSPrefix+"component",childEls:{frameTable:{frame:true},frameTL:{frame:"tl"},frameTC:{frame:"tc"},frameTR:{frame:"tr"},frameML:{frame:"ml"},frameBody:{frame:"mc"},frameMR:{frame:"mr"},frameBL:{frame:"bl"},frameBC:{frame:"bc"},frameBR:{frame:"br"}},componentLayout:"autocomponent",defaultAlign:"c-c",disabled:false,disabledRe:/^(?:button|input|select|textarea|optgroup|option|fieldset)$/i,nonMaskableRe:(function(){var b=["input","select","textarea","optgroup","option","table"];if(Ext.isIE9m&&!(Ext.isIE9&&!Ext.isIEQuirks)){b.push("p")}return new RegExp("^(?:"+b.join("|")+")$","i")}()),disabledCls:Ext.baseCSSPrefix+"item-disabled",draggable:false,floating:false,hidden:false,hideMode:"display",maskElement:null,renderTpl:['<tpl if="renderScroller">','<div class="{scrollerCls}" style="{%this.renderPadding(out, values)%}">',"</tpl>","{%this.renderContent(out,values)%}",'<tpl if="renderScroller"></div></tpl>'],resizeHandles:"all",shrinkWrap:2,toFrontOnShow:true,synthetic:false,tplWriteMode:"overwrite",ui:"default",uiCls:[],weight:null,allowDomMove:true,autoGenId:false,borderBoxCls:Ext.baseCSSPrefix+"border-box",componentLayoutCounter:0,contentPaddingProperty:"padding",deferLayouts:false,frameSize:null,horizontalPosProp:"left",isComponent:true,_isLayoutRoot:false,layoutSuspendCount:0,liquidLayout:false,maskOnDisable:true,offsetsCls:Ext.baseCSSPrefix+"hidden-offsets",rendered:false,rootCls:Ext.baseCSSPrefix+"body",scrollerCls:Ext.baseCSSPrefix+"scroll-scroller",scrollerSelector:"."+Ext.baseCSSPrefix+"scroll-scroller",_scrollFlags:{auto:{auto:{overflowX:"auto",overflowY:"auto",x:true,y:true,both:true},"false":{overflowX:"auto",overflowY:"hidden",x:true,y:false,both:false},scroll:{overflowX:"auto",overflowY:"scroll",x:true,y:true,both:true}},"false":{auto:{overflowX:"hidden",overflowY:"auto",x:false,y:true,both:false},"false":{overflowX:"hidden",overflowY:"hidden",x:false,y:false,both:false},scroll:{overflowX:"hidden",overflowY:"scroll",x:false,y:true,both:false}},scroll:{auto:{overflowX:"scroll",overflowY:"auto",x:true,y:true,both:true},"false":{overflowX:"scroll",overflowY:"hidden",x:true,y:false,both:false},scroll:{overflowX:"scroll",overflowY:"scroll",x:true,y:true,both:true}},none:{overflowX:"",overflowY:"",x:false,y:false,both:false}},_scrollableCfg:{x:{x:true,y:false},y:{x:false,y:true},horizontal:{x:true,y:false},vertical:{x:false,y:true},both:{x:true,y:true},"true":{x:true,y:true}},validIdRe:Ext.validIdRe,constructor:function(x){var q=this,v,r,p,s,n,u,w,o;x=x||{};if(x.initialConfig){if(x.isAction){q.baseAction=x}x=x.initialConfig}else{if(x.tagName||x.dom||Ext.isString(x)){x={applyTo:x,id:x.id||x}}}q.initialConfig=x;q.getId();q.protoEl=new Ext.util.ProtoElement();q.initConfig(x);if(q.scrollable==null){n=q.autoScroll;if(n){o=!!n}else{u=q.overflowX;w=q.overflowY;if(u||w){o={x:(u&&u!=="hidden")?u:false,y:(w&&w!=="hidden")?w:false}}}if(o){q.setScrollable(o)}}p=q.xhooks;if(p){delete q.xhooks;Ext.override(q,p)}q.mixins.elementCt.constructor.call(q);q.setupProtoEl();if(q.cls){q.initialCls=q.cls;q.protoEl.addCls(q.cls)}if(q.style){q.initialStyle=q.style;q.protoEl.setStyle(q.style)}q.renderData=q.renderData||{};q.initComponent();if(!q.preventRegister){Ext.ComponentManager.register(q)}q.mixins.state.constructor.call(q);q.addStateEvents("resize");s=q.getController();if(s){s.init(q)}if(q.plugins){for(v=0,r=q.plugins.length;v<r;v++){q.plugins[v]=q.initPlugin(q.plugins[v])}}q.loader=q.getLoader();if(q.renderTo){q.render(q.renderTo)}if(q.autoShow&&!q.initOwnerCt){q.show()}if(q.baseAction){q.baseAction.addComponent(q)}},beforeInitConfig:function(){this.mixins.observable.constructor.call(this)},addCls:function(e){var g=this,d=g.rendered?g.el:g.protoEl;d.addCls.apply(d,arguments);return g},addClsWithUI:function(s,n){var o=this,p=[],q=0,r=o.uiCls=Ext.Array.clone(o.uiCls),u=o.activeUI,v,m;if(typeof s==="string"){s=(s.indexOf(" ")<0)?[s]:Ext.String.splitWords(s)}v=s.length;for(;q<v;q++){m=s[q];if(m&&!o.hasUICls(m)){r.push(m);if(u){p=p.concat(o.addUIClsToElement(m))}}}if(n!==true&&u){o.addCls(p)}return p},afterComponentLayout:function(m,h,g,j){var l=this;if(++l.componentLayoutCounter===1){l.afterFirstLayout(m,h)}if(m!==g||h!==j){l.onResize(m,h,g,j)}if(this.floating){this.onAfterFloatLayout()}},addPlugin:function(c){var d=this;c=d.constructPlugin(c);if(d.plugins){d.plugins.push(c)}else{d.plugins=[c]}if(d.pluginsInitialized){d.initPlugin(c)}return c},addPropertyToState:function(j,l,m){var g=this,h=arguments.length;if(h===3||g.hasOwnProperty(l)){if(h<3){m=g[l]}if(m!==g.initialConfig[l]){(j||(j={}))[l]=m}}return j},addUIClsToElement:function(n){var q=this,l=q.baseCls+"-"+q.ui+"-"+n,m=[Ext.baseCSSPrefix+n,q.baseCls+"-"+n,l],r,o,s,p;if(q.rendered&&q.frame&&!Ext.supports.CSS3BorderRadius){l+="-";r=q.getChildEls();for(o in r){p=r[o].frame;if(p&&p!==true){s=q[o];if(s){s.addCls(l+p)}}}}return m},removeUIClsFromElement:function(n){var q=this,l=q.baseCls+"-"+q.ui+"-"+n,m=[Ext.baseCSSPrefix+n,q.baseCls+"-"+n,l],r,o,s,p;if(q.rendered&&q.frame&&!Ext.supports.CSS3BorderRadius){l+="-";r=q.getChildEls();for(o in r){p=r[o].frame;if(p&&p!==true){s=q[o];if(s){s.removeCls(l+p)}}}}return m},adjustPosition:function(g,h){var e=this,j;if(e.isContainedFloater()){j=e.floatParent.getTargetEl().getViewRegion();g+=j.left;h+=j.top}return{x:g,y:h}},afterHide:function(g,j){var h=this,e=h.focusableContainer;h.hiddenByLayout=null;if(this.ownerLayout){this.updateLayout({isRoot:false})}Ext.callback(g,j||h);h.fireHierarchyEvent("hide");h.fireEvent("hide",h);if(e){e.onFocusableChildHide(h)}},afterSetPosition:function(e,g){var d=this;d.onPosition(e,g);if(d.hasListeners.move){d.fireEvent("move",d,e,g)}},afterShow:function(o,l,q){var p=this,n=p.el,m,s,r;o=p.getAnimateTarget(o);if(!p.ghost){o=null}if(o){s={x:n.getX(),y:n.getY(),width:n.dom.offsetWidth,height:n.dom.offsetHeight};m={x:o.getX(),y:o.getY(),width:o.dom.offsetWidth,height:o.dom.offsetHeight};n.addCls(p.offsetsCls);r=p.ghost();r.el.stopAnimation();r.setX(-10000);p.ghostBox=s;r.el.animate({from:m,to:s,listeners:{afteranimate:function(){delete r.componentLayout.lastComponentSize;p.unghost();delete p.ghostBox;n.removeCls(p.offsetsCls);p.onShowComplete(l,q)}}})}else{p.onShowComplete(l,q)}p.fireHierarchyEvent("show")},animate:function(M){var h=this,J,F,G,O,L,N,w,A,D,K,z,C,I,B,y,H;M=M||{};L=M.to||{};if(Ext.fx.Manager.hasFxBlock(h.id)){return h}J=Ext.isDefined(L.width);if(J){O=Ext.Number.constrain(L.width,h.minWidth,h.maxWidth)}F=Ext.isDefined(L.height);if(F){G=Ext.Number.constrain(L.height,h.minHeight,h.maxHeight)}if(!M.dynamic&&(J||F)){A=(M.from?M.from.width:undefined)||h.getWidth();D=A;K=(M.from?M.from.height:undefined)||h.getHeight();z=K;C=false;if(F&&G>K){z=G;C=true}if(J&&O>A){D=O;C=true}if(F||J){H=h.el.getStyle("overflow");if(H!=="hidden"){h.el.setStyle("overflow","hidden")}}if(C){N=!Ext.isNumber(h.width);w=!Ext.isNumber(h.height);h.setSize(D,z);h.el.setSize(A,K);if(N){delete h.width}if(w){delete h.height}}if(J){L.width=O}if(F){L.height=G}}I=h.constrain;B=h.constrainHeader;if(I||B){h.constrain=h.constrainHeader=false;y=M.callback;M.callback=function(){h.constrain=I;h.constrainHeader=B;if(y){y.call(M.scope||h,arguments)}if(H!=="hidden"){h.el.setStyle("overflow",H)}}}return h.mixins.animate.animate.apply(h,arguments)},applyScrollable:function(h,n){var j=this,l=j.rendered,m,o;if(h){if(h===true||typeof h==="string"){m=j._scrollableCfg[h];h=m}if(n){n.setConfig(h);h=n}else{h=Ext.Object.chain(h);if(l){h.element=j.getOverflowEl();o=j.getScrollerEl();if(o){h.innerElement=o}}h.autoRefresh=false;if(Ext.supports.touchScroll===1){h.translatable={translationMethod:"scrollparent"};h.indicators=false}h=Ext.scroll.Scroller.create(h);h.component=j}}else{if(n){n.setConfig({x:false,y:false});n.destroy()}}if(j.rendered){j.getOverflowStyle();j.updateLayout()}return h},beforeComponentLayout:function(){return true},beforeDestroy:Ext.emptyFn,beforeLayout:function(){if(this.floating){this.onBeforeFloatLayout()}},beforeSetPosition:function(m,o,u){var p=this,n=null,r,s,v,q;if(m){if(Ext.isNumber(r=m[0])){u=o;o=m[1];m=r}else{if((r=m.x)!==undefined){u=o;o=m.y;m=r}}}if(p.constrain||p.constrainHeader){n=p.calculateConstrainedPosition(null,[m,o],true);if(n){m=n[0];o=n[1]}}s=(m!==undefined);v=(o!==undefined);if(s||v){p.x=m;p.y=o;q=p.adjustPosition(m,o);n={x:q.x,y:q.y,anim:u,hasX:s,hasY:v}}return n},beforeShow:Ext.emptyFn,bubble:function(j,e,g){var h=this;while(h){if(j.apply(e||h,g||[h])===false){break}h=h.getBubbleTarget()}return this},cloneConfig:function(j){j=j||{};var h=j.id||Ext.id(),g=Ext.applyIf(j,this.initialConfig),e;g.id=h;e=Ext.getClass(this);return new e(g)},destroy:function(){var n=this,q=n.renderSelectors,j=n.getConfig("viewModel",true),m=n.getConfig("session",true),l,o,p;if(!n.isDestroyed){if(!n.hasListeners.beforedestroy||n.fireEvent("beforedestroy",n)!==false){n.destroying=true;o=n.floatParent||n.ownerCt;if(n.floating){delete n.floatParent;if(n.zIndexManager){n.zIndexManager.unregister(n);n.zIndexManager=null}}n.removeBindings();n.beforeDestroy();if(j&&j.isViewModel){j.destroy();n.viewModel=null}if(m&&m.isSession){if(m.getAutoDestroy()){m.destroy()}n.session=null}if(o&&o.remove){o.remove(n,false)}n.stopAnimation();n.onDestroy();Ext.destroy(n.plugins);n.componentLayout=null;if(n.hasListeners.destroy){n.fireEvent("destroy",n)}if(!n.preventRegister){Ext.ComponentManager.unregister(n)}n.mixins.state.destroy.call(n);n.clearListeners();if(n.rendered){if(!n.preserveElOnDestroy){n.el.destroy()}n.mixins.elementCt.destroy.call(n);if(q){for(l in q){if(q.hasOwnProperty(l)){p=n[l];if(p){delete n[l];p.destroy()}}}}n.data=n.el=n.frameBody=n.rendered=null}n.destroying=false;n.isDestroyed=true}}},disable:function(d){var g=this,e=g.focusableContainer;g.enableOnRender=false;g.addCls(g.disabledCls);if(g.rendered){g.onDisable()}else{g.disableOnRender=true}g.disabled=true;if(d!==true){delete g.resetDisable;g.fireEvent("disable",g)}if(e){e.onFocusableChildDisable(g)}return g},enable:function(d){var g=this,e=g.focusableContainer;g.disableOnRender=false;g.removeCls(g.disabledCls);if(g.rendered){g.onEnable()}else{g.enableOnRender=true}g.disabled=false;delete g.resetDisable;if(d!==true){g.fireEvent("enable",g)}if(e){e.onFocusableChildEnable(g)}return g},findParentBy:function(d){var c;for(c=this.getRefOwner();c&&!d(c,this);c=c.getRefOwner()){}return c||null},findParentByType:function(b){return Ext.isFunction(b)?this.findParentBy(function(a){return a.constructor===b}):this.up(b)},findPlugin:function(h){var e,g=this.plugins,j=g&&g.length;for(e=0;e<j;e++){if(g[e].ptype===h){return g[e]}}},getAnimateTarget:function(b){b=b||this.animateTarget;if(b){b=b.isComponent?b.getEl():Ext.get(b)}return b||null},getBubbleTarget:function(){return this.getRefOwner()},getComponentLayout:function(){var b=this;if(!b.componentLayout||!b.componentLayout.isLayout){b.setComponentLayout(Ext.layout.Layout.create(b.componentLayout,"autocomponent"))}return b.componentLayout},getEl:function(){return this.el},getHeight:function(){return this.el.getHeight()},initInheritedState:function(e){var g=this,d=g.componentLayout;if(g.hidden){e.hidden=true}if(g.collapseImmune){e.collapseImmune=true}if(g.modelValidation!==undefined){e.modelValidation=g.modelValidation}g.mixins.bindable.initInheritedState.call(g,e);if(d&&d.initInheritedState){d.initInheritedState(e)}},getId:function(){var d=this,c;if(!(d.id||(d.id=d.initialConfig.id))){c=d.getXType();if(c){c=c.replace(Ext.Component.INVALID_ID_CHARS_Re,"-")}else{c=Ext.name.toLowerCase()+"-comp"}d.id=c+"-"+d.getAutoId()}return d.id},getItemId:function(){return this.itemId||this.id},getLoader:function(){var c=this,d=c.loader;if(d){if(!d.isLoader){c.loader=new Ext.ComponentLoader(Ext.apply({target:c},d))}else{d.setTarget(c)}return c.loader}return null},getMaskTarget:function(){return this.maskElement?this[this.maskElement]:null},getPlugin:function(e){var j,g=this.plugins,h=g&&g.length;for(j=0;j<h;j++){if(g[j].pluginId===e){return g[j]}}return null},getPosition:function(h){var g=this,l,m=g.isContainedFloater(),j;if((h===true)&&!m){return[g.getLocalX(),g.getLocalY()]}l=g.getXY();if((h===true)&&m){j=g.floatParent.getTargetEl().getViewRegion();l[0]-=j.left;l[1]-=j.top}return l},getScrollX:function(){var b=this.getScrollable();return b?b.getPosition().x:0},getScrollY:function(){var b=this.getScrollable();return b?b.getPosition().y:0},getSize:function(b){return this.el.getSize(b)},getSizeModel:function(A){var w=this,K=Ext.layout.SizeModel,H=w.componentLayout.ownerContext,J=w.width,M=w.height,L,I,D,F,C,v,y,x,z,B,G=w.floating||w.floated;if(H){B=H.widthModel;C=H.heightModel}if(!B||!C){D=((L=typeof J)=="number");F=((I=typeof M)=="number");z=G||!(v=w.ownerLayout);if(z){y=Ext.layout.Layout.prototype.autoSizePolicy;x=G?3:w.shrinkWrap;if(D){B=K.configured}if(F){C=K.configured}}else{y=v.getItemSizePolicy(w,A);x=v.isItemShrinkWrap(w)}if(H){H.ownerSizePolicy=y}x=(x===true)?3:(x||0);if(z&&x){if(J&&L=="string"){x&=2}if(M&&I=="string"){x&=1}}if(x!==3){if(!A){A=w.ownerCt&&w.ownerCt.getSizeModel()}if(A){x|=(A.width.shrinkWrap?1:0)|(A.height.shrinkWrap?2:0)}}if(!B){if(!y.setsWidth){if(D){B=K.configured}else{B=(x&1)?K.shrinkWrap:K.natural}}else{if(y.readsWidth){if(D){B=K.calculatedFromConfigured}else{B=(x&1)?K.calculatedFromShrinkWrap:K.calculatedFromNatural}}else{B=K.calculated}}}if(!C){if(!y.setsHeight){if(F){C=K.configured}else{C=(x&2)?K.shrinkWrap:K.natural}}else{if(y.readsHeight){if(F){C=K.calculatedFromConfigured}else{C=(x&2)?K.calculatedFromShrinkWrap:K.calculatedFromNatural}}else{C=K.calculated}}}}return B.pairsByHeightOrdinal[C.ordinal]},getState:function(){var d=this,g=null,e=d.getSizeModel();if(e.width.configured){g=d.addPropertyToState(g,"width")}if(e.height.configured){g=d.addPropertyToState(g,"height")}return g},getWidth:function(){return this.el.getWidth()},getXType:function(){return this.self.xtype},getXTypes:function(){var j=this.self,h,e,g;if(!j.xtypes){h=[];e=this;while(e){g=e.xtypes;if(g!==undefined){h.unshift.apply(h,g)}e=e.superclass}j.xtypeChain=h;j.xtypes=h.join("/")}return j.xtypes},hasCls:function(d){var c=this.rendered?this.el:this.protoEl;return c.hasCls.apply(c,arguments)},hasUICls:function(e){var d=this,g=d.uiCls||[];return Ext.Array.contains(g,e)},hide:function(j,g,m){var l=this,h;if(l.pendingShow){delete l.pendingShow}if(!(l.rendered&&!l.isVisible())){h=(l.fireEvent("beforehide",l)!==false);if(l.hierarchicallyHidden||h){l.hidden=true;l.getInherited().hidden=true;if(l.rendered){if(l.floating){l.setActive(false)}l.onHide.apply(l,arguments)}}}return l},initComponent:function(){var g=this,d=g.width,e=g.height;if(g.plugins&&!g.plugins.processed){g.plugins=g.constructPlugins()}g.pluginsInitialized=true;if(d!=null||e!=null){g.setSize(d,e)}if(g.listeners){g.on(g.listeners);g.listeners=null}if(g.focusable){g.initFocusable()}},initEvents:function(){var o=this,m=o.afterRenderEvents,j,p,n,q,l;if(m){for(n in m){p=o[n];if(p&&p.on){j=m[n];for(q=0,l=j.length;q<l;++q){o.mon(p,j[q])}}}}if(o.focusable){o.initFocusableEvents()}},is:function(b){return Ext.ComponentQuery.is(this,b)},isDescendantOf:function(d){var c;for(c=this.getRefOwner();c&&c!==d;c=c.getRefOwner()){}return c||null},isAncestor:function(b){while(b){if(b.getRefOwner()===this){return true}b=b.getRefOwner()}},isDisabled:function(){return this.disabled},isDraggable:function(){return !!this.draggable},isDroppable:function(){return !!this.droppable},isFloating:function(){return this.floating},isHidden:function(){return this.hidden},isHierarchicallyHidden:function(){var h=this,j=false,g,e;for(;(g=h.ownerCt||h.floatParent);h=g){e=g.getInherited();if(e.hidden){j=true;break}if(h.getInherited().collapseImmune){if(g.collapsed&&!h.collapseImmune){j=true;break}}else{j=!!e.collapsed;break}}return j},isLayoutChild:function(b){return !this.floating&&!!this.up(b)},isLayoutRoot:function(){var d=this,c=d.ownerLayout;if(!c||d._isLayoutRoot||d.floating){return true}return c.isItemLayoutRoot(d)},isLayoutSuspended:function(){var d=this,c;while(d){if(d.layoutSuspendCount||d.suspendLayout){return true}c=d.ownerLayout;if(!c){break}d=c.owner}return false},isVisible:function(e){var d=this,g;if(d.hidden||!d.rendered||d.isDestroyed){g=true}else{if(e){g=d.isHierarchicallyHidden()}}return !g},isXType:function(c,d){return d?(Ext.Array.indexOf(this.xtypes,c)!==-1):!!this.xtypesMap[c]},isMasked:function(d){var c=this;return c.masked||(c.loadMask&&c.loadMask.isVisible())||(d&&!!c.getInherited().masked)},setMasked:function(g){var d=this,e=d.focusableContainer;if(g){d.masked=true;d.getInherited().masked=g}else{d.masked=false;delete d.getInherited().masked}if(e){e.onFocusableChildMasked(d,g)}return d},mask:function(j,m,h){var g=this.lastBox,l=this.getMaskTarget()||this.el;if(g){h=g.height}l.mask(j,m,h);this.setMasked(true)},nextNode:function(r,n){var u=this,s=u.ownerCt,m,q,o,p,v;if(n&&u.is(r)){return u}if(s){for(q=s.items.items,p=Ext.Array.indexOf(q,u)+1,o=q.length;p<o;p++){v=q[p];if(v.is(r)){return v}if(v.down){m=v.down(r);if(m){return m}}}return s.nextNode(r)}return null},nextSibling:function(c){var m=this.ownerCt,o,n,j,l;if(m){o=m.items;j=o.indexOf(this)+1;if(j){if(c){for(n=o.getCount();j<n;j++){if((l=o.getAt(j)).is(c)){return l}}}else{if(j<o.getCount()){return o.getAt(j)}}}}return null},onAdded:function(g,j,h){var l=this,m=l.inheritedState;l.ownerCt=g;if(m&&h){l.invalidateInheritedState()}if(l.reference){l.fixReference()}if(l.hasListeners&&l.hasListeners.added){l.fireEvent("added",l,g,j)}if(Ext.GlobalEvents.hasListeners.added){l.fireHierarchyEvent("added")}},onRemoved:function(d){var e=this,g;if(Ext.GlobalEvents.hasListeners.removed){e.fireHierarchyEvent("removed")}if(e.hasListeners.removed){e.fireEvent("removed",e,e.ownerCt)}if(e.reference){g=e.lookupReferenceHolder();if(g){g.clearReference(e)}}if(!d){e.removeBindings()}if(e.inheritedState&&!d){e.invalidateInheritedState()}e.ownerCt=e.ownerLayout=null},onBoxReady:function(j,e){var h=this,g=h.scrollable;if(h.resizable){h.initResizable(h.resizable)}if(h.draggable){h.initDraggable()}if(g){if(h.touchScroll){g.setInnerElement(h.getScrollerEl())}g.setElement(h.getOverflowEl())}if(h.hasListeners.boxready){h.fireEvent("boxready",h,j,e)}},onDestroy:function(){var g=this,d=g.controller,e=g.focusableContainer;if(g.bind){g.removeBindings()}if(d){d.destroy()}g.controller=null;if(g.rendered){Ext.destroy(g.dd,g.resizer,g.proxy,g.proxyWrap,g.resizerComponent,g.scrollable,g.contentEl)}if(e){e.onFocusableChildDestroy(g)}if(g.focusable){g.destroyFocusable()}Ext.destroy(g.componentLayout,g.loadMask,g.floatingDescendants)},onDisable:function(){var e=this,d,g;if(e.focusable){e.disableFocusable()}if(e.maskOnDisable){d=e.el.dom;g=d.nodeName;if(e.disabledRe.test(g)){d.disabled=true}if(!e.nonMaskableRe.test(g)){e.mask()}}},onEnable:function(){var e=this,d,g;if(e.focusable){e.enableFocusable()}if(e.maskOnDisable){d=e.el.dom;g=d.nodeName;if(e.disabledRe.test(g)){d.disabled=false}if(!e.nonMaskableRe.test(g)){e.unmask()}}},onHide:function(n,l,p){var o=this,r,q,s,m=o.previousFocus;o.previousFocus=null;if(o.floating&&m&&o.containsFocus){if(!m.isComponent){m=Ext.fly(m)}if(Ext.isIE8||m.isFocusable()){m.focus()}}n=o.getAnimateTarget(n);if(!o.ghost){n=null}if(n){s={x:n.getX(),y:n.getY(),width:n.dom.offsetWidth,height:n.dom.offsetHeight};r=o.ghost();r.el.stopAnimation();q=o.getSize();r.el.animate({to:s,listeners:{afteranimate:function(){delete r.componentLayout.lastComponentSize;r.el.hide();r.setHiddenState(true);r.el.setSize(q);o.afterHide(l,p)}}})}o.el.hide();if(!n){o.afterHide(l,p)}},onPosition:Ext.emptyFn,onResize:function(m,h,g,j){var l=this;if(l.floating&&l.constrain){l.doConstrain()}if(g){l.refreshScroll()}if(l.hasListeners.resize){l.fireEvent("resize",l,m,h,g,j)}},onShow:function(){var b=this;b.el.show();b.updateLayout({isRoot:false});if(b.floating){if(b.maximized){b.fitContainer()}else{if(b.constrain){b.doConstrain()}}}},onShowComplete:function(g,j){var h=this,e=h.focusableContainer;if(h.floating){h.onFloatShow()}Ext.callback(g,j||h);h.fireEvent("show",h);if(e){e.onFocusableChildShow(h)}delete h.hiddenByLayout},onShowVeto:Ext.emptyFn,previousNode:function(l,r){var n=this,o=n.ownerCt,m,p,q,s;if(r&&n.is(l)){return n}if(o){for(p=o.items.items,q=Ext.Array.indexOf(p,n)-1;q>-1;q--){s=p[q];if(s.query){m=s.query(l);m=m[m.length-1];if(m){return m}}if(s.is(l)){return s}}return o.previousNode(l,true)}return null},previousSibling:function(c){var l=this.ownerCt,m,h,j;if(l){m=l.items;h=m.indexOf(this);if(h!=-1){if(c){for(--h;h>=0;h--){if((j=m.getAt(h)).is(c)){return j}}}else{if(h){return m.getAt(--h)}}}}return null},registerFloatingItem:function(c){var d=this;if(!d.floatingDescendants){d.floatingDescendants=new Ext.ZIndexManager(d)}d.floatingDescendants.register(c)},removeCls:function(e){var g=this,d=g.rendered?g.el:g.protoEl;d.removeCls.apply(d,arguments);return g},removeClsWithUI:function(w,p){var q=this,r=[],u=0,z=Ext.Array,s=z.remove,v=q.uiCls=z.clone(q.uiCls),x=q.activeUI,y,o;if(typeof w==="string"){w=(w.indexOf(" ")<0)?[w]:Ext.String.splitWords(w)}y=w.length;for(u=0;u<y;u++){o=w[u];if(o&&q.hasUICls(o)){s(v,o);if(x){r=r.concat(q.removeUIClsFromElement(o))}}}if(p!==true&&x){q.removeCls(r)}return r},resumeLayouts:function(c){var d=this;if(!d.rendered){return}if(d.layoutSuspendCount&&!--d.layoutSuspendCount){d.suspendLayout=false;if(c&&!d.isLayoutSuspended()){d.updateLayout(c)}}},scrollBy:function(j,e,h){var g=this.getScrollable();if(g){g.scrollBy(j,e,h)}},scrollTo:function(e,h,j){var g=this.getScrollable();if(g){g.scrollTo(e,h,j)}},setAutoScroll:function(b){this.setScrollable(!!b);return this},setBorder:function(e,h){var j=this,g=!!h;if(j.rendered||g){if(!g){h=j.el}if(!e){e=0}else{if(e===true){e="1px"}else{e=this.unitizeBox(e)}}h.setStyle("border-width",e);if(!g){j.updateLayout()}}j.border=e},setDock:function(g){var d=this,e=d.ownerCt;if(g!==d.dock){if(e&&e.moveDocked){e.moveDocked(d,g)}else{d.dock=g}}return d},setDisabled:function(b){return this[b?"disable":"enable"]()},setFlex:function(b){this.flex=b},setHeight:function(b){return this.setSize(undefined,b)},setLoading:function(j,h){var e=this,g={target:e};if(e.rendered){if(j!==false){if(Ext.isString(j)){g.msg=j}else{Ext.apply(g,j)}if(!e.loadMask||!e.loadMask.isLoadMask){if(h&&g.useTargetEl==null){g.useTargetEl=true}e.loadMask=new Ext.LoadMask(g)}else{Ext.apply(e.loadMask,g)}if(e.loadMask.isVisible()){e.loadMask.afterShow()}else{e.loadMask.show()}}else{if(e.loadMask&&e.loadMask.isLoadMask){e.loadMask.hide()}}}return e.loadMask},setMargin:function(g,d){var e=this;if(e.rendered){if(!g&&g!==0){g=""}else{if(g===true){g=5}g=this.unitizeBox(g)}e.margin=g;e.margin$=null;e.getEl().setStyle("margin",g);if(!d){e.updateLayout(e._notAsLayoutRoot)}}else{e.margin=g}},setOverflowXY:function(c,d){this.setScrollable({x:(c&&c!=="hidden")?c:false,y:(d&&d!=="hidden")?d:false});return this},setPagePosition:function(j,l,h){var o=this,n,m;if(Ext.isArray(j)){l=j[1];j=j[0]}o.pageX=j;o.pageY=l;if(o.floating){if(o.isContainedFloater()){m=o.floatParent.getTargetEl().getViewRegion();if(Ext.isNumber(j)&&Ext.isNumber(m.left)){j-=m.left}if(Ext.isNumber(l)&&Ext.isNumber(m.top)){l-=m.top}}else{n=o.el.translateXY(j,l);j=n.x;l=n.y}o.setPosition(j,l,h)}else{n=o.el.translateXY(j,l);o.setPosition(n.x,n.y,h)}return o},setPosition:function(h,j,g){var m=this,l=m.beforeSetPosition.apply(m,arguments);if(l&&m.rendered){h=l.x;j=l.y;if(g){if(h!==m.getLocalX()||j!==m.getLocalY()){m.stopAnimation();m.animate(Ext.apply({duration:1000,listeners:{afteranimate:Ext.Function.bind(m.afterSetPosition,m,[h,j])},to:{left:h,top:j}},g))}}else{m.setLocalXY(h,j);m.afterSetPosition(h,j)}}return m},setScrollX:function(d,g){var e=this.getScrollable();if(e){e.scrollTo(d,null,g)}},setScrollY:function(g,d){var e=this.getScrollable();if(e){e.scrollTo(null,g,d)}},setSize:function(d,e){var g=this;if(d&&typeof d=="object"){e=d.height;d=d.width}if(typeof d=="number"){g.width=Ext.Number.constrain(d,g.minWidth,g.maxWidth)}else{if(d===null){delete g.width}}if(typeof e=="number"){g.height=Ext.Number.constrain(e,g.minHeight,g.maxHeight)}else{if(e===null){delete g.height}}if(g.rendered&&g.isVisible()){if(g.liquidLayout){g.el.setSize(g.width,g.height)}g.updateLayout(g._notAsLayoutRoot)}return g},setStyle:function(g,d){var e=this.el||this.protoEl;e.setStyle(g,d);return this},setUI:function(m){var g=this,j=g.uiCls,l=g.activeUI,h;if(m===l){return}if(l){h=g.removeClsWithUI(j,true);if(h.length){g.removeCls(h)}g.removeUIFromElement()}else{g.uiCls=[]}g.ui=m;g.activeUI=m;g.addUIToElement();h=g.addClsWithUI(j,true);if(h.length){g.addCls(h)}if(g.rendered){g.updateLayout()}},setVisible:function(b){return this[b?"show":"hide"]()},setHidden:function(b){return this.setVisible(!b)},setWidth:function(b){return this.setSize(b)},show:function(l,h,g){var m=this,j=m.rendered;if(m.hierarchicallyHidden||(m.floating&&!j&&m.isHierarchicallyHidden())){if(!j){m.initHierarchyEvents()}if(arguments.length>1){arguments[0]=null;m.pendingShow=arguments}else{m.pendingShow=true}}else{if(j&&m.isVisible()){if(m.floating){m.onFloatShow()}}else{if(m.fireEvent("beforeshow",m)!==false){m.hidden=false;delete this.getInherited().hidden;Ext.suspendLayouts();if(!j&&(m.autoRender||m.floating)){m.doAutoRender();j=m.rendered}if(j){m.beforeShow();Ext.resumeLayouts();m.onShow.apply(m,arguments);m.afterShow.apply(m,arguments)}else{Ext.resumeLayouts(true)}}else{m.onShowVeto()}}}return m},showAt:function(g,h,e){var j=this;if(!j.rendered&&(j.autoRender||j.floating)){j.x=g;j.y=h;return j.show()}if(j.floating){j.setPosition(g,h,e)}else{j.setPagePosition(g,h,e)}j.show()},showBy:function(e,h,j){var g=this;if(g.floating&&e){g.alignTarget=e;if(h){g.defaultAlign=h}if(j){g.alignOffset=j}g.show();if(!g.hidden){g.alignTo(e,h||g.defaultAlign,j||g.alignOffset)}}return g},suspendLayouts:function(){var b=this;if(!b.rendered){return}if(++b.layoutSuspendCount===1){b.suspendLayout=true}},unitizeBox:function(b){return Ext.Element.unitizeBox(b)},unmask:function(){(this.getMaskTarget()||this.el).unmask();this.setMasked(false)},unregisterFloatingItem:function(c){var d=this;if(d.floatingDescendants){d.floatingDescendants.unregister(c)}},up:function(p,o){var q=this.getRefOwner(),j=typeof o==="string",m=typeof o==="number",l=o&&o.isComponent,n=0;if(p){for(;q;q=q.getRefOwner()){n++;if(p.isComponent){if(q===p){return q}}else{if(Ext.ComponentQuery.is(q,p)){return q}}if(j&&q.is(o)){return}if(m&&n===o){return}if(l&&q===o){return}}}return q},update:function(v,r,o){var p=this,n=(p.tpl&&!Ext.isString(v)),q=p.getScrollable(),w=p.focusableContainer,s,x,u;if(n){p.data=(v&&v.isEntity)?v.getData(true):v}else{p.html=Ext.isObject(v)?Ext.DomHelper.markup(v):v}if(p.rendered){s=p.getSizeModel();x=s.width.shrinkWrap||s.height.shrinkWrap;if(p.isContainer){u=p.layout.getRenderTarget();x=x||p.items.items.length>0}else{u=p.touchScroll?p.getScrollerEl():p.getTargetEl()}if(n){p.tpl[p.tplWriteMode](u,p.data||{})}else{u.setHtml(p.html,r,o)}if(x){p.updateLayout()}if(q){q.refresh(true)}if(w){w.onFocusableChildUpdate(p)}}},setHtml:function(b){this.update(b)},applyData:function(b){this.update(b)},updateBox:function(b){this.setSize(b.width,b.height);this.setPagePosition(b.x,b.y);return this},_asLayoutRoot:{isRoot:true},_notAsLayoutRoot:{isRoot:false},updateLayout:function(m){var l=this,j,g=l.lastBox,h=m&&m.isRoot;if(g){g.invalid=true}if(!l.rendered||l.layoutSuspendCount||l.suspendLayout){return}if(l.hidden){Ext.Component.cancelLayout(l)}else{if(typeof h!="boolean"){h=l.isLayoutRoot()}}if(h||!l.ownerLayout||!l.ownerLayout.onContentChange(l)){if(!l.isLayoutSuspended()){j=(m&&m.hasOwnProperty("defer"))?m.defer:l.deferLayouts;Ext.Component.updateLayout(l,j)}}},updateMaxHeight:function(c,d){this.changeConstraint(c,d,"min","max-height","height")},updateMaxWidth:function(c,d){this.changeConstraint(c,d,"min","max-width","width")},updateMinHeight:function(c,d){this.changeConstraint(c,d,"max","min-height","height")},updateMinWidth:function(d,c){this.changeConstraint(d,c,"max","min-width","width")},getAnchorToXY:function(h,g,j,e){return h.getAnchorXY(g,j,e)},getBorderPadding:function(){return this.el.getBorderPadding()},getLocalX:function(){return this.el.getLocalX()},getLocalXY:function(){return this.el.getLocalXY()},getLocalY:function(){return this.el.getLocalY()},getX:function(){return this.el.getX()},getXY:function(){return this.el.getXY()},getY:function(){return this.el.getY()},setLocalX:function(b){this.el.setLocalX(b)},setLocalXY:function(d,c){this.el.setLocalXY(d,c)},setLocalY:function(b){this.el.setLocalY(b)},setX:function(d,c){this.el.setX(d,c)},setXY:function(c,d){this.el.setXY(c,d)},setY:function(c,d){this.el.setY(c,d)},privates:{addOverCls:function(){var b=this;if(!b.disabled){b.el.addCls(b.overCls)}},addUIToElement:function(){var n=this,j=n.baseCls+"-"+n.ui,o,l,h,m;n.addCls(j);if(n.rendered&&n.frame&&!Ext.supports.CSS3BorderRadius){j+="-";o=n.getChildEls();for(l in o){m=o[l].frame;if(m&&m!==true){h=n[l];if(h){h.addCls(j+m)}}}}},changeConstraint:function(m,q,l,o,j){var n=this,p=n[j];if(m!=null&&typeof p==="number"){n[j]=Math[l](p,m)}if(n.liquidLayout){if(m!=null){n.setStyle(o,m+"px")}else{if(q){n.setStyle(o,"")}}}if(n.rendered){n.updateLayout()}},constructPlugin:function(c){var d=this;if(typeof c==="string"){c=Ext.PluginManager.create({},c,d)}else{c=Ext.PluginManager.create(c,null,d)}return c},constructPlugins:function(){var j=this,m=j.plugins,g,l,h;if(m){g=[];g.processed=true;if(!Ext.isArray(m)){m=[m]}for(l=0,h=m.length;l<h;l++){g[l]=j.constructPlugin(m[l])}}j.pluginsInitialized=true;return g},doAddListener:function(A,u,s,q,C,D,z){var v=this,w,x,B,r,y;if(Ext.isObject(u)||(q&&q.element)){if(q.element){r=q.element;w={};w[A]=u;if(s){w.scope=s}B=v.$elementEventOptions;for(x in q){if(B[x]){w[x]=q[x]}}}else{w=u;r=A}y=v[r];if(y&&y.isObservable){v.mon(y,w)}else{v.afterRenderEvents=v.afterRenderEvents||{};if(!v.afterRenderEvents[r]){v.afterRenderEvents[r]=[]}v.afterRenderEvents[r].push(w)}return}v.mixins.observable.doAddListener.call(v,A,u,s,q,C,D,z)},fireHierarchyEvent:function(c){var d=Ext.GlobalEvents;if(d.hasListeners[c]){d.fireEvent(c,this)}},getActionEl:function(){return this.el},getAutoId:function(){this.autoGenId=true;return ++Ext.Component.AUTO_ID},getContentTarget:function(){return this.el},getDragEl:function(){return this.el},getOverflowEl:function(){return this.getTargetEl()},getOverflowStyle:function(){var n=this,h=n.getScrollable(),o=n._scrollFlags,j,l,m;if(h){j=h.getX();if(j===true){j="auto"}l=h.getY();if(l===true){l="auto"}m=o[j][l]}else{m=o.none}n.scrollFlags=m;return{overflowX:m.overflowX,overflowY:m.overflowY}},getPlugins:function(){var b=this.plugins;b=(b&&b.processed)?b:this.constructPlugins();return b||null},getProxy:function(){var d=this,c;if(!d.proxy){c=Ext.getBody();d.proxy=d.el.createProxy(Ext.baseCSSPrefix+"proxy-el",c,true)}return d.proxy},getScrollerEl:function(){var b=this;return b.scrollerEl||(b.scrollerEl=b.componentLayout.getScrollerEl()||b.getOverflowEl().child(b.scrollerSelector))},getTargetEl:function(){return this.frameBody||this.el},getTdCls:function(){return Ext.baseCSSPrefix+this.getTdType()+"-"+this.ui+"-cell"},getTdType:function(){return this.xtype},getTpl:function(b){return Ext.XTemplate.getTpl(this,b)},initCls:function(){var d=this,e=[d.baseCls],g=d.getComponentLayout().targetCls;if(g){e.push(g)}if(d.componentCls){e.push(d.componentCls)}else{d.componentCls=d.baseCls}return e},initDraggable:function(){var g=this,e=(g.resizer&&g.resizer.el!==g.el)?g.resizerComponent=new Ext.Component({ariaRole:"presentation",el:g.resizer.el,rendered:true,container:g.container}):g,d=Ext.applyIf({el:e.getDragEl(),constrainTo:(g.constrain||g.draggable.constrain)?(g.constrainTo||(g.floatParent?g.floatParent.getTargetEl():g.container)):undefined},g.draggable);if(g.constrain||g.constrainDelegate){d.constrain=g.constrain;d.constrainDelegate=g.constrainDelegate}g.dd=new Ext.util.ComponentDragger(e,d)},initPadding:function(g){var e=this,d=e.padding;if(d!=null){if(e.touchScroll||(e.layout&&e.layout.managePadding&&e.contentPaddingProperty==="padding")){g.setStyle("padding",0)}else{g.setStyle("padding",this.unitizeBox((d===true)?5:d))}}},initPlugin:function(b){b.init(this);return b},initResizable:function(d){var c=this;d=Ext.apply({target:c,dynamic:false,constrainTo:(c.constrain||(d&&d.constrain))?(c.constrainTo||(c.floatParent?c.floatParent.getTargetEl():c.container)):undefined,handles:c.resizeHandles},d);d.target=c;c.resizer=new Ext.resizer.Resizer(d)},initStyles:function(p){var u=this,w=u.margin,v=u.border,o=u.cls,z=u.style,r=u.x,s=u.y,x=u.liquidLayout,y,q;u.initPadding(p);if(w!=null){p.setStyle("margin",this.unitizeBox((w===true)?5:w))}if(v!=null){u.setBorder(v,p)}if(o&&o!=u.initialCls){p.addCls(o);u.cls=u.initialCls=null}if(z&&z!=u.initialStyle){p.setStyle(z);u.style=u.initialStyle=null}if(r!=null){p.setStyle(u.horizontalPosProp,(typeof r=="number")?(r+"px"):r)}if(s!=null){p.setStyle("top",(typeof s=="number")?(s+"px"):s)}if(!u.ownerCt||u.floating){if(Ext.scopeCss){p.addCls(u.rootCls)}p.addCls(u.borderBoxCls)}if(x||!u.getFrameInfo()){y=u.width;q=u.height;if(y!=null){if(typeof y==="number"){p.setStyle("width",y+"px")}else{p.setStyle("width",y)}}if(q!=null){if(typeof q==="number"){p.setStyle("height",q+"px")}else{p.setStyle("height",q)}}}},isContainedFloater:function(){return(this.floating&&this.floatParent)},isDescendant:function(d){if(d.isContainer){for(var c=this.ownerCt;c;c=c.ownerCt){if(c===d){return true}}}return false},owns:function(d){var e=false,g;if(d.isEvent){d=d.target}else{if(d.isElement){d=d.dom}}g=Ext.ComponentManager.byElement(d);if(g){e=(g===this)||(!!g.up(this))}return e},parseBox:function(b){return Ext.Element.parseBox(b)},refreshScroll:function(){var b=this.getScrollable();if(b){b.refresh()}},removeManagedListenerItem:function(l,m,n,r,p,q){var o=this,s=m.options?m.options.element:null;if(s){s=o[s];if(s&&s.un){if(l||(m.item===n&&m.ename===r&&(!p||m.fn===p)&&(!q||m.scope===q))){s.un(m.ename,m.fn,m.scope);if(!l){Ext.Array.remove(o.managedListeners,m)}}}}else{return o.mixins.observable.removeManagedListenerItem.apply(o,arguments)}},removeOverCls:function(){this.el.removeCls(this.overCls)},removePlugin:function(b){Ext.Array.remove(this.plugins,b);b.destroy()},removeUIFromElement:function(){var n=this,j=n.baseCls+"-"+n.ui,o,l,h,m;n.removeCls(j);if(n.rendered&&n.frame&&!Ext.supports.CSS3BorderRadius){j+="-";o=n.getChildEls();for(l in o){m=o[l].frame;if(m&&m!==true){h=n[l];if(h){h.removeCls(j+m)}}}}},setComponentLayout:function(c){var d=this.componentLayout;if(d&&d.isLayout&&d!=c){d.setOwner(null)}this.componentLayout=c;c.setOwner(this)},setHiddenState:function(h){var j=this,e=j.getInherited(),g=j.zIndexManager;j.hidden=h;if(h){e.hidden=true}else{delete e.hidden}if(g){g.onComponentShowHide(j)}},setupProtoEl:function(){var b=this.initCls();this.protoEl.addCls(b)},wrapPrimaryEl:function(g){var d=this,e=d.el;if(!e||!e.isElement){d.el=Ext.get(g)}if(d.floating){this.mixins.floating.constructor.call(this)}}},deprecated:{5:{methods:{addClass:"addCls",doComponentLayout:function(){this.updateLayout();return this},removeClass:"removeCls",forceComponentLayout:"updateLayout",setDocked:"setDock"}}}},function(b){(b.prototype.$elementEventOptions=Ext.Object.chain(Ext.Element.prototype.$eventOptions)).element=1;b.createAlias({on:"addListener",prev:"previousSibling",next:"nextSibling"});Ext.resumeLayouts=function(a){b.resumeLayouts(a)};Ext.suspendLayouts=function(){b.suspendLayouts()};Ext.batchLayouts=function(d,a){b.suspendLayouts();d.call(a);b.resumeLayouts(true)};Ext.setGlyphFontFamily=function(a){Ext._glyphFontFamily=a};b.hierarchyEventSource=b.prototype.hierarchyEventSource=Ext.GlobalEvents});Ext.define("Ext.layout.container.border.Region",{override:"Ext.Component",initBorderRegion:function(){var b=this;if(!b._borderRegionInited){b._borderRegionInited=true;b.addStateEvents(["changeregion","changeweight"]);Ext.override(b,{getState:function(){var a=b.callParent();a=b.addPropertyToState(a,"region");a=b.addPropertyToState(a,"weight");return a}})}},getOwningBorderContainer:function(){var b=this.getOwningBorderLayout();return b&&b.owner},getOwningBorderLayout:function(){var b=this.ownerLayout;return(b&&b.isBorderLayout)?b:null},setRegion:function(u){var v=this,B,A=v.region;if(u!==A){B=v.getOwningBorderLayout();if(B){var y=B.regionFlags[u],s=v.placeholder,D=v.splitter,C=B.owner,q=B.regionMeta,z=v.collapsed||v.floated,r,w,x;if(v.fireEventArgs("beforechangeregion",[v,u])===false){return A}Ext.suspendLayouts();v.region=u;Ext.apply(v,y);if(v.updateCollapseTool){v.updateCollapseTool()}if(D){Ext.apply(D,y);D.updateOrientation();w=C.items;x=w.indexOf(v);if(x>=0){r=q[u].splitterDelta;if(w.getAt(x+r)!==D){w.remove(D);x=w.indexOf(v);if(r>0){++x}w.insert(x,D)}}}if(s){if(z){v.expand(false)}C.remove(s);v.placeholder=null;if(z){v.collapse(null,false)}}C.updateLayout();Ext.resumeLayouts(true);v.fireEventArgs("changeregion",[v,A])}else{v.region=u}}return A},setWeight:function(l){var m=this,g=m.getOwningBorderContainer(),j=m.placeholder,h=m.weight;if(l!==h){if(m.fireEventArgs("beforechangeweight",[m,l])!==false){m.weight=l;if(j){j.weight=l}if(g){g.updateLayout()}m.fireEventArgs("changeweight",[m,h])}}return h}},function(d){var c=d.prototype;c.setBorderRegion=c.setRegion;c.setRegionWeight=c.setWeight});Ext.define("ExtThemeNeptune.Component",{override:"Ext.Component",initComponent:function(){this.callParent();if(this.dock&&this.border===undefined){this.border=false}},privates:{initStyles:function(){var g=this,d=g.hasOwnProperty("border"),e=g.border;if(g.dock){g.border=null}g.callParent(arguments);if(d){g.border=e}else{delete g.border}}}});Ext.define("overrides.Component",{override:"Ext.Component",initComponent:function(){this.callParent(arguments);this.on("enable",function(b){if(b.isMasked()){b.unmask()}})}});Ext.define("E.xforms.overrideComponent",{override:"Ext.Component",xf_relevant:"visible",xf_readonly:"readOnly",xf_required:"required",xf_constraint:"constraint",getIndex:function(){var d=this.ownerCt||this.initOwnerCt;if(this.ownerCt){for(var c=0;c<this.ownerCt.items.getCount();c++){if(this==this.ownerCt.items.get(c)){return c}}}return -1},setInstanceToViewModel:function(g,d){var e=this.lookupViewModel();vm.set("instance."+d.id,d)},getModelField:function(g,j){var e=this.getInherited(),j=j||e.entityName;g=g||this.xfa;if(j&&g){var h=E.xforms.model.ModelManager.get(j).fields[g];if(h){return h}j=Object.getPrototypeOf(e).entityName;h=E.xforms.model.ModelManager.get(j).fields[g];if(h){return h}console.error(Ext.util.Format.format("The '{0}' field in {1} model could not be retrieved",g,j))}console.error(Ext.util.Format.format("entityName in getEntityName is: {0}",j))},getInstance:function(){var b=this.getModelInstance();return b?b.getInstance():null},getModelInstance:function(){var j=this,g=j.getInherited(),h=g.viewModel.getData(),e=g.entityName;return h[e]?h[e]:h.rootModel},getParentModelInstance:function(){var e=this,g=e.getInherited(),h=Object.getPrototypeOf(g).entityName,j=g.viewModel.getData();return j[h]},getXfField:function(){if(this.xfa){return this.getModelInstance().xf_fields.map[this.xfa]}},setLabel:function(b){return this.setTitle(b)},setDescription:function(b){return this.setTooltip(b)},setIconCls:function(b){return this.addCls(b)},setCls:function(b){return this.addCls(b)},setCheck:Ext.emptyFn,setLookup:Ext.emptyFn,setTooltip:Ext.emptyFn,buildForEach:function(g,d){var e=function(b){var a="build"+Ext.String.capitalize(b);if(Ext.isFunction(this[a])){if(d===false){return this[a]()}this[b]=this[a](d)}};Ext.forEach(g,e,this)},createMenu:function(g,d,e){if(!e&&!this.menuMgr){this.menuMgr=new Ext.util.HashMap()}return(e?e:this.menuMgr).add(g,new Ext.menu.Menu(d))},__getParentConfig:function(b){if(b){if(this[b]){return this[b]}return this[b]=this._ownerCt?this._ownerCt.getParentConfig(b):null}}});Ext.define("Ext.util.ObjectTemplate",{isObjectTemplate:true,excludeProperties:{},valueRe:/^[{][a-z\.]+[}]$/i,statics:{create:function(c,d){return c.isObjectTemplate?c:new Ext.util.ObjectTemplate(c,d)}},constructor:function(c,d){Ext.apply(this,d);this.template=c},apply:function(d){var c=this;delete c.apply;c.apply=c.compile(c.template);return c.apply(d)},privates:{compile:function(o){var n=this,j=n.excludeProperties,m,q,l,p;if(Ext.isString(o)){if(o.indexOf("{")<0){p=function(){return o}}else{if(n.valueRe.test(o)){o=o.substring(1,o.length-1).split(".");p=function(a){for(var c=a,b=0;c&&b<o.length;++b){c=c[o[b]]}return c}}else{o=new Ext.XTemplate(o);p=function(a){return o.apply(a)}}}}else{if(Ext.isPrimitive(o)||Ext.isFunction(o)){p=function(){return o}}else{if(o instanceof Array){m=[];for(q=0,l=o.length;q<l;++q){m[q]=n.compile(o[q])}p=function(a){var c=[],b;for(b=0;b<l;++b){c[b]=m[b](a)}return c}}else{m={};for(q in o){if(!j[q]){m[q]=n.compile(o[q])}}p=function(d){var b={},a,c;for(a in o){c=j[a]?o[a]:m[a](d);if(c!==undefined){b[a]=c}}return b}}}}return p}}});Ext.define("Ext.data.schema.Role",{isRole:true,left:true,owner:false,side:"left",isMany:false,defaultReaderType:"json",constructor:function(e,j){var h=this,g=j.extra;Ext.apply(h,j);if(g){delete g.type;Ext.apply(h,g);delete h.extra}h.association=e;if(e.owner===h.side){e.owner=h;h.owner=true}},processUpdate:function(){Ext.Error.raise('Only the "many" for an association may be processed. "'+this.role+'" is not valid.')},processLoad:function(e,j,g,h){return g},checkMembership:Ext.emptyFn,adoptAssociated:function(d,g){var e=this.getAssociatedItem(d);if(e){g.adopt(e)}},createAssociationStore:function(w,q,x,p){var u=this,y=u.association,v=y.getFieldName(),s=y.isManyToMany,A=u.storeConfig,B=q.getId(),z={model:u.cls,role:u,session:w,associatedEntity:q,disableMetaChangeEvent:true,pageSize:null,remoteFilter:true,trackRemoved:!w},r;if(s){z.filters=[{property:u.inverse.field,value:B,exactMatch:true}]}else{if(v){z.filters=[{property:v,value:B,exactMatch:true}];z.foreignKeyName=v}}if(A){Ext.apply(z,A)}r=Ext.Factory.store(z);u.onStoreCreate(r,w,B);if(v||(s&&w)){r.on({scope:u,add:"onAddToMany",remove:"onRemoveFromMany",clear:"onRemoveFromMany"})}if(x){r.loadData(x);r.complete=!!p}return r},onStoreCreate:Ext.emptyFn,getAssociatedStore:function(F,L,M,J,v){var B=this,A=B.getStoreName(),y=F[A],w=L&&L.reload,K=F.$source,C=F.session,D,H,G,x,I,z;if(!y){if(!J&&K){K=K[A];if(K&&!K.isLoading()){z=K;J=[];x=K.getData().items;for(H=0,G=x.length;H<G;++H){I=x[H];J.push(C.getRecord(I.self,I.id))}v=true}}y=B.createAssociationStore(C,F,J,v);y.$source=z;if(!J&&(B.autoLoad||L)){w=true}F[A]=y}if(L){if(w||y.isLoading()){y.on("load",function(a,b,d,c){D=[a,c];M=M||L.scope||F;if(d){Ext.callback(L.success,M,D)}else{Ext.callback(L.failure,M,D)}D.push(d);Ext.callback(L,M,D);Ext.callback(L.callback,M,D)},null,{single:true})}else{D=[y,null];M=M||L.scope||F;Ext.callback(L.success,M,D);D.push(true);Ext.callback(L,M,D);Ext.callback(L.callback,M,D)}}if(w&&!y.isLoading()){y.load()}return y},getAssociatedItem:function(c){var d=this.isMany?this.getStoreName():this.getInstanceName();return c[d]||null},onDrop:Ext.emptyFn,getReaderRoot:function(){var b=this;return b.associationKey||(b.associationKey=b.association.schema.getNamer().readerRoot(b.role))},getReader:function(){var m=this,h=m.reader,l=m.cls,j=!m.associationKey,g=this.getReaderRoot();if(h&&!h.isReader){if(Ext.isString(h)){h={type:h}}Ext.applyIf(h,{model:l,rootProperty:g,useSimpleAccessors:j,type:m.defaultReaderType});h=m.reader=Ext.createByAlias("reader."+h.type,h)}return h},getInstanceName:function(){var b=this;return b.instanceName||(b.instanceName=b.association.schema.getNamer().instanceName(b.role))},getStoreName:function(){var b=this;return b.storeName||(b.storeName=b.association.schema.getNamer().storeName(b.role))},constructReader:function(q){var p=this,m=p.getReader(),o=p.cls,n=!p.associationKey,l=p.getReaderRoot(),s,r;if(!m){r=o.getProxy();if(r){s=r.getReader();m=new s.self();m.copyFrom(s);m.setRootProperty(l)}else{m=new q.self({model:o,useSimpleAccessors:n,rootProperty:l})}p.reader=m}return m},read:function(h,l,o,m){var n=this,j=this.constructReader(o);return j.read(l,m)},getCallbackOptions:function(e,d,g){if(typeof e==="function"){e={callback:e,scope:d||g}}else{if(e){e=Ext.apply({},e);e.scope=d||e.scope||g}}return e},doGetFK:function(C,q,s){var w=this,r=w.cls,z=w.association.getFieldName(),u=w.getInstanceName(),v=C[u],D=q&&q.reload,A=v!==undefined&&!D,x=C.session,B,y;if(!A){if(x){B=C.get(z);if(B||B===0){A=x.peekRecord(r,B,true)&&!D;v=x.getRecord(r,B,false)}else{A=true;C[u]=v=null}}else{if(z){B=C.get(z);if(!B&&B!==0){A=true;C[u]=v=null}else{if(!v){v=r.createWithId(B)}}}else{A=true}}}else{if(v){A=!v.isLoading()}}if(A){if(q){y=[v,null];s=s||q.scope||C;Ext.callback(q.success,s,y);y.push(true);Ext.callback(q,s,y);Ext.callback(q.callback,s,y)}}else{C[u]=v;q=w.getCallbackOptions(q,s,C);v.load(q)}return v},doSetFK:function(B,u,p,q){var v=this,y=v.association.getFieldName(),s=v.getInstanceName(),x=B[s],A=v.inverse,z=A.setterName,w=B.session,r;if(u&&u.isEntity){if(x!==u){if(y){B.set(y,u.getId())}B[s]=u;if(z){u[z](B)}}}else{r=(B.changingKey&&!A.isMany)||B.set(y,u);if(r&&x&&x.isEntity&&!x.isEqual(x.getId(),u)){B[s]=undefined;if(!A.isMany){x[A.getInstanceName()]=undefined}}}if(p){if(Ext.isFunction(p)){p={callback:p,scope:q||B}}return B.save(p)}}});Ext.define("Ext.data.schema.Association",{isOneToOne:false,isManyToOne:false,isManyToMany:false,owner:null,field:null,constructor:function(g){var j=this,h,e;Ext.apply(j,g);j.left=h=new j.Left(j,j.left);j.right=e=new j.Right(j,j.right);h.inverse=e;e.inverse=h},hasField:function(){return !!this.field},getFieldName:function(){var b=this.field;return b?b.name:""}});Ext.define("Ext.data.schema.OneToOne",{extend:Ext.data.schema.Association,isOneToOne:true,isToOne:true,kind:"one-to-one",Left:Ext.define(null,{extend:"Ext.data.schema.Role",onDrop:function(e,d){var g=this.getAssociatedItem(e);e[this.getInstanceName()]=null;if(g){g[this.inverse.getInstanceName()]=null}},createGetter:function(){var b=this;return function(){return b.doGet(this)}},createSetter:function(){var b=this;return function(a){return b.doSet(this,a)}},doGet:function(g){var e=this.getInstanceName(),j=g[e],h=g.session;if(!j&&h){}return j||null},doSet:function(h,j){var g=this.getInstanceName(),l=h[g],m=this.inverse.setterName;if(l!==j){h[g]=j;if(m){j[m](h)}}return l},read:function(j,o,q,n){var p=this,l=p.callParent([j,o,q,n]),m=l.getRecords()[0];if(m){m[p.inverse.getInstanceName()]=j;j[p.getInstanceName()]=m;delete j.data[p.role]}}}),Right:Ext.define(null,{extend:"Ext.data.schema.Role",left:false,side:"right",createGetter:function(){var b=this;return function(a,d){return b.doGetFK(this,a,d)}},createSetter:function(){var b=this;return function(e,a,g){return b.doSetFK(this,e,a,g)}},onDrop:function(l,n){var h=this,o=h.association.field,j=h.getAssociatedItem(l),m;if(h.inverse.owner){if(n){m=l.get(o.name);if(m||m===0){j=n.getEntry(h.cls,m).record;if(j){j.drop()}}}else{if(j){j.drop()}}}if(o){l.set(o.name,null)}l[h.getInstanceName()]=null;if(j){j[h.inverse.getInstanceName()]=null}},onValueChange:function(n,o,p){var q=this,m=q.getAssociatedItem(n),r=p||p===0,s=q.getInstanceName(),l=q.cls;n.changingKey=true;q.doSetFK(n,p);if(!r){n[s]=null}else{if(o&&l){n[s]=o.peekRecord(l,p)||undefined}}if(q.inverse.owner&&m){q.association.schema.queueKeyCheck(m,q)}n.changingKey=false},checkKeyForDrop:function(d){var c=this.inverse.getAssociatedItem(d);if(!c){d.drop()}},read:function(w,v,o,u){var r=this,n=r.callParent([w,v,o,u]),q=n.getRecords()[0],p=this.association.field,s=w.session,x;if(q){q[r.inverse.getInstanceName()]=w;w[r.getInstanceName()]=q;delete w.data[r.role];if(p){x=w.data[p.name];if(x!==q.id){w.data[p.name]=q.id;if(s){s.updateReference(w,p,q.id,x)}}}}}})});Ext.define("Ext.data.schema.ManyToOne",{extend:Ext.data.schema.Association,isManyToOne:true,isToOne:true,kind:"many-to-one",Left:Ext.define(null,{extend:"Ext.data.schema.Role",isMany:true,onDrop:function(o,q){var p=this,m=p.getAssociatedItem(o),u,r,s,n,v;if(m){u=m.removeAll();if(u&&p.inverse.owner){for(s=0,r=u.length;s<r;++s){u[s].drop()}}m.destroy();o[p.getStoreName()]=null}else{if(q){u=q.getRefs(o,p);if(u){for(v in u){u[v].drop()}}}}},processUpdate:function(p,u){var o=this,r=o.inverse.cls,q=u.R,v,n,m,s;if(q){for(v in q){n=p.peekRecord(r,v);if(n){s=p.getEntityList(o.cls,q[v]);m=o.getAssociatedItem(n);if(m){m.loadData(s);m.complete=true}else{n[o.getterName](null,null,s)}}else{p.onInvalidAssociationEntity(r,v)}}}},findRecords:function(p,o,u){var q=u,n=p.getRefs(o,this,true),v,w,s,r,x;if(!o.phantom){q=[];if(n){if(u){x={};for(s=0,r=u.length;s<r;++s){v=u[s];w=v.id;if(n[w]){q.push(v)}x[w]=true}}for(w in n){if(!x||!x[w]){q.push(n[w])}}}}return q},processLoad:function(g,h,j,l){var m=j;if(l){m=this.findRecords(l,h,j)}this.onLoadMany(h,m,l);return m},adoptAssociated:function(h,l){var o=this.getAssociatedItem(h),m,n,j;if(o){o.setSession(l);m=o.getData().items;for(n=0,j=m.length;n<j;++n){l.adopt(m[n])}}},createGetter:function(){var b=this;return function(m,l,h){var j=this.session,a=!!h;if(j){h=b.findRecords(j,this,h);if(!a&&(!h||!h.length)){h=null}}return b.getAssociatedStore(this,m,l,h,a)}},createSetter:null,onAddToMany:function(d,c){this.syncFK(c,d.getAssociatedEntity(),false)},onLoadMany:function(r,x,s){var p=this.inverse.getInstanceName(),A=r.getId(),q=this.association.field,v,u,y,z,w,B;if(q){for(v=0,u=x.length;v<u;++v){y=x[v];y[p]=r;if(q){B=q.name;w=y.data;z=w[B];if(z!==A){w[B]=A;if(s){s.updateReference(y,q,A,z)}}}}}},onRemoveFromMany:function(d,c){this.syncFK(c,d.getAssociatedEntity(),true)},read:function(s,z,p,x){var u=this,q=u.inverse.getInstanceName(),o=u.callParent([s,z,p,x]),r,y,v,w;if(o.getReadRoot()){r=s[u.getterName](null,null,o.getRecords());delete s.data[u.role];y=r.getData().items;for(w=0,v=y.length;w<v;++w){y[w][q]=s}}},syncFK:function(r,n,m){var o=this.association.getFieldName(),q=this.inverse.setterName,p=r.length,v=n.getId(),u,s;while(p-->0){s=r[p];u=!s.isEqual(v,s.get(o));if(u!==m){s.changingKey=true;if(q){s[q](m?null:n)}else{s.set(o,m?null:v)}s.changingKey=false}}}}),Right:Ext.define(null,{extend:"Ext.data.schema.Role",left:false,side:"right",onDrop:function(g,d){var e=this.association.field;if(e){g.set(e.name,null)}g[this.getInstanceName()]=null},createGetter:function(){var b=this;return function(a,d){return b.doGetFK(this,a,d)}},createSetter:function(){var b=this;return function(a,g,e){return b.doSetFK(this,a,g,e)}},checkMembership:function(j,h){var e=this.association.field,g;g=this.getSessionStore(j,h.get(e.name));if(g&&!g.contains(h)){g.add(h)}},onValueChange:function(C,y,F,G){var x=this,u=x.getInstanceName(),r=x.cls,D,s,v,B,A,w,z;if(!C.changingKey){D=F||F===0;if(!D){C[u]=null}if(y){v=x.getSessionStore(y,G);if(v){v.remove(C)}if(D){v=x.getSessionStore(y,F);if(v&&!v.isLoading()){v.add(C)}if(r){z=y.peekRecord(r,F)}C[u]=z||undefined}}else{s=C.joined;if(s){for(B=0,A=s.length;B<A;++B){v=s[B];if(v.isStore){w=v.getAssociatedEntity();if(w&&w.self===x.cls&&w.getId()===G){v.remove(C)}}}}}}if(x.owner&&F===null){x.association.schema.queueKeyCheck(C,x)}},checkKeyForDrop:function(c){var d=this.association.field;if(c.get(d.name)===null){c.drop()}},getSessionStore:function(j,e){var g=this.cls,h;if(g){h=j.peekRecord(g,e);if(h){return this.inverse.getAssociatedItem(h)}}},read:function(l,n,o,m){var h=this.callParent([l,n,o,m]),j=h.getRecords()[0];if(j){l[this.getInstanceName()]=j;delete l.data[this.role]}}})});Ext.define("E.overrides.ManyToOne",{override:"Ext.data.schema.ManyToOne",isManyToOne:true,isToOne:true,kind:"many-to-one",Left:Ext.define(null,{extend:"Ext.data.schema.Role",isMany:true,onDrop:function(o,q){var p=this,m=p.getAssociatedItem(o),u,r,s,n,v;if(m){u=m.removeAll();if(u&&p.inverse.owner){for(s=0,r=u.length;s<r;++s){u[s].drop()}}m.destroy();o[p.getStoreName()]=null}else{if(q){u=q.getRefs(o,p);if(u){for(v in u){u[v].drop()}}}}},processUpdate:function(p,u){var o=this,r=o.inverse.cls,q=u.R,v,n,m,s;if(q){for(v in q){n=p.peekRecord(r,v);if(n){s=p.getEntityList(o.cls,q[v]);m=o.getAssociatedItem(n);if(m){m.loadData(s);m.complete=true}else{n[o.getterName](null,null,s)}}else{p.onInvalidAssociationEntity(r,v)}}}},findRecords:function(w,v,A,q){var x=A,u=w.getRefs(v,this,true),s=this.association.field,r=s.name,B,C,z,y,D;if(!v.phantom){x=[];if(u||q){if(A){D={};for(z=0,y=A.length;z<y;++z){B=A[z];C=B.id;if(u&&u[C]){x.push(B)}else{if(q&&B.data[r]===undefined){x.push(B);B.data[r]=v.id;w.updateReference(B,s,v.id,undefined)}}D[C]=true}}if(u){for(C in u){if(!D||!D[C]){x.push(u[C])}}}}}return x},processLoad:function(g,h,j,l){var m=j;if(l){m=this.findRecords(l,h,j)}this.onLoadMany(h,m,l);return m},adoptAssociated:function(h,l){var o=this.getAssociatedItem(h),m,n,j;if(o){o.setSession(l);m=o.getData().items;for(n=0,j=m.length;n<j;++n){l.adopt(m[n])}}},createGetter:function(){var b=this;return function(m,l,h){var j=this.session,a=!!h;if(j){h=b.findRecords(j,this,h,true);if(!a&&(!h||!h.length)){h=null}}return b.getAssociatedStore(this,m,l,h,a)}},createSetter:null,onAddToMany:function(d,c){this.syncFK(c,d.getAssociatedEntity(),false)},onLoadMany:function(r,x,s){var p=this.inverse.getInstanceName(),A=r.getId(),q=this.association.field,v,u,y,z,w,B;if(q){for(v=0,u=x.length;v<u;++v){y=x[v];y[p]=r;if(q){B=q.name;w=y.data;z=w[B];if(z!==A){w[B]=A;if(s){s.updateReference(y,q,A,z)}}}}}},onRemoveFromMany:function(d,c){this.syncFK(c,d.getAssociatedEntity(),true)},read:function(s,z,p,x){var u=this,q=u.inverse.getInstanceName(),o=u.callParent([s,z,p,x]),r,y,v,w;if(o){r=s[u.getterName](null,null,o.getRecords());delete s.data[u.role];y=r.getData().items;for(w=0,v=y.length;w<v;++w){y[w][q]=s}}},syncFK:function(x,r,q){var s=this.association.getFieldName(),v=this.inverse,w=v.setterName,p=v.getInstanceName(),u=x.length,A=r.getId(),B,y,z;while(u-->0){y=x[u];B=!y.isEqual(A,y.get(s));z=q?null:r;if(B!==q){y.changingKey=true;y[w](z);y.changingKey=false}else{y[p]=z}}}}),Right:Ext.define(null,{extend:"Ext.data.schema.Role",left:false,side:"right",onDrop:function(g,d){var e=this.association.field;if(e){g.set(e.name,null)}g[this.getInstanceName()]=null},createGetter:function(){var b=this;return function(a,d){return b.doGetFK(this,a,d)}},createSetter:function(){var b=this;return function(a,g,e){return b.doSetFK(this,a,g,e)}},checkMembership:function(j,h){var e=this.association.field,g;g=this.getSessionStore(j,h.get(e.name));if(g&&!g.contains(h)){g.add(h)}},onValueChange:function(C,y,F,G){var x=this,u=x.getInstanceName(),r=x.cls,D,s,v,B,A,w,z;if(!C.changingKey){D=F||F===0;if(!D){C[u]=null}if(y){v=x.getSessionStore(y,G);if(v){v.remove(C)}if(D){v=x.getSessionStore(y,F);if(v&&!v.isLoading()){v.add(C)}if(r){z=y.peekRecord(r,F)}C[u]=z||undefined}}else{s=C.joined;if(s){for(B=0,A=s.length;B<A;++B){v=s[B];if(v.isStore){w=v.getAssociatedEntity();if(w&&w.self===x.cls&&w.getId()===G){v.remove(C)}}}}}}if(x.owner&&F===null){x.association.schema.queueKeyCheck(C,x)}},checkKeyForDrop:function(c){var d=this.association.field;if(c.get(d.name)===null){c.drop()}},getSessionStore:function(j,e){var g=this.cls,h;if(g){h=j.peekRecord(g,e);if(h){return this.inverse.getAssociatedItem(h)}}},read:function(l,n,o,m){var h=this.callParent([l,n,o,m]),j;if(h){j=h.getRecords()[0];if(j){l[this.getInstanceName()]=j;delete l.data[this.role]}}}})});Ext.define("Ext.data.schema.ManyToMany",{extend:Ext.data.schema.Association,isManyToMany:true,isToMany:true,kind:"many-to-many",Left:Ext.define(null,{extend:"Ext.data.schema.Role",isMany:true,digitRe:/^\d+$/,findRecords:function(u,s,A){var r=u.getMatrixSlice(this.inverse,s.id),z=r.members,v=[],q=this.cls,D,x,w,C,y,B;if(A){D={};for(x=0,w=A.length;x<w;++x){B=A[x];C=B.id;y=z[C];if(!(y&&y[2]===-1)){v.push(B)}D[C]=true}}for(C in z){y=z[C];if(!D||!D[C]&&(y&&y[2]!==-1)){B=u.peekRecord(q,C);if(B){v.push(B)}}}return v},processLoad:function(g,h,j,l){var m=j;if(l){m=this.findRecords(l,h,j);this.onAddToMany(g,m,true)}return m},processUpdate:function(p,u){var o=this,r=o.inverse.cls,q=u.R,v,n,m,s;if(q){for(v in q){n=p.peekRecord(r,v);if(n){s=p.getEntityList(o.cls,q[v]);m=o.getAssociatedItem(n);if(m){m.loadData(s);m.complete=true}else{n[o.getterName](null,null,s)}}else{p.onInvalidAssociationEntity(r,v)}}}o.processMatrixBlock(p,u.C,1);o.processMatrixBlock(p,u.D,-1)},checkMembership:function(w,v){var u=w.getMatrix(this.association,true),x,A,z,r,q,D,B,y,C,s;if(!u){return}x=this.left?u.right:u.left;A=x.inverse.role.cls;z=this.inverse;q=x.slices;if(q){r=q[v.id];if(r){B=r.members;for(D in B){y=B[D];if(y[2]!==-1){C=w.peekRecord(A,D);if(C){s=z.getAssociatedItem(C);if(s){s.matrixUpdate=1;s.add(v);s.matrixUpdate=0}}}}}}},onStoreCreate:function(g,l,j){var m=this,h;if(l){h=l.getMatrixSlice(m.inverse,j);h.attach(g);h.notify=m.onMatrixUpdate;h.scope=m}},processMatrixBlock:function(o,p,q){var l=this.inverse,j=this.digitRe,n,m;if(p){for(m in p){if(j.test(m)){m=parseInt(m,10)}n=o.getMatrixSlice(l,m);n.update(p[m],q)}}},createGetter:function(){var b=this;return function(m,l,h){var j=this.session,a;if(j){a=!!h;h=b.findRecords(j,this,h);if(!a&&!h.length){h=null}}return b.getAssociatedStore(this,m,l,h,a)}},onAddToMany:function(e,g,d){if(!e.matrixUpdate){e.matrixUpdate=1;e.matrix.update(g,d===true?0:1);e.matrixUpdate=0}},onRemoveFromMany:function(c,d){if(!c.matrixUpdate){c.matrixUpdate=1;c.matrix.update(d,-1);c.matrixUpdate=0}},read:function(h,m,o,l){var n=this,j=n.callParent([h,m,o,l]);if(j.getReadRoot()){h[n.getterName](null,null,j.getRecords());delete h.data[n.role]}},onMatrixUpdate:function(o,m,p){var l=o.store,j,n,q;if(l&&!l.loading&&!l.matrixUpdate){l.matrixUpdate=1;j=l.indexOfId(m);if(p<0){if(j>=0){l.remove([j])}}else{if(j<0){q=l.getSession().getEntry(this.type,m);n=q&&q.record;if(n){l.add(n)}}}l.matrixUpdate=0}},adoptAssociated:function(h,l){var n=this.getAssociatedItem(h),o,m,j;if(n){n.setSession(l);this.onStoreCreate(n,l,h.getId());o=n.getData().items;for(m=0,j=o.length;m<j;++m){l.adopt(o[m])}}}},function(){var b=this;Ext.ClassManager.onCreated(function(){Ext.data.schema.ManyToMany.prototype.Right=Ext.define(null,{extend:b,left:false,side:"right"})},null,"Ext.data.schema.ManyToMany")})});Ext.define("Ext.util.Inflector",{singleton:true,plurals:[[(/(quiz)$/i),"$1zes"],[(/^(ox)$/i),"$1en"],[(/([m|l])ouse$/i),"$1ice"],[(/(matr|vert|ind)ix|ex$/i),"$1ices"],[(/(x|ch|ss|sh)$/i),"$1es"],[(/([^aeiouy]|qu)y$/i),"$1ies"],[(/(hive)$/i),"$1s"],[(/(?:([^f])fe|([lr])f)$/i),"$1$2ves"],[(/sis$/i),"ses"],[(/([ti])um$/i),"$1a"],[(/(buffal|tomat|potat)o$/i),"$1oes"],[(/(bu)s$/i),"$1ses"],[(/(alias|status|sex)$/i),"$1es"],[(/(octop|vir)us$/i),"$1i"],[(/(ax|test)is$/i),"$1es"],[(/^(p)erson$/i),"$1eople"],[(/^(m)an$/i),"$1en"],[(/(.*)(child)(ren)?$/i),"$1$2ren"],[(/s$/i),"s"],[(/$/),"s"]],singulars:[[(/(address)$/i),"$1"],[(/(quiz)zes$/i),"$1"],[(/(matr)ices$/i),"$1ix"],[(/(vert|ind)ices$/i),"$1ex"],[(/^(ox)en/i),"$1"],[(/(alias|status)es$/i),"$1"],[(/(octop|vir)i$/i),"$1us"],[(/(cris|ax|test)es$/i),"$1is"],[(/(shoe)s$/i),"$1"],[(/(o)es$/i),"$1"],[(/(bus)es$/i),"$1"],[(/([m|l])ice$/i),"$1ouse"],[(/(x|ch|ss|sh)es$/i),"$1"],[(/(m)ovies$/i),"$1ovie"],[(/(s)eries$/i),"$1eries"],[(/([^aeiouy]|qu)ies$/i),"$1y"],[(/([lr])ves$/i),"$1f"],[(/(tive)s$/i),"$1"],[(/(hive)s$/i),"$1"],[(/([^f])ves$/i),"$1fe"],[(/(^analy)ses$/i),"$1sis"],[(/((a)naly|(b)a|(d)iagno|(p)arenthe|(p)rogno|(s)ynop|(t)he)ses$/i),"$1$2sis"],[(/([ti])a$/i),"$1um"],[(/(n)ews$/i),"$1ews"],[(/(p)eople$/i),"$1erson"],[(/s$/i),""]],uncountable:["sheep","fish","series","species","money","rice","information","equipment","grass","mud","offspring","deer","means"],singular:function(c,d){this.singulars.unshift([c,d])},plural:function(c,d){this.plurals.unshift([c,d])},clearSingulars:function(){this.singulars=[]},clearPlurals:function(){this.plurals=[]},isTransnumeral:function(b){return Ext.Array.indexOf(this.uncountable,b)!=-1},pluralize:function(l){if(this.isTransnumeral(l)){return l}var m=this.plurals,n=m.length,j,o,h;for(h=0;h<n;h++){j=m[h];o=j[0];if(o==l||(o.test&&o.test(l))){return l.replace(o,j[1])}}return l},singularize:function(l){if(this.isTransnumeral(l)){return l}var m=this.singulars,n=m.length,j,o,h;for(h=0;h<n;h++){j=m[h];o=j[0];if(o==l||(o.test&&o.test(l))){return l.replace(o,j[1])}}return l},classify:function(b){return Ext.String.capitalize(this.singularize(b))},ordinalize:function(h){var e=parseInt(h,10),j=e%10,g=e%100;if(11<=g&&g<=13){return h+"th"}else{switch(j){case 1:return h+"st";case 2:return h+"nd";case 3:return h+"rd";default:return h+"th"}}}},function(){var c={alumnus:"alumni",cactus:"cacti",focus:"foci",nucleus:"nuclei",radius:"radii",stimulus:"stimuli",ellipsis:"ellipses",paralysis:"paralyses",oasis:"oases",appendix:"appendices",index:"indexes",beau:"beaux",bureau:"bureaux",tableau:"tableaux",woman:"women",child:"children",man:"men",corpus:"corpora",criterion:"criteria",curriculum:"curricula",genus:"genera",memorandum:"memoranda",phenomenon:"phenomena",foot:"feet",goose:"geese",tooth:"teeth",antenna:"antennae",formula:"formulae",nebula:"nebulae",vertebra:"vertebrae",vita:"vitae"},d;for(d in c){if(c.hasOwnProperty(d)){this.plural(d,c[d]);this.singular(c[d],d)}}});Ext.define("Ext.data.schema.Namer",{mixins:[Ext.mixin.Factoryable],alias:"namer.default",isNamer:true,capitalize:function(b){return Ext.String.capitalize(b)},fieldRole:function(c){var d=c.match(this.endsWithIdRe,"");if(d){c=c.substr(0,c.length-(d[1]||d[2]).length)}return this.apply("uncapitalize",c)},idField:function(b){return this.apply("uncapitalize,singularize",b)+"Id"},instanceName:function(b){return this.apply("underscore",b)},multiRole:function(b){return this.apply("undotted,uncapitalize,pluralize",b)},pluralize:function(b){return Ext.util.Inflector.pluralize(b)},readerRoot:function(b){return this.apply("uncapitalize",b)},singularize:function(b){return Ext.util.Inflector.singularize(b)},storeName:function(b){return this.apply("underscore",b)},uncapitalize:function(b){return Ext.String.uncapitalize(b)},underscore:function(b){return"_"+b},uniRole:function(b){return this.apply("undotted,uncapitalize,singularize",b)},undotted:function(d){if(d.indexOf(".")<0){return d}var g=d.split("."),e=g.length;while(e-->1){g[e]=this.apply("capitalize",g[e])}return g.join("")},getterName:function(c){var d=c.role;if(c&&c.isMany){return d}return"get"+this.apply("capitalize",d)},inverseFieldRole:function(o,n,q,l){var p=this,m=p.apply(n?"uniRole":"multiRole",o),r=p.apply("pluralize",q),s=p.apply("undotted,pluralize",l);if(r.toLowerCase()!==s.toLowerCase()){m=q+p.apply("capitalize",m)}return m},manyToMany:function(j,l,h){var m=this,g=m.apply("undotted,capitalize,singularize",l)+m.apply("undotted,capitalize,pluralize",h);if(j){g=m.apply("capitalize",j+g)}return g},manyToOne:function(h,e,g,j){return this.apply("capitalize,singularize",g)+this.apply("capitalize",e)},matrixRole:function(g,d){var e=this.apply(g?"multiRole,capitalize":"multiRole",d);return g?g+e:e},oneToOne:function(h,e,g,j){return this.apply("undotted,capitalize,singularize",g)+this.apply("capitalize",e)},setterName:function(b){return"set"+this.apply("capitalize",b.role)},endsWithIdRe:/(?:(_id)|[^A-Z](Id))$/,cache:{},apply:function(q,s){var n=this,u=n.cache,m=u[s]||(u[s]={}),o=m[q],p,r,v;if(!o){if(q.indexOf(",")<0){o=n[q](s)}else{r=(v=q.split(",")).length;o=s;for(p=0;p<r;++p){o=n.apply(v[p],o)}}m[q]=o}return o}});Ext.define("Ext.data.schema.Schema",{mixins:[Ext.mixin.Factoryable],alias:"schema.default",aliasPrefix:"schema.",isSchema:true,type:"default",statics:{instances:{},get:function(p){var n=this,q=n.instances,m="default",j=p&&Ext.isString(p),l,o;if(p){if(p.isSchema){return p}m=j?p:(p.id||m)}if(!(l=q[m])){q[m]=l=n.create(p);l.id=m}else{if(p&&!j){o=Ext.merge({},l.config);Ext.merge(o,p);l.setConfig(o);l.config=o}}return l},lookupEntity:function(j){var n=null,l=this.instances,o,h,m;if(j){if(j.isEntity){n=j.self}else{if(Ext.isFunction(j)){n=j}else{if(Ext.isString(j)){n=Ext.ClassManager.get(j);if(n&&(!n.prototype||!n.prototype.isEntity)){n=null}if(!n){for(h in l){m=l[h];o=m.getEntity(j);if(o){if(n){Ext.Error.raise('Ambiguous entity name "'+j+'". Defined by schema "'+n.schema.type+'" and "'+h+'"')}n=o}}}if(!n){Ext.Error.raise('No such Entity "'+j+'".')}}}}}return n}},assocCount:0,entityCount:0,config:{defaultIdentifier:null,keyCheckDelay:10,namer:"default",namespace:null,proxy:{type:"ajax",url:"{prefix}/{entityName}"},urlPrefix:""},onClassExtended:function(e,g){var d=g.alias;if(d&&!g.type){if(!Ext.isString(d)){d=d[0]}e.prototype.type=d.substring(this.prototype.aliasPrefix.length)}},constructor:function(b){this.initConfig(b);this.clear()},applyDefaultIdentifier:function(b){return b&&Ext.Factory.dataIdentifier(b)},applyNamer:function(c){var d=Ext.data.schema.Namer.create(c);d.schema=this;return d},applyNamespace:function(c){if(c){var d=c.length-1;if(c.charAt(d)!=="."){c+="."}}return c},applyProxy:function(b){return Ext.util.ObjectTemplate.create(b)},eachAssociation:function(h,j){var e=this.associations,g;for(g in e){if(e.hasOwnProperty(g)){if(h.call(j,g,e[g])===false){break}}}},eachEntity:function(j,e){var h=this.entities,g;for(g in h){if(h.hasOwnProperty(g)){if(j.call(e,g,h[g].cls)===false){break}}}},getAssociation:function(d){var c=this.associations[d];return c||null},getEntity:function(d){var c=this.entityClasses[d]||this.entities[d];return(c&&c.cls)||null},getEntityName:function(g){var h=this.getNamespace(),j,e;if(typeof g==="string"){e=g}else{e=g.$className||null}if(e){if(h){j=h.length;if(e.substring(0,j)!==h){return e}}if(j){e=e.substring(j)}}return e},hasAssociations:function(b){b=b.entityName||b;return !!this.associationEntityMap[b]},hasEntity:function(d){var c=this.getEntityName(d);return !!(this.entities[c]||this.entityClasses[c])},addMatrix:function(B,I,L,M,x){var w=this,D=w.getNamer(),z=w.associations,O=w.entities,J=M.type,y=x.type,K=M.field||D.apply("idField",J),G=x.field||D.apply("idField",y),N=M.role||D.matrixRole(L,J),C=x.role||D.matrixRole(L,y),A,H,F;H=O[J]||(O[J]={cls:null,name:J,associations:{}});F=O[y]||(O[y]={cls:null,name:y,associations:{}});++w.assocCount;z[I]=A=new Ext.data.schema.ManyToMany({name:I,schema:w,definedBy:B,left:{cls:H.cls,type:J,role:N,field:K,associationKey:M.associationKey},right:{cls:F.cls,type:y,role:C,field:G,associationKey:x.associationKey}});H.associations[A.right.role]=A.right;F.associations[A.left.role]=A.left;if(H.cls){w.associationEntityMap[H.cls.entityName]=true}if(F.cls){w.associationEntityMap[F.cls.entityName]=true}w.decorateModel(A)},addReference:function(B,S,D,R){var y=this,G=y.getNamer(),P=y.entities,A=y.associations,H=B.entityName,O=D.association,C=!!D.legacy,K=D.child,I=D.parent,F=D.role,z=D.type||I||K,J=D.inverse,L=Ext.isString(J)?{role:J}:J,M=L&&L.role,Q,N;if(!F){if(C){F=G.apply("uncapitalize",z)}else{F=G.apply("fieldRole",S.name)}}if(!M){M=G.inverseFieldRole(H,R,F,z)}if(!O){if(R){O=G.oneToOne(B,M,z,F)}else{O=G.manyToOne(B,M,z,F)}}Q=P[z]||(P[z]={cls:null,name:z,associations:{}});N=R?Ext.data.schema.OneToOne:Ext.data.schema.ManyToOne;O=new N({name:O,owner:K?"left":(I?"right":null),definedBy:B,schema:y,field:S,nullable:S?!!S.allowBlank:true,legacy:D.legacy,left:{cls:B,type:H,role:M,extra:L},right:{cls:Q.cls,type:z,role:F,extra:D}});B.associations[F]=O.right;Q.associations[M]=O.left;if(S){S.reference=O.right;B.references.push(S)}++y.assocCount;y.associationEntityMap[H]=true;if(Q.cls){y.associationEntityMap[Q.cls.entityName]=true}A[O.name]=O;if(O.right.cls){y.decorateModel(O)}},privates:{addEntity:function(w){var r=this,s=r.entities,p=w.entityName,o=s[p],u=w.fields,x,q,v,y,z;if(!o){s[p]=o={name:p,associations:{}}}else{x=o.associations;for(z in x){x[z].inverse.cls=w;r.associationEntityMap[p]=true;r.decorateModel(x[z].association)}}o.cls=w;w.prototype.associations=w.associations=o.associations;r.entityClasses[w.$className]=o;++r.entityCount;for(v=0,y=u.length;v<y;++v){q=u[v];if(q.reference){r.addReferenceDescr(w,q)}}},addMatrices:function(l,j){var m=this,h,n,o;if(Ext.isString(j)){m.addMatrixDescr(l,null,j)}else{if(j[0]){for(h=0,n=j.length;h<n;++h){m.addMatrixDescr(l,null,j[h])}}else{for(o in j){m.addMatrixDescr(l,o,j[o])}}}},addMatrixDescr:function(v,z,u){var s=this,q=v.entityName,w=s.associations,r=s.getNamer(),x=u.left,o=u.right,p,y;if(Ext.isString(u)){if(u.charAt(0)==="#"){x={type:q};o={type:u.substring(1)}}else{if(u.charAt(p=u.length-1)==="#"){x={type:u.substring(0,p)};o={type:q}}else{if(r.apply("multiRole",q)<r.apply("multiRole",u)){x={type:q};o={type:u}}else{x={type:u};o={type:q}}}}}else{y=u.relation;if(x||(!o&&r.apply("multiRole",q)<r.apply("multiRole",u.type))){if(!x||x===true){x={type:q}}else{x=Ext.apply({type:q},x)}o=u}else{if(!o||o===true){o={type:q}}else{o=Ext.apply({type:q},o)}x=u}}if(!z){z=r.manyToMany(y,x.type,o.type)}if(!(z in w)){s.addMatrix(v,z,y,x,o)}},addReferenceDescr:function(e,h){var g=this,j=h.$reference;if(Ext.isString(j)){j={type:j}}else{j=Ext.apply({},j)}if(j.legacy){if(j.single){g.addLegacySingle(e,j)}else{g.addLegacyHasMany(e,j)}}else{g.addReference(e,h,j,h.unique)}},addPending:function(h,m,j,g){var l=this.pending;if(!l[h]){l[h]=[]}l[h].push([m,j,g])},addLegacyBelongsTo:function(d,c){this.addLegacySingle(d,c)},addLegacyHasOne:function(d,c){this.addLegacySingle(d,c)},addLegacySingle:function(m,j){var g,h,l;j=this.constructLegacyAssociation(m,j);j.single=true;h=j.type;g=j.foreignKey||(h.toLowerCase()+"_id");l=m.getField(g);if(l){l.$reference=j}this.addReference(m,l,j,true)},addLegacyHasMany:function(y,s){var r=this,w=r.entities,z=r.pending,B=s.associationKey,p,A,q,u,v,x;s=this.constructLegacyAssociation(y,s);A=s.type;u=w[A];if(u&&u.cls){s.type=y.entityName;v=s.foreignKey||(s.type.toLowerCase()+"_id");p=u.cls;q=p.getField(v);s.inverse=s||{};x=s.name;if(x||B){if(x){s.inverse.role=x}if(B){s.inverse.associationKey=B}}if(q){q.$reference=s}r.addReference(p,q,s,false)}else{if(!z[A]){z[A]=[]}z[A].push([y,s])}},constructLegacyAssociation:function(d,g){if(Ext.isString(g)){g={model:g}}g.legacy=true;g.type=this.getEntityName(g.model);var e=g.associatedName||g.name;if(e){g.role=e}return g},afterLegacyAssociations:function(h){var l=this.pending,o=h.entityName,m=l[o],n,j;if(m){for(n=0,j=m.length;n<j;++n){this.addLegacyHasMany.apply(this,m[n])}delete l[o]}},clear:function(d){var e=this,g=e.timer;delete e.setConfig;if(g){window.clearTimeout(g);e.timer=null}e.associations={};e.associationEntityMap={};e.entities={};e.entityClasses={};e.pending={};e.assocCount=e.entityCount=0;if(d){e.setNamespace(null)}},constructProxy:function(h){var e=this,j=Ext.Object.chain(h),g=e.getProxy();j.schema=e;j.prefix=e.getUrlPrefix();return g.apply(j)},applyDecoration:function(m){var o=this,l=m.inverse.cls,n=o.getNamer(),q,j,p;if(l&&!m.decorated){m.decorated=true;p=l.prototype;if(!(q=m.getterName)){m.getterName=q=n.getterName(m)}p[q]=m.createGetter();if(m.createSetter){if(!(j=m.setterName)){m.setterName=j=n.setterName(m)}p[j]=m.createSetter()}}},decorateModel:function(b){this.applyDecoration(b.left);this.applyDecoration(b.right)},processKeyChecks:function(p){var n=this,j=n.keyCheckQueue,m=n.timer,l,q,o;if(m){window.clearTimeout(m);n.timer=null}if(!j){return}do{j=n.keyCheckQueue;n.keyCheckQueue=[];for(q=0,l=j.length;q<l;++q){o=j[q];o.role.checkKeyForDrop(o.record)}}while(p&&n.keyCheckQueue.length)},queueKeyCheck:function(h,j){var m=this,g=m.keyCheckQueue,l=m.timer;if(!g){m.keyCheckQueue=g=[]}g.push({record:h,role:j});if(!l){m.timer=l=Ext.Function.defer(m.processKeyChecks,m.getKeyCheckDelay(),m)}},rankEntities:function(){var m=this,l=m.entities,j=Ext.Object.getKeys(l),n=j.length,o,h;m.nextRank=1;j.sort();for(h=0;h<n;++h){o=l[j[h]].cls;if(!o.rank){m.rankEntity(o)}}},rankEntity:function(m){var g=m.associations,j,l,h;for(h in g){l=g[h];if(!l.left&&l.association.field){j=l.cls;if(!j.rank){this.rankEntity(j)}}}m.rank=this.nextRank++}}});Ext.define("E.xforms.overrideSchema",{override:"Ext.data.schema.Schema",config:{asyncModel:null},constructor:function(b){this.clear();this.initConfig(b)},updateAsyncModel:function(j){var h=this,e,g;if(Ext.isArray(j)){for(e=0,g=j.length;e<g;e++){h.updateAsyncModel(j[e])}return}h.checkReady(j)},getModelManager:function(){return E.xforms.model.ModelManager},checkReady:function(p,m,o,q){var n=this.hasEntity(p);if(n){if(m){m.apply(o||this,q)}return true}var j=this.getModelManager(),l=j.checkReady(p,this,m,o,q);if(l===true){j.register(p,j.get(p))}return l}});Ext.define("Ext.ux.help.Schema",{alias:"schema.help",extend:Ext.data.schema.Schema,type:"help",namespace:"Ext.ux.help.data"});Ext.define("Ext.data.Error",{isError:true,$configPrefixed:false,config:{field:null,message:""},constructor:function(b){this.initConfig(b);this.msg=this.message}});Ext.define("Ext.data.ErrorCollection",{extend:Ext.util.MixedCollection,alternateClassName:"Ext.data.Errors",init:function(w){var s=this,v=w.fields,y=w.data,q,r,p,x,u,z,A,B;for(x=0,u=v.length;x<u;++x){r=v[x];B=r.name;A=y[B];if(r.validate&&!r.validate.$nullFn){q=s.length;z=r.validate(A,null,s);if(q===s.length&&z!==true){s.add(B,z)}}}return s},add:function(h,n){var o=this,j=Ext.data.field.Field.defaultInvalidMessage,l=h,m;if(Ext.isString(h)){l=new Ext.data.Error({field:h,message:n||j})}else{if(!(l.isError)){l=new Ext.data.Error({field:l.field||l.name,message:l.error||l.message||l.msg||j})}h=l.field}m=o.get(h);if(m){if(Ext.isArray(m)){m.push(l);return m}o.removeAtKey(h);l=[m,l];l.field=h;l=[l]}return o.callParent([l])},getKey:function(b){return b.field},isValid:function(){return this.length===0},getByField:function(c){var d=this.get(c);if(d&&!Ext.isArray(d)){d=[d]}return d||[]}});Ext.define("Ext.data.operation.Operation",{alternateClassName:"Ext.data.Operation",isOperation:true,config:{synchronous:false,url:"",params:undefined,callback:undefined,scope:undefined,resultSet:null,response:null,request:null,records:null,id:undefined,proxy:null,batch:null,recordCreator:null,internalCallback:null,internalScope:null},order:0,foreignKeyDirection:1,started:false,running:false,complete:false,success:undefined,exception:false,error:undefined,constructor:function(d){var c=d&&d.scope;this.initConfig(d);if(d){d.scope=c}if(c){this.setScope(c);this.initialConfig.scope=c}},getAction:function(){return this.action},execute:function(){var b=this;delete b.error;delete b.success;b.complete=b.exception=false;b.setStarted();return b.request=b.doExecute()},doExecute:Ext.emptyFn,abort:function(){var c=this,d=c.request;if(c.running&&d){c.getProxy().abort(d);c.request=null}},process:function(g,l,h,j){var m=this;j=j!==false;m.setResponse(h);m.setResultSet(g);if(g.getSuccess()){m.doProcess(g,l,h);m.setSuccessful(j)}else{if(j){m.setException(g.getMessage())}}},_commitSetOptions:{convert:true,commit:true},doProcess:function(u,A,B){var w=this,C=w._commitSetOptions,G=w.getRecords(),D=G.length,s=G[0].clientIdProperty,r=u.getRecords(),x=r?r.length:0,v,y,F,z;if(x&&s){v=Ext.Array.toValueMap(G,"id");for(z=0;z<x;++z){y=r[z];F=v[y[s]];if(F){delete v[F.id];delete y[s];F.set(y,C)}}for(z in v){v[z].commit()}}else{for(z=0;z<D;++z){F=G[z];if(x===0||!(y=r[z])){F.commit()}else{F.set(y,C)}}}},setStarted:function(){this.started=this.running=true},setCompleted:function(){this.complete=true;this.running=false;this.triggerCallbacks()},setSuccessful:function(b){this.success=true;if(b){this.setCompleted()}},setException:function(d){var c=this;c.exception=true;c.success=c.running=false;c.error=d;c.setCompleted()},triggerCallbacks:function(){var d=this,c=d.getInternalCallback();if(c){c.call(d.getInternalScope()||d,d);d.setInternalCallback(null);d.setInternalScope(null)}if(c=d.getCallback()){c.call(d.getScope()||d,d.getRecords(),d,d.wasSuccessful());d.setCallback(null);d.setScope(null)}},hasException:function(){return this.exception},getError:function(){return this.error},getRecords:function(){var b;return this._records||((b=this.getResultSet())?b.getRecords():null)},isStarted:function(){return this.started},isRunning:function(){return this.running},isComplete:function(){return this.complete},wasSuccessful:function(){return this.isComplete()&&this.success===true},allowWrite:function(){return true}});Ext.define("Ext.data.operation.Create",{extend:Ext.data.operation.Operation,alias:"data.operation.create",action:"create",isCreateOperation:true,order:10,config:{recordCreator:Ext.identityFn},doExecute:function(){return this.getProxy().create(this)}});Ext.define("Ext.data.operation.Destroy",{extend:Ext.data.operation.Operation,alias:"data.operation.destroy",action:"destroy",isDestroyOperation:true,order:30,foreignKeyDirection:-1,doProcess:function(){var g=this.getRecords(),e=g.length,d;for(d=0;d<e;++d){g[d].setErased()}},doExecute:function(){return this.getProxy().erase(this)},getRecordData:function(h,m){var j={},l=h.idField,g=this.getNameProperty()||"name";j[l[g]]=h.id;return j}});Ext.define("Ext.data.operation.Read",{extend:Ext.data.operation.Operation,alias:"data.operation.read",action:"read",isReadOperation:true,config:{filters:undefined,sorters:undefined,grouper:undefined,start:undefined,limit:undefined,page:undefined,addRecords:false},doExecute:function(){return this.getProxy().read(this)},doProcess:Ext.emptyFn,allowWrite:function(){return false}});Ext.define("Ext.data.operation.Update",{extend:Ext.data.operation.Operation,alias:"data.operation.update",action:"update",isUpdateOperation:true,order:20,config:{recordCreator:Ext.identityFn},doExecute:function(){return this.getProxy().update(this)}});Ext.define("Ext.data.SortTypes",{singleton:true,none:Ext.identityFn,stripCommasRe:/,/g,stripTagsRE:/<\/?[^>]+>/gi,asText:function(b){return(b!=null)?String(b).replace(this.stripTagsRe,""):"\x00"},asUCText:function(b){return(b!=null)?String(b).toUpperCase().replace(this.stripTagsRe,""):"\x00"},asUCString:function(b){return(b!=null)?String(b).toUpperCase():"\x00"},asDate:function(b){if(!b){return 0}if(Ext.isDate(b)){return b.getTime()}return Date.parse(String(b))},asFloat:function(d){var c=parseFloat(String(d).replace(this.stripCommasRe,""));return isNaN(c)?0:c},asInt:function(d){var c=parseInt(String(d).replace(this.stripCommasRe,""),10);return isNaN(c)?0:c}});Ext.define("Ext.data.validator.Validator",{mixins:[Ext.mixin.Factoryable],alias:"data.validator.base",isValidator:true,type:"base",statics:{all:{},register:function(d,e){var g=this.all;g[d.toUpperCase()]=g[d.toLowerCase()]=g[d]=e.prototype}},onClassExtended:function(d,c){if(c.type){Ext.data.validator.Validator.register(c.type,d)}},constructor:function(b){if(typeof b==="function"){this.fnOnly=true;this.validate=b}else{this.initConfig(b)}},validate:function(){return true},clone:function(){var b=this;if(b.fnOnly){return new Ext.data.validator.Validator(b.validate)}return new b.self(b.getCurrentConfig())}},function(){this.register(this.prototype.type,this)});Ext.define("Ext.data.field.Field",{mixins:[Ext.mixin.Factoryable],alternateClassName:"Ext.data.Field",alias:"data.field.auto",aliasPrefix:"data.field.",type:"auto",factoryConfig:{defaultProperty:"name"},isDataField:true,isField:true,allowBlank:true,allowNull:false,critical:false,defaultInvalidMessage:"This field is invalid",defaultValue:undefined,definedBy:null,depends:null,dependents:null,mapping:null,name:null,ordinal:undefined,persist:null,reference:null,unique:false,rank:null,stripRe:/[\$,%]/g,calculated:false,evil:false,identifier:false,onClassExtended:function(o,m){var l=m.sortType,n=o.prototype,j=n.validators,h=m.validators;if(l&&Ext.isString(l)){n.sortType=Ext.data.SortTypes[l]}if(h){if(!Ext.isArray(h)){h=[h]}delete m.validators;if(j){h=j.concat(h)}n.validators=h}},argumentNamesRe:/^function\s+\(\s*([^,\)\s]+)/,calculateRe:/[^\.a-z0-9_]([a-z_][a-z_0-9]*)\.([a-z_][a-z_0-9]*)/gi,constructor:function(C){var v=this,s=v.calculateRe,z,r,u,y,D,G,x,F,w,B,A;if(C){if(Ext.isString(C)){v.name=C}else{A=C.validators;if(A){delete C.validators;v.instanceValidators=A}Ext.apply(v,C)}}if(!v.allowNull){v.allowNull=!!v.reference}z=v.calculate;D=v.depends;if(z){v.convert=v.doCalculate;if(!D){if(!(D=z.$depends)){G={};w=z.toString();z.$depends=D=[];x=v.argumentNamesRe.exec(w);F=x?x[1]:"data";while((x=s.exec(w))){if(F===x[1]&&!G[B=x[2]]){G[B]=1;D.push(B)}}}v.depends=D}}u=v.defaultValue;if(v.convert){if(u!==undefined){v.defaultValue=u=v.convert(u)}v.calculated=r=v.convert.length>1;v.evil=r&&!D}if(v.persist===null){v.persist=!r}y=v.sortType;if(!v.sortType){v.sortType=Ext.data.SortTypes.none}else{if(Ext.isString(y)){v.sortType=Ext.data.SortTypes[y]}}if(D&&typeof D==="string"){v.depends=[D]}v.cloneDefaultValue=u!==undefined&&(Ext.isDate(u)||Ext.isArray(u)||Ext.isObject(u))},setModelValidators:function(b){this._validators=null;this.modelValidators=b},compileValidators:function(){var b=this;b._validators=[];b.constructValidators(b.validators);b.constructValidators(b.modelValidators);b.constructValidators(b.instanceValidators)},constructValidators:function(h){if(h){if(!(h instanceof Array)){h=[h]}var j=h.length,m=this._validators,g,l;for(g=0;g<j;++g){l=h[g];if(l.fn){l=l.fn}m.push(Ext.Factory.dataValidator(l))}}},collate:function(m,g){var l=this,h=m,j=g;if(l.sortType){h=l.sortType(h);j=l.sortType(j)}return(h===j)?0:((h<j)?-1:1)},compare:function(c,d){return(c===d)?0:((c<d)?-1:1)},isEqual:function(c,d){return this.compare(c,d)===0},convert:null,serialize:null,validate:function(o,s,p){var q=this,r="",n,x,v,w,u;if(!q._validators){q.compileValidators()}v=q._validators;for(u=0,w=v.length;u<w;++u){x=v[u];n=x.validate(o);if(n!==true){n=n||q.defaultInvalidMessage;if(p){p.add(q.name,n);r=r||n}else{if(s){if(r){r+=s}r+=n}else{r=n;break}}}}return r||true},doCalculate:function(d,c){return c?this.calculate(c.data):d},getName:function(){return this.name},getAllowBlank:function(){return this.allowBlank},getAllowNull:function(){return this.allowNull},getConvert:function(){return this.convert},getDefaultValue:function(){return this.defaultValue},getDepends:function(){return this.depends},getMapping:function(){return this.mapping},hasMapping:function(){var b=this.mapping;return !!(b||b===0)},getPersist:function(){return this.persist},getSortType:function(){return this.sortType},getType:function(){return"auto"},deprecated:{5.1:{methods:{getSortDir:function(){return this.sortDir}}}}});Ext.define("E.overrides.data.Field",{override:"Ext.data.Field",validate:function(p,v,q,u){var r=this,s="",o,z,x,y,w;if(!r._validators){r.compileValidators()}x=r._validators;for(w=0,y=x.length;w<y;++w){z=x[w];o=z.validate(p,u);if(o!==true){o=o||r.defaultInvalidMessage;if(q){s=s||o}else{if(v){if(s){s+=v}s+=o}else{s=o;break}}}}return s||true}});Ext.define("Ext.data.field.Boolean",{extend:Ext.data.field.Field,alias:["data.field.bool","data.field.boolean"],isBooleanField:true,trueRe:/^\s*(?:true|yes|on|1)\s*$/i,convert:function(b){if(typeof b==="boolean"){return b}if(this.allowNull&&(b===undefined||b===null||b==="")){return null}return this.trueRe.test(String(b))},getType:function(){return"bool"}});Ext.define("Ext.data.field.Date",{extend:Ext.data.field.Field,alias:"data.field.date",sortType:"asDate",isDateField:true,dateFormat:null,dateReadFormat:null,dateWriteFormat:null,compare:function(g,j){var l=g instanceof Date,m=j instanceof Date,h;if(m&&l){h=g.getTime()-j.getTime();if(h===0){h=0}else{h=h<0?-1:1}}else{if(l===m){h=0}else{h=l?1:-1}}return h},convert:function(g){if(!g){return null}if(g instanceof Date){return g}var e=this.dateReadFormat||this.dateFormat,d;if(e){return Ext.Date.parse(g,e)}d=Date.parse(g);return d?new Date(d):null},serialize:function(d){var e=null,g;if(Ext.isDate(d)){g=this.getDateWriteFormat();e=g?Ext.Date.format(d,g):d}return e},getDateFormat:function(){return this.dateFormat},getDateReadFormat:function(){return this.dateReadFormat},getDateWriteFormat:function(){var b=this;if(b.hasOwnProperty("dateWriteFormat")){return b.dateWriteFormat}if(b.hasOwnProperty("dateFormat")){return b.dateFormat}return b.dateWriteFormat||b.dateFormat||"timestamp"},getType:function(){return"date"}});Ext.define("Ext.data.field.Integer",{extend:Ext.data.field.Field,alias:["data.field.int","data.field.integer"],isNumeric:true,isIntegerField:true,numericType:"int",convert:function(e){if(typeof e==="number"){return this.getNumber(e)}var h=e===undefined||e===null||e==="",g=this.allowNull,j;if(h){j=g?null:0}else{j=this.parse(e);if(g&&isNaN(j)){j=null}}return j},getNumber:function(b){return parseInt(b,10)},getType:function(){return this.numericType},parse:function(b){return parseInt(String(b).replace(this.stripRe,""),10)},sortType:function(b){if(b==null){b=Infinity}return b}});Ext.define("Ext.data.field.Number",{extend:Ext.data.field.Integer,alias:["data.field.float","data.field.number"],isIntegerField:false,isNumberField:true,numericType:"float",getNumber:Ext.identityFn,parse:function(b){return parseFloat(String(b).replace(this.stripRe,""))}});Ext.define("Ext.data.field.String",{extend:Ext.data.field.Field,alias:"data.field.string",sortType:"asUCString",isStringField:true,convert:function(c){var d=this.allowNull?null:"";return(c===undefined||c===null)?d:String(c)},getType:function(){return"string"}});Ext.define("Ext.data.identifier.Generator",{"abstract":true,mixins:[Ext.mixin.Factoryable],alias:"data.identifier.default",factoryConfig:{defaultType:"sequential"},isGenerator:true,config:{id:null},constructor:function(e){var j=this,g,h;j.initConfig(e);h=j.getId();if(h){g=(e&&e.cache)||Ext.data.identifier.Generator.all;g[h]=j}},privates:{clone:function(c){var d=this.getInitialConfig();d=c?Ext.apply({},c,d):d;return new this.self(d)},statics:{all:{}}}},function(){var g=this,e=Ext.Factory,d=e.dataIdentifier;e.dataIdentifier=function(c){var a=Ext.isString(c)?c:(c&&c.id),b=a&&((c&&c.cache)||g.all)[a];return b||d(c)}});Ext.define("Ext.data.identifier.Sequential",{extend:Ext.data.identifier.Generator,alias:"data.identifier.sequential",config:{increment:1,prefix:null,seed:1},generate:function(){var d=this,e=d._seed,g=d._prefix;d._seed+=d._increment;return(g!==null)?g+e:e}});Ext.define("Ext.data.Model",{alternateClassName:"Ext.data.Record",isEntity:true,isModel:true,validIdRe:null,observableType:"record",constructor:function(D,x){var w=this,s=w.self,y=s.identifier,G=Ext.data.Model,v=G.identifier,u=w.idField.name,z,I,H,A,B,F,C;w.data=D||(D={});w.session=x||null;w.internalId=A=v.generate();if((z=D) instanceof Array){w.data=D={};C=w.getFields();B=Math.min(C.length,z.length);for(F=0;F<B;++F){D[C[F].name]=z[F]}}if(!(H=s.initializeFn)){s.initializeFn=H=G.makeInitializeFn(s)}if(!H.$nullFn){s.initializeFn(w)}if(!(w.id=I=D[u])&&I!==0){if(x){y=x.getIdentifier(s);I=y.generate()}else{if(v===y){I=A}else{I=y.generate()}}D[u]=w.id=I;w.phantom=true}if(x){x.add(w)}if(w.init&&Ext.isFunction(w.init)){w.init()}},editing:false,dirty:false,session:null,dropped:false,erased:false,clientIdProperty:null,evented:false,phantom:false,idProperty:"id",identifier:null,previousValues:undefined,proxy:undefined,schema:"default",versionProperty:null,generation:1,validationSeparator:null,convertOnSet:true,beginEdit:function(){var g=this,d=g.modified,e=g.previousValues;if(!g.editing){g.editing=true;g.editMemento={dirty:g.dirty,data:Ext.apply({},g.data),generation:g.generation,modified:d&&Ext.apply({},d),previousValues:e&&Ext.apply({},e)}}},cancelEdit:function(){var c=this,d=c.editMemento;if(d){c.editing=false;Ext.apply(c,d);c.editMemento=null}},endEdit:function(e,h){var j=this,g=j.editMemento;if(g){j.editing=false;j.editMemento=null;j.previousValues=g.previousValues;if(!e){if(!h){h=j.getModifiedFieldNames(g.data)}if(j.dirty||(h&&h.length)){j.callJoined("afterEdit",[h])}}}},getField:function(b){return this.self.getField(b)},getFields:function(){return this.self.getFields()},getFieldsMap:function(){return this.fieldsMap},getIdProperty:function(){return this.idProperty},getId:function(){return this.id},getObservableId:function(){return this.internalId},setId:function(b){this.set(this.idProperty,b)},getPrevious:function(c){var d=this.previousValues;return d&&d[c]},isModified:function(c){var d=this.modified;return !!(d&&d.hasOwnProperty(c))},getModified:function(c){var d;if(this.isModified(c)){d=this.modified[c]}return d},get:function(b){return this.data[b]},_singleProp:{},_rejectOptions:{convert:false,commit:true,silent:true},set:function(ar,W,aq){var S=this,au=S.self,Q=S.data,ak=S.modified,U=S.previousValues,ax=S.session,T=Ext.isString(ar),aw=(T?aq:W),ae=aw?aw.convert!==false:S.convertOnSet,ao=S.fieldsMap,Y=aw&&aw.silent,ac=aw&&aw.commit,ag=!(aw&&aw.refs===false)&&ax,ai=!(aw&&aw.dirty===false&&!ac),ad=null,aa,av,Z,O,P,aj,ap,al,R,ab,ah=0,V,X,am,an,af,at;if(T){at=S._singleProp;at[ar]=W}else{at=ar}if(!(am=au.rankedFields)){am=au.rankFields()}V=am.length;do{for(P in at){af=at[P];aa=Q[P];ap=S;av=ao[P];if(av){if(ae&&av.convert){af=av.convert(af,S)}ap=av;an=av.reference}else{an=null}if(ap.isEqual(aa,af)){continue}Q[P]=af;(ad||(ad=[])).push(P);(U||(S.previousValues=U={}))[P]=aa;if(an&&an.cls){if(ag){ax.updateReference(S,av,af,aa)}an.onValueChange(S,ax,af,aa)}ab=(R=av&&av.dependents)&&R.length;while(ab-->0){(al=R[ab]).dirty=true;ah=ah?Math.min(ah,al.rank):al.rank}if(!av||av.persist){if(ak&&ak.hasOwnProperty(P)){if(!ai||ap.isEqual(ak[P],af)){delete ak[P];S.dirty=-1}}else{if(ai){if(!ak){S.modified=ak={}}S.dirty=true;ak[P]=aa}}}if(P===S.idField.name){Z=true;aj=aa;X=af}}if(!ah){break}av=am[ah-1];av.dirty=false;if(T){delete at[ar]}else{at=S._singleProp;T=true}ar=av.name;at[ar]=Q[ar];ae=true;for(;ah<V;++ah){if(am[ah].dirty){break}}if(ah<V){++ah}else{ah=0}}while(1);if(S.dirty<0){S.dirty=false;for(O in ak){if(ak.hasOwnProperty(O)){S.dirty=true;break}}}if(T){delete at[ar]}++S.generation;if(Z){S.id=X;S.callJoined("onIdChanged",[aj,X])}if(ac){S.commit(Y,ad)}else{if(!Y&&!S.editing&&ad){S.callJoined("afterEdit",[ad])}}return ad},reject:function(e){var g=this,d=g.modified;g.rejecting=true;if(d){g.set(d,g._rejectOptions)}delete g.rejecting;g.clearState();if(!e){g.callJoined("afterReject")}},commit:function(h,n){var o=this,l=o.versionProperty,m=o.data,j;o.clearState();if(!o.rejecting){if(l&&!o.phantom&&!isNaN(m[l])){++m[l]}o.phantom=false}if(o.dropped){o.erased=j=true}if(!h){if(j){o.callJoined("afterErase")}else{o.callJoined("afterCommit",[n])}}},clearState:function(){var b=this;b.dirty=b.editing=false;b.editMemento=b.modified=null},drop:function(g){var l=this,m=l.associations,j=l.session,h;if(l.erased||l.dropped){return}l.dropped=true;if(m&&g!==false){for(h in m){m[h].onDrop(l,j)}}l.callJoined("afterDrop");if(l.phantom){l.setErased()}},join:function(d){var e=this,g=e.joined;if(!g){g=e.joined=[d]}else{if(!g.length){g[0]=d}else{Ext.Array.include(g,d)}}if(d.isStore){e.store=e.store||d}},unjoin:function(m){var n=this,l=n.joined,j=l&&l.length,h=n.store,o;if(j===1&&l[0]===m){l.length=0}else{if(j){Ext.Array.remove(l,m)}}if(h===m){h=null;if(l){for(o=0,j=l.length;o<j;++o){m=l[o];if(m.isStore){h=m;break}}}n.store=h}},clone:function(h){var j=this,e=j.modified,g=j.copy(j.id,h);if(e){g.modified=Ext.apply({},e)}g.dirty=j.dirty;g.dropped=j.dropped;g.phantom=j.phantom;return g},copy:function(o,l){var n=this,m=Ext.apply({},n.data),h=n.idProperty,j=n.self;if(o||o===0){m[h]=o}else{if(o===null){delete m[h]}}return new j(m,l)},getProxy:function(){return this.self.getProxy()},getValidation:function(d){var g=this,e=g.validation;if(!e){g.validation=e=new Ext.data.Validation();e.attach(g)}if(d===true||(d!==false&&e.syncGeneration!==g.generation)){e.refresh(d)}return e},validate:function(){return new Ext.data.ErrorCollection().init(this)},isValid:function(){var b=this.getValidation();return !b.dirty},toUrl:function(){var c=this.$className.split("."),d=c[c.length-1].toLowerCase();return d+"/"+this.getId()},erase:function(d){var c=this;c.erasing=true;c.drop();delete c.erasing;return c.save(d)},setErased:function(){this.erased=true;this.callJoined("afterErase")},getChanges:function(){return this.getData(this._getChangesOptions)},getCriticalFields:function(){var d=this.self,c=d.criticalFields;if(!c){d.rankFields();c=d.criticalFields}return c},getAssociatedData:function(p){var s=this,A=s.associations,r,w,q,u,z,B,v,x,y;p=p||{};s.$gathering=1;for(y in A){x=A[y];q=x.getAssociatedItem(s);if(!q||q.$gathering){continue}if(q.isStore){q.$gathering=1;u=q.getData().items;B=u.length;z=[];for(w=0;w<B;++w){v=u[w];r=!v.$gathering;v.$gathering=1;z.push(v.getData(r));delete v.$gathering}delete q.$gathering}else{z=q.getData(true)}p[y]=z}delete s.$gathering;return p},getData:function(K){var z=this,A={},J=(K===true)?z._getAssociatedOptions:(K||A),F=z.data,y=J.associated,n=J.changes,w=n&&J.critical,B=n?z.modified:F,C=z.fieldsMap,D=J.persist,L=J.serialize,H,x,G,I,M;if(B){for(I in B){M=F[I];x=C[I];if(x){if(D&&!x.persist){continue}if(L&&x.serialize){M=x.serialize(M,z)}}A[I]=M}}if(w){H=z.self.criticalFields||z.getCriticalFields();for(G=H.length;G-->0;){I=(x=H[G]).name;if(!(I in A)){M=F[I];if(L&&x.serialize){M=x.serialize(M,z)}A[I]=M}}}if(y){z.getAssociatedData(A)}return A},getTransientFields:function(){var d=this.self,c=d.transientFields;if(!c){d.rankFields();c=d.transientFields}return c},isLoading:function(){return !!this.loadOperation},abort:function(){var b=this.loadOperation;if(b){b.abort()}},load:function(l){l=Ext.apply({},l);var p=this,q=l.scope||p,s=p.getProxy(),n=l.callback,m=p.loadOperation,o=p.getId(),r;if(m){r=m.extraCalls;if(!r){r=m.extraCalls=[]}r.push(l);return m}l.id=o;l.recordCreator=function(d,b,a){var c=p.session;if(a){a.recordCreator=c?c.recordCreator:null}p.set(d,p._commitOptions);return p};l.internalCallback=function(j){var d=j.wasSuccessful()&&j.getRecords().length>0,c=p.loadOperation,g=c.extraCalls,a=[p,j],e=[p,j,d],h,b;p.loadOperation=null;if(d){Ext.callback(l.success,q,a)}else{Ext.callback(l.failure,q,a)}Ext.callback(n,q,e);if(g){for(h=0,b=g.length;h<b;++h){l=g[h];if(d){Ext.callback(l.success,q,a)}else{Ext.callback(l.failure,q,a)}Ext.callback(l.callback,q,e)}}p.callJoined("afterLoad")};delete l.callback;p.loadOperation=m=s.createOperation("read",l);m.execute();return m},save:function(m){m=Ext.apply({},m);var p=this,r=p.phantom,v=p.dropped,s=v?"destroy":(r?"create":"update"),n=m.scope||p,o=m.callback,q=p.getProxy(),u;m.records=[p];m.internalCallback=function(a){var c=[p,a],b=a.wasSuccessful();if(b){Ext.callback(m.success,n,c)}else{Ext.callback(m.failure,n,c)}c.push(b);Ext.callback(o,n,c)};delete m.callback;u=q.createOperation(s,m);if(v&&r){u.setResultSet(Ext.data.reader.Reader.prototype.nullResultSet);p.setErased();u.setSuccessful(true)}else{u.execute()}return u},inheritableStatics:{addFields:function(b){this.replaceFields(b)},replaceFields:function(u,x){var s=this,B=s.prototype,y=Ext.data.field.Field,A=s.fields,v=s.fieldsMap,D=s.fieldOrdinals,r,C,F,z,G,w;if(x===true){A.length=0;s.fieldsMap=v={};s.fieldOrdinals=D={}}else{if(x){for(C=x.length;C-->0;){G=x[C];if(G in D){delete D[G];delete v[G]}}for(C=0,z=A.length;C<z;++C){G=(r=A[C]).name;if(G in D){D[G]=C}else{A.splice(C,1);--C;--z}}}}for(C=0,z=u?u.length:0;C<z;C++){G=(r=u[C]).name;if(!(G in D)){D[G]=w=A.length;A.push(r=y.create(r));v[G]=r;r.ordinal=w;r.definedBy=r.owner=this}}s.idField=B.idField=F=v[B.idProperty];F.allowNull=F.critical=F.identifier=true;F.defaultValue=null;s.initializeFn=s.rankedFields=s.transientFields=s.criticalFields=null},removeFields:function(b){this.replaceFields(null,b)},getIdFromData:function(j){var e=this,g=e.idField,h=g.calculated?(new e(j)).id:j[g.name];return h},createWithId:function(j,d,m){var l=d,h=this;if(j||j===0){l={};if(d){Ext.apply(l,d)}l[h.idField.name]=j}return new h(l,m)},getFields:function(){return this.fields},getFieldsMap:function(){return this.fieldsMap},getField:function(b){return this.fieldsMap[b]||null},getProxy:function(){var d=this,e=d.proxy,g;if(!e){e=d.proxyConfig;if(!e||!e.isProxy){if(typeof e==="string"){e={type:e}}g=d.schema.constructProxy(d);e=e?Ext.merge(g,e):g}e=d.setProxy(e)}return e},setProxy:function(d){var g=this,e;if(d){if(!d.isProxy){d=Ext.Factory.proxy(d)}else{e=d.getModel();if(e&&e!==g){d=d.clone()}}d.setModel(g)}return(g.prototype.proxy=g.proxy=d)},load:function(j,h,m){var g={},l;g[this.prototype.idProperty]=j;l=new this(g,m);l.load(h);return l}},deprecated:{5:{methods:{hasId:null,markDirty:null,setDirty:null,eachStore:function(l,n){var m=this,h=m.stores,j=h.length,o;for(o=0;o<j;++o){l.call(n,h[o])}},join:function(j){var e=this,g=e.stores,h=e.joined;if(!h){h=e.joined=[j]}else{h.push(j)}if(j.isStore){e.store=e.store||j;if(!g){g=e.stores=[]}g.push(j)}},unjoin:function(j){var e=this,g=e.stores,h=e.joined;if(h.length===1){h.length=0}else{Ext.Array.remove(h,j)}if(j.isStore){Ext.Array.remove(g,j);e.store=g[0]||null}}},properties:{persistenceProperty:null},inheritableStatics:{methods:{setFields:null}}}},privates:{_commitOptions:{commit:true},_getChangesOptions:{changes:true},_getAssociatedOptions:{associated:true},copyFrom:function(u){var v=this,x=v.fields,q=x.length,A=[],s,z=0,w,y,p=v.idProperty,B,r;if(u){w=v.data;y=u.data;for(;z<q;z++){s=x[z];B=s.name;if(B!==p){r=y[B];if(r!==undefined&&!v.isEqual(w[B],r)){w[B]=r;A.push(B)}}}if(v.phantom&&!u.phantom){v.beginEdit();v.setId(u.getId());v.endEdit(true);v.commit(true)}}return A},callJoined:function(r,s){var p=this,n=p.joined,q=p.session,v,u,o,m;if(!n&&!q){return}if(s){s.unshift(p)}else{s=[p]}if(n){for(v=0,u=n.length;v<u;++v){m=n[v];if(m&&(o=m[r])){o.apply(m,s)}}}o=q&&q[r];if(o){o.apply(q,s)}},setSession:function(b){this.session=b;if(b){b.add(this)}},getModifiedFieldNames:function(j){var n=this,m=n.data,h=[],l=j||n.editMemento.data,o;for(o in m){if(m.hasOwnProperty(o)){if(!n.isEqual(m[o],l[o],o)){h.push(o)}}}return h},isEqual:function(g,h,j){var e;if(j){e=j.isField?j:this.fieldsMap[j];if(e){return e.compare(g,h)===0}}if(g instanceof Date&&h instanceof Date){return g.getTime()===h.getTime()}return g===h},statics:{EDIT:"edit",REJECT:"reject",COMMIT:"commit",rankFields:function(){var o=this,p=o.prototype,u=o.fields,w=u.length,r=[],x=[],s=[],n,q,v;o.rankedFields=p.rankedFields=r;o.criticalFields=p.criticalFields=x;o.transientFields=p.transientFields=s;for(v=0;v<w;++v){q=u[v];if(q.critical){x.push(q)}if(!q.persist){s.push(q)}if(q.evil){(n||(n=[])).push(q)}else{if(!q.depends){r.push(q);q.rank=r.length}}}for(v=0;v<w;++v){if(!(q=u[v]).rank&&!q.evil){o.topoAdd(q)}}if(n){for(v=0,w=n.length;v<w;++v){r.push(q=n[v]);q.rank=r.length}}return r},topoAdd:function(m){var j=this,n=m.depends,l=n?n.length:0,p=j.rankedFields,q,o;for(q=0;q<l;++q){o=j.fieldsMap[n[q]];(o.dependents||(o.dependents=[])).push(m);if(!o.rank){j.topoAdd(o)}}p.push(m);m.rank=p.length},initFields:function(A,T,H){var M=Ext.data.field.Field,R=A.fields,G=[],L={},P={},U=[],B=H.fields,K=A.versionProperty||H.versionProperty,J=T.idProperty,O,S,D,Q,z,F,N,C,I;T.fields=H.fields=G;T.fieldOrdinals=H.fieldOrdinals=L;T.fieldsMap=H.fieldsMap=P;T.references=H.references=U;if(B){for(D=0,Q=B.length;D<Q;++D){G[D]=S=Ext.Object.chain(B[D]);S.dependents=null;S.owner=T;L[z=S.name]=D;P[z]=S;S.rank=null;if(S.generated){C=S}}}if(R){delete A.fields;for(D=0,Q=R.length;D<Q;++D){S=R[D];N=S.reference;if(N&&typeof N!=="string"){N=Ext.merge({},N)}S.$reference=N;S=M.create(R[D]);z=S.name;F=L[z];if(F===undefined){L[z]=F=G.length}P[z]=S;G[F]=S;S.definedBy=S.owner=T;S.ordinal=F;if(z===J){I=true}}}O=P[J];if(!O){if(C&&C.generated){F=C.ordinal}else{F=G.length}O=new M(J);G[F]=O;L[J]=F;P[J]=O;O.definedBy=T;O.ordinal=F;O.generated=true}else{if(I&&C&&C.generated){Ext.Array.remove(G,C);delete P[C.name];delete L[C.name];for(D=0,Q=G.length;D<Q;++D){S=G[D];G.ordinal=D;L[S.name]=D}}}O.allowNull=O.critical=O.identifier=true;O.defaultValue=null;T.idField=H.idField=O;if(K){S=P[K];if(!S){F=G.length;S=new M({name:K,type:"int"});G[F]=S;L[K]=F;P[K]=S;S.definedBy=T;S.ordinal=F;S.generated=true}S.defaultValue=1;S.critical=true}},initValidators:function(z,r,x){var u=x.validators,B,v,D,w,A,C,y,F,G,s;if(u){B={};for(v in u){B[v]=Ext.Array.clone(u[v])}}w=z.validators||z.validations;if(w){delete z.validators;B=B||{};if(Ext.isArray(w)){D={};for(A=0,C=w.length;A<C;++A){s=w[A];F=s.field;if(!D[F]){D[F]=[]}s=s.fn||s;D[F].push(s)}w=D}for(F in w){y=w[F];if(!Ext.isArray(y)){y=[y]}G=B[F];if(B[F]){Ext.Array.push(G,y)}else{B[F]=y}}}if(B){for(F in B){v=r.getField(F);if(v){v.setModelValidators(B[F])}}}r.validators=x.validators=B},initAssociations:function(x,u,p){var y=u.associations,w=u.belongsTo,r=u.hasMany,o=u.hasOne,q=u.manyToMany,v,z,s;delete u.manyToMany;if(q){x.addMatrices(p,q)}delete u.associations;delete u.belongsTo;delete u.hasMany;delete u.hasOne;if(y){y=Ext.isArray(y)?y:[y];for(v=0,z=y.length;v<z;++v){s=y[v];switch(s.type){case"belongsTo":x.addLegacyBelongsTo(p,s);break;case"hasMany":x.addLegacyHasMany(p,s);break;case"hasOne":x.addLegacyHasOne(p,s);break}}}if(w){w=Ext.isArray(w)?w:[w];for(v=0,z=w.length;v<z;++v){x.addLegacyBelongsTo(p,w[v])}}if(r){r=Ext.isArray(r)?r:[r];for(v=0,z=r.length;v<z;++v){x.addLegacyHasMany(p,r[v])}}if(o){o=Ext.isArray(o)?o:[o];for(v=0,z=o.length;v<z;++v){x.addLegacyHasOne(p,o[v])}}x.afterLegacyAssociations(p)},initIdentifier:function(l,j,m){var h=l.identifier||l.idgen,n=m.identifier||j.schema._defaultIdentifier,o;if(h){delete l.identifier;delete l.idgen;h=Ext.Factory.dataIdentifier(h)}else{if(n){if(n.clone&&!n.getId()){h=n.clone()}else{if(n.isGenerator){h=n}else{h=Ext.Factory.dataIdentifier(n)}}}}j.identifier=m.identifier=h;if(!h){o=j.entityName;if(!o){o=Ext.id(null,"extModel")}j.identifier=Ext.Factory.dataIdentifier({type:"sequential",prefix:o+"-"})}},findValidator:function(s,r,l){var p=l.type||l,n=s[r],m,q,o;if(n){for(q=0,m=n.length;q<m;++q){o=n[q];if(o.type===p){return o}}}return null},makeInitializeFn:function(K){var J=["var "],B=["\nreturn function (e) {\n    var data = e.data, v;\n"],F=[],w=0,z,A,y,u,G,x,C,D,v,H,I;if(!(C=K.rankedFields)){C=K.rankFields()}for(H=0,I=C.length;H<I;++H){x=C[H];F[H]=D="f"+H;y=x.convert;if(H){J.push(",  \n    ")}J.push(D," = $fields["+H+"]");if((v=(x.defaultValue!==undefined))||y){u='data["'+x.name+'"]';++w;z=A="";if(x.cloneDefaultValue){z="Ext.clone(";A=")"}B.push("\n");if(y&&v){B.push("    v = ",u,";\n    if (v !== undefined) {\n        v = ",D,".convert(v, e);\n    }\n    if (v === undefined) {\n        v = ",z,D,".defaultValue",A,";\n    }\n    ",u," = v;")}else{if(y){B.push("    v = ",D,".convert(",u,",e);\n    if (v !== undefined) {\n        ",u," = v;\n    }\n")}else{if(v){B.push("    if (",u," === undefined) {\n        ",u," = ",z,D,".defaultValue",A,";\n    }\n")}}}}}if(!w){return Ext.emptyFn}J.push(";\n");J.push.apply(J,B);J.push("}");J=J.join("");G=new Function("$fields",J);return G(C)}}}},function(){var h=this,j=h.prototype,e=Ext.data.schema.Schema,g;h.proxyConfig=j.proxy;delete j.proxy;h.fields=[];h.fieldsMap=j.fieldsMap={};h.schema=j.schema=e.get(j.schema);j.idField=new Ext.data.field.Field(j.idProperty);h.identifier=new Ext.data.identifier.Sequential();h.onExtended(function(q,a){var b=q.prototype,r=a.schema,s=b.superclass.self,c,d,p;q.idProperty=a.idProperty||b.idProperty;if(r){delete a.schema;c=e.get(r)}else{if(!(c=b.schema)){c=g||(g=e.get("default"))}}q.rankFields=h.rankFields;q.topoAdd=h.topoAdd;b.schema=q.schema=c;if(!(d=a.entityName)){b.entityName=d=c.getEntityName(q)}q.entityName=d;q.fieldExtractors={};h.initIdentifier(a,q,b);h.initFields(a,q,b);h.initValidators(a,q,b);q.fields.items=q.fields;if(d){c.addEntity(q);h.initAssociations(c,a,q)}p=a.proxy;if(p){delete a.proxy}else{if(s!==h){p=s.proxyConfig||s.proxy}}q.proxyConfig=p})});Ext.define("E.xforms.overrideModel",{override:"Ext.data.Model",constructor:function(l,j,g,h){var m=this;if(h){m.raw=h}if(g){m.data=l||(l={});m.initConfig(g)}return m.callParent([l,j])},setDescription:function(b){this.set("qtip",b)},setTooltip:function(b){this.set("qtip",b)},getLookups:function(n,m){var o={},j=n?n:this.lookup?this.lookup.map:[],l;if(m){for(var h in j){if(m(l=this.get(j[h]))){o[h]=l}}}else{for(var h in j){o[h]=this.get(j[h])}}return o},getLabel:function(){return this.fieldPara?this.data[this.fieldPara.displayField]:this.getLookup("label")},getDescription:function(){return this.fieldPara?this.data[this.fieldPara.descField]:this.getLookup("description")},getRecordData:function(j,l,m){var n=m?"":{},p=Ext.getApp().xml,q,o;l=l||this.fields.items;Ext.forEach(l,function(a){o=j.xpath("string("+(a.mapping||a.name)+")");if(o){if(m){n+=p.wrap(a.name,o)}else{n[a.name]=o}}});return m?p.wrap("root",n):n}},function(){var b=this.prototype;b.getLookup=b.get;b.setLookup=b.set});Ext.define("Ext.ux.help.data.Help",{schema:"help",url:"data/ux-help/ux-help.html",extend:Ext.data.Model,fields:[{name:"disabled",type:"bool",defaultValue:false},{name:"isRoot",tyle:"bool",defaultValue:true},{name:"cmpId"},{name:"clsName"},{name:"title"},{name:"helpContentId",reference:"HelpContent"},{name:"selector"},{name:"type"},{name:"orderOffset",defaultValue:0,type:"number"},{name:"order",type:"number"},{name:"parentHelpId",allowNull:true,reference:"Help"}],setDisabled:function(){this.set("disabled",true)},setEnabled:function(){this.set("disabled",false)}});Ext.define("Ext.data.ResultSet",{isResultSet:true,$configPrefixed:false,config:{loaded:true,count:null,total:null,success:false,records:null,message:null,readRoot:false},constructor:function(b){this.initConfig(b)},applyCount:function(b){if(!b&&b!==0){return this.getRecords().length}return b},updateRecords:function(b){this.setCount(b.length)}});Ext.define("Ext.data.reader.Reader",{alternateClassName:["Ext.data.Reader","Ext.data.DataReader"],mixins:[Ext.mixin.Observable,Ext.mixin.Factoryable],alias:"reader.base",factoryConfig:{defaultType:null},config:{totalProperty:"total",successProperty:"success",rootProperty:"",messageProperty:"",typeProperty:"",implicitIncludes:true,readRecordsOnFailure:true,model:null,proxy:null,transform:null},isReader:true,constructor:function(d){if(d&&d.hasOwnProperty("root")){d=Ext.apply({},d);d.rootProperty=d.root;delete d.root}var c=this;c.duringInit=1;c.mixins.observable.constructor.call(c,d);--c.duringInit;c.buildExtractors()},applyModel:function(b){return Ext.data.schema.Schema.lookupEntity(b)},applyTransform:function(b){if(b){if(Ext.isFunction(b)){b={fn:b}}return b.fn.bind(b.scope||this)}return b},forceBuildExtractors:function(){if(!this.duringInit){this.buildExtractors(true)}},updateTotalProperty:function(){this.forceBuildExtractors()},updateMessageProperty:function(){this.forceBuildExtractors()},updateSuccessProperty:function(){this.forceBuildExtractors()},read:function(e,h){var j,g;if(e){if(e.responseText){g=this.getResponseData(e);if(g&&g.__$isError){return new Ext.data.ResultSet({total:0,count:0,records:[],success:false,message:g.msg})}else{j=this.readRecords(g,h)}}else{j=this.readRecords(e,h)}}return j||this.nullResultSet},getNullResultSet:function(){return this.nullResultSet},createReadError:function(b){return{__$isError:true,msg:b}},readRecords:function(v,x){var u=this,p,w,y,r,s,q,o,z;z=this.getTransform();if(z){v=z(v)}u.buildExtractors();u.rawData=v;v=u.getData(v);p=true;w=0;y=[];if(u.getSuccessProperty()){q=u.getSuccess(v);if(q===false||q==="false"){p=false}}if(u.getMessageProperty()){o=u.getMessage(v)}if(u.getReadRecordsOnFailure()||p){r=Ext.isArray(v)?v:u.getRoot(v);if(r){s=r.length}if(u.getTotalProperty()){q=parseInt(u.getTotal(v),10);if(!isNaN(q)){s=q}}if(r){y=u.extractData(r,x);w=y.length}}return new Ext.data.ResultSet({total:s||w,count:w,records:y,success:p,message:o,readRoot:!!r})},extractData:function(u,C){var w=this,B=C&&C.model?Ext.data.schema.Schema.lookupEntity(C.model):w.getModel(),F=B.schema,s=F.hasAssociations(B)&&w.getImplicitIncludes(),v=w.getFieldExtractorInfo(B.fieldExtractors),I=u.length,G=new Array(I),y=w.getTypeProperty(),x,H,D,z,A;if(!I&&Ext.isObject(u)){u=[u];I=1}for(A=0;A<I;A++){z=u[A];if(!z.isModel){H=z;if(y&&(D=w.getChildType(F,H,y))){x=D.getProxy().getReader();z=x.extractRecord(H,C,D,F.hasAssociations(D)&&x.getImplicitIncludes(),x.getFieldExtractorInfo(D.fieldExtractors))}else{z=w.extractRecord(H,C,B,s,v)}if(z.isModel){z.raw=H}}if(z.onLoad){z.onLoad()}G[A]=z}return G},getChildType:function(e,j,h){var g;switch(typeof h){case"string":return e.getEntity(j[h]);case"object":g=h.namespace;return e.getEntity((g?g+".":"")+j[h.name]);case"function":return e.getEntity(h(j))}},extractRecordData:function(j,h){var e=h&&h.model?Ext.data.schema.Schema.lookupEntity(h.model):this.getModel(),g=this.getFieldExtractorInfo(e.fieldExtractors);return this.extractRecord(j,h,e,false,g)},extractRecord:function(v,u,s,m,o){var p=this,q=(u&&u.recordCreator)||p.defaultRecordCreator,n,r;n=p.extractModelData(v,o);r=q.call(p,n,s||p.getModel(),u);if(m&&r.isModel){p.readAssociated(r,v,u)}return r},getFieldExtractorInfo:function(g){if(!g){return}var e=this.$className,d=g[e];if(d===undefined){g[e]=d=this.buildFieldExtractors()}return d},buildFieldExtractors:function(){var q=this.getFields(),p=q.length,s=[],n=[],u=null,w=0,o,x,r,v;for(r=0;r<p;++r){o=q[r];v=this.createFieldAccessor(o);if(v){x=o.name;s.push("val = extractors["+w+"](raw); if (val !== undefined) { data['"+x+"'] = val; }");n.push(v);++w}}if(s.length){u={extractors:n,fn:new Function("raw","data","extractors","var val;"+s.join(""))}}return u},defaultRecordCreator:function(d,g){var e=new g(d);e.phantom=false;return e},getModelData:function(b){return{}},extractModelData:function(e,g){var h=this.getModelData(e),j;if(g){j=g.fn;j(e,h,g.extractors)}return h},readAssociated:function(j,m,n){var o=j.associations,h,l;for(h in o){if(o.hasOwnProperty(h)){l=o[h];if(l.cls){l.read(j,m,this,n)}}}},getFields:function(){return this.getModel().fields},getData:Ext.identityFn,getRoot:Ext.identityFn,getResponseData:function(b){},onMetaChange:function(m){var n=this,j=m.fields,q,o,l,p;n.metaData=m;if(m.root){n.setRootProperty(m.root)}if(m.totalProperty){n.setTotalProperty(m.totalProperty)}if(m.successProperty){n.setSuccessProperty(m.successProperty)}if(m.messageProperty){n.setMessageProperty(m.messageProperty)}l=m.clientIdProperty;if(j){o=Ext.define(null,{extend:"Ext.data.Model",fields:j,clientIdProperty:l});n.setModel(o);p=n.getProxy();if(p){p.setModel(o)}}else{if(l){q=n.getModel();if(q){q.self.prototype.clientIdProperty=l}}}},buildExtractors:function(l){var g=this,m=g.getTotalProperty(),h=g.getSuccessProperty(),j=g.getMessageProperty();if(l||!g.hasExtractors){if(m){g.getTotal=g.createAccessor(m)}if(h){g.getSuccess=g.createAccessor(h)}if(j){g.getMessage=g.createAccessor(j)}g.hasExtractors=true;return true}},createAccessor:Ext.emptyFn,createFieldAccessor:Ext.emptyFn,destroy:function(){var b=this;delete b.model;delete b.getTotal;delete b.getSuccess;delete b.getMessage},privates:{copyFrom:function(d){var c=this;d.buildExtractors();c.setModel(d.getModel());c.getTotal=d.getTotal;c.getSuccess=d.getSuccess;c.getMessage=d.getMessage;++c.duringInit;c.setTotalProperty(d.getTotalProperty());c.setSuccessProperty(d.getSuccessProperty());c.setMessageProperty(d.getMessageProperty());--c.duringInit}}},function(){var b=this.prototype;Ext.apply(b,{nullResultSet:new Ext.data.ResultSet({total:0,count:0,records:[],success:true,message:""})})});Ext.define("E.xforms.overrideReader",{override:"Ext.data.reader.Reader",extractRecord:function(v,u,s,m,o){var p=this,q=(u&&u.recordCreator)||p.defaultRecordCreator,n,r;n=p.extractModelData(v,o);r=q.call(p,n,s||p.getModel(),u,v);if(m&&r.isModel){p.readAssociated(r,v,u)}return r}});Ext.define("Ext.data.reader.Json",{extend:Ext.data.reader.Reader,alternateClassName:"Ext.data.JsonReader",alias:"reader.json",config:{record:null,metaProperty:"metaData",useSimpleAccessors:false,preserveRawData:false},updateRootProperty:function(){this.forceBuildExtractors()},updateMetaProperty:function(){this.forceBuildExtractors()},readRecords:function(j,e){var g=this,h;if(g.getMeta){h=g.getMeta(j);if(h){g.onMetaChange(h)}}else{if(j.metaData){g.onMetaChange(j.metaData)}}return g.callParent([j,e])},getResponseData:function(d){try{return Ext.decode(d.responseText)}catch(c){Ext.Logger.warn("Unable to parse the JSON returned by the server");return this.createReadError(c.message)}},buildExtractors:function(){var g=this,d=g.getMetaProperty(),e=g.getRootProperty();if(g.callParent(arguments)){if(e){g.getRoot=g.createAccessor(e)}else{g.getRoot=Ext.identityFn}if(d){g.getMeta=g.createAccessor(d)}}},extractData:function(j,m){var l=this.getRecord(),n=[],o,h;if(l){o=j.length;if(!o&&Ext.isObject(j)){o=1;j=[j]}for(h=0;h<o;h++){n[h]=j[h][l]}}else{n=j}return this.callParent([n,m])},getModelData:function(b){return this.getPreserveRawData()?Ext.apply({},b):b},createAccessor:(function(){var b=/[\[\.]/;return function(M){var y=this,I=y.getUseSimpleAccessors(),G,J,B,F,H,a,K,c,x,A,z,D,L,C;if(!(M||M===0)){return}if(typeof M==="function"){return M}if(!I){G=String(M).search(b)}if(I===true||G<0){J=function(d){return d[M]}}else{B="raw";F=[];H="";a=0;C=M.length;for(D=0;D<=C;++D){z=M[D];K=z===".";c=z==="[";x=z==="]";A=K||c||x||!z;if(!A||a>1||(a&&!x)){H+=z}else{if(A){L=false;if(c){++a}else{if(x){--a;L=true}}if(H){if(L){H="["+H+"]"}else{H="."+H}B+=H;F.push(""+B);H=""}}}}J=F.join(" && ");J=Ext.functionFactory("raw","return "+J)}return J}}()),createFieldAccessor:function(j){var g=this,h=j.mapping,m=h||h===0,l=m?h:j.name;if(m){if(typeof l==="function"){return function(a){return j.mapping(a,g)}}else{return g.createAccessor(l)}}},privates:{copyFrom:function(d){var g=this,e;g.duringInit++;e=this.callParent([d]);g.getRoot=d.getRoot;g.setRootProperty(d.getRootProperty());--g.duringInit}}});Ext.define("E.connect.reader.Html",{alias:"reader.html",extend:Ext.data.reader.Json,contentField:"responseText",getResponseData:function(d){var c={};c[this.contentField]=d.responseText;return c}});Ext.define("Ext.ux.help.data.HelpContent",{schema:"help",proxy:{url:"data/ux-help/ux-help.html",reader:{type:"html",contentField:"content",implicitIncludes:false}},extend:Ext.data.Model,fields:[{name:"content"}]});Ext.define("Ext.ux.help.Help",{singleton:true,config:{active:false},constructor:function(){var b=this;Ext.onReady(b.onExtReady,b)},onExtReady:function(){var b=this;b.makeHelpMask();b.makeUI()},makeHelpMask:function(){var b=this;b.helpMaskEl=Ext.getBody().appendChild({tag:"div",id:"ext-ux-help-mask"});b.makeHelpMask=Ext.emptyFn},makeUI:function(){var b=this;b.session=Ext.create("Ext.data.Session",{schema:"help"});Ext.create("Ext.data.Store",{model:"Help",session:b.session,storeId:"uxHelpStore"});b.tip=Ext.create("Ext.ux.help.Tip",{target:b.helpMaskEl,viewModel:{type:"ux-help",session:b.session}});b.nav=new Ext.util.KeyNav({target:Ext.getBody(),disabled:true,left:function(a){a.stopEvent();this.previousHelp(a.ctrlKey)},right:function(a){a.stopEvent();this.nextHelp(a.ctrlKey)},up:function(a){a.stopEvent();this.previousHelp(a.ctrlKey)},down:function(a){a.stopEvent();this.nextHelp(a.ctrlKey)},esc:{fn:b.tip.controller.skipUxHelp,defaultEventAction:false},scope:b.tip.controller});Ext.getBody().on("keydown",function(a){if(a.getKey()===a.self.F1){a.stopEvent();b.tip.controller.initUxHelp()}})}});Ext.define("Ext.layout.SizeModel",{constructor:function(m){var j=this,l=j.self,h=l.sizeModelsArray,g;Ext.apply(j,m);j[g=j.name]=true;j.fixed=!(j.auto=j.natural||j.shrinkWrap);h[j.ordinal=h.length]=l[g]=l.sizeModels[g]=j},statics:{sizeModelsArray:[],sizeModels:{}},calculated:false,configured:false,constrainedMax:false,constrainedMin:false,natural:false,shrinkWrap:false,calculatedFromConfigured:false,calculatedFromNatural:false,calculatedFromShrinkWrap:false,names:null},function(){var o=this,l=o.sizeModelsArray,q,j,m,n,p;new o({name:"calculated"});new o({name:"configured",names:{width:"width",height:"height"}});new o({name:"natural"});new o({name:"shrinkWrap"});new o({name:"calculatedFromConfigured",configured:true,calculatedFrom:true,names:{width:"width",height:"height"}});new o({name:"calculatedFromNatural",natural:true,calculatedFrom:true});new o({name:"calculatedFromShrinkWrap",shrinkWrap:true,calculatedFrom:true});new o({name:"constrainedMax",configured:true,constrained:true,names:{width:"maxWidth",height:"maxHeight"}});new o({name:"constrainedMin",configured:true,constrained:true,names:{width:"minWidth",height:"minHeight"}});new o({name:"constrainedDock",configured:true,constrained:true,constrainedByMin:true,names:{width:"dockConstrainedWidth",height:"dockConstrainedHeight"}});for(q=0,m=l.length;q<m;++q){p=l[q];p.pairsByHeightOrdinal=n=[];for(j=0;j<m;++j){n.push({width:p,height:l[j]})}}});Ext.define("Ext.layout.Layout",{mixins:[Ext.mixin.Factoryable],factoryConfig:{type:"layout"},isLayout:true,initialized:false,running:false,needsItemSize:true,setsItemSize:true,autoSizePolicy:{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},$configPrefixed:false,$configStrict:false,constructor:function(d){var c=this;c.id=Ext.id(null,c.type+"-");c.initConfig(d);delete c.type;c.layoutCount=0},beginLayout:Ext.emptyFn,beginLayoutCycle:function(j){var e=this,g=e.context,h;if(e.lastWidthModel!=j.widthModel){if(e.lastWidthModel){h=true}e.lastWidthModel=j.widthModel}if(e.lastHeightModel!=j.heightModel){if(e.lastWidthModel){h=true}e.lastHeightModel=j.heightModel}if(h){(g=j.context).clearTriggers(e,false);g.clearTriggers(e,true);e.triggerCount=0}},finishedLayout:function(b){this.lastWidthModel=b.widthModel;this.lastHeightModel=b.heightModel;this.ownerContext=null},redoLayout:Ext.emptyFn,undoLayout:Ext.emptyFn,getAnimatePolicy:function(){return this.animatePolicy},getItemSizePolicy:function(b){return this.autoSizePolicy},getScrollerEl:Ext.emptyFn,isItemBoxParent:function(b){return false},isItemLayoutRoot:function(h){var j=h.getSizeModel(),e=j.width,g=j.height;if(!h.componentLayout.lastComponentSize&&(e.calculated||g.calculated)){return false}return !e.shrinkWrap&&!g.shrinkWrap},isItemShrinkWrap:function(b){return b.shrinkWrap},isRunning:function(){return !!this.ownerContext},getItemsRenderTree:function(p,j){var m=p.length,o,n,q,l;if(m){l=[];for(o=0;o<m;++o){n=p[o];if(!n.rendered){if(j&&(j[n.id]!==undefined)){q=j[n.id]}else{this.configureItem(n);q=n.getRenderTree();if(j){j[n.id]=q}}if(q){l.push(q)}}}}return l},finishRender:Ext.emptyFn,finishRenderItems:function(j,h){var l=h.length,g,m;for(g=0;g<l;g++){m=h[g];if(m.rendering){m.finishRender(g)}}},renderChildren:function(){var d=this,e=d.getLayoutItems(),g=d.getRenderTarget();d.renderItems(e,g)},renderItems:function(j,l){var m=this,n=j.length,h=0,o;if(n){Ext.suspendLayouts();for(;h<n;h++){o=j[h];if(o&&!o.rendered){m.renderItem(o,l,h)}else{if(!m.isValidParent(o,l,h)){m.moveItem(o,l,h)}else{m.configureItem(o)}}}Ext.resumeLayouts(true)}},isValidParent:function(l,j,h){var m=(j&&j.dom)||j,g=this.getItemLayoutEl(l);if(g&&m){if(typeof h=="number"){h=this.getPositionOffset(h);return g===m.childNodes[h]}return g.parentNode===m}return false},getItemLayoutEl:function(j){var h=j.el?j.el.dom:Ext.getDom(j),g=h.parentNode,e;if(g){e=g.className;if(e&&e.indexOf(Ext.baseCSSPrefix+"resizable-wrap")!==-1){h=h.parentNode}}return h},getPositionOffset:function(b){return b},configureItem:function(b){b.ownerLayout=this},renderItem:function(j,h,g){var e=this;if(!j.rendered){e.configureItem(j);j.render(h,g)}},moveItem:function(d,g,e){g=g.dom||g;if(typeof e=="number"){e=g.childNodes[e]}g.insertBefore(d.el.dom,e||null);d.container=Ext.get(g);this.configureItem(d)},onContentChange:function(){this.owner.updateLayout();return true},initLayout:function(){this.initialized=true},setOwner:function(b){this.owner=b},getLayoutItems:function(){return[]},onAdd:function(b){b.ownerLayout=this},onRemove:Ext.emptyFn,onDestroy:Ext.emptyFn,afterRemove:function(j){var l=this,m=j.el,g=l.owner,h;if(j.rendered){h=[].concat(l.itemCls||[]);if(g.itemCls){h=Ext.Array.push(h,g.itemCls)}if(h.length){m.removeCls(h)}}delete j.ownerLayout},afterCollapse:function(d,c){if(c){this.onContentChange(d)}},afterExpand:function(d,c){if(c){this.onContentChange(d)}},destroy:function(){var d=this,c;if(d.targetCls){c=d.getTarget();if(c){c.removeCls(d.targetCls)}}d.onDestroy()},sortWeightedItems:function(g,h){for(var e=0,j=g.length;e<j;++e){g[e].$i=e}Ext.Array.sort(g,function(b,c){var a=c.weight-b.weight;if(!a){a=b.$i-c.$i;if(b[h]){a=-a}}return a});for(e=0;e<j;++e){delete g[e].$i}}},function(){var b=this;b.prototype.sizeModels=b.sizeModels=Ext.layout.SizeModel.sizeModels});Ext.define("Ext.layout.container.Container",{extend:Ext.layout.Layout,alias:"layout.container",alternateClassName:"Ext.layout.ContainerLayout",mixins:[Ext.util.ElementContainer],type:"container",beginCollapse:Ext.emptyFn,beginExpand:Ext.emptyFn,animatePolicy:null,activeItemCount:0,renderTpl:["{%this.renderBody(out,values)%}"],usesContainerHeight:true,usesContainerWidth:true,usesHeight:true,usesWidth:true,constructor:function(){this.callParent(arguments);this.mixins.elementCt.constructor.call(this)},destroy:function(){this.callParent();this.mixins.elementCt.destroy.call(this)},beginLayout:function(b){this.callParent(arguments);b.targetContext=b.paddingContext=b.getEl("getTarget",this);this.cacheChildItems(b)},beginLayoutCycle:function(g,e){var d=this;d.callParent(arguments);if(e){if(d.usesContainerHeight){++g.consumersContainerHeight}if(d.usesContainerWidth){++g.consumersContainerWidth}}},cacheChildItems:function(n){var o=this,q,m,l,p,j;if(o.needsItemSize||o.setsItemSize){q=n.context;m=n.childItems=[];l=n.visibleItems=o.getVisibleItems();p=l.length;for(j=0;j<p;++j){m.push(q.getCmp(l[j]))}}},cacheElements:function(){var b=this.owner;this.attachChildEls(b.el,b)},calculate:function(g){var d=g.props,e=g.el;if(g.widthModel.shrinkWrap&&isNaN(d.width)){g.setContentWidth(e.getWidth())}if(g.heightModel.shrinkWrap&&isNaN(d.height)){g.setContentHeight(e.getHeight())}},configureItem:function(n){var o=this,m=o.itemCls,h=o.owner.itemCls,j,l;n.ownerLayout=o;if(m){if(typeof m==="string"){l=[m]}else{l=m;j=!!l}}if(h){if(j){l=Ext.Array.clone(l)}l=Ext.Array.push(l||[],h)}if(l){n.addCls(l)}},doRenderBody:function(d,c){this.renderItems(d,c);this.renderContent(d,c)},doRenderContainer:function(g,j){var m=j.$comp.layout,h=m.getRenderTpl(),l=m.getRenderData();h.applyOut(l,g)},doRenderItems:function(e,h){var j=h.$layout,g=j.getRenderTree();if(g){Ext.DomHelper.generateMarkup(g,e)}},finishRender:function(){var d=this,g,e;d.callParent();d.cacheElements();g=d.getRenderTarget();e=d.getLayoutItems();d.finishRenderItems(g,e)},notifyOwner:function(){this.owner.afterLayout(this)},getContainerSize:function(y,u){var x=y.targetContext,v=x.getFrameInfo(),q=y.paddingContext.getPaddingInfo(),r=0,p=0,w,s,z,o;if(!y.widthModel.shrinkWrap){++p;z=u?x.getDomProp("width"):x.getProp("width");w=(typeof z=="number");if(w){++r;z-=v.width+q.width;if(z<0){z=0}}}if(!y.heightModel.shrinkWrap){++p;o=u?x.getDomProp("height"):x.getProp("height");s=(typeof o=="number");if(s){++r;o-=v.height+q.height;if(o<0){o=0}}}return{width:z,height:o,needed:p,got:r,gotAll:r==p,gotWidth:w,gotHeight:s}},getPositionOffset:function(d){if(!this.createsInnerCt){var c=this.owner.itemNodeOffset;if(c){d+=c}}return d},getLayoutItems:function(){var d=this.owner,c=d&&d.items;return(c&&c.items)||[]},getRenderData:function(){var b=this.owner;return{$comp:b,$layout:this,ownerId:b.id}},getRenderedItems:function(){var o=this,m=o.getRenderTarget(),l=o.getLayoutItems(),p=l.length,n=[],j,q;for(j=0;j<p;j++){q=l[j];if(q.rendered&&o.isValidParent(q,m,j)){n.push(q)}}return n},getRenderTarget:function(){return this.owner.getTargetEl()},getElementTarget:function(){return this.getRenderTarget()},getRenderTpl:function(){var d=this,c=Ext.XTemplate.getTpl(this,"renderTpl");if(!c.renderContent){d.owner.setupRenderTpl(c)}return c},getRenderTree:function(){var g,j=this.owner.items,h,e={};do{h=j.generation;g=this.getItemsRenderTree(this.getLayoutItems(),e)}while(j.generation!==h);return g},renderChildren:function(){var g=this,m=g.owner.items,j=g.getRenderTarget(),l,h;do{l=m.generation;h=g.getLayoutItems();g.renderItems(h,j)}while(m.generation!==l)},getScrollbarsNeeded:function(s,n,u,o){var v=Ext.getScrollbarSize(),q=typeof s=="number",m=typeof n=="number",p=0,r=0;if(!v.width){return 0}if(m&&n<o){r=2;s-=v.width}if(q&&s<u){p=1;if(!r&&m){n-=v.height;if(n<o){r=2}}}return r+p},getTarget:function(){return this.owner.getTargetEl()},getVisibleItems:function(){var l=this.getRenderTarget(),h=this.getLayoutItems(),m=h.length,j=[],o,n;for(o=0;o<m;o++){n=h[o];if(n.rendered&&this.isValidParent(n,l,o)&&n.hidden!==true&&!n.floated){j.push(n)}}return j},getMoveAfterIndex:function(b){return this.owner.items.indexOf(b)+1},moveItemBefore:function(m,l){var h=this.owner,g=h.items,j;if(m===l){return m}j=l?g.indexOf(l):g.length;return h.insert(j,m)},setupRenderTpl:function(b){b.renderBody=this.doRenderBody;b.renderContainer=this.doRenderContainer;b.renderItems=this.doRenderItems},getContentTarget:function(){return this.owner.getDefaultContentTarget()},onAdd:function(b){if(!b.liquidLayout){++this.activeItemCount}this.callParent([b])},onRemove:function(b){if(!b.liquidLayout){--this.activeItemCount}this.callParent([b])}});Ext.define("Ext.layout.container.Auto",{alias:["layout.auto","layout.autocontainer"],extend:Ext.layout.container.Container,type:"autocontainer",childEls:["outerCt","innerCt"],reserveScrollbar:false,managePadding:true,manageOverflow:false,needsItemSize:false,setsItemSize:false,lastOverflowAdjust:{width:0,height:0},outerCtCls:Ext.baseCSSPrefix+"autocontainer-outerCt",innerCtCls:Ext.baseCSSPrefix+"autocontainer-innerCt",renderTpl:['<div id="{ownerId}-outerCt" data-ref="outerCt" class="{outerCtCls}" role="presentation">','<div id="{ownerId}-innerCt" data-ref="innerCt" style="{%this.renderPadding(out, values)%}" ','class="{innerCtCls}" role="presentation">',"{%this.renderBody(out,values)%}","</div>","</div>"],beginLayout:function(b){this.callParent(arguments);this.initContextItems(b)},beforeLayoutCycle:function(h){var e=this.owner,j=e.inheritedState,g=e.inheritedStateInner;if(!j||j.invalid){j=e.getInherited();g=e.inheritedStateInner}if(h.widthModel.shrinkWrap){g.inShrinkWrapTable=true}else{delete g.inShrinkWrapTable}},beginLayoutCycle:function(y){var s=this,A=s.outerCt,v=s.lastOuterCtWidth||"",w=s.lastOuterCtHeight||"",r=s.lastOuterCtTableLayout||"",B=y.state,q,x,p,z,u;s.callParent(arguments);x=p=z="";if(!y.widthModel.shrinkWrap){x="100%";u=s.owner.inheritedStateInner;q=s.getOverflowXStyle(y);z=(u.inShrinkWrapTable||q==="auto"||q==="scroll")?"":"fixed"}if(!y.heightModel.shrinkWrap&&!Ext.supports.PercentageHeightOverflowBug){p="100%"}if((x!==v)||s.hasOuterCtPxWidth){A.setStyle("width",x);s.lastOuterCtWidth=x;s.hasOuterCtPxWidth=false}if(z!==r){A.setStyle("table-layout",z);s.lastOuterCtTableLayout=z}if((p!==w)||s.hasOuterCtPxHeight){A.setStyle("height",p);s.lastOuterCtHeight=p;s.hasOuterCtPxHeight=false}if(s.hasInnerCtPxHeight){s.innerCt.setStyle("height","");s.hasInnerCtPxHeight=false}B.overflowAdjust=B.overflowAdjust||s.lastOverflowAdjust},calculate:function(m){var h=this,g=m.state,j=h.getContainerSize(m,true),l=g.calculatedItems||(g.calculatedItems=h.calculateItems?h.calculateItems(m,j):true);h.setCtSizeIfNeeded(m,j);if(l&&m.hasDomProp("containerChildrenSizeDone")){h.calculateContentSize(m);if(j.gotAll){if(h.manageOverflow&&!m.state.secondPass&&!h.reserveScrollbar){h.calculateOverflow(m,j)}return}}h.done=false},calculateContentSize:function(n){var o=this,l=((n.widthModel.shrinkWrap?1:0)|(n.heightModel.shrinkWrap?2:0)),q=(l&1)||undefined,m=(l&2)||undefined,p=0,j=n.props;if(q){if(isNaN(j.contentWidth)){++p}else{q=undefined}}if(m){if(isNaN(j.contentHeight)){++p}else{m=undefined}}if(p){if(q&&!n.setContentWidth(o.measureContentWidth(n))){o.done=false}if(m&&!n.setContentHeight(o.measureContentHeight(n))){o.done=false}}},calculateOverflow:function(s){var o=this,u,m,v,p,q,r,n;q=(o.getOverflowXStyle(s)==="auto");r=(o.getOverflowYStyle(s)==="auto");if(q||r){v=Ext.getScrollbarSize();n=s.overflowContext.el.dom;p=0;if(n.scrollWidth>n.clientWidth){p|=1}if(n.scrollHeight>n.clientHeight){p|=2}u=(r&&(p&2))?v.width:0;m=(q&&(p&1))?v.height:0;if(u!==o.lastOverflowAdjust.width||m!==o.lastOverflowAdjust.height){o.done=false;s.invalidate({state:{overflowAdjust:{width:u,height:m},overflowState:p,secondPass:true}})}}},completeLayout:function(b){this.lastOverflowAdjust=b.state.overflowAdjust},doRenderBody:function(o,m){var n=m.$layout,j=Ext.XTemplate,l=n.beforeBodyTpl,h=n.afterBodyTpl;if(l){j.getTpl(n,"beforeBodyTpl").applyOut(m,o)}this.renderItems(o,m);this.renderContent(o,m);if(h){j.getTpl(n,"afterBodyTpl").applyOut(m,o)}},doRenderPadding:function(g,l){var m=l.$layout,h=l.$layout.owner,j=h[h.contentPaddingProperty];if(m.managePadding&&j){g.push("padding:",h.unitizeBox(j))}},finishedLayout:function(c){var d=this.innerCt;this.callParent(arguments);if(Ext.isIE8){d.repaint()}if(Ext.isOpera){d.setStyle("position","relative");d.dom.scrollWidth;d.setStyle("position","")}},getContainerSize:function(e,j){var g=this.callParent(arguments),h=e.state.overflowAdjust;if(h){g.width-=h.width;g.height-=h.height}return g},getRenderData:function(){var d=this,c=d.callParent();c.innerCtCls=d.innerCtCls;c.outerCtCls=d.outerCtCls;return c},getRenderTarget:function(){return this.innerCt},getElementTarget:function(){return this.innerCt},getOverflowXStyle:function(b){return b.overflowXStyle||(b.overflowXStyle=this.owner.scrollFlags.overflowX||b.overflowContext.getStyle("overflow-x"))},getOverflowYStyle:function(b){return b.overflowYStyle||(b.overflowYStyle=this.owner.scrollFlags.overflowY||b.overflowContext.getStyle("overflow-y"))},initContextItems:function(e){var g=this,h=e.target,j=g.owner.getOverflowEl();e.outerCtContext=e.getEl("outerCt",g);e.innerCtContext=e.getEl("innerCt",g);e.overflowContext=(j===e.el)?e:e.getEl(j);if(h[h.contentPaddingProperty]!==undefined){e.paddingContext=e.innerCtContext}},initLayout:function(){var g=this,d=Ext.getScrollbarSize().width,e=g.owner;g.callParent();if(d&&g.manageOverflow&&!g.hasOwnProperty("lastOverflowAdjust")){if(e.scrollable||g.reserveScrollbar){g.lastOverflowAdjust={width:d,height:0}}}},measureContentHeight:function(d){var e=this.outerCt.getHeight(),g=d.target;if(this.managePadding&&(g[g.contentPaddingProperty]===undefined)){e+=d.targetContext.getPaddingInfo().height}return e},measureContentWidth:function(n){var l,o,h,j,m;if(this.chromeCellMeasureBug){l=this.innerCt.dom;o=l.style;h=o.display;if(h=="table-cell"){o.display="";l.offsetWidth;o.display=h}}if(Ext.isSafari){l=this.outerCt.dom;o=l.style;o.display="table-cell";l.offsetWidth;l.style.display=""}j=this.outerCt.getWidth();m=n.target;if(this.managePadding&&(m[m.contentPaddingProperty]===undefined)){j+=n.targetContext.getPaddingInfo().width}return j},setCtSizeIfNeeded:function(w,y){var v=this,o=y.height,s=w.paddingContext.getPaddingInfo(),q=v.getTarget(),p=v.getOverflowXStyle(w),x=(p==="auto"||p==="scroll"),z=Ext.getScrollbarSize(),u,r;if(o&&!w.heightModel.shrinkWrap){if(Ext.supports.PercentageHeightOverflowBug){u=true}if(Ext.isIE8){r=true}if((u||r)&&x&&(q.dom.scrollWidth>q.dom.clientWidth)){o=Math.max(o-z.height,0)}if(u){w.outerCtContext.setProp("height",o+s.height);v.hasOuterCtPxHeight=true}if(r){w.innerCtContext.setProp("height",o);v.hasInnerCtPxHeight=true}}},setupRenderTpl:function(b){this.callParent(arguments);b.renderPadding=this.doRenderPadding},getContentTarget:function(){return this.innerCt},getScrollerEl:function(){return this.outerCt}},function(){this.prototype.chromeCellMeasureBug=Ext.isChrome&&Ext.chromeVersion>=26});Ext.define("Ext.util.CollectionKey",{mixins:[Ext.mixin.Identifiable],isCollectionKey:true,observerPriority:-200,config:{collection:null,keyFn:null,property:null,rootProperty:null,unique:true},generation:0,map:null,mapRebuilds:0,constructor:function(b){this.initConfig(b)},get:function(d){var c=this.map||this.getMap();return c[d]||null},clear:function(){this.map=null},getRootProperty:function(){var c=this,d=this.callParent();return d!==null?d:c.getCollection().getRootProperty()},indexOf:function(o,s){var x=this.map||this.getMap(),n=x[o],r=this.getCollection(),w=r.length,u,q,p,v;if(!n){return -1}if(s===undefined){s=-1}if(n instanceof Array){p=n;q=w;for(v=p.length;v-->0;){u=r.indexOf(p[v]);if(u<q&&u>s){q=u}}if(q===w){return -1}}else{q=r.indexOf(n)}return(q>s)?q:-1},updateKey:function(o,m){var h=this,n=h.map,l,j;if(n){l=n[m];if(l instanceof Array){j=Ext.Array.indexOf(l,o);if(j>=0){if(l.length>2){l.splice(j,1)}else{n[m]=l[1-j]}}}else{if(l){delete n[m]}}h.add([o])}},onCollectionAdd:function(c,d){if(this.map){this.add(d.items)}},onCollectionItemChange:function(c,d){this.map=null},onCollectionRefresh:function(){this.map=null},onCollectionRemove:function(q,r){var o=this,v=o.map,p=r.items,u=p.length,s,m,n;if(v){if(o.getUnique()&&u<q.length/2){for(s=0;s<u;++s){n=o.getKey(m=p[s]);delete v[n]}}else{o.map=null}}},add:function(p){var o=this,v=o.map,u,q,m,n,s,r;s=p.length;r=o.getUnique();for(q=0;q<s;++q){n=o.getKey(m=p[q]);if(r||!(n in v)){v[n]=m}else{if(!((u=v[n]) instanceof Array)){v[n]=u=[u]}u.push(m)}}},applyKeyFn:function(b){if(Ext.isString(b)){this.getKey=function(a){return a[b]()}}else{this.getKey=b}},applyProperty:function(c){var d=this.getRootProperty();this.getKey=function(a){return(d?a[d]:a)[c]}},getMap:function(){var d=this,c=d.map;if(!c){d.map=c={};d.keysByItemKey={};++d.mapRebuilds;d.add(d.getCollection().items)}return c},updateCollection:function(b){b.addObserver(this)}});Ext.define("Ext.util.Grouper",{extend:Ext.util.Sorter,isGrouper:true,config:{groupFn:null,sortProperty:null},constructor:function(b){this.callParent(arguments)},getGroupString:function(d){var c=this._groupFn(d);return(c!=null)?String(c):""},sortFn:function(r,s){var p=this,u=p._groupFn(r),q=p._groupFn(s),m=p._sortProperty,n=p._root,o=p._sorterFn,v=p._transform;if(u===q){return 0}if(m||o){if(o){return o.call(this,r,s)}if(n){r=r[n];s=s[n]}u=r[m];q=s[m];if(v){u=v(u);q=v(q)}}return(u>q)?1:(u<q?-1:0)},standardGroupFn:function(c){var d=this._root;return(d?c[d]:c)[this._property]},updateSorterFn:function(){},updateProperty:function(){if(!this.getGroupFn()){this.setGroupFn(this.standardGroupFn)}}});Ext.define("Ext.util.Collection",{mixins:[Ext.mixin.Observable],isCollection:true,config:{autoFilter:true,autoSort:true,decoder:null,extraKeys:null,filters:null,grouper:null,groups:null,rootProperty:null,sorters:null,multiSortLimit:3,defaultSortDirection:"ASC",source:null},generation:0,indices:null,indexRebuilds:0,updating:0,grouped:false,sorted:false,filtered:false,$endUpdatePriority:1001,constructor:function(d){var c=this;c.items=[];c.map={};c.length=0;if(d&&d.keyFn){c.getKey=d.keyFn}c.mixins.observable.constructor.call(c,d)},destroy:function(){var j=this,e=j._filters,h=j._sorters,g=j._groups;if(e){e.destroy();j._filters=null}if(h){h.destroy();j._sorters=null}if(g){g.destroy();j._groups=null}j.setSource(null);j.observers=j.items=j.map=null},add:function(h){var j=this,g=j.decodeItems(arguments,0),e=g;if(g.length){j.requestedIndex=j.length;j.splice(j.length,0,g);delete j.requestedIndex;e=(g.length===1)?g[0]:g}return e},replaceAll:function(){var h=this,g=h.length,j,e;if(g===0){return h.add.apply(h,arguments)}e=h.decodeItems(arguments,0);j=e;if(e.length){h.splice(0,h.length,e);j=(e.length===1)?e[0]:e}else{h.removeAll()}return j},aggregate:function(m,j,o,l,p){var n=this,q=Ext.Array.slice(arguments);q.unshift(n.items);return n.aggregateItems.apply(n,q)},aggregateByGroup:function(h,e,j){var g=this.getGroups();return this.aggregateGroups(g,h,e,j)},aggregateItems:function(z,K,F,I,D,J){var y=this,A=Ext.Number.clipIndices(z.length,[I,D]),H=(I!==0&&D!==z.length),B,C,G,x,v,j,w;I=A[0];D=A[1];if(!Ext.isFunction(F)){F=y._aggregators[F];return F.call(y,z,I,D,K,y.getRootProperty())}x=y.getRootProperty();j=new Array(G);w=H?new Array(G):z;for(B=I,C=0;B<D;++B,C++){if(H){w[C]=v=z[B]}j[C]=(x?v[x]:v)[K]}return F.call(J||y,z,j,0)},aggregateGroups:function(z,q,x,p){var s=z.items,u=s.length,y=!Ext.isFunction(x),w={},v,r,o;for(v=0;v<u;++v){r=s[v];if(!y){o=this.aggregateItems(r.items,q,x,null,null,p)}else{o=r[x](q)}w[r.getGroupKey()]=o}return w},beginUpdate:function(){if(!this.updating++){this.notify("beginupdate")}},clear:function(){var m=this,l=m.generation,h=l?m.items:[],g,j;if(l){m.items=[];m.length=0;m.map={};m.indices={};m.generation++;g=m.getExtraKeys();if(g){for(j in g){g[j].clear()}}}return h},clone:function(){var d=this,c=new d.self(d.initialConfig);c.add(d.items);return c},collect:function(n,r,p){var s=this.items,w=s.length,x={},u=[],v,q,o;for(v=0;v<w;++v){o=s[v];o=(r?o[r]:o)[n];q=String(o);if((p||!Ext.isEmpty(o))&&!x[q]){x[q]=1;u.push(o)}}return u},contains:function(g){var e=false,d;if(g!=null){d=this.getKey(g);e=this.map[d]===g}return e},containsKey:function(b){return b in this.map},createFiltered:function(s,u,B,x,C){var y=this,A=new y.self(y.initialConfig),v=y.getRootProperty(),z=y.items,F,D,G,w,r;if(Ext.isFunction(s)){w=s;r=u}else{if(Ext.isString(s)){G=[new Ext.util.Filter({property:s,value:u,root:v,anyMatch:B,caseSensitive:x,exactMatch:C})]}else{if(s instanceof Ext.util.Filter){G=[s];s.setRoot(v)}else{if(Ext.isArray(s)){G=s.slice(0);for(D=0,F=G.length;D<F;++D){G[D].setRoot(v)}}}}w=Ext.util.Filter.createFilterFn(G)}r=r||y;for(D=0,F=z.length;D<F;D++){if(w.call(r,z[D])){A.add(z[D])}}return A},filterBy:function(c,d){return this.createFiltered(c,d)},each:function(l,m){var h=this.items,j=h.length,n,o;if(j){m=m||this;h=h.slice(0);for(n=0;n<j;n++){o=l.call(m,h[n],n,j);if(o===false){break}}}return o},eachKey:function(p,m){var q=this,r=q.items,u=r.length,v,n,o,s;if(u){m=m||q;r=r.slice(0);for(v=0;v<u;v++){o=q.getKey(n=r[v]);s=p.call(m,o,n,v,u);if(s===false){break}}}return s},endUpdate:function(){if(!--this.updating){this.notify("endupdate")}},find:function(o,p,n,r,s,l){if(Ext.isEmpty(p,false)){return null}var q=Ext.String.createRegex(p,r,s,l),m=this.getRootProperty();return this.findBy(function(a){return a&&q.test((m?a[m]:a)[o])},null,n)},findBy:function(p,m,v){var q=this,r=q.items,s=r.length,u,n,o;m=m||q;for(u=v||0;u<s;u++){o=q.getKey(n=r[u]);if(p.call(m,n,o)){return r[u]}}return null},findIndex:function(n,o,m,q,j,l){var p=this.find(n,o,m,q,j,l);return p?this.indexOf(p):-1},findIndexBy:function(e,g,h){var j=this.findBy(e,g,h);return j?this.indexOf(j):-1},first:function(c){var d=c?this.getGroups():undefined;return d?this.aggregateGroups(d,null,"first"):this.items[0]},last:function(c){var d=c?this.getGroups():undefined;return d?this.aggregateGroups(d,null,"last"):this.items[this.length-1]},get:function(b){return this.map[b]},getAt:function(b){return this.items[b]},getByKey:function(b){return this.map[b]},getCount:function(){return this.length},getKey:function(d){var c=d.id;return(c===0||c)?c:((c=d._id)===0||c)?c:d.getId()},getRange:function(l,h){var m=this.items,j=m.length,g;if(!j){g=[]}else{g=Ext.Number.clipIndices(j,[l,h]);g=m.slice(g[0],g[1])}return g},getValues:function(m,o,v,u){var p=this.items,r=Ext.Number.clipIndices(p.length,[v,u]),q=[],s,n;for(s=r[0],u=r[1];s<u;++s){n=p[s];n=(o?n[o]:n)[m];q.push(n)}return q},indexOf:function(c){if(!c){return -1}var d=this.getKey(c);return this.indexOfKey(d)},indexOfKey:function(e){var d=this,g=d.indices;if(e in d.map){if(!g){g=d.getIndices()}return g[e]}return -1},insert:function(m,j){var l=this,h=l.decodeItems(arguments,1),g=h;if(h.length){l.requestedIndex=m;l.splice(m,0,h);delete l.requestedIndex;g=(h.length===1)?h[0]:h}return g},itemChanged:function(C,Q,L,K){var B=this,U=L===0||!!L,O=B.filtered&&B.getAutoFilter(),S=false,T=0,I=B.items,M=B.length-1,W=B.sorted&&M>0,G=B.getSource(),A,H=0,P,N=false,V,J=false,D,F,R;if(G&&!G.updating){G.itemChanged(C,Q,L,K)}else{F=B.getKey(C);if(O){P=B.indexOfKey(U?L:F);J=(P<0);N=B.isItemFiltered(C);S=(J!==N)}if(S){if(N){H=[C];V=-1}else{A=[C];V=B.length}}else{if(W&&!N){if(!O){P=B.indexOfKey(U?L:F)}R=B.getSortFn();if(P&&R(I[P-1],I[P])>0){T=-1;V=Ext.Array.binarySearch(I,C,0,P,R)}else{if(P<M&&R(I[P],I[P+1])>0){T=1;V=Ext.Array.binarySearch(I,C,P+1,R)}}if(T){A=[C]}}}D={item:C,key:F,index:V,filterChanged:S,keyChanged:U,indexChanged:!!T,filtered:N,oldIndex:P,newIndex:V,wasFiltered:J,meta:K};if(U){D.oldKey=L}if(Q){D.modified=Q}B.beginUpdate();B.notify("beforeitemchange",[D]);if(U){B.updateKey(C,L)}if(A||H){B.splice(V,H,A)}if(T>0){D.newIndex--}else{if(T<0){D.oldIndex++}}B.notify(N?"filtereditemchange":"itemchange",[D]);B.endUpdate()}},remove:function(h){var j=this,g=j.decodeRemoveItems(arguments,0),e=j.length;j.splice(0,g);return e-j.length},removeAll:function(){var c=this,d=c.length;if(c.generation&&d){c.splice(0,d)}return c},removeAt:function(p,q){var o=this,w=o.length,s=Ext.Number,u=s.clipIndices(w,[p,(q===undefined)?1:q],s.Clip.COUNT),v=u[0],x=u[1]-v,n=(x===1)&&o.getAt(v),r;o.splice(v,x);r=o.length-w;return(n&&r)?n:r},removeByKey:function(d){var c=this.getByKey(d);if(!c||!this.remove(c)){return false}return c},replace:function(c){var d=this.indexOf(c);if(d===-1){this.add(c)}else{this.insert(d,c)}},splice:function(ac,at,ae){var au=this,aA=au.sorted&&au.getAutoSort(),ag=au.map,ao=au.items,aq=au.length,ak=(at instanceof Array)?au.decodeRemoveItems(at):null,aj=!ak,ab=Ext.Number,az=ab.clipIndices(aq,[ac,aj?at:0],ab.Clip.COUNT),ax=az[0],av=az[1],V=av-ax,am=au.decodeItems(arguments,2),W=am?am.length:0,ad,ai,al,aB=ax,aC=au.indices||((W||ak)?au.getIndices():null),ap=null,aw=V?[ax]:null,ay=null,an=au.getSource(),aD,Z,Y,T,af,aa,U,ar,ah,X,n,S;if(an&&!an.updating){if(aj){ak=[];for(T=0;T<V;++T){ak.push(ao[ax+T])}}if(ax<aq){T=an.indexOf(ao[ax])}else{T=an.length}an.splice(T,ak,am);return au}if(W){ad=am;ay=[];ai={};if(aA){S=au.getSorters();if(W>1){if(!ad.$cloned){am=ad=ad.slice(0)}au.sortData(ad)}}for(T=0;T<W;++T){ar=au.getKey(af=am[T]);if((U=ai[ar])!==undefined){(n||(n={}))[U]=1}else{aa=aC[ar];if(aa<ax||av<=aa){(aw||(aw=[])).push(aa)}}ai[ar]=T;ay.push(ar)}if(n){ah=ay;ad=[];ay=[];ad.$cloned=true;for(T=0;T<W;++T){if(!n[T]){af=am[T];ad.push(af);ay.push(ah[T])}}W=ad.length}ap={items:ad,keys:ay}}for(T=ak?ak.length:0;T-->0;){ar=au.getKey(ak[T]);if((aa=aC[ar])!==undefined){(aw||(aw=[])).push(aa)}}if(!ap&&!aw){return au}au.beginUpdate();if(aw){aD=null;Y=[];al={};if(aw.length>1){aw.sort(Ext.Array.numericSortFn)}for(T=0,X=aw.length;T<X;++T){ar=au.getKey(af=ao[aa=aw[T]]);if(!(ar in ag)){continue}delete ag[ar];if(!aD||aa>(aD.at+Z.length)){Y.push(aD={at:aa,items:(Z=[]),keys:(ah=[]),map:al,next:aD,replacement:ap});if(ap){ap.replaced=aD}}Z.push(al[ar]=af);ah.push(ar);if(aa<aB){--aB}if(V>1&&aa===ax){--V;aw[T--]=++ax}}if(ap){ap.at=aB}for(U=Y.length;U-->0;){aD=Y[U];T=aD.at;X=aD.items.length;if(T+X<aq){au.indices=aC=null}au.length=aq-=X;ao.splice(T,X);if(aC){ah=aD.keys;for(T=0;T<X;++T){delete aC[ah[T]]}}++au.generation;au.notify("remove",[aD])}}if(ap){if(aA&&W>1&&aq){au.spliceMerge(ad,ay)}else{if(aA){if(W>1){aB=0;au.indices=aC=null}else{aB=S.findInsertionIndex(ap.items[0],ao,au.getSortFn())}}if(aB===aq){ao.push.apply(ao,ad);aC=au.indices;if(aC){for(T=0;T<W;++T){aC[ay[T]]=aB+T}}}else{au.indices=null;Ext.Array.insert(ao,aB,ad)}for(T=0;T<W;++T){ag[ay[T]]=ad[T]}au.length+=W;ap.at=aB;ap.atItem=aB===0?null:ao[aB-1];++au.generation;au.notify("add",[ap])}}au.endUpdate();return au},update:function(e,g){var j=this;j.beginUpdate();try{return e.call(g||j,j)}catch(h){throw h}finally{j.endUpdate()}},updateKey:function(j,o){var l=this,p=l.map,m=l.indices,q=l.getSource(),n;if(q&&!q.updating){q.updateKey(j,o)}else{if((n=l.getKey(j))!==o){if(o in p||p[n]!==j){if(o in p){delete p[o]}l.updating++;l.generation++;p[n]=j;if(m){m[n]=m[o];delete m[o]}l.notify("updatekey",[{item:j,newKey:n,oldKey:o}]);l.updating--}}}},findInsertIndex:function(n){var m=this.getSource(),l=m.items,h=m.indexOf(n)-1,o,j;while(h>-1){o=l[h];j=this.indexOf(o);if(j>-1){return j+1}--h}return 0},onCollectionAdd:function(B,A){var r=this,n=A.atItem,s=A.items,w=r.requestedIndex,u,v,z,x,q,y;if(!r.sorted){if(w!==undefined){v=w}else{if(n){v=r.indexOf(n);if(v===-1){v=r.findInsertIndex(s[0])}else{++v}}else{v=0}}}if(r.getAutoFilter()&&r.filtered){for(x=0,y=s.length;x<y;++x){q=s[x];if(r.isItemFiltered(q)){if(!z){z=s.slice(0,x)}if(!u){u=[]}u.push(q)}else{if(z){z.push(q)}}}}r.splice((v<0)?r.length:v,0,z||s);if(u){r.notify("filteradd",[u])}},onCollectionBeforeItemChange:function(c,d){this.onCollectionUpdateKey=null},onCollectionBeginUpdate:function(){this.beginUpdate()},onCollectionEndUpdate:function(){this.endUpdate()},onCollectionItemChange:function(c,d){delete this.onCollectionUpdateKey;this.itemChanged(d.item,d.modified,d.oldKey,d.meta)},onCollectionFilteredItemChange:null,onCollectionRefresh:function(v){var p=this,u={},n={},r,m,q,o,s;q=v.items;q=p.filtered&&p.getAutoFilter()?Ext.Array.filter(q,p.getFilterFn()):q.slice(0);if(p.sorted){p.sortData(q)}p.items=q;p.length=s=q.length;p.map=u;p.indices=n;for(r=0;r<s;++r){o=p.getKey(m=q[r]);u[o]=m;n[o]=r}p.notify("refresh")},onCollectionRemove:function(c,d){this.splice(0,d.items)},onCollectionUpdateKey:function(c,d){this.updateKey(d.item,d.oldKey)},_aggregators:{average:function(o,n,h,m,j){var l=h-n;return l&&this._aggregators.sum.call(this,o,n,h,m,j)/l},bounds:function(q,v,u,m,p){for(var n,o,s,r=v;r<u;++r){n=q[r];n=(p?n[p]:n)[m];if(!(n<o)){o=n}if(!(n>s)){s=n}}return[s,o]},count:function(b){return b.length},extremes:function(w,B,z,q,s){var v=null,A=null,x,p,u,y,r;for(x=B;x<z;++x){p=w[x];r=(s?p[s]:p)[q];if(!(r<u)){u=r;v=p}if(!(r>y)){y=r;A=p}}return[A,v]},max:function(m,l,n,j,o){var b=this._aggregators.bounds.call(this,m,l,n,j,o);return b[1]},maxItem:function(m,l,n,j,o){var b=this._aggregators.extremes.call(this,m,l,n,j,o);return b[1]},min:function(m,l,n,j,o){var b=this._aggregators.bounds.call(this,m,l,n,j,o);return b[0]},minItem:function(m,l,n,j,o){var b=this._aggregators.extremes.call(this,m,l,n,j,o);return b[0]},sum:function(s,p,l,n,m){for(var o,q=0,r=p;r<l;++r){o=s[r];o=(m?o[m]:o)[n];q+=o}return q}},_eventToMethodMap:{add:"onCollectionAdd",beforeitemchange:"onCollectionBeforeItemChange",beginupdate:"onCollectionBeginUpdate",endupdate:"onCollectionEndUpdate",itemchange:"onCollectionItemChange",filtereditemchange:"onCollectionFilteredItemChange",refresh:"onCollectionRefresh",remove:"onCollectionRemove",beforesort:"beforeCollectionSort",sort:"onCollectionSort",filter:"onCollectionFilter",filteradd:"onCollectionFilterAdd",updatekey:"onCollectionUpdateKey"},addObserver:function(g){var h=this.observers,e,j=g.getId();if(!h){h=this.observers=[];this.observerMap={}}e=this.observerMap;if(!e[j]){h.push(g);e[j]=g;if(h.length>1){Ext.Array.sort(h,this.prioritySortFn)}}},prioritySortFn:function(a,b){var h=a.observerPriority||0,j=b.observerPriority||0;return h-j},applyExtraKeys:function(o,l){var n=this,p=l||{},q,j,m;for(j in o){m=o[j];if(!m.isCollectionKey){q={collection:n};if(Ext.isString(m)){q.property=m}else{Ext.apply(q,m)}m=new Ext.util.CollectionKey(q)}p[j]=n[j]=m;m.name=j}return p},applyGrouper:function(b){if(b){b=this.getSorters().decodeSorter(b,"Ext.util.Grouper")}return b},decodeItems:function(p,q){var n=this,j=(q===undefined)?p:p[q],l,m,o;if(!j||!j.$cloned){l=p.length>q+1||!Ext.isIterable(j);if(l){j=Ext.Array.slice(p,q);if(j.length===1&&j[0]===undefined){j.length=0}}m=n.getDecoder();if(m){if(!l){j=j.slice(0);l=true}for(o=j.length;o-->0;){if((j[o]=m.call(n,j[o]))===false){j.splice(o,1)}}}if(l){j.$cloned=true}}return j},getIndices:function(){var n=this,m=n.indices,j=n.items,l=j.length,o,h;if(!m){n.indices=m={};++n.indexRebuilds;for(o=0;o<l;++o){h=n.getKey(j[o]);m[h]=o}}return m},notify:function(u,q){var p=this,v=p.observers,n=p._eventToMethodMap[u],o=0,s,w,x,r;q=q||[];if(v&&n){for(s=0,w=v.length;s<w;++s){x=(r=v[s])[n];if(x){if(!o++){q.unshift(p)}x.apply(r,q)}}}if(!p.hasListeners){return}if(p.hasListeners[u]){if(!o){q.unshift(p)}p.fireEventArgs(u,q)}},getFilterFn:function(){return this.getFilters().getFilterFn()},getFilters:function(c){var d=this._filters;if(!d&&c!==false){d=new Ext.util.FilterCollection();this.setFilters(d)}return d},isItemFiltered:function(b){return !this.getFilters().filterFn(b)},onFilterChange:function(d){var e=this,g=e.getSource();if(!g){g=new Ext.util.Collection({keyFn:e.getKey,extraKeys:e.getInitialConfig().extraKeys,rootProperty:e.getRootProperty()});if(e.length){g.add(e.items)}e.setSource(g);e.autoSource=g}else{if(g.length||e.length){e.onCollectionRefresh(g)}}e.notify("filter")},applyFilters:function(d,c){if(d==null||(d&&d.isFilterCollection)){return d}if(d){if(!c){c=this.getFilters()}c.splice(0,c.length,d)}return c},updateFilters:function(e,d){var g=this;if(d){d.un("endupdate","onEndUpdateFilters",g)}if(e){e.on({endupdate:"onEndUpdateFilters",scope:g,priority:g.$endUpdatePriority});e.$filterable=g}g.onEndUpdateFilters(e)},onEndUpdateFilters:function(j){var e=this,h=e.filtered,g=!!j&&(j.length>0);if(h||g){e.filtered=g;e.onFilterChange(j)}},getSortFn:function(){return this._sortFn||this.createSortFn()},getSorters:function(c){var d=this._sorters;if(!d&&c!==false){d=new Ext.util.SorterCollection();this.setSorters(d)}return d},onSortChange:function(){if(this.sorted){this.sortItems()}},sort:function(g,j,h){var e=this.getSorters();e.addSort.apply(e,arguments);return this},sortData:function(b){Ext.Array.sort(b,this.getSortFn());return b},sortItems:function(c){var d=this;if(d.sorted){c=d.getSortFn()}d.indices=null;d.notify("beforesort",[d.getSorters()]);if(d.length){Ext.Array.sort(d.items,c)}d.notify("sort")},sortBy:function(b){return this.sortItems(b)},findInsertionIndex:function(g,e,d){if(!e){e=this.items}if(!d){d=this.getSortFn()}return Ext.Array.binarySearch(e,g,d)},applySorters:function(d,c){if(d==null||(d&&d.isSorterCollection)){return d}if(d){if(!c){c=this.getSorters()}c.splice(0,c.length,d)}return c},createSortFn:function(){var g=this,e=g.getGrouper(),d=g.getSorters().getSortFn();if(!e){return d}return function(b,a){return e.sort(b,a)||d(b,a)}},updateGrouper:function(g){var m=this,h=m.getGroups(),j=m.getSorters(),l;m.onSorterChange();m.grouped=!!g;if(g){if(!h){h=new Ext.util.GroupCollection({itemRoot:m.getRootProperty()});m.addObserver(h);m.setGroups(h)}h.setGrouper(g);l=true}else{if(h){m.removeObserver(h);h.destroy()}m.setGroups(null)}if(!j.updating){m.onEndUpdateSorters(j)}if(l){h.onCollectionRefresh(m)}},updateSorters:function(e,d){var g=this;if(d){d.un("endupdate","onEndUpdateSorters",g)}if(e){e.on({endupdate:"onEndUpdateSorters",scope:g,priority:g.$endUpdatePriority});e.$sortable=g}g.onSorterChange();g.onEndUpdateSorters(e)},onSorterChange:function(){this._sortFn=null},onEndUpdateSorters:function(j){var e=this,h=e.sorted,g=e.grouped||(j&&(j.length>0));if(h||g){e.sorted=!!g;e.onSortChange(j)}},removeObserver:function(d){var c=this.observers;if(c){Ext.Array.remove(c,d);delete this.observerMap[d.getId()]}},spliceMerge:function(G,x){var y=this,z=y.map,J=G.length,L=0,F=y.items,w=F.length,H=[],I=0,C=[],O=y.getSorters(),D,M,B,K,A,N;y.items=C;for(N=0;N<J;N=M){K=G[N];for(;L<w;++L){if(O.sortFn(K,A=F[L])<0){break}C.push(A)}if(L===w){H[I++]={at:C.length,itemAt:C[C.length-1],items:(D=[])};if(I>1){H[I-2].next=H[I-1]}for(;N<J;++N){D.push(K=G[N]);C.push(K)}break}H[I++]={at:C.length,itemAt:C[C.length-1],items:(D=[K])};if(I>1){H[I-2].next=H[I-1]}C.push(K);for(M=N+1;M<J;++M){if(O.sortFn(K=G[M],A)>=0){break}C.push(K);D.push(K)}}for(;L<w;++L){C.push(F[L])}for(B=0;B<J;++B){z[x[B]]=G[B]}y.length=C.length;++y.generation;y.indices=null;for(B=0;B<I;++B){y.notify("add",[H[B]])}},getGroups:function(){return this.callParent()||null},updateGroups:function(d,c){if(c){this.removeObserver(c)}if(d){this.addObserver(d)}},updateSource:function(d,e){var g=this.autoSource;if(e){e.removeObserver(this);if(e===g){g.destroy();this.autoSource=null}}if(d){d.addObserver(this);if(d.length||this.length){this.onCollectionRefresh(d)}}}},function(){var b=this.prototype;b.removeAtKey=b.removeByKey;b.decodeRemoveItems=b.decodeItems;Ext.Object.each(b._aggregators,function(a){b[a]=function(g,h,j){return this.aggregate(g,a,h,j)};b[a+"ByGroup"]=function(d){return this.aggregateByGroup(d,a)}})});Ext.define("Ext.util.SorterCollection",{extend:Ext.util.Collection,isSorterCollection:true,$sortable:null,sortFn:null,config:{sorterOptionsFn:null,sorterOptionsScope:null},constructor:function(d){var c=this;c.sortFn=Ext.util.Sorter.createComparator(c);c.callParent([d]);c.setDecoder(c.decodeSorter)},addSort:function(q,r,x){var s=this,w,v,y,o,z,p,u;if(!q){s.beginUpdate();s.endUpdate()}else{o=s.getOptions();if(q instanceof Array){u=q;x=r;r=null}else{if(Ext.isString(q)){if(!(p=s.get(q))){u=[{property:q,direction:r||o.getDefaultSortDirection()}]}else{u=[p]}}else{if(Ext.isFunction(q)){u=[{sorterFn:q,direction:r||o.getDefaultSortDirection()}]}else{u=[q];x=r;r=null}}}x=s._sortModes[x||"replace"];z=s.getAt(0);w=s.length;v=x.append?w:0;s.beginUpdate();s.splice(v,x.replace?w:0,u);if(x.multi){w=s.length;y=o.getMultiSortLimit();if(w>y){s.removeAt(y,w)}}if(p&&r){p.setDirection(r)}else{if(v===0&&z&&z===s.getAt(0)){z.toggle()}}s.endUpdate()}},getSortFn:function(){return this.sortFn},getByProperty:function(j){var g=this.items,h=g.length,m,l;for(m=0;m<h;++m){l=g[m];if(l.getProperty()===j){return l}}return null},_sortModes:{append:{append:1},multi:{multi:1},prepend:{prepend:1},replace:{replace:1}},decodeSorter:function(n,v){var p=this,m=p.getOptions(),o=m.getRootProperty(),u=p.getSorterOptionsFn(),s,q,r;if(n.isSorter){if(!n.getRoot()){n.setRoot(o)}}else{q={direction:m.getDefaultSortDirection(),root:o};r=typeof n;if(r==="string"){s=p.get(n);if(s){return s}q.property=n}else{if(r==="function"){q.sorterFn=n}else{q=Ext.apply(q,n);if(q.fn){q.sorterFn=q.fn;delete q.fn}}}n=Ext.create(v||"Ext.util.Sorter",q)}if(u){u.call(p.getSorterOptionsScope()||p,n)}return n},setSorterConfigure:function(c,d){this.setSorterOptionsFn(c);this.setSorterOptionsScope(d)},decodeRemoveItems:function(v,y){var s=this,x=(y===undefined)?v:v[y];if(!x||!x.$cloned){if(v.length>y+1||!Ext.isIterable(x)){x=Ext.Array.slice(v,y)}var r=s.items,w=x.length,z=[],A,q,B,n,u;for(A=0;A<w;A++){n=x[A];if(n&&n.isSorter){z.push(n)}else{u=typeof n;if(u==="string"){n=s.get(n);if(n){z.push(n)}}else{if(u==="function"){for(B=r.length;B-->0;){q=r[B];if(q.getSorterFn()===n){z.push(q)}}}}}}x=z;x.$cloned=true}return x},getOptions:function(){return this.$sortable||this}});Ext.define("Ext.util.FilterCollection",{extend:Ext.util.Collection,isFilterCollection:true,$filterable:null,filterFn:null,constructor:function(d){var c=this;c.filterFn=Ext.util.Filter.createFilterFn(c);c.callParent([d]);c.setDecoder(c.decodeFilter)},filterData:function(b){return this.filtered?Ext.Array.filter(b,this.filterFn):b},getFilterFn:function(){return this.filterFn},isItemFiltered:function(b){return !this.filterFn(b)},decodeFilter:function(j){var e=this.getOptions(),g=e.getRootProperty(),h;if(j.isFilter){if(!j.getRoot()){j.setRoot(g)}}else{h={root:g};if(Ext.isFunction(j)){h.filterFn=j}else{h=Ext.apply(h,j);if(h.fn){h.filterFn=h.fn;delete h.fn}if(Ext.util.Filter.isInvalid(h)){return false}}j=new Ext.util.Filter(h)}return j},decodeRemoveItems:function(v,z){var K=this,y=(z===undefined)?v:v[z];if(!y.$cloned){if(v.length>z+1||!Ext.isIterable(y)){y=Ext.Array.slice(v,z)}var D=K.items,w=y.length,B=[],H,C,G,x,I,J,A,F,n;for(C=0;C<w;C++){H=y[C];if(H&&H.isFilter){B.push(H)}else{n=typeof H;G=n==="function";x=H.property!==undefined&&H.value!==undefined;I=n==="string";for(F=D.length;F-->0;){J=D[F];A=false;if(I){A=J.getProperty()===H}else{if(G){A=J.getFilterFn()===H}else{if(x){A=J.getProperty()===H.property&&J.getValue()===H.value}}}if(A){B.push(J)}}}}y=B;y.$cloned=true}return y},getOptions:function(){return this.$filterable||this}});Ext.define("Ext.ZIndexManager",{alternateClassName:"Ext.WindowGroup",statics:{zBase:9000,activeCounter:0},constructor:function(d){var c=this;c.id=Ext.id(null,"zindex-mgr-");c.zIndexStack=new Ext.util.Collection({sorters:{sorterFn:function(a,b){var g=(a.alwaysOnTop||0)-(b.alwaysOnTop||0);if(!g){g=a.getActiveCounter()-b.getActiveCounter()}return g}},filters:{filterFn:function(a){return a.isVisible()}}});c.zIndexStack.addObserver(c);c.front=null;c.globalListeners=Ext.GlobalEvents.on({hide:c.onComponentShowHide,show:c.onComponentShowHide,scope:c,destroyable:true});if(d){if(d.isContainer){d.on("resize",c._onContainerResize,c);c.zseed=Ext.Number.from(c.rendered?d.getEl().getStyle("zIndex"):undefined,c.getNextZSeed());c.targetEl=d.getTargetEl();c.container=d}else{Ext.on("resize",c._onContainerResize,c);c.zseed=c.getNextZSeed();c.targetEl=Ext.get(d)}}else{c.zseed=c.getNextZSeed();Ext.onReady(function(){Ext.on("resize",c._onContainerResize,c);c.targetEl=Ext.getBody()})}},getId:function(){return this.id},getNextZSeed:function(){return(Ext.ZIndexManager.zBase+=10000)},setBase:function(b){this.zseed=b;return this.onCollectionSort()},onCollectionSort:function(){var q=this,u=q.front,p=q.zseed,o=q.zIndexStack.getRange(),r=o.length,v,s,w,x,a=false;for(v=0;v<r;v++){s=o[v];p=s.setZIndex(p);if(!s.hidden){x=s;if(s.modal){w=s}}}if(x!==u){if(u&&!u.destroying){u.setActive(false)}if(x){a=x.modal||((!u||u.isVisible())&&((x.focusOnToFront&&!x.preventFocusOnActivate)))&&x.isFocusable(true);x.setActive(true,null,a)}}q.front=x;if(w){q._showModalMask(w)}else{q._hideModalMask()}return p},onComponentUpdate:function(b){if(this.zIndexStack.contains(b)){this.zIndexStack.sort()}},onComponentRender:function(b){this.zIndexStack.itemChanged(b,"hidden")},onComponentShowHide:function(d){var c=this.zIndexStack;if(d.isFloating()&&!this.hidingAll&&(c.getSource()||c).contains(d)){c.itemChanged(d,"hidden");c.sort()}},_showModalMask:function(v){var u=this,p=v.el,s=p.getStyle("zIndex")-4,z=v.floatParent?v.floatParent.getTargetEl():v.container,o=u.mask,w=u.maskShim,r,y,q,x;if(!o){o=u.mask=Ext.getBody().createChild({role:"presentation",cls:Ext.baseCSSPrefix+"mask",style:"height:0;width:0"});o.setVisibilityMode(Ext.Element.DISPLAY);o.on("click",u._onMaskClick,u)}else{u._hideModalMask()}o.maskTarget=z;r=u._getMaskBox();if(w){w.setStyle("zIndex",s);w.show();w.setBox(r)}o.setStyle("zIndex",s);y="data-savedtabindex-"+z.getId();q=y+"-temp";x=p.findTabbableElements();if(x.length){p.saveTabbableState(q);p.saveChildrenTabbableState(q)}z.saveTabbableState(y);z.saveChildrenTabbableState(y);if(x.length){p.restoreChildrenTabbableState(q);p.restoreTabbableState(q)}o.show();o.setBox(r)},_hideModalMask:function(){var j=this.mask,g=this.maskShim,h,e;if(j&&j.isVisible()){h=j.maskTarget;e="data-savedtabindex-"+h.getId();h.restoreChildrenTabbableState(e);h.restoreTabbableState(e);j.maskTarget=undefined;j.hide();if(g){g.hide()}}},_onMaskClick:function(){if(this.front){this.front.focus()}},_getMaskBox:function(){var b=this.mask.maskTarget;if(b.dom===document.body){return{height:Math.max(document.body.scrollHeight,Ext.dom.Element.getDocumentHeight()),width:Math.max(document.body.scrollWidth,document.documentElement.clientWidth),x:0,y:0}}else{return b.getBox()}},_onContainerResize:function(){var j=this,e=j.mask,g=j.maskShim,h;if(e&&e.isVisible()){e.hide();if(g){g.hide()}h=j._getMaskBox();if(g){g.setSize(h);g.show()}e.setSize(h);e.show()}},register:function(d){var c=this;if(d.zIndexManager){d.zIndexManager.unregister(d)}d.zIndexManager=c;if(!d.rendered){d.on("render",c.onComponentRender,c,{single:true})}c.zIndexStack.add(d)},unregister:function(d){var c=this;delete d.zIndexManager;d.un("render",c.onComponentRender,c);c.zIndexStack.remove(d);c.onCollectionSort()},get:function(b){return b.isComponent?b:this.zIndexStack.get(b)},bringToFront:function(j,o){var q=this,m=q.zIndexStack,l=m.last(),p,n;j=q.get(j);if(!j||m.find("alwaysOnTop",true)){return false}n=j.preventFocusOnActivate;j.preventFocusOnActivate=o;j.setActiveCounter(++Ext.ZIndexManager.activeCounter);j.preventFocusOnActivate=n;p=m.last();return(p===j&&p!==l)},sendToBack:function(b){b=this.get(b);if(b){b.setActiveCounter(0)}return b||null},hideAll:function(){var g=this.zIndexStack.getRange(),e=g.length,d;this.hidingAll=true;for(d=0;d<e;d++){g[d].hide()}this.hidingAll=true},hide:function(){var l=this,m=Ext.Element.getActiveElement(),n=l.tempHidden=l.zIndexStack.getRange(),j=n.length,o,h;l.focusRestoreElement=null;for(o=0;o<j;o++){h=n[o];if(h.el.contains(m)){l.focusRestoreElement=m}h.el.hide();h.hidden=true}},show:function(){var l=this,m,j=l.tempHidden,h=j?j.length:0,g;for(m=0;m<h;m++){g=j[m];g.el.show();g.hidden=false;g.setPosition(g.x,g.y)}l.tempHidden=null;if(l.focusRestoreElement){l.focusRestoreElement.focus()}},getActive:function(){return this.zIndexStack.last()},getBy:function(c,d){return this.zIndexStack.filterBy(c,d).getRange()},each:function(c,d){this.zIndexStack.each(c,d)},eachBottomUp:function(l,m){var h=this.zIndexStack.getRange(),n,j=h.length,o;for(n=0;n<j;n++){o=h[n];if(o.isComponent&&l.call(m||o,o)===false){return}}},eachTopDown:function(j,l){var h=this.zIndexStack.getRange(),m,g;for(m=h.length;m-->0;){g=h[m];if(g.isComponent&&j.call(l||g,g)===false){return}}},destroy:function(){var h=this,e=h.zIndexStack.getRange(),g=e.length,j;for(j=0;j<g;j++){Ext.destroy(e[j])}Ext.destroy(h.mask,h.maskShim,h.zIndexStack,h.globalListeners);h.zIndexStack=h.container=h.targetEl=h.globalListeners=null}},function(){Ext.WindowManager=Ext.WindowMgr=new this()});Ext.define("Ext.mixin.Queryable",{mixinId:"queryable",isQueryable:true,query:function(b){b=b||"*";return Ext.ComponentQuery.query(b,this.getQueryRoot())},queryBy:function(n,o){var q=[],j=this.getQueryRoot().getRefItems(true),p=0,l=j.length,m;for(;p<l;++p){m=j[p];if(n.call(o||m,m)!==false){q.push(m)}}return q},queryById:function(b){return this.down(Ext.makeIdSelector(b))},child:function(d){var c=this.getQueryRoot().getRefItems();if(d&&d.isComponent){return this.matchById(c,d.getItemId())}if(d){c=Ext.ComponentQuery.query(d,c)}if(c.length){return c[0]}return null},down:function(b){if(b&&b.isComponent){return this.matchById(this.getRefItems(true),b.getItemId())}b=b||"";return this.query(b)[0]||null},visitPreOrder:function(g,h,j,e){Ext.ComponentQuery._visit(true,g,this.getQueryRoot(),h,j,e)},visitPostOrder:function(g,h,j,e){Ext.ComponentQuery._visit(false,g,this.getQueryRoot(),h,j,e)},getRefItems:function(){return[]},getQueryRoot:function(){return this},privates:{matchById:function(g,j){var h=g.length,m,l;for(m=0;m<h;++m){l=g[m];if(l.getItemId()===j){return l}}return null}}});Ext.define("Ext.container.Container",{extend:Ext.Component,xtype:"container",alternateClassName:["Ext.Container","Ext.AbstractContainer"],mixins:[Ext.mixin.Queryable],renderTpl:"{%this.renderContainer(out,values)%}",isContainer:true,autoDestroy:true,defaultType:"panel",detachOnRemove:true,items:undefined,layout:"auto",suspendLayout:false,_applyDefaultsOptions:{defaults:true,strict:false},ariaRole:"presentation",baseCls:Ext.baseCSSPrefix+"container",layoutCounter:0,add:function(){var u=this,x=Ext.Array.slice(arguments),z=(typeof x[0]==="number")?x.shift():-1,B=u.getLayout(),A=false,r,w,C,D,q,s,y,v;if(x.length===1&&Ext.isArray(x[0])){w=x[0];r=true}else{w=x}if(u.rendered){Ext.suspendLayouts()}y=w=u.prepareItems(w,true);D=w.length;if(!r&&D===1){y=w[0]}for(C=0;C<D;C++){q=w[C];s=(z<0)?u.items.length:(z+C);v=!!q.instancedCmp;delete q.instancedCmp;if(q.floating){u.floatingItems.add(q);q.onAdded(u,s,v);delete q.initOwnerCt;if(u.hasListeners.add){u.fireEvent("add",u,q,s)}}else{if((!u.hasListeners.beforeadd||u.fireEvent("beforeadd",u,q,s)!==false)&&u.onBeforeAdd(q)!==false){u.items.insert(s,q);q.onAdded(u,s,v);delete q.initOwnerCt;u.onAdd(q,s);B.onAdd(q,s);A=true;if(u.hasListeners.add){u.fireEvent("add",u,q,s)}}}}if(A){u.updateLayout()}if(u.rendered){Ext.resumeLayouts(true)}return y},onAdded:function(d,g,e){this.callParent(arguments);if(e){Ext.ComponentManager.markReferencesDirty()}},onRemoved:function(d){var c;if(!d){c=this.lookupReferenceHolder();if(c){Ext.ComponentManager.markReferencesDirty();c.clearReferences()}}this.callParent(arguments)},afterComponentLayout:function(){var e=this.floatingItems.items,g=e.length,h,j;this.callParent(arguments);for(h=0;h<g;h++){j=e[h];if(!j.rendered&&j.autoShow){j.show()}}},afterLayout:function(g){var d=this,e=d.getScrollable();++d.layoutCounter;if(e&&d.layoutCounter>1){e.refresh()}if(d.hasListeners.afterlayout){d.fireEvent("afterlayout",d,g)}},onDestroy:function(){this.callParent();this.refs=null},beforeDestroy:function(){var c=this,g=c.items,j=c.floatingItems,h;if(g){while((h=g.first())){c.doRemove(h,true)}}if(j){while((h=j.first())){c.doRemove(h,true)}}Ext.destroy(c.layout);c.callParent()},beforeRender:function(){var d=this,e=d.getLayout(),g;d.callParent();if(!e.initialized){e.initLayout()}g=e.targetCls;if(g){d.applyTargetCls(g)}},cascade:function(o,c,x){var p=this,u=p.items?p.items.items:[],s=u.length,v=0,q,r=x?x.concat(p):[p],w=r.length-1;if(o.apply(c||p,r)!==false){for(;v<s;v++){q=u[v];if(q.cascade){q.cascade(o,c,x)}else{r[w]=q;o.apply(c||q,r)}}}return this},contains:function(g,d){var e=false;if(d){this.cascade(function(a){if(a.contains&&a.contains(g)){e=true;return false}});return e}else{return this.items.contains(g)||this.floatingItems.contains(g)}},disable:function(){this.callParent(arguments);var l=this.maskOnDisable,m=this.getChildItemsToDisable(),n=m.length,o,h,j;for(h=0;h<n;h++){o=m[h];if(o.resetDisable!==false&&!o.disabled){j=o.maskOnDisable;o.maskOnDisable=!l;o.disable();o.maskOnDisable=j;o.resetDisable=true}}return this},doLayout:function(){this.updateLayout();return this},enable:function(){this.callParent(arguments);var h=this.getChildItemsToDisable(),j=h.length,e,g;for(g=0;g<j;g++){e=h[g];if(e.resetDisable){e.enable()}}return this},getChildByElement:function(o,l){var m,q,j=0,p=this.getRefItems(),n=p.length;o=Ext.getDom(o);for(;j<n;j++){m=p[j];q=m.getEl();if(q&&((q.dom===o)||q.contains(o))){return(l&&m.getChildByElement)?m.getChildByElement(o,l):m}}return null},getComponent:function(d){if(Ext.isObject(d)){d=d.getItemId()}var c=this.items.get(d);if(!c&&typeof d!=="number"){c=this.floatingItems.get(d)}return c},getLayout:function(){var c=this,d=c.layout;if(!d||!d.isLayout){c.setLayout(d)}return c.layout},getRefItems:function(q){var m=this,p=m.items.items,j=p.length,o=0,n,l=[];for(;o<j;o++){n=p[o];l[l.length]=n;if(q&&n.getRefItems){l.push.apply(l,n.getRefItems(true))}}p=m.floatingItems.items;j=p.length;for(o=0;o<j;o++){n=p[o];l[l.length]=n;if(q&&n.getRefItems){l.push.apply(l,n.getRefItems(true))}}return l},getDefaultFocus:function(){var c=this.defaultFocus,d;if(c!=undefined){d=this.down(c)}return d},initComponent:function(){var b=this;b.callParent();b.getLayout();b.constructing=true;b.initItems();delete b.constructing},getReferences:function(){var b=Ext.ComponentManager;if(b.referencesDirty){b.fixReferences()}return this.refs||null},lookupReference:function(c){var d=this.getReferences();return(d&&d[c])||null},initItems:function(){var c=this,d=c.items;if(!d||!d.isMixedCollection){c.items=new Ext.util.AbstractMixedCollection(false,c.getComponentId);c.floatingItems=new Ext.util.MixedCollection(false,c.getComponentId);if(d){if(!Ext.isArray(d)){d=[d]}c.add(d)}}},initInheritedState:function(n,s){var o=this,r=o.controller,q=o.layout,p=o.session,m=o.viewModel,u=o.reference,v=o.referenceHolder;o.callParent([n,s]);if(o.collapsed){n.collapsed=true}if(r){n.referenceHolder=r;v=true}else{if(v){n.referenceHolder=o}}if(v){n.referencePath=""}else{if(u&&o.isParentReference){n.referencePath=o.referenceKey+"."}}if(p){n.session=p}if(m){n.viewModelPath=""}else{if(u&&o.isParentReference){n.viewModelPath=o.viewModelKey+"."}}if(q&&q.initInheritedState){q.initInheritedState(n,s)}},insert:function(g,d){var e;if(d&&d.isComponent){e=this.items.indexOf(d);if(e!==-1){return this.move(e,g)}}return this.add(g,d)},lookupComponent:function(b){if(!b.isComponent){if(typeof b==="string"){b=Ext.ComponentManager.get(b)}else{b=Ext.ComponentManager.create(b,this.defaultType)}}return b},move:function(g,j){var l=this,h=l.items,m;if(g.isComponent){g=h.indexOf(g)}m=h.getAt(g);if(g!==j){m=h.removeAt(g);if(m===false){return false}j=Math.min(j,h.getCount());h.insert(j,m);l.onMove(m,g,j);if(l.hasListeners.childmove){l.fireEvent("childmove",l,m,g,j)}l.updateLayout()}return m},moveBefore:function(d,c){if(d!==c){d=this.layout.moveItemBefore(d,c)}return d},moveAfter:function(j,h){var e=this.layout,g;if(j!==h){g=h?e.getMoveAfterIndex(h):0;j=e.moveItemBefore(j,this.items.getAt(g))}return j},nextChild:function(n,s){var p=this,r=p.items,o=r.indexOf(n),q=0,l=r.length,m;if(o!==-1){if(s){for(;q<l;q++){m=r.getAt(o+q);if(!m||Ext.ComponentQuery.is(m,s)){break}}}else{m=r.getAt(o+1)}if(!m&&p.ownerCt){m=p.ownerCt.nextChild(p,s)}}return m},onAdd:Ext.emptyFn,onBeforeAdd:function(c){var d=c.ownerCt;if(d&&d!==this){d.remove(c,false)}},onMove:Ext.emptyFn,onRemove:Ext.emptyFn,onPosition:function(){this.callParent(arguments);this.repositionFloatingItems()},onResize:function(){this.callParent(arguments);this.repositionFloatingItems()},prevChild:function(n,s){var p=this,r=p.items,o=r.indexOf(n),q=0,l=r.length,m;if(o!==-1){if(s){for(;q<l;q++){m=r.getAt(o-q);if(!m||Ext.ComponentQuery.is(m,s)){break}}}else{m=r.getAt(o-1)}if(!m&&p.ownerCt){m=p.ownerCt.nextChild(p,s)}}return m},remove:function(c,g){var j=this,h=j.getComponent(c);if(h&&(!j.hasListeners.beforeremove||j.fireEvent("beforeremove",j,h)!==false)){j.doRemove(h,g);if(j.hasListeners.remove){j.fireEvent("remove",j,h)}if(!j.destroying&&!h.floating){j.updateLayout()}}return h},removeAll:function(q){var m=this,o=m.items.items.slice().concat(m.floatingItems.items),j=[],p=0,l=o.length,n;Ext.suspendLayouts();m.removingAll=true;for(;p<l;p++){n=o[p];m.remove(n,q);if(n.ownerCt!==m){j.push(n)}}m.removingAll=false;Ext.resumeLayouts(!!l);return j},setLayout:function(m){var n=this,h=n.layout,l=h&&h.isLayout,j,o;if(typeof m==="string"){m={type:m}}o=m.type;if(l&&(!o||(o===h.type))){delete m.type;h.setConfig(m)}else{if(l){h.setOwner(null)}j=n.self.prototype.layout;if(typeof j==="string"){m.type=o||j}else{Ext.merge(Ext.merge({},j),m)}m=this.layout=Ext.Factory.layout(m);m.setOwner(this)}if(n.rendered){n.updateLayout()}},setActiveItem:function(b){return this.getLayout().setActiveItem(b)},privates:{applyDefaults:function(e){var d=this,g=d.defaults;if(g){if(Ext.isFunction(g)){g=g.call(d,e)}if(Ext.isString(e)){e=Ext.ComponentManager.get(e)}if(e.isComponent){e.setConfig(g,null,d._applyDefaultsOptions)}else{e=d.getConfigurator().merge(d,Ext.Object.fork(g),e)}}return e},applyReference:function(c){var d;if(c&&c.charAt(d=c.length-1)===">"){this.isParentReference=true;c=c.substring(0,d)}return c},applyTargetCls:function(b){this.addCls(b)},attachReference:function(e){var h=this,j,g;if(h.destroying||h.isDestroyed){return}g=h.refs||(h.refs={});j=e.referenceKey;g[j]=e},clearReference:function(d){var e=this.refs,g=d.referenceKey;if(e&&g){d.viewModelKey=d.referenceKey=e[g]=null}},clearReferences:function(){this.refs=null},detachComponent:function(b){Ext.getDetachedBody().appendChild(b.getEl())},doRemove:function(q,j){j=j===true||(j!==false&&this.autoDestroy);var n=this,o=n.layout,l=o&&n.rendered,p=q.destroying||j,m=q.floating;if(m){n.floatingItems.remove(q)}else{n.items.remove(q)}if(l&&!m){if(o.running){Ext.Component.cancelLayout(q,p)}o.onRemove(q,p)}q.onRemoved(p);n.onRemove(q,p);if(j){q.destroy()}else{if(l&&!m){o.afterRemove(q)}if(n.detachOnRemove&&q.rendered){n.detachComponent(q)}}},finishRenderChildren:function(){this.callParent();var b=this.getLayout();if(b){b.finishRender()}},getChildItemsToDisable:function(){return this.query("[isFormField],[isFocusableContainer],button")},getComponentId:function(b){return b.getItemId&&b.getItemId()},getContentTarget:function(){return this.getLayout().getContentTarget()},getDefaultContentTarget:function(){return this.el},getFocusEl:function(){var b=this.getDefaultFocus();if(b){return b}else{if(this.focusable){return this.getTargetEl()}}return undefined},getScrollerEl:function(){return this.layout.getScrollerEl()||this.callParent()},prepareItems:function(h,n){if(Ext.isArray(h)){h=h.slice()}else{h=[h]}var l=this,o=0,j=h.length,m;for(;o<j;o++){m=h[o];if(m==null){Ext.Array.erase(h,o,1);--o;--j}else{if(n){m=this.applyDefaults(m)}m.initOwnerCt=l;if(m.isComponent){m.instancedCmp=true}h[o]=l.lookupComponent(m);delete m.initOwnerCt}}return h},repositionFloatingItems:function(){var e=this.floatingItems.items,g=e.length,h,j;for(h=0;h<g;h++){j=e[h];if(j.el&&!j.hidden){j.setPosition(j.x,j.y)}}},_noMargin:{"margin-top":"","margin-right":"","margin-bottom":"","margin-left":""},resetItemMargins:function(){var g=this.items.items,j=g.length,e=this._noMargin,h;while(j--){h=g[j];h.margin$=null;h.el.setStyle(e)}},setupRenderTpl:function(b){this.callParent(arguments);this.getLayout().setupRenderTpl(b)}}});Ext.define("E.xforms.overrideContainer",{override:"Ext.container.Container",privates:{prepareItems:function(l,q){if(Ext.isArray(l)){l=l.slice()}else{l=[l]}var r=0,n=this,s=[],o,m=l.length,p;while(r<=m){p=l[r];if(p){if(p.xfa){n.applyXForms(p,n);if(!p.xtype&&!p.isAction&&p.items){++r;Ext.Array.insert(l,r,Ext.isArray(p.items)?p.items:p.items.items);m=l.length;p=l[r];if(p&&p.xfa){n.applyXForms(p,n)}}}if(p&&p.dataIsland){++r;Ext.Array.insert(l,r,n.applyDataIsland(p,n));m=l.length;p=l[r]}if(p&&(!p.xfa||p.xtype||p.isAction||n.defaultType)){if(q){p=n.applyDefaults(p)}p.initOwnerCt=n;if(p.isComponent){p.instancedCmp=true}o=n.lookupComponent(p);delete p.initOwnerCt;s.push(o||p)}}++r}return s},applyXForms:function(n,m){var o=this,q,p,r,s,l=function(a){var b=a?n.itemsBefore:n.itemsAfter;if(b){b=Ext.isArray(b)?Ext.Array.clone(b):[Ext.clone(b)];n.items=a?b.concat(n.items||[]):(n.items||[]).concat(b)}};if(!n._processed){}if(n.self){return}if(q=m.getModelField(n.xfa,n.entityName)){if(!n.xtype&&q.xtype){n.xtype=q.xtype}if(q.associations){n.entityName=q.entityName;n._propertiesForAssociations=Ext.getApp().getNamer().apply("pluralize",q.entityName)}delete n._processed;if(n._isApplied!=true){n._propertiesToBind=Ext.Object.getKeys(q.bindExpr);o.setBoundStoreProperties(n,q);if(r=q.config){Ext.applyIf(n,Ext.clone(r));if(r.items){n._itemsFromModel=true}}if(m.xf&&m.xf[n.xfa]){Ext.apply(n,Ext.clone(m.xf[n.xfa]))}if(n[n.xfa]){Ext.apply(n,Ext.clone(n[n.xfa]))}}n._isApplied=true}},setBoundStoreProperties:function(c,d){if(d.st){c._propertiesForStore="st_"+d.st}else{if(d.lookupRef){c._propertiesForStore="st_lookupStore"}else{if(d.bindedStore||d.valueStore||d.storeHolder||d.instanceId){c._propertiesForStore="st_"+c.xfa}}}},applyDataIsland:function(h,e){var g=[],j=h.dataIsland;j=(Ext.ClassManager.getByAlias("di_"+j.toLowerCase())||Ext.ClassManager.get("E.di."+j)).prototype.buildItems.call(this,Ext.applyIf({entityName:this.entityName},h||{}));Ext.each(j,function(a){var b=Ext.apply({},h[a.xfa]||h[a.diAnchor]||{},a);if(b.xfa){this.applyXForms(b,e)}g.push(b)},this);return g},initInheritedState:function(b){this.callParent(arguments);if(this.entityName){b.entityName=this.entityName}}}});Ext.define("Ext.panel.Bar",{extend:Ext.container.Container,vertical:false,_verticalSides:{left:1,right:1},initComponent:function(){var c=this,d=c.vertical;c.dock=c.dock||(d?"left":"top");c.layout=Ext.apply(d?{type:"vbox",align:"middle",alignRoundingMethod:"ceil"}:{type:"hbox",align:"middle",alignRoundingMethod:"floor"},c.layout);this.callParent()},onAdded:function(d,g,e){this.initOrientation();this.callParent([d,g,e])},onRemoved:function(b){this.removeClsWithUI(this.uiCls);this.callParent([b])},beforeRender:function(){if(!this.ownerCt){this.initOrientation()}this.callParent()},setDock:function(h){var j=this,e,g;if(h!==j.dock){Ext.suspendLayouts();j.clearOrientation();j.callParent([h]);j.initOrientation();g=j.vertical;e=j.layout;e.setVertical(g);e.setAlignRoundingMethod(g?"ceil":"floor");Ext.resumeLayouts(true)}},privates:{clearOrientation:function(){this.removeClsWithUI([this.vertical?"vertical":"horizontal",this.getDockName()])},getDockName:function(){return this.dock},initOrientation:function(){var g=this,d=g.dock,e=g.vertical=(d?d in g._verticalSides:g.vertical);g.addClsWithUI([this.vertical?"vertical":"horizontal",g.getDockName()])}}});Ext.define("Ext.panel.Title",{extend:Ext.Component,xtype:"title",isTitle:true,noWrap:true,textAlign:"left",iconAlign:"left",rotation:0,text:"&#160;",beforeRenderConfig:{textAlign:null,text:null,glyph:null,icon:null,iconAlign:null,iconCls:null,rotation:null},autoEl:{unselectable:"on"},childEls:["textEl","iconEl","iconWrapEl"],renderTpl:'<tpl if="iconMarkup && iconBeforeTitle">{iconMarkup}</tpl><div id="{id}-textEl" data-ref="textEl" class="{textCls} {textCls}-{ui} {itemCls}{childElCls}" unselectable="on"<tpl if="headerRole"> role="{headerRole}"</tpl>>{text}</div><tpl if="iconMarkup && !iconBeforeTitle">{iconMarkup}</tpl>',iconTpl:'<div id="{id}-iconWrapEl" data-ref="iconWrapEl" role="presentation" class="{iconWrapCls} {iconWrapCls}-{ui} {iconAlignCls} {itemCls}{childElCls}"<tpl if="iconWrapStyle"> style="{iconWrapStyle}"</tpl>><div id="{id}-iconEl" data-ref="iconEl" role="presentation" unselectable="on" class="{baseIconCls} {baseIconCls}-{ui} {iconCls} {glyphCls}" style="<tpl if="iconUrl">background-image:url({iconUrl});</tpl><tpl if="glyph && glyphFontFamily">font-family:{glyphFontFamily};</tpl>"><tpl if="glyph">&#{glyph};</tpl><tpl if="iconCls || iconUrl">&#160;</tpl></div></div>',_textAlignClasses:{left:Ext.baseCSSPrefix+"title-align-left",center:Ext.baseCSSPrefix+"title-align-center",right:Ext.baseCSSPrefix+"title-align-right"},_iconAlignClasses:{top:Ext.baseCSSPrefix+"title-icon-top",right:Ext.baseCSSPrefix+"title-icon-right",bottom:Ext.baseCSSPrefix+"title-icon-bottom",left:Ext.baseCSSPrefix+"title-icon-left"},_rotationClasses:{0:Ext.baseCSSPrefix+"title-rotate-none",1:Ext.baseCSSPrefix+"title-rotate-right",2:Ext.baseCSSPrefix+"title-rotate-left"},_rotationAngles:{1:90,2:270},baseCls:Ext.baseCSSPrefix+"title",_titleSuffix:"-title",_glyphCls:Ext.baseCSSPrefix+"title-glyph",_iconWrapCls:Ext.baseCSSPrefix+"title-icon-wrap",_baseIconCls:Ext.baseCSSPrefix+"title-icon",_itemCls:Ext.baseCSSPrefix+"title-item",_textCls:Ext.baseCSSPrefix+"title-text",afterComponentLayout:function(){var l=this,g=l.getRotation(),h,j,m;if(g&&!Ext.isIE8){m=l.el;h=l.lastBox;j=h.x;m.setStyle(l._getVerticalAdjustDirection(),(j+((g===1)?h.width:-h.height))+"px")}this.callParent()},onRender:function(){var g=this,e=g.getRotation(),d=g.el;g.callParent();if(e){d.setVertical(g._rotationAngles[e])}if(Ext.supports.FixedTableWidthBug){d._needsTableWidthFix=true}},applyText:function(b){if(!b){b="&#160;"}return b},beforeRender:function(){var b=this;b.callParent();b.addCls(b._rotationClasses[b.getRotation()]);b.addCls(b._textAlignClasses[b.getTextAlign()])},getIconMarkup:function(){return this.getTpl("iconTpl").apply(this.getIconRenderData())},getIconRenderData:function(){var n=this,q=n.getIcon(),j=n.getIconCls(),o=n.getGlyph(),m=Ext._glyphFontFamily,l=n.getIconAlign(),p;if(typeof o==="string"){p=o.split("@");o=p[0];m=p[1]}return{id:n.id,ui:n.ui,itemCls:n._itemCls,iconUrl:q,iconCls:j,iconWrapCls:n._iconWrapCls,baseIconCls:n._baseIconCls,iconAlignCls:n._iconAlignClasses[l],glyph:o,glyphCls:o?n._glyphCls:"",glyphFontFamily:m}},initRenderData:function(){var d=this,e,g;g=Ext.apply({text:d.getText(),headerRole:d.headerRole,id:d.id,ui:d.ui,itemCls:d._itemCls,textCls:d._textCls,iconMarkup:null,iconBeforeTitle:null},d.callParent());if(d._hasIcon()){e=d.getIconAlign();g.iconMarkup=d.getIconMarkup();g.iconBeforeTitle=(e==="top"||e==="left")}return g},onAdded:function(q,m,j){var o=this,l=o.cls||"",n=o._titleSuffix,p=q.baseCls;o.addCls([p+n,p+n+"-"+q.ui]);o.callParent([q,m,j])},updateGlyph:function(n,q){n=n||0;var o=this,m=o._glyphCls,j,l,p;o.glyph=n;if(o.rendered){o._syncIconVisibility();j=o.iconEl;if(typeof n==="string"){p=n.split("@");n=p[0];l=p[1]||Ext._glyphFontFamily}if(!n){j.dom.innerHTML="";j.removeCls(m)}else{if(q!=n){j.dom.innerHTML="&#"+n+";";j.addCls(m)}}if(l){j.setStyle("font-family",l)}if(o._didIconStateChange(q,n)){o.updateLayout()}}},updateIcon:function(e,h){e=e||"";var j=this,g;if(j.rendered&&e!=h){j._syncIconVisibility();g=j.iconEl;g.setStyle("background-image",e?"url("+e+")":"");if(j._didIconStateChange(h,e)){j.updateLayout()}}},updateIconAlign:function(l,o){var h=this,m=h.iconWrapEl,j,m,n;if(h.iconWrapEl){j=h.el;n=h._iconAlignClasses;if(o){m.removeCls(n[o])}m.addCls(n[l]);if(l==="top"||l==="left"){j.insertFirst(m)}else{j.appendChild(m)}h.updateLayout()}},updateIconCls:function(e,j){e=e||"";var h=this,g;if(h.rendered&&j!=e){h._syncIconVisibility();g=h.iconEl;if(j){g.removeCls(j)}g.addCls(e);if(h._didIconStateChange(j,e)){h.updateLayout()}}},updateRotation:function(o,j){var m=this,h,n,l;if(m.rendered){n=m.el;l=m._rotationClasses;m.removeCls(l[j]);m.addCls(l[o]);n.setHorizontal();if(o){n.setVertical(m._rotationAngles[o])}n.setStyle({right:"",left:"",top:"",height:"",width:""});m.lastBox=null;m.updateLayout()}},updateText:function(b){if(this.rendered){this.textEl.setHtml(b)}},updateTextAlign:function(h,e){var g=this,j=g._textAlignClasses;if(g.rendered){if(e){g.removeCls(j[e])}g.addCls(j[h]);g.updateLayout()}},privates:{_getVerticalAdjustDirection:function(){return"left"},_didIconStateChange:function(e,g){var d=Ext.isEmpty(g);return Ext.isEmpty(e)?!d:d},_hasIcon:function(){return !!(this.getIcon()||this.getIconCls()||this.getGlyph())},_syncIconVisibility:function(){var m=this,n=m.el,j=m._hasIcon(),l=m.iconWrapEl,o,h;if(j&&!l){h=m.iconAlign;o=(h==="left"||h==="top");n.dom.insertAdjacentHTML(o?"afterbegin":"beforeend",m.getIconMarkup());l=m.iconWrapEl=n[o?"first":"last"]();m.iconEl=l.first()}if(l){l.setDisplayed(j)}}}});Ext.define("Ext.panel.Tool",{extend:Ext.Component,xtype:"tool",isTool:true,focusable:true,baseCls:Ext.baseCSSPrefix+"tool",disabledCls:Ext.baseCSSPrefix+"tool-disabled",toolPressedCls:Ext.baseCSSPrefix+"tool-pressed",toolOverCls:Ext.baseCSSPrefix+"tool-over",ariaRole:"button",childEls:["toolEl"],renderTpl:['<img id="{id}-toolEl" data-ref="toolEl" src="{blank}" class="{baseCls}-img {baseCls}-{type}{childElCls}" role="presentation"/>'],toolOwner:null,tooltipType:"qtip",stopEvent:true,cacheHeight:true,cacheWidth:true,initComponent:function(){var b=this;b.type=b.type||b.id;Ext.applyIf(b.renderData,{baseCls:b.baseCls,blank:Ext.BLANK_IMAGE_URL,type:b.type});b.tooltip=b.tooltip||b.qtip;b.callParent()},afterRender:function(){var d=this,c;d.callParent(arguments);d.el.on({click:d.onClick,mousedown:d.onMouseDown,mouseover:d.onMouseOver,mouseout:d.onMouseOut,scope:d});c=d.tooltip;if(c){d.setTooltip(c)}},tipAttrs:{qtip:"data-qtip"},setTooltip:function(o,r){var q=this,l=q.tooltip,p=q.tooltipType,n=q.id,s=q.el,m;if(l&&Ext.quickTipsActive&&Ext.isObject(l)){Ext.tip.QuickTipManager.unregister(n)}q.tooltip=o;if(r){q.tooltipType=r}if(o){if(Ext.quickTipsActive&&Ext.isObject(o)){Ext.tip.QuickTipManager.register(Ext.apply({target:n},o))}else{if(s){if(r&&p&&r!==p){m=q.tipAttrs[p]||"title";s.dom.removeAttribute(m)}m=q.tipAttrs[r||p]||"title";s.dom.setAttribute(m,o)}}}},setType:function(e){var d=this,g=d.type;d.type=e;if(d.rendered){if(g){d.toolEl.removeCls(d.baseCls+"-"+g)}d.toolEl.addCls(d.baseCls+"-"+e)}else{d.renderData.type=e}return d},onDestroy:function(){var d=this,c=d.keyMap;d.setTooltip(null);if(c){c.destroy();d.keyMap=null}delete d.toolOwner;d.callParent()},privates:{getFocusEl:function(){return this.el},onClick:function(g,d){var e=this;if(e.disabled){return false}e.el.removeCls(e.toolPressedCls+" "+e.toolOverCls);if(e.stopEvent!==false){g.stopEvent()}if(e.handler){Ext.callback(e.handler,e.scope,[g,d,e.ownerCt,e],0,e)}else{if(e.callback){Ext.callback(e.callback,e.scope,[e.toolOwner||e.ownerCt,e,g],0,e)}}e.fireEvent("click",e,g,e.toolOwner||e.ownerCt);return true},onMouseDown:function(){if(this.disabled){return false}this.el.addCls(this.toolPressedCls)},onMouseOver:function(){if(this.disabled){return false}this.el.addCls(this.toolOverCls)},onMouseOut:function(){this.el.removeCls(this.toolOverCls)}}});Ext.define("Ext.data.Batch",{mixins:{observable:Ext.mixin.Observable},config:{pauseOnException:false},current:-1,total:0,running:false,complete:false,exception:false,constructor:function(d){var c=this;c.mixins.observable.constructor.call(c,d);c.operations=[];c.exceptions=[]},add:function(e){var h=this,j,g;if(Ext.isArray(e)){for(j=0,g=e.length;j<g;++j){h.add(e[j])}}else{h.total++;e.setBatch(h);h.operations.push(e)}return h},sort:function(){this.operations.sort(this.sortFn)},sortFn:function(o,j){var h=o.order-j.order;if(h){return h}var l=o.entityType,n=j.entityType,m;if(!l||!n){return 0}if(!(m=l.rank)){l.schema.rankEntities();m=l.rank}return(m-n.rank)*o.foreignKeyDirection},start:function(d){var c=this;if(!c.operations.length||c.running){return c}c.exceptions.length=0;c.exception=false;c.running=true;return c.runOperation(Ext.isDefined(d)?d:c.current+1)},retry:function(){return this.start(this.current)},runNextOperation:function(){var b=this;if(b.running){b.runOperation(b.current+1)}return b},pause:function(){this.running=false;return this},getOperations:function(){return this.operations},getExceptions:function(){return this.exceptions},getCurrent:function(){var d=null,c=this.current;if(!(c===-1||this.complete)){d=this.operations[c]}return d},getTotal:function(){return this.total},isRunning:function(){return this.running},isComplete:function(){return this.complete},hasException:function(){return this.exception},runOperation:function(j){var h=this,e=h.operations,g=e[j];if(g===undefined){h.running=false;h.complete=true;h.fireEvent("complete",h,e[e.length-1])}else{h.current=j;g.setInternalCallback(h.onOperationComplete);g.setInternalScope(h);g.execute()}return h},onOperationComplete:function(e){var g=this,d=e.hasException();if(d){g.exception=true;g.exceptions.push(e);g.fireEvent("exception",g,e)}if(d&&g.getPauseOnException()){g.pause()}else{g.fireEvent("operationcomplete",g,e);g.runNextOperation()}}});Ext.define("Ext.data.matrix.Slice",{stub:null,constructor:function(d,c){this.id=c;this.side=d;this.members={}},attach:function(d){var c=this;c.store=d;d.matrix=c;d.on("load",c.onStoreLoad,c,{single:true})},changeId:function(A){var s=this,B=s.id,u=s.side,p=u.slices,q=p[B],z=q.members,w=u.index,y=u.inverse.slices,v,x,r;s.id=A;p[A]=q;delete p[B];for(x in z){v=z[x];v[w]=A;r=y[x].members;r[A]=r[B];delete r[B]}},onStoreLoad:function(b){this.update(b.getData().items,0)},update:function(C,J){var w=this,H=Ext.data.matrix.Slice,M=w.side,G=M.index,K=C.length,D=w.id,x=w.members,N=M.inverse,y=N.slices,I,A,B,z,O,F,L;for(B=0;B<K;++B){A=L=null;z=C[B];O=z.isEntity?(L=z).id:z;I=x[O];if(J<0&&I&&I[2]===1){delete x[O];F=y[O];if(F){delete F.members[D]}A=1}else{if(!I){I=[O,O,J];I[G]=D;x[O]=I;F=y[O];if(!F){y[O]=F=new H(N,O)}F.members[D]=I;A=1}else{if(J!==I[2]&&J!==0){I[2]=J;F=y[O];A=1}}}if(A){if(w.notify){w.notify.call(w.scope,w,O,J)}if(F&&F.notify){F.notify.call(F.scope,F,D,J)}}}},destroy:function(){var c=this,d=c.store;if(d){d.matrix=null;d.un("load",c.onStoreLoad,c)}c.notify=c.scope=c.store=c.side=c.members=null;c.callParent()}});Ext.define("Ext.data.matrix.Side",{constructor:function(g,e,h){var j=this;j.matrix=g;j.index=e;j.role=h;j.slices={}},get:function(g,h){var m=this,j=m.slices,l=j[g]||(j[g]=new Ext.data.matrix.Slice(m,g));return(h||h===0)?l.members[h]:l},update:function(e,g,j){var h=this.get(e);return h.update(g,j)},destroy:function(){var e=this,d=e.slices,g;for(g in d){d[g].destroy()}e.inverse=e.matrix=e.role=e.slices=null;e.callParent()}});Ext.define("Ext.data.matrix.Matrix",{constructor:function(m,q){var o=this,j=q.isManyToMany?q:m.getSchema().getAssociation(q),l=Ext.data.matrix.Side,n=new l(o,0,j.left),p=new l(o,1,j.right);o.association=j;o.session=m;o.left=n;o.right=p;n.inverse=p;p.inverse=n},update:function(d,e,g){return this.left.update(d,e,g)},destroy:function(){var b=this;b.left.destroy();b.right.destroy();b.association=b.session=b.left=b.right=null;b.callParent()}});Ext.define("Ext.data.session.ChangesVisitor",{constructor:function(g){var e=this,d;e.session=g;d=g.getCrudProperties();e.result=null;e.writerOptions={};e.createKey=d.create;e.readKey=d.read;e.updateKey=d.update;e.dropKey=d.drop},onDirtyRecord:function(A){var x=this,u=x.crud,B=A.phantom,D=A.dropped,z=!B&&!D,w=A.$className,F=(B||D)?"allDataOptions":"partialDataOptions",y=x.writerOptions,G=A.entityName,r,C,v,s;if(B&&D){return false}u=B?x.createKey:(D?x.dropKey:x.updateKey);y=y[w]||(y[w]={});if(D){if(!(r=y.drop)){y.drop=r={all:A.getProxy().getWriter().getWriteAllFields()}}if(!r.all){v=A.id}}if(!v){if(!(r=y[F])){r=A.getProxy().getWriter().getConfig(F);y[F]=r=Ext.Object.chain(r);x.setupOptions(r)}v=A.getData(r)}s=x.result||(x.result={});C=s[G]||(s[G]={});C=C[u]||(C[u]=[]);C.push(v)},setupOptions:function(b){b.serialize=true},onMatrixChange:function(u,o,p,x){var q=this,w=u.left.type,r=u.right.role,s=x<0?q.dropKey:q.createKey,v,n;n=q.result||(q.result={});v=n[w]||(n[w]={});v=v[r]||(v[r]={});v=v[s]||(v[s]={});v=v[o]||(v[o]=[]);v.push(p)}});Ext.define("Ext.data.session.ChildChangesVisitor",{extend:Ext.data.session.ChangesVisitor,constructor:function(){this.seen={};this.callParent(arguments)},setupOptions:function(b){this.callParent([b]);b.serialize=false},onDirtyRecord:function(b){if(this.callParent(arguments)!==false){if(!b.$source&&(b.dropped||!b.phantom)){this.readEntity(b)}}},readEntity:function(p){var o=this,q=o.readKey,u=p.entityName,s=p.id,v=o.seen,n=u+s,m,r;if(v[n]){return}v[n]=true;m=o.result||(o.result={});r=m[u]||(m[u]={});r=r[q]||(r[q]=[]);r.push(Ext.apply({},p.modified,p.data))}});Ext.define("Ext.data.session.BatchVisitor",{map:null,constructor:function(b){this.batch=b},getBatch:function(p){var o=this.map,r=this.batch,n,l,s,m,q;if(o){if(!r){r=new Ext.data.Batch()}for(s in o){n=o[s];l=n.entity;q=l.getProxy();delete n.entity;for(m in n){m=q.createOperation(m,{records:n[m]});m.entityType=l;r.add(m)}}}if(r&&p!==false){r.sort()}return r},onDirtyRecord:function(j){var n=this,h=j.phantom?"create":(j.dropped?"destroy":"update"),o=j.$className,m=(n.map||(n.map={})),l=(m[o]||(m[o]={entity:j.self}));l=l[h]||(l[h]=[]);l.push(j)}});Ext.define("Ext.data.Session",{isSession:true,config:{schema:"default",parent:null,autoDestroy:true,crudProperties:{create:"C",read:"R",update:"U",drop:"D"}},destroyed:false,crudOperations:[{type:"R",entityMethod:"readEntities"},{type:"C",entityMethod:"createEntities"},{type:"U",entityMethod:"updateEntities"},{type:"D",entityMethod:"dropEntities"}],crudKeys:{C:1,R:1,U:1,D:1},constructor:function(d){var c=this;c.data={};c.matrices={};c.identifierCache={};c.recordCreator=c.recordCreator.bind(c);c.initConfig(d)},destroy:function(){var p=this,j=p.matrices,o=p.data,q,n,l,m;for(m in j){j[m].destroy()}for(q in o){n=o[q];for(m in n){l=n[m].record;if(l){l.$source=l.session=null}}}p.recordCreator=p.matrices=p.data=null;p.setSchema(null);p.callParent()},adopt:function(e){var h=this,j=e.associations,g;if(e.session!==h){e.session=h;h.add(e);if(j){for(g in j){j[g].adoptAssociated(e,h)}}}},commit:function(){var m=this.data,g,l,j,h;for(g in m){l=m[g];for(j in l){h=l[j].record;if(h){h.commit()}}}},createRecord:function(g,m){var l=g.$isClass?g:this.getSchema().getEntity(g),h=this.getParent(),j;if(m&&h){j=l.getIdFromData(m);if(h.peekRecord(l,j)){Ext.Error.raise("A parent session already contains an entry for "+l.entityName+": "+j)}}return new l(m,this)},getChanges:function(){var b=new Ext.data.session.ChangesVisitor(this);this.visitData(b);return b.result},getChangesForParent:function(){var b=new Ext.data.session.ChildChangesVisitor(this);this.visitData(b);return b.result},getRecord:function(r,n,l){var q=this,m=q.peekRecord(r,n),o,s,p;if(!m){o=r.$isClass?r:q.getSchema().getEntity(r);s=q.getParent();if(s){p=s.peekRecord(o,n)}if(p&&!p.isLoading()){m=p.copy(undefined,q);m.$source=p}else{m=o.createWithId(n,null,q);if(l!==false){m.load(Ext.isObject(l)?l:undefined)}}}return m},getSaveBatch:function(d){var c=new Ext.data.session.BatchVisitor();this.visitData(c);return c.getBatch(d)},onInvalidAssociationEntity:function(d,c){Ext.Error.raise("Unable to read association entity: "+this.getModelIdentifier(d,c))},onInvalidEntityCreate:function(d,c){Ext.Error.raise("Cannot create, record already not exists: "+this.getModelIdentifier(d,c))},onInvalidEntityDrop:function(d,c){Ext.Error.raise("Cannot drop, record does not exist: "+this.getModelIdentifier(d,c))},onInvalidEntityRead:function(d,c){Ext.Error.raise("Cannot read, record already not exists: "+this.getModelIdentifier(d,c))},onInvalidEntityUpdate:function(e,g,d){if(d){Ext.Error.raise("Cannot update, record dropped: "+this.getModelIdentifier(e,g))}else{Ext.Error.raise("Cannot update, record does not exist: "+this.getModelIdentifier(e,g))}},peekRecord:function(q,n,m){var o=q.$isClass?q:this.getSchema().getEntity(q),s=o.entityName,p=this.data[s],l,r;p=p&&p[n];l=p&&p.record;if(!l&&m){r=this.getParent();l=r&&r.peekRecord(q,n,m)}return l||null},save:function(){var b=new Ext.data.session.ChildChangesVisitor(this);this.visitData(b);this.getParent().update(b.result)},spawn:function(){return new this.self({schema:this.getSchema(),parent:this})},update:function(A){var y=this,F=y.getSchema(),J=y.crudOperations,z=J.length,x=y.crudKeys,w,D,u,B,G,K,H,v,C,I;y.getSchema().processKeyChecks(true);for(w in A){D=F.getEntity(w);u=A[w];for(B=0;B<z;++B){G=J[B];K=u[G.type];if(K){y[G.entityMethod](D,K)}}}for(w in A){D=F.getEntity(w);H=D.associations;u=A[w];for(v in u){if(x[v]){continue}C=H[v];I=u[C.role];C.processUpdate(y,I)}}},privates:{add:function(h){var m=this,l=h.id,n=m.getEntry(h.self,l),o,j;n.record=h;m.registerReferences(h);o=h.associations;for(j in o){o[j].checkMembership(m,h)}},afterErase:function(b){this.evict(b)},applySchema:function(b){return Ext.data.schema.Schema.get(b)},createEntities:function(p,j){var l=j.length,q,o,n,m;for(q=0;q<l;++q){o=j[q];m=p.getIdFromData(o);n=this.peekRecord(p,m);if(!n){n=this.createRecord(p,o)}else{this.onInvalidEntityCreate(p,m)}n.phantom=true}},dropEntities:function(n,o){var j=o.length,h,m,l;for(h=0;h<j;++h){l=o[h];m=this.peekRecord(n,l);if(m){m.drop()}else{this.onInvalidEntityDrop(n,l)}}},evict:function(h){var g=h.entityName,l=this.data[g],j=h.id,m;if(l){delete l[j]}},getEntityList:function(p,q){var l=q.length,j,m,n,o;for(j=0;j<l;++j){m=q[j];n=this.peekRecord(p,m);if(n){q[j]=n}else{o=true;q[j]=null;this.onInvalidAssociationEntity(p,m)}}if(o){q=Ext.Array.clean(q)}return q},getEntry:function(h,l){if(h.isModel){l=h.getId();h=h.self}var n=h.$isClass?h:this.getSchema().getEntity(h),j=n.entityName,m=this.data,o;o=m[j]||(m[j]={});o=o[l]||(o[l]={});return o},getRefs:function(r,s,n){var p=this.getEntry(r),q=p&&p.refs&&p.refs[s.role],o=n&&this.getParent(),m,v,u;if(o){m=o.getRefs(r,s);if(m){for(v in m){u=m[v];if((!q||!q[v])){this.getRecord(u.self,u.id)}}q=p&&p.refs&&p.refs[s.role]}}return q||null},getIdentifier:function(l){var m=this.getParent(),j,o,n,h;if(m){h=m.getIdentifier(l)}else{j=this.identifierCache;o=l.identifier;n=o.id||l.entityName;h=j[n];if(!h){if(o.clone){h=o.clone({cache:j})}else{h=o}j[n]=h}}return h},getMatrix:function(h,j){var l=h.isManyToMany?h.name:h,m=this.matrices,g;g=m[l];if(!g&&!j){g=m[l]=new Ext.data.matrix.Matrix(this,h)}return g||null},getMatrixSlice:function(h,j){var g=this.getMatrix(h.association),e=g[h.side];return e.get(j)},getModelIdentifier:function(d,c){return c+"@"+d.entityName},onIdChanged:function(M,F,J){var z=this,I=M.entityName,D=M.id,x=z.data[I],P=x[F],A=M.associations,O=P.refs,Q=z._setNoRefs,L,N,B,H,y,G,C,K;delete x[F];x[J]=P;for(G in A){y=A[G];if(y.isMany){K=y.getAssociatedItem(M);if(K){B=K.matrix;if(B){B.changeId(J)}}}}if(O){for(G in O){C=O[G];y=A[G];L=y.association;if(L.isManyToMany){}else{N=L.field.name;for(H in C){C[H].set(N,D,Q)}}}}z.registerReferences(M,F)},processManyBlock:function(p,n,s,r){var q=this,o,m,l;if(s){for(o in s){m=q.peekRecord(p,o);if(m){records=q.getEntityList(n.cls,s[o]);l=n.getAssociatedItem(m);q[r](n,l,m,records)}else{q.onInvalidAssociationEntity(p,o)}}}},processManyCreate:function(h,j,g,e){if(j){j.add(e)}else{g[h.getterName](null,null,e)}},processManyDrop:function(h,j,g,e){if(j){j.remove(e)}},processManyRead:function(h,j,g,e){if(j){j.setRecords(e)}else{g[h.getterName](null,null,e)}},readEntities:function(p,j){var l=j.length,q,o,n,m;for(q=0;q<l;++q){o=j[q];m=p.getIdFromData(o);n=this.peekRecord(p,m);if(!n){n=this.createRecord(p,o)}else{this.onInvalidEntityRead(p,m)}n.phantom=false}},recordCreator:function(m,l){var g=this,j=l.getIdFromData(m),h=g.peekRecord(l,j,true);if(!h){h=new l(m,g)}else{h=g.getRecord(l,j)}return h},registerReferences:function(y,D){var v=y.entityName,F=y.id,G=y.data,z=D||D===0,u,A,r,x,C,s,w,B;x=(s=y.references).length;for(A=0;A<x;++A){C=s[A];r=G[C.name];if(r||r===0){C=C.reference;v=C.type;B=C.inverse.role;u=this.getEntry(C.cls,r);w=u.refs||(u.refs={});w=w[B]||(w[B]={});w[F]=y;if(z){delete w[D]}}}},updateEntities:function(q,l){var m=l.length,r,p,o,n,s;if(Ext.isArray(l)){for(r=0;r<m;++r){p=l[r];n=q.getIdFromData(p);o=this.peekRecord(q,n);if(o){o.set(p)}else{this.onInvalidEntityUpdate(q,n)}}}else{for(n in l){p=l[n];o=this.peekRecord(q,n);if(o&&!o.dropped){s=o.set(p)}else{this.onInvalidEntityUpdate(q,n,!!o)}}}},updateReference:function(r,p,v,x){var u=p.reference,o=u.type,s=u.inverse.role,w=r.id,n,q;if(x||x===0){q=this.getEntry(o,x).refs[s];delete q[w]}if(v||v===0){n=this.getEntry(o,v);q=n.refs||(n.refs={});q=q[s]||(q[s]={});q[w]=r}},visitData:function(B){var z=this,D=z.data,v=z.matrices,w,A,G,s,y,F,H,C,x,u,I;z.getSchema().processKeyChecks(true);for(H in D){w=D[H];for(G in w){C=w[G].record;if(C){if(C.phantom||C.dirty||C.dropped){if(B.onDirtyRecord){B.onDirtyRecord(C)}}else{if(B.onCleanRecord){B.onCleanRecord(C)}}}}}if(B.onMatrixChange){for(H in v){y=v[H].left;u=y.slices;A=y.role.association;for(G in u){x=u[G];F=x.members;for(s in F){I=(C=F[s])[2];if(I){B.onMatrixChange(A,C[0],C[1],I)}}}}}return B},_setNoRefs:{refs:false}}});Ext.define("E.xforms.overrideSession",{override:"Ext.data.Session",privates:{recordCreator:function(p,o,s,l){var q=this;if(Ext.isString(p)){var r=p;p={};p[o.idField.name]=r}var n=o.getIdFromData(p),m=q.peekRecord(o,n,true);if(!m){m=new o(p,q,s,l)}else{m=q.getRecord(o,n);m.set(p);if(l){m.raw=l}}return m}}});Ext.define("Ext.layout.component.Component",{extend:Ext.layout.Layout,type:"component",isComponentLayout:true,nullBox:{},usesContentHeight:true,usesContentWidth:true,usesHeight:true,usesWidth:true,widthCache:{},heightCache:{},beginLayoutCycle:function(G,K){var y=this,H=y.owner,C=G.ownerCtContext,B=G.heightModel,A=G.widthModel,z=H.el.dom===document.body,D=H.lastBox||y.nullBox,w=H.el.lastBox||y.nullBox,J=!z,F=G.isTopLevel,x,v,I,u;y.callParent(arguments);if(K){if(y.usesContentWidth){++G.consumersContentWidth}if(y.usesContentHeight){++G.consumersContentHeight}if(y.usesWidth){++G.consumersWidth}if(y.usesHeight){++G.consumersHeight}if(C&&!C.hasRawContent){x=H.ownerLayout;if(x){if(x.usesWidth){++G.consumersWidth}if(x.usesHeight){++G.consumersHeight}}}}if(A.configured){I=H[A.names.width];if(F&&A.calculatedFrom){I=D.width}if(!z){J=y.setWidthInDom||(K?I!==w.width:A.constrained)}G.setWidth(I,J)}else{if(F){if(A.calculated){v=D.width;G.setWidth(v,v!=w.width)}v=D.x;G.setProp("x",v,v!=w.x)}}if(B.configured){u=H[B.names.height];if(F&&B.calculatedFrom){u=D.height}if(!z){J=K?u!==w.height:B.constrained}G.setHeight(u,J)}else{if(F){if(B.calculated){v=D.height;G.setHeight(v,v!=w.height)}v=D.y;G.setProp("y",v,v!=w.y)}}},finishedLayout:function(u){var o=this,m=u.children,v=o.owner,q,s,n,r,p;if(m){q=m.length;for(s=0;s<q;s++){n=m[s];n.el.lastBox=n.props}}u.previousSize=o.lastComponentSize;o.lastComponentSize=v.el.lastBox=p=u.props;r=v.lastBox||(v.lastBox={});r.x=p.x;r.y=p.y;r.width=p.width;r.height=p.height;r.invalid=false;o.callParent(arguments)},notifyOwner:function(l){var m=this,h=m.lastComponentSize,j=l.previousSize,g=[h.width,h.height];if(j){g.push(j.width,j.height)}m.owner.afterComponentLayout.apply(m.owner,g)},getTarget:function(){return this.owner.el},getRenderTarget:function(){return this.owner.el},cacheTargetInfo:function(e){var g=this,h=g.targetInfo,j;if(!h){j=e.getEl("getTarget",g);g.targetInfo=h={padding:j.getPaddingInfo(),border:j.getBorderInfo()}}return h},measureAutoDimensions:function(N,R){var D=this,Y=D.owner,H=Y.layout,V=N.heightModel,S=N.widthModel,W=N.boxParent,K=N.isBoxParent,C=N.target,X=N.props,Q,B={gotWidth:false,gotHeight:false,isContainer:(Q=!N.hasRawContent)},F=R||3,I,U,P=0,T=0,O,J,G,M,L;if(S.shrinkWrap&&N.consumersContentWidth){++P;I=!(F&1);if(Q){if(I){B.contentWidth=0;B.gotWidth=true;++T}else{if((B.contentWidth=N.getProp("contentWidth"))!==undefined){B.gotWidth=true;++T}}}else{J=X.contentWidth;if(typeof J=="number"){B.contentWidth=J;B.gotWidth=true;++T}else{if(I){O=true}else{if(!N.hasDomProp("containerChildrenSizeDone")){O=false}else{if(K||!W||W.widthModel.shrinkWrap){O=true}else{O=W.hasDomProp("width")}}}if(O){if(I){G=0}else{if(H&&H.measureContentWidth){G=H.measureContentWidth(N)}else{if(C.cacheWidth){M=C.xtype+"-"+C.ui;L=D.widthCache;G=L[M]||(L[M]=D.measureContentWidth(N))}else{G=D.measureContentWidth(N)}}}if(!isNaN(B.contentWidth=G)){N.setContentWidth(G,true);B.gotWidth=true;++T}}}}}else{if(S.natural&&N.consumersWidth){++P;J=X.width;if(typeof J=="number"){B.width=J;B.gotWidth=true;++T}else{if(K||!W){O=true}else{O=W.hasDomProp("width")}if(O){if(!isNaN(B.width=D.measureOwnerWidth(N))){N.setWidth(B.width,false);B.gotWidth=true;++T}}}}}if(V.shrinkWrap&&N.consumersContentHeight){++P;U=!(F&2);if(Q){if(U){B.contentHeight=0;B.gotHeight=true;++T}else{if((B.contentHeight=N.getProp("contentHeight"))!==undefined){B.gotHeight=true;++T}}}else{J=X.contentHeight;if(typeof J=="number"){B.contentHeight=J;B.gotHeight=true;++T}else{if(U){O=true}else{if(!N.hasDomProp("containerChildrenSizeDone")){O=false}else{if(Y.noWrap){O=true}else{if(!S.shrinkWrap){O=(N.bodyContext||N).hasDomProp("width")}else{if(K||!W||W.widthModel.shrinkWrap){O=true}else{O=W.hasDomProp("width")}}}}}if(O){if(U){G=0}else{if(H&&H.measureContentHeight){G=H.measureContentHeight(N)}else{if(C.cacheHeight){M=C.xtype+"-"+C.ui;L=D.heightCache;G=L[M]||(L[M]=D.measureContentHeight(N))}else{G=D.measureContentHeight(N)}}}if(!isNaN(B.contentHeight=G)){N.setContentHeight(G,true);B.gotHeight=true;++T}}}}}else{if(V.natural&&N.consumersHeight){++P;J=X.height;if(typeof J=="number"){B.height=J;B.gotHeight=true;++T}else{if(K||!W){O=true}else{O=W.hasDomProp("width")}if(O){if(!isNaN(B.height=D.measureOwnerHeight(N))){N.setHeight(B.height,false);B.gotHeight=true;++T}}}}}if(W){N.onBoxMeasured()}B.gotAll=T==P;return B},measureContentWidth:function(b){return b.el.getWidth()-b.getFrameInfo().width},measureContentHeight:function(b){return b.el.getHeight()-b.getFrameInfo().height},measureOwnerHeight:function(b){return b.el.getHeight()},measureOwnerWidth:function(b){return b.el.getWidth()}});Ext.define("Ext.layout.component.Auto",{alias:"layout.autocomponent",extend:Ext.layout.component.Component,type:"autocomponent",setHeightInDom:false,setWidthInDom:false,waitForOuterHeightInDom:false,waitForOuterWidthInDom:false,beginLayoutCycle:function(n,j){var o=this,l=o.lastWidthModel,m=o.lastHeightModel,h=o.owner.el;o.callParent(arguments);if(l&&l.fixed&&n.widthModel.shrinkWrap){h.setWidth(null)}if(m&&m.fixed&&n.heightModel.shrinkWrap){h.setHeight(null)}},calculate:function(m){var n=this,o=n.measureAutoDimensions(m),j=m.heightModel,q=m.widthModel,p,l;if(o.gotWidth){if(q.shrinkWrap){n.publishOwnerWidth(m,o.contentWidth)}else{if(n.publishInnerWidth){n.publishInnerWidth(m,o.width)}}}else{if(!q.auto&&n.publishInnerWidth){p=n.waitForOuterWidthInDom?m.getDomProp("width"):m.getProp("width");if(p===undefined){n.done=false}else{n.publishInnerWidth(m,p)}}}if(o.gotHeight){if(j.shrinkWrap){n.publishOwnerHeight(m,o.contentHeight)}else{if(n.publishInnerHeight){n.publishInnerHeight(m,o.height)}}}else{if(!j.auto&&n.publishInnerHeight){l=n.waitForOuterHeightInDom?m.getDomProp("height"):m.getProp("height");if(l===undefined){n.done=false}else{n.publishInnerHeight(m,l)}}}if(!o.gotAll){n.done=false}},calculateOwnerHeightFromContentHeight:function(c,d){return d+c.getFrameInfo().height},calculateOwnerWidthFromContentWidth:function(c,d){return d+c.getFrameInfo().width},publishOwnerHeight:function(n,p){var q=this,l=q.owner,m=q.calculateOwnerHeightFromContentHeight(n,p),o,r,s;if(isNaN(m)){q.done=false}else{o=Ext.Number.constrain(m,l.minHeight,l.maxHeight);if(o==m){r=q.setHeightInDom}else{s=q.sizeModels[(o<m)?"constrainedMax":"constrainedMin"];m=o;if(n.heightModel.calculatedFromShrinkWrap){n.heightModel=s}else{n.invalidate({heightModel:s})}}n.setHeight(m,r)}},publishOwnerWidth:function(o,l){var p=this,m=p.owner,q=p.calculateOwnerWidthFromContentWidth(o,l),n,r,s;if(isNaN(q)){p.done=false}else{n=Ext.Number.constrain(q,m.minWidth,m.maxWidth);if(n==q){r=p.setWidthInDom}else{s=p.sizeModels[(n<q)?"constrainedMax":"constrainedMin"];q=n;if(o.widthModel.calculatedFromShrinkWrap){o.widthModel=s}else{o.invalidate({widthModel:s})}}o.setWidth(q,r)}}});Ext.define("Ext.panel.Header",{extend:Ext.panel.Bar,xtype:"header",isHeader:true,defaultType:"tool",indicateDrag:false,weight:-1,shrinkWrap:3,iconAlign:"left",titleAlign:"left",titlePosition:0,titleRotation:"default",beforeRenderConfig:{glyph:null,icon:null,iconCls:null,iconAlign:null,title:{$value:{ariaRole:"presentation",xtype:"title",flex:1},merge:function(c,d){if(typeof c=="string"){c={text:c}}return Ext.merge(d?Ext.Object.chain(d):{},c)}},titleAlign:null,titlePosition:null,titleRotation:null},headerCls:Ext.baseCSSPrefix+"header",initComponent:function(){var h=this,j=h.items,e=h.itemPosition,g=[h.headerCls];h.tools=h.tools||[];h.items=j=(j?j.slice():[]);if(e!==undefined){h._userItems=j.slice();h.items=j=[]}h.indicateDragCls=h.headerCls+"-draggable";if(h.indicateDrag){g.push(h.indicateDragCls)}h.addCls(g);h.syncNoBorderCls();Ext.Array.push(j,h.tools);h.tools.length=0;h.callParent();h.on({dblclick:h.onDblClick,click:h.onClick,element:"el",scope:h})},addTool:function(b){this.add(Ext.ComponentManager.create(b,"tool"))},afterLayout:function(){var g=this,j,h,m,l;if(g.vertical){h=g.frameTR;if(h){j=g.frameBR;m=g.frameTL;l=(g.getWidth()-h.getPadding("r")-((m)?m.getPadding("l"):g.el.getBorderWidth("l")))+"px";j.setStyle("background-position-x",l);h.setStyle("background-position-x",l)}}this.callParent()},applyTitle:function(j,m){var l=this,h,g;j=j||"";h=typeof j==="string";if(h){j={text:j}}if(m){Ext.suspendLayouts();m.setConfig(j);Ext.resumeLayouts(true);j=m}else{if(h){j.xtype="title"}j.ui=l.ui;j.headerRole=l.headerRole;g=("rotation" in j);j=Ext.create(j);if(!g&&l.vertical&&l.titleRotation==="default"){j.rotation=1}}return j},applyTitlePosition:function(c){var d=this.items.getCount();if(this._titleInItems){--d}return Math.max(Math.min(c,d),0)},beforeLayout:function(){this.callParent();this.syncBeforeAfterTitleClasses()},beforeRender:function(){var c=this,d=c.itemPosition;c.protoEl.unselectable();c.callParent();if(d!==undefined){c.insert(d,c._userItems)}},getTools:function(){return this.tools.slice()},onAdd:function(d,e){var g=this.tools;this.callParent([d,e]);if(d.isTool){g.push(d);g[d.type]=d}},onAdded:function(d,g,e){this.syncNoBorderCls();this.callParent([d,g,e])},onRemoved:function(d,g,e){this.syncNoBorderCls();this.callParent([d,g,e])},setDock:function(m){var g=this,j=g.getTitle(),h=g.getTitleRotation(),l=j.getRotation();Ext.suspendLayouts();g.callParent([m]);if(h==="default"){h=(g.vertical?1:0);if(h!==l){j.setRotation(h)}if(g.rendered){g.resetItemMargins()}}Ext.resumeLayouts(true)},updateGlyph:function(b){this.getTitle().setGlyph(b)},updateIcon:function(b){this.getTitle().setIcon(b)},updateIconAlign:function(c,d){this.getTitle().setIconAlign(c)},updateIconCls:function(b){this.getTitle().setIconCls(b)},updateTitle:function(c,d){if(!d){this.insert(this.getTitlePosition(),c);this._titleInItems=true}this.titleCmp=c},updateTitleAlign:function(c,d){this.getTitle().setTextAlign(c)},updateTitlePosition:function(b){this.insert(b,this.getTitle())},updateTitleRotation:function(b){if(b==="default"){b=(this.vertical?1:0)}this.getTitle().setRotation(b)},privates:{fireClickEvent:function(e,g){var d="."+Ext.panel.Tool.prototype.baseCls;if(!g.getTarget(d)){this.fireEvent(e,this,g)}},getFocusEl:function(){return this.el},getFramingInfoCls:function(){var g=this,d=g.callParent(),e=g.ownerCt;if(!g.expanding&&e&&(e.collapsed||g.isCollapsedExpander)){d+="-"+e.collapsedCls}return d+"-"+g.dock},onClick:function(b){this.fireClickEvent("click",b)},onDblClick:function(b){this.fireClickEvent("dblclick",b)},syncBeforeAfterTitleClasses:function(z){var s=this,u=s.items,w=u.items,A=s.getTitlePosition(),B=w.length,v=u.generation,r=s.syncBeforeAfterGen,p,x,y,q;if(!z&&(r===v)){return}s.syncBeforeAfterGen=v;for(y=0;y<B;++y){q=w[y];p=q.afterTitleCls||(q.afterTitleCls=q.baseCls+"-after-title");x=q.beforeTitleCls||(q.beforeTitleCls=q.baseCls+"-before-title");if(!s.title||y<A){if(r){q.removeCls(p)}q.addCls(x)}else{if(y>A){if(r){q.removeCls(x)}q.addCls(p)}}}},syncNoBorderCls:function(){var d=this,e=this.ownerCt,g=d.headerCls+"-noborder";if(e?(e.border===false&&!e.frame):d.border===false){d.addCls(g)}else{d.removeCls(g)}}}});Ext.define("Ext.layout.container.boxOverflow.None",{alternateClassName:"Ext.layout.boxOverflow.None",alias:["box.overflow.none","box.overflow.None"],mixins:[Ext.mixin.Factoryable],factoryConfig:{defaultType:"none"},isBoxOverflowHandler:true,$configPrefixed:false,$configStrict:false,constructor:function(b){this.initConfig(b)},handleOverflow:Ext.emptyFn,clearOverflow:Ext.emptyFn,beginLayout:Ext.emptyFn,beginLayoutCycle:Ext.emptyFn,calculate:function(e){var g=this,j=e.state.boxPlan,h;if(j&&j.tooNarrow){h=g.handleOverflow(e);if(h){if(h.reservedSpace){g.layout.publishInnerCtSize(e,h.reservedSpace)}}}else{g.clearOverflow()}},completeLayout:Ext.emptyFn,finishedLayout:function(l){var m=this,h=m.layout.owner,g,j;if(h.hasListeners.overflowchange){g=h.query(">[hidden]");j=g.length;if(j!==m.lastHiddenCount){h.fireEvent("overflowchange",m.lastHiddenCount,j,g);m.lastHiddenCount=j}}},onRemove:Ext.emptyFn,getItem:function(b){return this.layout.owner.getComponent(b)},getOwnerType:function(d){var c;if(d.isToolbar){c="toolbar"}else{if(d.isTabBar){c="tab-bar"}else{if(d.isMenu){c="menu"}else{if(d.isBreadcrumb){c="breadcrumb"}else{c=d.getXType()}}}}return c},getPrefixConfig:Ext.emptyFn,getSuffixConfig:Ext.emptyFn,getOverflowCls:function(){return""},setVertical:function(){var d=this,e=d.layout,g=e.innerCt;g.removeCls(d.getOverflowCls(e.oppositeDirection));g.addCls(d.getOverflowCls(e.direction))}});Ext.define("Ext.util.ClickRepeater",{extend:Ext.util.Observable,constructor:function(d,e){var g=this;g.el=Ext.get(d);g.el.unselectable();Ext.apply(g,e);g.callParent();if(!g.disabled){g.disabled=true;g.enable()}if(g.handler){g.on("click",g.handler,g.scope||g)}},interval:20,delay:250,preventDefault:true,stopDefault:false,timer:0,enable:function(){if(this.disabled){this.el.on("mousedown",this.handleMouseDown,this);if(Ext.isIE8){this.el.on("dblclick",this.handleDblClick,this)}if(this.preventDefault||this.stopDefault){this.el.on("click",this.eventOptions,this)}}this.disabled=false},disable:function(b){if(b||!this.disabled){clearTimeout(this.timer);if(this.pressedCls){this.el.removeCls(this.pressedCls)}Ext.getDoc().un("mouseup",this.handleMouseUp,this);this.el.clearListeners()}this.disabled=true},setDisabled:function(b){this[b?"disable":"enable"]()},eventOptions:function(b){if(this.preventDefault){b.preventDefault()}if(this.stopDefault){b.stopEvent()}},destroy:function(){this.disable(true);this.clearListeners()},handleDblClick:function(b){clearTimeout(this.timer);this.el.blur();this.fireEvent("mousedown",this,b);this.fireEvent("click",this,b)},handleMouseDown:function(b){clearTimeout(this.timer);this.el.blur();if(this.pressedCls){this.el.addCls(this.pressedCls)}this.mousedownTime=new Date();Ext.getDoc().on("mouseup",this.handleMouseUp,this);this.el.on("mouseout",this.handleMouseOut,this);this.fireEvent("mousedown",this,b);this.fireEvent("click",this,b);if(this.accelerate){this.delay=400}this.timer=Ext.defer(this.click,this.delay||this.interval,this,[b])},click:function(b){this.fireEvent("click",this,b);this.timer=Ext.defer(this.click,this.accelerate?this.easeOutExpo(Ext.Date.getElapsed(this.mousedownTime),400,-390,12000):this.interval,this,[b])},easeOutExpo:function(j,b,c,d){return(j==d)?b+c:c*(-Math.pow(2,-10*j/d)+1)+b},handleMouseOut:function(){clearTimeout(this.timer);if(this.pressedCls){this.el.removeCls(this.pressedCls)}this.el.on("mouseover",this.handleMouseReturn,this)},handleMouseReturn:function(b){this.el.un("mouseover",this.handleMouseReturn,this);if(this.pressedCls){this.el.addCls(this.pressedCls)}this.click(b)},handleMouseUp:function(b){clearTimeout(this.timer);this.el.un("mouseover",this.handleMouseReturn,this);this.el.un("mouseout",this.handleMouseOut,this);Ext.getDoc().un("mouseup",this.handleMouseUp,this);if(this.pressedCls){this.el.removeCls(this.pressedCls)}this.fireEvent("mouseup",this,b)}});Ext.define("Ext.layout.container.boxOverflow.Scroller",{extend:Ext.layout.container.boxOverflow.None,alternateClassName:"Ext.layout.boxOverflow.Scroller",alias:["box.overflow.scroller","box.overflow.Scroller"],mixins:{observable:Ext.mixin.Observable},animateScroll:false,scrollIncrement:20,wheelIncrement:10,scrollRepeatInterval:60,scrollDuration:400,scrollerCls:Ext.baseCSSPrefix+"box-scroller",beforeSuffix:"-before-scroller",afterSuffix:"-after-scroller",constructor:function(d){var c=this;c.mixins.observable.constructor.call(c,d);c.scrollPosition=0;c.scrollSize=0},getPrefixConfig:function(){return{role:"presentation",id:this.layout.owner.id+this.beforeSuffix,cls:this.createScrollerCls("beforeX"),style:"display:none"}},getSuffixConfig:function(){return{role:"presentation",id:this.layout.owner.id+this.afterSuffix,cls:this.createScrollerCls("afterX"),style:"display:none"}},createScrollerCls:function(q){var o=this,p=o.layout,l=p.owner,n=Ext.baseCSSPrefix,r=o.getOwnerType(l),m=o.scrollerCls,s=m+" "+m+"-"+p.names[q]+" "+m+"-"+r+" "+m+"-"+r+"-"+l.ui;if(l.plain){s+=" "+m+"-plain"}return s},getOverflowCls:function(b){return this.scrollerCls+"-body-"+b},beginLayout:function(c){var d=this.layout;c.innerCtScrollPos=this.getScrollPosition();this.callParent(arguments)},finishedLayout:function(q){var r=this,o=q.state.boxPlan,s=r.layout,p=s.names,n=Math.min(r.getMaxScrollPosition(),q.innerCtScrollPos),m,l;if(o&&o.tooNarrow){m=q.childItems[q.childItems.length-1].props;r.scrollSize=m[p.x]+m[p.width];r.updateScrollButtons()}s.innerCt[p.setScrollLeft](n);this.callParent([q])},handleOverflow:function(u){var o=this,p=o.layout.names,n=p.getWidth,m=p.parallelMargins,s,q,r,v;o.showScrollers();r=o.getBeforeScroller();v=o.getAfterScroller();s=r[n]()+v[n]()+r.getMargin(m)+v.getMargin(m);q=u.targetContext.getPaddingInfo()[p.width];return{reservedSpace:Math.max(s-q,0)}},getBeforeScroller:function(){var b=this;return b._beforeScroller||(b._beforeScroller=b.createScroller(b.beforeSuffix,"beforeRepeater","scrollLeft"))},getAfterScroller:function(){var b=this;return b._afterScroller||(b._afterScroller=b.createScroller(b.afterSuffix,"afterRepeater","scrollRight"))},createScroller:function(n,p,m){var o=this,q=o.layout.owner,j=o.scrollerCls,l;l=q.el.getById(q.id+n);l.addClsOnOver(j+"-hover");l.addClsOnClick(j+"-pressed");l.setVisibilityMode(Ext.Element.DISPLAY);o[p]=new Ext.util.ClickRepeater(l,{interval:o.scrollRepeatInterval,handler:m,scope:o});return l},createWheelListener:function(){var b=this;b.layout.innerCt.on({mousewheel:function(a){b.scrollBy(b.getWheelDelta(a)*b.wheelIncrement*-1,false)},stopEvent:true})},getWheelDelta:function(b){return b.getWheelDelta()},clearOverflow:function(){this.hideScrollers()},showScrollers:function(){var b=this;b.createWheelListener();b.getBeforeScroller().show();b.getAfterScroller().show();b.layout.owner.addClsWithUI(b.layout.direction==="vertical"?"vertical-scroller":"scroller")},hideScrollers:function(){var d=this,g=d.getBeforeScroller(),e=d.getAfterScroller();if(g){g.hide();e.hide();d.layout.owner.removeClsWithUI(d.layout.direction==="vertical"?"vertical-scroller":"scroller")}},destroy:function(){var b=this;Ext.destroy(b.beforeRepeater,b.afterRepeater,b._beforeScroller,b._afterScroller)},scrollBy:function(c,d){this.scrollTo(this.getScrollPosition()+c,d)},getScrollAnim:function(){return{duration:this.scrollDuration,callback:this.updateScrollButtons,scope:this}},updateScrollButtons:function(){var e=this,h=e.getBeforeScroller(),g=e.getAfterScroller(),j;if(!h||!g){return}j=e.scrollerCls+"-disabled";h[e.atExtremeBefore()?"addCls":"removeCls"](j);g[e.atExtremeAfter()?"addCls":"removeCls"](j);e.scrolling=false},scrollLeft:function(){this.scrollBy(-this.scrollIncrement,false)},scrollRight:function(){this.scrollBy(this.scrollIncrement,false)},getScrollPosition:function(){var g=this,d=g.layout,e;if(isNaN(g.scrollPosition)){e=d.innerCt[d.names.getScrollLeft]()}else{e=g.scrollPosition}return e},getMaxScrollPosition:function(){var d=this,e=d.layout,g=d.scrollSize-e.innerCt[e.names.getWidth]();return(g<0)?0:g},atExtremeBefore:function(){return !this.getScrollPosition()},atExtremeAfter:function(){return this.getScrollPosition()>=this.getMaxScrollPosition()},setVertical:function(){var m=this,l=m.getBeforeScroller(),g=m.getAfterScroller(),j=m.layout.names,h=m.scrollerCls;l.removeCls(h+"-"+j.beforeY);g.removeCls(h+"-"+j.afterY);l.addCls(h+"-"+j.beforeX);g.addCls(h+"-"+j.afterX);this.callParent()},scrollTo:function(l,j){var n=this,o=n.layout,m=o.names,p=n.getScrollPosition(),q=Ext.Number.constrain(l,0,n.getMaxScrollPosition());if(q!=p&&!n.scrolling){n.scrollPosition=NaN;if(j===undefined){j=n.animateScroll}o.innerCt[m.scrollTo](m.beforeScrollX,q,j?n.getScrollAnim():false);if(j){n.scrolling=true}else{n.updateScrollButtons()}n.fireEvent("scroll",n,q,j?n.getScrollAnim():false)}},scrollToItem:function(n,v){var o=this,r=o.layout,u=r.owner,p=r.names,w=r.innerCt,x,s,q;n=o.getItem(n);if(n!==undefined){if(n==u.items.first()){q=0}else{if(n===u.items.last()){q=o.getMaxScrollPosition()}else{x=o.getItemVisibility(n);if(!x.fullyVisible){s=n.getBox(false,true);q=s[p.x];if(x.hiddenEnd){q-=(w[p.getWidth]()-s[p.width])}}}}if(q!==undefined){o.scrollTo(q,v)}}},getItemVisibility:function(m){var o=this,u=o.getItem(m).getBox(true,true),s=o.layout,p=s.names,q=u[p.x],r=q+u[p.width],v=o.getScrollPosition(),n=v+s.innerCt[p.getWidth]();return{hiddenStart:q<v,hiddenEnd:r>n,fullyVisible:q>v&&r<n}}});Ext.define("Ext.dd.DragDropManager",{singleton:true,alternateClassName:["Ext.dd.DragDropMgr","Ext.dd.DDM"],ids:{},handleIds:{},dragCurrent:null,dragOvers:{},deltaX:0,deltaY:0,preventDefault:true,stopPropagation:true,initialized:false,locked:false,init:function(){this.initialized=true},POINT:0,INTERSECT:1,mode:0,notifyOccluded:false,dragCls:Ext.baseCSSPrefix+"dd-drag-current",_execOnAll:function(q,j){var o=this.ids,p,l,m,n;for(p in o){if(o.hasOwnProperty(p)){n=o[p];for(l in n){if(n.hasOwnProperty(l)){m=n[l];if(!this.isTypeOfDD(m)){continue}m[q].apply(m,j)}}}}},addListeners:function(){var b=this;b.init();Ext.getDoc().on({mouseup:b.handleMouseUp,mousemove:{fn:b.handleMouseMove,capture:false},dragstart:b.preventDrag,drag:b.preventDrag,dragend:b.preventDrag,capture:true,scope:b});Ext.getWin().on({unload:b._onUnload,resize:b._onResize,scope:b})},preventDrag:function(b){if(this.isMouseDown){b.stopPropagation()}},_onResize:function(b){this._execOnAll("resetConstraints",[])},lock:function(){this.locked=true},unlock:function(){this.locked=false},isLocked:function(){return this.locked},locationCache:{},useCache:true,clickPixelThresh:8,dragThreshMet:false,clickTimeout:null,startX:0,startY:0,regDragDrop:function(c,d){if(!this.initialized){this.init()}if(!this.ids[d]){this.ids[d]={}}this.ids[d][c.id]=c},removeDDFromGroup:function(g,e){if(!this.ids[e]){this.ids[e]={}}var d=this.ids[e];if(d&&d[g.id]){delete d[g.id]}},_remove:function(l,g){var m=this,o=m.ids,j=l.groups,n;if(m.clearingAll){return}if(m.dragCurrent===l){m.dragCurrent=null}for(n in j){if(j.hasOwnProperty(n)){if(g){delete o[n]}else{if(o[n]){delete o[n][l.id]}}}}delete m.handleIds[l.id]},regHandle:function(c,d){if(!this.handleIds[c]){this.handleIds[c]={}}this.handleIds[c][d]=d},isDragDrop:function(b){return(this.getDDById(b))?true:false},getRelated:function(l,h){var m=[],n,o,j;for(n in l.groups){for(o in this.ids[n]){j=this.ids[n][o];if(!this.isTypeOfDD(j)){continue}if(!h||j.isTarget){m[m.length]=j}}}return m},isLegalTarget:function(j,l){var g=this.getRelated(j,true),m,h;for(m=0,h=g.length;m<h;++m){if(g[m].id==l.id){return true}}return false},isTypeOfDD:function(b){return(b&&b.__ygDragDrop)},isHandle:function(c,d){return(this.handleIds[c]&&this.handleIds[c][d])},getDDById:function(h,j){var e,g;for(e in this.ids){g=this.ids[e][h];if(g instanceof Ext.dd.DDTarget||j){return g}}return null},handleMouseDown:function(j,l){var e=this,m,h;e.isMouseDown=true;if(Ext.quickTipsActive){Ext.tip.QuickTipManager.ddDisable()}e.currentPoint=j.getPoint();if(e.dragCurrent){e.handleMouseUp(j)}e.mousedownEvent=j;e.currentTarget=j.getTarget();e.dragCurrent=l;h=l.getEl();Ext.fly(h).setCapture();m=j.getXY();e.startX=m[0];e.startY=m[1];e.offsetX=e.offsetY=0;e.deltaX=e.startX-h.offsetLeft;e.deltaY=e.startY-h.offsetTop;e.dragThreshMet=false},startDrag:function(g,j){var m=this,l=m.dragCurrent,h;clearTimeout(m.clickTimeout);if(l){l.b4StartDrag(g,j);l.startDrag(g,j);h=l.getDragEl();if(h){Ext.fly(h).addCls(m.dragCls)}}m.dragThreshMet=true},handleMouseUp:function(c){var d=this;d.isMouseDown=false;if(Ext.quickTipsActive){Ext.tip.QuickTipManager.ddEnable()}if(!d.dragCurrent){return}if(Ext.isIE&&document.releaseCapture){document.releaseCapture()}clearTimeout(d.clickTimeout);if(d.dragThreshMet){d.fireEvents(c,true)}d.stopDrag(c);d.stopEvent(c)},stopEvent:function(b){if(this.stopPropagation){b.stopPropagation()}if(this.preventDefault){b.preventDefault()}},stopDrag:function(h){var e=this,j=e.dragCurrent,g;if(j){if(e.dragThreshMet){g=j.getDragEl();if(g){Ext.fly(g).removeCls(e.dragCls)}j.b4EndDrag(h);j.endDrag(h)}e.dragCurrent.onMouseUp(h)}e.dragCurrent=null;e.dragOvers={}},handleMouseMove:function(n){var p=this,o=p.dragCurrent,m=p.currentPoint=n.getPoint(),r=m.x,e=m.y,q,s;p.offsetX=r-p.startX;p.offsetY=e-p.startY;if(!o){return true}if(!p.dragThreshMet){q=Math.abs(p.offsetX);s=Math.abs(p.offsetY);if(q>p.clickPixelThresh||s>p.clickPixelThresh){p.startDrag(p.startX,p.startY)}}if(p.dragThreshMet){o.b4Drag(n);o.onDrag(n);if(!o.moveOnly){p.fireEvents(n,false)}}p.stopEvent(n);return true},fireEvents:function(O,Q){var K=this,P=Ext.supports.Touch,V=K.dragCurrent,D=K.currentPoint,I=D.x,L=D.y,X,J,W,R,N=[],U=[],S=[],Z=[],M=[],e=[],Y,G,F,H,aa=P?document.documentElement.clientWidth/window.innerWidth:1,T;if(!V||V.isLocked()){return}T=!(V.deltaX<0||V.deltaY<0);if(P||(!K.notifyOccluded&&(!Ext.supports.CSSPointerEvents||Ext.isIE10m||Ext.isOpera)&&T)){X=V.getDragEl();if(T){X.style.visibility="hidden"}O.target=document.elementFromPoint(I/aa,L/aa);if(T){X.style.visibility="visible"}}for(G in K.dragOvers){W=K.dragOvers[G];delete K.dragOvers[G];if(!K.isTypeOfDD(W)||W.isDestroyed){continue}if(K.notifyOccluded){if(!this.isOverTarget(D,W,K.mode)){S.push(W)}}else{if(!O.within(W.getEl())){S.push(W)}}U[G]=true}for(H in V.groups){if("string"!=typeof H){continue}for(G in K.ids[H]){W=K.ids[H][G];if(K.isTypeOfDD(W)&&(R=W.getEl())&&(W.isTarget)&&(!W.isLocked())&&(Ext.fly(R).isVisible(true))&&((W!=V)||(V.ignoreSelf===false))){if(K.notifyOccluded){if((W.zIndex=K.getZIndex(R))!==-1){Y=true}N.push(W)}else{if(O.within(W.getEl())){N.push(W);break}}}}}if(Y){Ext.Array.sort(N,K.byZIndex)}for(G=0,F=N.length;G<F;G++){W=N[G];if(K.isOverTarget(D,W,K.mode)){if(Q){M.push(W)}else{if(!U[W.id]){e.push(W)}else{Z.push(W)}K.dragOvers[W.id]=W}if(!K.notifyOccluded){break}}}if(K.mode){if(S.length){V.b4DragOut(O,S);V.onDragOut(O,S)}if(e.length){V.onDragEnter(O,e)}if(Z.length){V.b4DragOver(O,Z);V.onDragOver(O,Z)}if(M.length){V.b4DragDrop(O,M);V.onDragDrop(O,M)}}else{for(G=0,F=S.length;G<F;++G){V.b4DragOut(O,S[G].id);V.onDragOut(O,S[G].id)}for(G=0,F=e.length;G<F;++G){V.onDragEnter(O,e[G].id)}for(G=0,F=Z.length;G<F;++G){V.b4DragOver(O,Z[G].id);V.onDragOver(O,Z[G].id)}for(G=0,F=M.length;G<F;++G){V.b4DragDrop(O,M[G].id);V.onDragDrop(O,M[G].id)}}if(Q&&!M.length){V.onInvalidDrop(O)}},getZIndex:function(e){var g=document.body,j,h=-1;e=Ext.getDom(e);while(e!==g){if(!isNaN(j=Number(Ext.fly(e).getStyle("zIndex")))){h=j}e=e.parentNode}return h},byZIndex:function(c,d){return c.zIndex<d.zIndex},getBestMatch:function(m){var j=null,g=m.length,l,h;if(g==1){j=m[0]}else{for(l=0;l<g;++l){h=m[l];if(h.cursorIsOver){j=h;break}else{if(!j||j.overlap.getArea()<h.overlap.getArea()){j=h}}}}return j},refreshCache:function(g){var h,m,l,j;for(h in g){if("string"!=typeof h){continue}for(m in this.ids[h]){l=this.ids[h][m];if(this.isTypeOfDD(l)){j=this.getLocation(l);if(j){this.locationCache[l.id]=j}else{delete this.locationCache[l.id]}}}}},verifyEl:function(d){if(d){var e;if(Ext.isIE){try{e=d.offsetParent}catch(g){}}else{e=d.offsetParent}if(e){return true}}return false},getLocation:function(v){if(!this.isTypeOfDD(v)){return null}if(v.getRegion){return v.getRegion()}var x=v.getEl(),l,y,z,b,e,B,A,r,w;try{l=Ext.fly(x).getXY()}catch(u){}if(!l){return null}y=l[0];z=y+x.offsetWidth;b=l[1];e=b+x.offsetHeight;B=b-v.padding[0];A=z+v.padding[1];r=e+v.padding[2];w=y-v.padding[3];return new Ext.util.Region(B,A,r,w)},isOverTarget:function(m,v,s){var q=this.locationCache[v.id],n,p,u,r,o;if(!q||!this.useCache){q=this.getLocation(v);this.locationCache[v.id]=q}if(!q){return false}v.cursorIsOver=q.contains(m);n=this.dragCurrent;if(!n||!n.getTargetCoord||(!s&&!n.constrainX&&!n.constrainY)){return v.cursorIsOver}v.overlap=null;p=n.getTargetCoord(m.x,m.y);u=n.getDragEl();r=new Ext.util.Region(p.y,p.x+u.offsetWidth,p.y+u.offsetHeight,p.x);o=r.intersect(q);if(o){v.overlap=o;return(s)?true:v.cursorIsOver}else{return false}},_onUnload:function(c,d){Ext.dd.DragDropManager.unregAll()},unregAll:function(){var g=this,e=g.elementCache,d;if(g.dragCurrent){g.stopDrag();g.dragCurrent=null}g.clearingAll=true;g._execOnAll("unreg",[]);delete g.clearingAll;for(d in e){delete e[d]}g.elementCache={};g.ids={};g.handleIds={}},elementCache:{},getElWrapper:function(c){var d=this.elementCache[c];if(!d||!d.el){d=this.elementCache[c]=new this.ElementWrapper(Ext.getDom(c))}return d},getElement:function(b){return Ext.getDom(b)},getCss:function(c){var d=Ext.getDom(c);return(d)?d.style:null},ElementWrapper:function(b){this.el=b||null;this.id=this.el&&b.id;this.css=this.el&&b.style},getPosX:function(b){return Ext.fly(b).getX()},getPosY:function(b){return Ext.fly(b).getY()},swapNode:function(j,g){if(j.swapNode){j.swapNode(g)}else{var h=g.parentNode,e=g.nextSibling;if(e==j){h.insertBefore(j,g)}else{if(g==j.nextSibling){h.insertBefore(g,j)}else{j.parentNode.replaceChild(g,j);h.insertBefore(j,e)}}}},getScroll:function(){var l=window.document,j=l.documentElement,h=l.body,m=0,g=0;if(j&&(j.scrollTop||j.scrollLeft)){m=j.scrollTop;g=j.scrollLeft}else{if(h){m=h.scrollTop;g=h.scrollLeft}}return{top:m,left:g}},getStyle:function(c,d){return Ext.fly(c).getStyle(d)},getScrollTop:function(){return this.getScroll().top},getScrollLeft:function(){return this.getScroll().left},moveToEl:function(e,g){var d=Ext.fly(g).getXY();Ext.fly(e).setXY(d)},numericSort:function(a,b){return(a-b)},handleWasClicked:function(e,g){if(this.isHandle(g,e.id)){return true}else{var d=e.parentNode;while(d){if(this.isHandle(g,d.id)){return true}else{d=d.parentNode}}}return false}},function(b){Ext.onReady(function(){b.addListeners()})});Ext.define("Ext.resizer.Splitter",{extend:Ext.Component,xtype:"splitter",childEls:["collapseEl"],renderTpl:['<tpl if="collapsible===true">','<div id="{id}-collapseEl" data-ref="collapseEl" role="presentation" class="',Ext.baseCSSPrefix,"collapse-el ",Ext.baseCSSPrefix,'layout-split-{collapseDir}{childElCls}">&#160;',"</div>","</tpl>"],isSplitter:true,baseCls:Ext.baseCSSPrefix+"splitter",collapsedClsInternal:Ext.baseCSSPrefix+"splitter-collapsed",canResize:true,collapsible:null,collapseOnDblClick:true,defaultSplitMin:40,defaultSplitMax:1000,collapseTarget:"next",horizontal:false,vertical:false,size:5,tracker:null,ariaRole:"separator",getTrackerConfig:function(){return Ext.apply({xclass:"Ext.resizer.SplitterTracker",el:this.el,splitter:this},this.tracker)},beforeRender:function(){var d=this,g=d.getCollapseTarget(),e=d.collapsible;d.callParent();if(g.collapsed){d.addCls(d.collapsedClsInternal)}if(!d.canResize){d.addCls(d.baseCls+"-noresize")}Ext.applyIf(d.renderData,{collapseDir:d.getCollapseDirection(),collapsible:(e!==null)?e:g.collapsible});d.protoEl.unselectable()},onRender:function(){var g=this,d,e;g.callParent(arguments);if(g.performCollapse!==false){if(g.renderData.collapsible){g.mon(g.collapseEl,"click",g.toggleTargetCmp,g)}if(g.collapseOnDblClick){g.mon(g.el,"dblclick",g.toggleTargetCmp,g)}}g.mon(g.getCollapseTarget(),{collapse:g.onTargetCollapse,expand:g.onTargetExpand,beforeexpand:g.onBeforeTargetExpand,beforecollapse:g.onBeforeTargetCollapse,scope:g});if(g.canResize){g.tracker=Ext.create(g.getTrackerConfig());g.relayEvents(g.tracker,["beforedragstart","dragstart","dragend"])}d=g.collapseEl;if(d){d.lastCollapseDirCls=g.collapseDirProps[g.collapseDirection].cls}},getCollapseDirection:function(){var l=this,o=l.collapseDirection,m,j,h,n;if(!o){m=l.collapseTarget;if(m.isComponent){o=m.collapseDirection}if(!o){n=l.ownerCt.layout.type;if(m.isComponent){h=l.ownerCt.items;j=Number(h.indexOf(m)===h.indexOf(l)-1)<<1|Number(n==="hbox")}else{j=Number(l.collapseTarget==="prev")<<1|Number(n==="hbox")}o=["bottom","right","top","left"][j]}l.collapseDirection=o}l.setOrientation((o==="top"||o==="bottom")?"horizontal":"vertical");return o},getCollapseTarget:function(){var b=this;return b.collapseTarget.isComponent?b.collapseTarget:b.collapseTarget==="prev"?b.previousSibling():b.nextSibling()},setCollapseEl:function(c){var d=this.collapseEl;if(d){d.setDisplayed(c)}},onBeforeTargetExpand:function(b){this.setCollapseEl("none")},onBeforeTargetCollapse:function(){this.setCollapseEl("none")},onTargetCollapse:function(b){this.el.addCls(this.collapsedClsInternal+" "+(this.collapsedCls||""));this.setCollapseEl("")},onTargetExpand:function(b){this.el.removeCls(this.collapsedClsInternal+" "+(this.collapsedCls||""));this.setCollapseEl("")},collapseDirProps:{top:{cls:Ext.baseCSSPrefix+"layout-split-top"},right:{cls:Ext.baseCSSPrefix+"layout-split-right"},bottom:{cls:Ext.baseCSSPrefix+"layout-split-bottom"},left:{cls:Ext.baseCSSPrefix+"layout-split-left"}},orientationProps:{horizontal:{opposite:"vertical",fixedAxis:"height",stretchedAxis:"width"},vertical:{opposite:"horizontal",fixedAxis:"width",stretchedAxis:"height"}},applyCollapseDirection:function(){var j=this,e=j.collapseEl,h=j.collapseDirProps[j.collapseDirection],g;if(e){g=e.lastCollapseDirCls;if(g){e.removeCls(g)}e.addCls(e.lastCollapseDirCls=h.cls)}},applyOrientation:function(){var o=this,q=o.orientation,p=o.orientationProps[q],n=o.size,j=p.fixedAxis,m=p.stretchedAxis,l=o.baseCls+"-";o[q]=true;o[p.opposite]=false;if(!o.hasOwnProperty(j)||o[j]==="100%"){o[j]=n}if(!o.hasOwnProperty(m)||o[m]===n){o[m]="100%"}o.removeCls(l+p.opposite);o.addCls(l+q)},setOrientation:function(d){var c=this;if(c.orientation!==d){c.orientation=d;c.applyOrientation()}},updateOrientation:function(){delete this.collapseDirection;this.getCollapseDirection();this.applyCollapseDirection()},toggleTargetCmp:function(l,e){var m=this.getCollapseTarget(),j=m.placeholder,h;if(Ext.isFunction(m.expand)&&Ext.isFunction(m.collapse)){if(j&&!j.hidden){h=true}else{h=!m.hidden}if(h){if(m.collapsed){m.expand()}else{if(m.collapseDirection){m.collapse()}else{m.collapse(this.renderData.collapseDir)}}}}},setSize:function(){var b=this;b.callParent(arguments);if(Ext.isIE&&b.el){b.el.repaint()}},beforeDestroy:function(){Ext.destroy(this.tracker);this.callParent()}});Ext.define("ExtThemeNeptune.resizer.Splitter",{override:"Ext.resizer.Splitter",size:8});Ext.define("Ext.layout.container.Box",{extend:Ext.layout.container.Container,alias:"layout.box",alternateClassName:"Ext.layout.BoxLayout",type:"box",config:{align:"begin",constrainAlign:false,enableSplitters:true,overflowHandler:{$value:null,merge:function(c,d){if(typeof c=="string"){c={type:c}}return Ext.merge(d?Ext.Object.chain(d):{},c)}},padding:0,pack:"start",stretchMaxPartner:undefined,vertical:false,alignRoundingMethod:"round"},itemCls:Ext.baseCSSPrefix+"box-item",targetCls:Ext.baseCSSPrefix+"box-layout-ct",targetElCls:Ext.baseCSSPrefix+"box-target",innerCls:Ext.baseCSSPrefix+"box-inner",manageMargins:true,createsInnerCt:true,childEls:["innerCt","targetEl"],renderTpl:['{%var oc,l=values.$comp.layout,oh=l.overflowHandler;if (oh && oh.getPrefixConfig!==Ext.emptyFn) {if(oc=oh.getPrefixConfig())dh.generateMarkup(oc, out)}%}<div id="{ownerId}-innerCt" data-ref="innerCt" role="presentation" class="{[l.innerCls]}{[oh ? (" " + oh.getOverflowCls(l.direction)) : ""]}"><div id="{ownerId}-targetEl" data-ref="targetEl" class="{targetElCls}" role="presentation">{%this.renderBody(out, values)%}</div></div>{%if (oh && oh.getSuffixConfig!==Ext.emptyFn) {if(oc=oh.getSuffixConfig())dh.generateMarkup(oc, out)}%}',{disableFormats:true,definitions:"var dh=Ext.DomHelper;"}],constructor:function(e){var g=this,d;g.callParent(arguments);g.setVertical(g.vertical);g.flexSortFn=g.flexSort.bind(g);d=typeof g.padding;if(d==="string"||d==="number"){g.padding=Ext.util.Format.parseBox(g.padding);g.padding.height=g.padding.top+g.padding.bottom;g.padding.width=g.padding.left+g.padding.right}},_beginRe:/^(?:begin|left|top)$/,_centerRe:/^(?:center|middle)$/,_endRe:/^(?:end|right|bottom)$/,_percentageRe:/^\s*(\d+(?:\.\d*)?)\s*[%]\s*$/,getItemSizePolicy:function(M,L){var z=this,B=z.sizePolicy,D=z.align,F=M.flex,w=D,A=z.names,C=A.height,x=A.width,J=M[x],v=M[C],H=z._percentageRe,I=H.test(J),G=(D==="stretch"),K=(D==="stretchmax"),y=z.constrainAlign;if(!L&&(G||F||I||(y&&!K))){L=z.owner.getSizeModel()}if(G){if(!H.test(v)&&L[C].shrinkWrap){w="stretchmax"}}else{if(!K){if(H.test(v)){w="stretch"}else{if(y&&!L[C].shrinkWrap){w="stretchmax"}else{w=""}}}}if(F||I){if(!L[x].shrinkWrap){B=B.flex}}return B[w]},flexSort:function(b,w){var y=this.names.maxWidth,F=this.names.minWidth,x=Infinity,z=b.target,J=w.target,B=z.flex,C=J.flex,I=0,H,a,A,G,K,D;A=z[y]||x;G=J[y]||x;H=z[F]||0;a=J[F]||0;K=isFinite(H)||isFinite(a);D=isFinite(A)||isFinite(G);if(K||D){if(D){I=A-G}if(I===0&&K){I=a-H}if(I===0){if(D){I=C-B}else{I=B-C}}}return I},isItemBoxParent:function(b){return true},isItemShrinkWrap:function(b){return true},roundFlex:function(b){return Math.floor(b)},beginCollapse:function(c){var d=this;if(d.direction==="vertical"&&c.collapsedVertical()){c.collapseMemento.capture(["flex"]);delete c.flex}else{if(d.direction==="horizontal"&&c.collapsedHorizontal()){c.collapseMemento.capture(["flex"]);delete c.flex}}},beginExpand:function(b){b.collapseMemento.restore(["flex"])},beginLayout:function(q){var n=this,u=n.owner,r=u.stretchMaxPartner,v=n.innerCt.dom.style,o=n.names,p=n.overflowHandler,m=u.getScrollable(),s;q.boxNames=o;if(p){p.beginLayout(q)}if(typeof r==="string"){r=Ext.getCmp(r)||u.query(r)[0]}q.stretchMaxPartner=r&&q.context.getCmp(r);n.callParent(arguments);q.innerCtContext=q.getEl("innerCt",n);q.targetElContext=q.getEl("targetEl",n);q.ownerScrollable=m=u.getScrollable();if(m){s=m.getPosition();q.scrollRestore={};q.scrollRestore[o.x]=s[o.x];q.scrollRestore[o.y]=s[o.y]}v.width="";v.height=""},beginLayoutCycle:function(A,q){var u=this,D=A.state,s=A.ownerScrollable,w=u.align,v=A.boxNames,r=u.pack,B=u._centerRe,z=u.overflowHandler,C=A.state.canScroll,x,y;if(z){z.beginLayoutCycle(A,q)}u.callParent(arguments);A.parallelSizeModel=x=A[v.widthModel];A.perpendicularSizeModel=y=A[v.heightModel];A.boxOptions={align:w={stretch:w==="stretch",stretchmax:w==="stretchmax",center:B.test(w),bottom:u._endRe.test(w)},pack:r={center:B.test(r),end:r==="end"}};if(s){if(!C){D.canScroll={parallel:!x.shrinkWrap&&s[v.getX](),perpendicular:!y.shrinkWrap&&s[v.getY]()}}if(!D.actualScroll){D.actualScroll={parallel:false,perpendicular:false}}}if(w.stretch&&y.shrinkWrap){w.stretchmax=true;w.stretch=false}w.nostretch=!(w.stretch||w.stretchmax);if(x.shrinkWrap){r.center=r.end=false}u.cacheFlexes(A);u.targetEl.setWidth(20000)},cacheFlexes:function(U){var M=this,T=U.boxNames,ae=T.widthModel,Y=T.heightModel,ac=U.boxOptions.align.nostretch,J=0,ad=U.childItems,H=ad.length,Q=[],S=0,G=0,K=0,V=T.minWidth,R=T.minHeight,X=M._percentageRe,F=0,O=0,Z,N,I,W,ab,aa,L,P;while(H--){N=ad[H];Z=N.target;aa=N[ae];if(aa.calculated){N.flex=I=Z.flex;if(I){J+=I;Q.push(N);S+=Z[V]||0}else{W=X.exec(Z[T.width]);N.percentageParallel=parseFloat(W[1])/100;++F}}if(aa.configured){L=Z[T.width]}else{L=Z[V]||0}K+=L;ab=N[Y];if(ac&&ab.calculated){W=X.exec(Z[T.height]);N.percentagePerpendicular=parseFloat(W[1])/100;++O}if(ab.configured){P=Z[T.height]}else{P=Z[R]||0}if(P>G){G=P}}U.flexedItems=Q;U.flexedMinWidth=S;U.smallestWidth=K;U.smallestHeight=G;U.totalFlex=J;U.percentageWidths=F;U.percentageHeights=O;Ext.Array.sort(Q,M.flexSortFn)},calculate:function(v){var q=this,r=v.boxNames,z=v.state,s=z.actualScroll,o=z.needsScroll,x=z.canScroll,p=z.boxPlan||(z.boxPlan={}),u=q.overflowHandler,w=v.parallelSizeModel.shrinkWrap,y=v.perpendicularSizeModel.shrinkWrap;p.targetSize=q.getContainerSize(v);if(x&&!o){z.needsScroll=o={parallel:x.parallel&&p.targetSize[r.width]<v.smallestWidth,perpendicular:x.perpendicular&&p.targetSize[r.height]<v.smallestHeight}}if(!z.parallelDone){z.parallelDone=q.calculateParallel(v,r,p)}if(!z.perpendicularDone){z.perpendicularDone=q.calculatePerpendicular(v,r,p)}if(z.parallelDone&&z.perpendicularDone){if(x&&!z.scrollPass){if(o.parallel!==s.parallel||o.perpendicular!==s.perpendicular){v.invalidate({state:{scrollPass:true,canScroll:x,needsScroll:s}});q.done=false;return}}q.publishInnerCtSize(v);if(q.done&&v.boxOptions.align.stretchmax&&!z.stretchMaxDone){q.calculateStretchMax(v,r,p);z.stretchMaxDone=true}if(u){u.calculate(v)}}else{q.done=false}},calculateParallel:function(af,R,aa){var al=this,ao=af.parallelSizeModel.shrinkWrap,Z=R.width,av=af.childItems,aj=R.beforeX,V=R.afterX,ar=R.setWidth,ac=av.length,ag=af.flexedItems,W=ag.length,am=af.boxOptions.pack,U=al.padding,aA=aa.targetSize,an=aA[Z],Q=af.state,ad=Q.needsScroll,ak=Q.canScroll,ab=0,au=U[aj],X=au+U[V],ai=Ext.getScrollbarSize(),ax=ai[R.width],aB=ai[R.height],T,ae,aw,aq,ap,at,az,S,Y,ah,ay;if(!ao&&!aA[R.gotWidth]){return false}for(T=0;T<ac;++T){ap=av[T];ae=ap.marginInfo||ap.getMarginInfo();ab+=ae[Z];if(!ap[R.widthModel].calculated){Y=ap.getProp(Z);X+=Y;if(isNaN(X)){return false}}}X+=ab;if(af.percentageWidths){ah=an-ab;if(isNaN(ah)){return false}for(T=0;T<ac;++T){ap=av[T];if(ap.percentageParallel){Y=Math.ceil(ah*ap.percentageParallel);Y=ap.setWidth(Y);X+=Y}}}if(ao){ay=0;aa.tooNarrow=false}else{ay=an-X;if(ad&&ad.perpendicular){ay-=aB}aa.tooNarrow=ay<af.flexedMinWidth;if(aa.tooNarrow&&ak&&ak.parallel){Q.actualScroll.parallel=true}}S=X;aw=ay;aq=af.totalFlex;for(T=0;T<W;T++){ap=ag[T];at=ap.flex;az=al.roundFlex((at/aq)*aw);az=ap[ar](az);S+=az;aw=Math.max(0,aw-az);aq-=at}if(am.center){au+=aw/2;if(au<0){au=0}}else{if(am.end){au+=aw}}for(T=0;T<ac;++T){ap=av[T];ae=ap.marginInfo;au+=ae[aj];ap.setProp(R.x,au);au+=ae[V]+ap.props[Z]}S+=af.targetContext.getPaddingInfo()[Z];af.state.contentWidth=S;if(ad&&ad.perpendicular){if(ao){S+=ax}af[R.hasOverflowY]=true;af.target.componentLayout[R.setWidthInDom]=true;af[R.invalidateScrollY]=Ext.isIE8}af[R.setContentWidth](S);return true},calculatePerpendicular:function(ap,Y,aj){var ar=this,U=ap.state,an=U.needsScroll,aq=U.canScroll,aG=ap.perpendicularSizeModel.shrinkWrap,aI=aj.targetSize,aC=ap.childItems,ak=aC.length,az=Math.max,aA=Y.height,ay=Y.setHeight,aD=Y.beforeY,at=Y.y,ab=ar.padding,aB=ab[aD],ax=aI[aA]-aB-ab[Y.afterY],ae=ap.boxOptions.align,aw=ae.stretch,av=ae.stretchmax,V=ae.center,W=ae.bottom,ac=ar.constrainAlign,ad=0,ah=0,af=ar.onBeforeConstrainInvalidateChild,ai=ar.onAfterConstrainInvalidateChild,aJ=Ext.getScrollbarSize().height,al,aa,ag,ao,am,aH,au,aF,X,Z,aE;if(!aG&&!aI[Y.gotHeight]){return false}if(aw||((V||W)&&!aG)){if(isNaN(ax)){return false}}if(an&&an.parallel){if(aG){Z=true}else{ax-=aJ;aj.targetSize[aA]-=aJ}}if(aw){aH=ax;ad=az(aH,ap.smallestHeight)}else{for(aa=0;aa<ak;aa++){au=aC[aa];ao=(au.marginInfo||au.getMarginInfo())[aA];if(!(aE=au.percentagePerpendicular)){ag=au.getProp(aA)}else{++ah;if(aG){continue}else{ag=aE*ax-ao;ag=au[Y.setHeight](ag)}}if(!aG&&ac&&au[Y.heightModel].shrinkWrap&&ag>ax){au.invalidate({before:af,after:ai,layout:ar,childHeight:ax,names:Y});ap.state.parallelDone=false}if(isNaN(ad=az(ad,ag+ao,au.target[Y.minHeight]||0))){return false}}}if(Z){ad+=aJ;ap[Y.hasOverflowX]=true;ap.target.componentLayout[Y.setHeightInDom]=true;ap[Y.invalidateScrollX]=Ext.isIE8}aF=ap.stretchMaxPartner;if(aF){ap.setProp("maxChildHeight",ad);X=aF.childItems;if(X&&X.length){ad=az(ad,aF.getProp("maxChildHeight"));if(isNaN(ad)){return false}}}ap[Y.setContentHeight](ad+ar.padding[aA]+ap.targetContext.getPaddingInfo()[aA]);if(Z){ad-=aJ}if(ad>aI[aA]&&aq&&aq.perpendicular){U.actualScroll.perpendicular=true}aj.maxSize=ad;if(av){aH=ad}else{if(V||W||ah){if(ac){aH=aG?ad:ax}else{aH=aG?ad:az(ax,ad)}aH-=ap.innerCtContext.getBorderInfo()[aA]}}for(aa=0;aa<ak;aa++){au=aC[aa];ao=au.marginInfo||au.getMarginInfo();al=aB+ao[aD];if(aw){au[ay](aH-ao[aA])}else{aE=au.percentagePerpendicular;if(aG&&aE){ao=au.marginInfo||au.getMarginInfo();ag=aE*aH-ao[aA];ag=au.setHeight(ag)}if(V){am=aH-au.props[aA];if(am>0){al=aB+Math[ar.alignRoundingMethod](am/2)}}else{if(W){al=az(0,aH-al-au.props[aA])}}}au.setProp(at,al)}return true},onBeforeConstrainInvalidateChild:function(d,e){var g=e.names.heightModel;if(!d[g].constrainedMin){d[g]=Ext.layout.SizeModel.calculated}},onAfterConstrainInvalidateChild:function(d,e){var g=e.names;d.setProp(g.beforeY,0);if(d[g.heightModel].calculated){d[g.setHeight](e.childHeight)}},calculateStretchMax:function(G,z,x){var y=this,B=z.height,w=z.width,C=G.childItems,I=C.length,u=x.maxSize,v=y.onBeforeStretchMaxInvalidateChild,D=y.onAfterStretchMaxInvalidateChild,s,A,F,H;for(F=0;F<I;++F){s=C[F];A=s.props;H=u-s.getMarginInfo()[B];if(H!==A[B]||s[z.heightModel].constrained){s.invalidate({before:v,after:D,layout:y,childWidth:A[w],childHeight:H,childX:A.x,childY:A.y,names:z})}}},onBeforeStretchMaxInvalidateChild:function(d,e){var g=e.names.heightModel;if(!d[g].constrainedMax){d[g]=Ext.layout.SizeModel.calculated}},onAfterStretchMaxInvalidateChild:function(l,m){var j=m.names,h=m.childHeight,g=m.childWidth;l.setProp("x",m.childX);l.setProp("y",m.childY);if(l[j.heightModel].calculated){l[j.setHeight](h)}if(l[j.widthModel].calculated){l[j.setWidth](g)}},completeLayout:function(F){var v=this,w=F.boxNames,y=F.invalidateScrollX,z=F.invalidateScrollY,D=v.overflowHandler,x=F.restoreScroll,B,G,A,C,r,s,u;if(D){D.completeLayout(F)}if(y||z){G=v.getTarget();B=G.dom;r=B.style;if(y){A=G.getStyle("overflowX");if(A==="auto"){A=r.overflowX;r.overflowX="scroll"}else{y=false}}if(z){C=G.getStyle("overflowY");if(C==="auto"){C=r.overflowY;r.overflowY="scroll"}else{z=false}}if(y||z){B.scrollWidth;if(y){r.overflowX=A}if(z){r.overflowY=C}}}if(x){u=F.ownerScrollable;s=x[w.x];if(s){u[w.setX](s)}s=x[w.y];if(s){u[w.setY](s)}}},finishedLayout:function(c){var d=this.overflowHandler;if(d){d.finishedLayout(c)}this.callParent(arguments)},getLayoutItems:function(){var n=this.callParent(),u=n.length,q,r,s,m,o,p,v;for(s=0;s<u;++s){if((m=n[s]).isSplitter){continue}v=m.splitter;if(m.hidden){if(v){if(!v.hidden){v.hidden=true;if(v.el){v.el.hide()}}}continue}if(v){p=v.collapseTarget==="next"}else{p=false}r=null;if(q&&o){if(o.hidden){o.hidden=false;if(o.el){o.el.show()}}if(p){r=true}}else{if(p){r=!q}}if(r!==null&&v.hidden!==r){v.hidden=r;if(v.el){v.el.setVisible(!r)}}o=!p&&v;q=m}if(q&&o&&!o.hidden){o.hidden=true;if(o.el){o.el.hide()}}return n},getScrollerEl:function(){return this.innerCt},insertSplitter:function(n,o,l,h){var m={xtype:"splitter",id:n.id+"-splitter",hidden:l,splitterFor:n,synthetic:true},j=o+((h.collapseTarget==="prev")?1:0);m[this.names.height]="100%";if(h){Ext.apply(m,h)}n.splitter=this.owner.add(j,m)},publishInnerCtSize:function(I,G){G=G||0;var A=this,J=I.state,B=I.boxNames,C=B.height,y=B.width,D=I.boxOptions.align,w=A.padding,z=J.boxPlan,F=z.targetSize,u=z.maxSize,x=J.needsScroll,K=I.innerCtContext,H,v;if(I.parallelSizeModel.shrinkWrap||(z.tooNarrow&&J.canScroll)){H=J.contentWidth-I.targetContext.getPaddingInfo()[y]}else{H=F[y];if(x&&x.perpendicular){H-=Ext.getScrollbarSize()[y]}}H-=G;A.owner.tooNarrow=z.tooNarrow;if(D.stretch){v=u}else{v=z.maxSize+w[B.beforeY]+w[B.afterY]+K.getBorderInfo()[C];if(!I.perpendicularSizeModel.shrinkWrap&&(D.center||D.bottom)){v=Math.max(F[C],v)}}K[B.setWidth](H);K[B.setHeight](v);I.targetElContext.setWidth(I.innerCtContext.props.width-(A.vertical?0:(G||0)));if(isNaN(H+v)){A.done=false}},onAdd:function(h,g){var j=this,e=j.enableSplitters&&h.split&&!h.isButton;j.callParent(arguments);if(e){if(e===true){e={collapseTarget:"next"}}else{if(Ext.isString(e)){e={collapseTarget:e==="before"?"next":"prev"}}else{e=Ext.apply({collapseTarget:e.side==="before"?"next":"prev"},e)}}j.insertSplitter(h,g,!!h.hidden,e)}},onRemove:function(l,q){var p=this,n=p.names,m=p.owner,o=l.splitter,s=p.overflowHandler,r;p.callParent(arguments);if(o&&m.contains(o)){m.doRemove(o,true);l.splitter=null}if(s){s.onRemove(l)}if(l.layoutMarginCap===p.id){delete l.layoutMarginCap}if(!m.destroying&&!q&&l.rendered){r=l.getEl();if(r){r.setStyle(n.beforeY,"");r.setStyle(n.beforeX,"");r.setStyle("margin","")}}},applyOverflowHandler:function(d,e){var g;if(typeof d==="string"){d={type:d}}g=d.type;if(e&&e.type===d.type){delete d.type;e.setConfig(d);return e}d.layout=this;return Ext.Factory.boxOverflow(d)},getRenderTarget:function(){return this.targetEl},getElementTarget:function(){return this.innerCt},destroy:function(){var b=this;Ext.destroy(b.innerCt,b.overflowHandler);b.flexSortFn=b.innerCt=null;b.callParent(arguments)},getRenderData:function(){var b=this.callParent();b.targetElCls=this.targetElCls;return b},updateVertical:function(g){var j=this,m=j.overflowHandler,h=j.owner,l=j._props;Ext.apply(j,g?l.vbox:l.hbox);if(m&&h&&h.rendered){m.setVertical(g)}},_props:{hbox:{direction:"horizontal",oppositeDirection:"vertical",horizontal:true,vertical:false,names:{beforeX:"left",beforeScrollX:"left",leftCap:"Left",afterX:"right",width:"width",contentWidth:"contentWidth",minWidth:"minWidth",maxWidth:"maxWidth",widthCap:"Width",widthModel:"widthModel",widthIndex:0,x:"x",getX:"getX",setX:"setX",scrollLeft:"scrollLeft",overflowX:"overflowX",hasOverflowX:"hasOverflowX",invalidateScrollX:"invalidateScrollX",parallelMargins:"lr",center:"middle",beforeY:"top",afterY:"bottom",height:"height",contentHeight:"contentHeight",minHeight:"minHeight",maxHeight:"maxHeight",heightCap:"Height",heightModel:"heightModel",heightIndex:1,y:"y",getY:"getY",setY:"setY",overflowY:"overflowY",hasOverflowY:"hasOverflowY",invalidateScrollY:"invalidateScrollY",perpendicularMargins:"tb",getWidth:"getWidth",getHeight:"getHeight",setWidth:"setWidth",setHeight:"setHeight",gotWidth:"gotWidth",gotHeight:"gotHeight",setContentWidth:"setContentWidth",setContentHeight:"setContentHeight",setWidthInDom:"setWidthInDom",setHeightInDom:"setHeightInDom",getScrollLeft:"getScrollLeft",setScrollLeft:"setScrollLeft",scrollTo:"scrollTo"},sizePolicy:{flex:{"":{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},stretch:{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:1},stretchmax:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:1}},"":{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},stretch:{readsWidth:1,readsHeight:0,setsWidth:0,setsHeight:1},stretchmax:{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:1}}},vbox:{direction:"vertical",oppositeDirection:"horizontal",horizontal:false,vertical:true,names:{beforeX:"top",beforeScrollX:"top",leftCap:"Top",afterX:"bottom",width:"height",contentWidth:"contentHeight",minWidth:"minHeight",maxWidth:"maxHeight",widthCap:"Height",widthModel:"heightModel",widthIndex:1,x:"y",getX:"getY",setX:"setY",scrollLeft:"scrollTop",overflowX:"overflowY",hasOverflowX:"hasOverflowY",invalidateScrollX:"invalidateScrollY",parallelMargins:"tb",center:"center",beforeY:"left",afterY:"right",height:"width",contentHeight:"contentWidth",minHeight:"minWidth",maxHeight:"maxWidth",heightCap:"Width",heightModel:"widthModel",heightIndex:0,y:"x",getY:"getX",setY:"setX",overflowY:"overflowX",hasOverflowY:"hasOverflowX",invalidateScrollY:"invalidateScrollX",perpendicularMargins:"lr",getWidth:"getHeight",getHeight:"getWidth",setWidth:"setHeight",setHeight:"setWidth",gotWidth:"gotHeight",gotHeight:"gotWidth",setContentWidth:"setContentHeight",setContentHeight:"setContentWidth",setWidthInDom:"setHeightInDom",setHeightInDom:"setWidthInDom",getScrollLeft:"getScrollTop",setScrollLeft:"setScrollTop",scrollTo:"scrollTo"},sizePolicy:{flex:{"":{readsWidth:1,readsHeight:0,setsWidth:0,setsHeight:1},stretch:{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:1},stretchmax:{readsWidth:1,readsHeight:0,setsWidth:1,setsHeight:1}},"":{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},stretch:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},stretchmax:{readsWidth:1,readsHeight:1,setsWidth:1,setsHeight:0}}}}});Ext.define("Ext.layout.container.HBox",{extend:Ext.layout.container.Box,alias:"layout.hbox",alternateClassName:"Ext.layout.HBoxLayout",type:"hbox",vertical:false});Ext.define("Ext.layout.container.VBox",{extend:Ext.layout.container.Box,alias:"layout.vbox",alternateClassName:"Ext.layout.VBoxLayout",type:"vbox",vertical:true});Ext.define("Ext.util.KeyMap",{alternateClassName:"Ext.KeyMap",eventName:"keydown",constructor:function(d){var c=this;if((arguments.length!==1)||(typeof d==="string")||d.dom||d.tagName||d===document||d.isComponent){c.legacyConstructor.apply(c,arguments);return}Ext.apply(c,d);c.bindings=[];if(!c.target.isComponent){c.target=Ext.get(c.target)}if(c.binding){c.addBinding(c.binding)}else{if(d.key){c.addBinding(d)}}c.enable()},legacyConstructor:function(e,h,g){var j=this;Ext.apply(j,{target:Ext.get(e),eventName:g||j.eventName,bindings:[]});if(h){j.addBinding(h)}j.enable()},addBinding:function(j){var m=this,l=j.key,g,h;if(m.processing){m.bindings=bindings.slice(0)}if(Ext.isArray(j)){for(g=0,h=j.length;g<h;g++){m.addBinding(j[g])}return}m.bindings.push(Ext.apply({keyCode:m.processKeys(l)},j))},removeBinding:function(n){var o=this,m=o.bindings,l=m.length,j,p,q;if(o.processing){o.bindings=m.slice(0)}q=o.processKeys(n.key);for(j=0;j<l;++j){p=m[j];if((p.fn||p.handler)===(n.fn||n.handler)&&p.scope===n.scope){if(n.alt===p.alt&&n.crtl===p.crtl&&n.shift===p.shift){if(Ext.Array.equals(p.keyCode,q)){Ext.Array.erase(o.bindings,j,1);return}}}}},processKeys:function(n){var m=false,p,o,j,l,q;if(n.test){return n}if(Ext.isString(n)){o=[];j=n.toUpperCase();for(q=0,l=j.length;q<l;++q){o.push(j.charCodeAt(q))}n=o;m=true}if(!Ext.isArray(n)){n=[n]}if(!m){for(q=0,l=n.length;q<l;++q){p=n[q];if(Ext.isString(p)){n[q]=p.toUpperCase().charCodeAt(0)}}}return n},handleTargetEvent:function(l){var m=this,j,g,h;if(m.enabled){j=m.bindings;g=0;h=j.length;m.lastKeyEvent=l=m.processEvent.apply(m.processEventScope||m,arguments);if(m.ignoreInputFields&&Ext.fly(l.target).isInputField()){return}if(!l.getKey){return l}m.processing=true;for(;g<h;++g){m.processBinding(j[g],l)}m.processing=false}},processEvent:Ext.identityFn,processBinding:function(q,v){if(this.checkModifiers(q,v)){var p=v.getKey(),n=q.fn||q.handler,m=q.scope||this,o=q.keyCode,u=q.defaultEventAction,s,r;if(o.test){if(o.test(String.fromCharCode(v.getCharCode()))){if(n.call(m,p,v)!==true&&u){v[u]()}}}else{if(o.length){for(s=0,r=o.length;s<r;++s){if(p===o[s]){if(n.call(m,p,v)!==true&&u){v[u]()}break}}}}}},checkModifiers:function(m,o){var p=["shift","ctrl","alt"],q=0,l=p.length,n,j;for(;q<l;++q){j=p[q];n=m[j];if(!(n===undefined||(n===o[j+"Key"]))){return false}}return true},on:function(j,p,q){var m,l,o,n;if(Ext.isObject(j)&&!Ext.isArray(j)){m=j.key;l=j.shift;o=j.ctrl;n=j.alt}else{m=j}this.addBinding({key:m,shift:l,ctrl:o,alt:n,fn:p,scope:q})},un:function(j,p,q){var m,l,o,n;if(Ext.isObject(j)&&!Ext.isArray(j)){m=j.key;l=j.shift;o=j.ctrl;n=j.alt}else{m=j}this.removeBinding({key:m,shift:l,ctrl:o,alt:n,fn:p,scope:q})},isEnabled:function(){return this.enabled},enable:function(){var b=this;if(!b.enabled){b.target.on(b.eventName,b.handleTargetEvent,b,{capture:b.capture});b.enabled=true}},disable:function(){var b=this;if(b.enabled){b.target.removeListener(b.eventName,b.handleTargetEvent,b);b.enabled=false}},setDisabled:function(b){if(b){this.disable()}else{this.enable()}},destroy:function(g){var e=this,d=e.target;e.bindings=[];e.disable();if(g){d.destroy()}delete e.target}});Ext.define("Ext.util.KeyNav",{alternateClassName:"Ext.KeyNav",disabled:false,defaultEventAction:false,forceKeyDown:false,eventName:"keypress",statics:{keyOptions:{left:37,right:39,up:38,down:40,space:32,pageUp:33,pageDown:34,del:46,backspace:8,home:36,end:35,enter:13,esc:27,tab:9}},constructor:function(d){var c=this;if(arguments.length===2){c.legacyConstructor.apply(c,arguments);return}c.doConstruction(d)},legacyConstructor:function(c,d){this.doConstruction(Ext.apply({target:c},d))},doConstruction:function(g){var j=this,e={target:g.target,ignoreInputFields:g.ignoreInputFields,eventName:j.getKeyEvent("forceKeyDown" in g?g.forceKeyDown:j.forceKeyDown,g.eventName),capture:g.capture},h;if(j.map){j.map.destroy()}j.initConfig(g);if(g.processEvent){e.processEvent=g.processEvent;e.processEventScope=g.processEventScope||j}if(g.keyMap){h=j.map=g.keyMap}else{h=j.map=new Ext.util.KeyMap(e);j.destroyKeyMap=true}this.addBindings(g);h.disable();if(!g.disabled){h.enable()}},addBindings:function(m){var q=this,j,o,p=q.map,l=Ext.util.KeyNav.keyOptions,n=m.scope||q;for(j in m){o=m[j];if(o&&(j.length===1||(j=l[j])||(!isNaN(j=parseInt(j,10))))){if(typeof o==="function"){o={handler:o,defaultEventAction:(m.defaultEventAction!==undefined)?m.defaultEventAction:q.defaultEventAction}}p.addBinding({key:j,ctrl:o.ctrl,shift:o.shift,alt:o.alt,handler:Ext.Function.bind(q.handleEvent,o.scope||n,[o.handler||o.fn,q],true),defaultEventAction:(o.defaultEventAction!==undefined)?o.defaultEventAction:q.defaultEventAction})}}},handleEvent:function(h,j,e,g){g.lastKeyEvent=j;return e.call(this,j)},destroy:function(b){if(this.destroyKeyMap){this.map.destroy(b)}delete this.map},enable:function(){if(this.map){this.map.enable();this.disabled=false}},disable:function(){if(this.map){this.map.disable()}this.disabled=true},setDisabled:function(b){this.map.setDisabled(b);this.disabled=b},getKeyEvent:function(c,d){if(c||(Ext.supports.SpecialKeyDownRepeat&&!d)){return"keydown"}else{return d||this.eventName}}});Ext.define("Ext.util.FocusableContainer",{extend:Ext.Mixin,mixinConfig:{id:"focusablecontainer",before:{onAdd:"onFocusableChildAdd",onRemove:"onFocusableChildRemove",destroy:"destroyFocusableContainer",onFocusEnter:"onFocusEnter"},after:{afterRender:"initFocusableContainer",onFocusLeave:"onFocusLeave"}},isFocusableContainer:true,enableFocusableContainer:true,activeChildTabIndex:0,inactiveChildTabIndex:-1,privates:{initFocusableContainer:function(){if(this.enableFocusableContainer){this.doInitFocusableContainer()}},doInitFocusableContainer:function(){var c=this,d;d=c.getFocusableContainerEl();c.activateFocusableContainerEl(d);c.mon(d,"mousedown",c.onFocusableContainerMousedown,c);c.focusableKeyNav=c.createFocusableContainerKeyNav(d)},createFocusableContainerKeyNav:function(d){var c=this;return new Ext.util.KeyNav(d,{ignoreInputFields:true,scope:c,tab:c.onFocusableContainerTabKey,enter:c.onFocusableContainerEnterKey,space:c.onFocusableContainerSpaceKey,up:c.onFocusableContainerUpKey,down:c.onFocusableContainerDownKey,left:c.onFocusableContainerLeftKey,right:c.onFocusableContainerRightKey})},destroyFocusableContainer:function(){if(this.enableFocusableContainer){this.doDestroyFocusableContainer()}},doDestroyFocusableContainer:function(){var b=this.focusableKeyNav;if(b){b.destroy();delete this.focusableKeyNav}},getFocusables:function(){return this.items.items},initDefaultFocusable:function(m){var p=this,n=p.activeChildTabIndex,s=false,q,o,u,r,v;q=p.getFocusables();r=q.length;if(!r){return}for(u=0;u<r;u++){o=q[u];if(o.focusable){s=true;v=o.getTabIndex();if(v!=null&&v>=n){return o}}}if(!s){return}o=p.findNextFocusableChild(null,true,q,m);if(o){p.activateFocusable(o)}return o},clearFocusables:function(){var j=this,g=j.getFocusables(),h=g.length,l,m;for(m=0;m<h;m++){l=g[m];if(l.focusable){j.deactivateFocusable(l)}}},activateFocusable:function(g,d){var e=d!=null?d:this.activeChildTabIndex;g.setTabIndex(e)},deactivateFocusable:function(g,d){var e=d!=null?d:this.inactiveChildTabIndex;g.setTabIndex(e)},onFocusableContainerTabKey:function(){return true},onFocusableContainerEnterKey:function(){return true},onFocusableContainerSpaceKey:function(){return true},onFocusableContainerUpKey:function(b){return this.moveChildFocus(b,false)},onFocusableContainerLeftKey:function(b){return this.moveChildFocus(b,false)},onFocusableContainerRightKey:function(b){return this.moveChildFocus(b,true)},onFocusableContainerDownKey:function(b){return this.moveChildFocus(b,true)},getFocusableFromEvent:function(d){var c=Ext.ComponentManager.byElement(d.getTarget());return c},moveChildFocus:function(d,e){var g=this.getFocusableFromEvent(d);return this.focusChild(g,e,d)},focusChild:function(g,e){var d=this.findNextFocusableChild(g,e);if(d){d.focus()}return d},findNextFocusableChild:function(n,o,s,q){var p,l,r,m;s=s||this.getFocusables();l=Ext.Array.indexOf(s,n);o=o===true?1:o===false?-1:o;m=s.length;r=o>0?(l<m?l+o:0):(l>0?l+o:m-1);for(;;r+=o){if(l<0&&(r>=m||r<0)){return null}else{if(r>=m){r=-1;continue}else{if(r<0){r=m;continue}else{if(r===l){return null}}}}p=s[r];if(!p||!p.focusable){continue}if(q||p.isFocusable()){return p}}return null},getFocusableContainerEl:function(){return this.el},onFocusableChildAdd:function(b){return this.doFocusableChildAdd(b)},activateFocusableContainerEl:function(b){b=b||this.getFocusableContainerEl();b.set({tabindex:this.activeChildTabIndex})},deactivateFocusableContainerEl:function(b){b=b||this.getFocusableContainerEl();b.set({tabindex:this.inactiveChildTabIndex})},doFocusableChildAdd:function(b){if(b.focusable){b.focusableContainer=this;this.deactivateFocusable(b)}},onFocusableChildRemove:function(b){return this.doFocusableChildRemove(b)},doFocusableChildRemove:function(b){if(b===this.lastFocusedChild){this.lastFocusedChild=null;this.activateFocusableContainerEl()}delete b.focusableContainer},onFocusableContainerMousedown:function(g,d){var e=Ext.ComponentManager.byElement(d);this.mousedownTimestamp=e===this?Ext.Date.now():0},onFocusEnter:function(o){var j=this,e=o.toComponent,n=j.mousedownTimestamp,l=50,m;j.mousedownTimestamp=0;if(e===j){if(!n||Ext.Date.now()-n>l){m=j.initDefaultFocusable();if(m){j.deactivateFocusableContainerEl();m.focus()}}}else{j.deactivateFocusableContainerEl()}return e},onFocusLeave:function(g){var d=this,e=d.lastFocusedChild;if(!d.isDestroyed){d.clearFocusables();if(e){d.activateFocusable(e)}else{d.activateFocusableContainerEl()}}},beforeFocusableChildBlur:Ext.privateFn,afterFocusableChildBlur:Ext.privateFn,beforeFocusableChildFocus:function(c){var d=this;d.clearFocusables();d.activateFocusable(c);if(c.needArrowKeys){d.guardFocusableChild(c)}},guardFocusableChild:function(h){var j=this,g=j.activeChildTabIndex,e;e=j.findNextFocusableChild(h,-1);if(e){e.setTabIndex(g)}e=j.findNextFocusableChild(h,1);if(e){e.setTabIndex(g)}},afterFocusableChildFocus:function(b){this.lastFocusedChild=b},onFocusableChildShow:Ext.privateFn,onFocusableChildHide:Ext.privateFn,onFocusableChildEnable:Ext.privateFn,onFocusableChildDisable:Ext.privateFn,onFocusableChildMasked:Ext.privateFn,onFocusableChildDestroy:Ext.privateFn,onFocusableChildUpdate:Ext.privateFn}});Ext.define("Ext.toolbar.Toolbar",{extend:Ext.container.Container,alias:"widget.toolbar",alternateClassName:"Ext.Toolbar",mixins:[Ext.util.FocusableContainer],isToolbar:true,baseCls:Ext.baseCSSPrefix+"toolbar",ariaRole:"toolbar",defaultType:"button",layout:undefined,vertical:false,enableOverflow:false,overflowHandler:null,defaultButtonUI:"default-toolbar",defaultFieldUI:"default",defaultFooterButtonUI:"default",defaultFooterFieldUI:"default",trackMenus:true,itemCls:Ext.baseCSSPrefix+"toolbar-item",statics:{shortcuts:{"-":"tbseparator"," ":"tbspacer"},shortcutsHV:{0:{"->":{xtype:"tbfill",height:0}},1:{"->":{xtype:"tbfill",width:0}}}},initComponent:function(){var c=this,d=c.layout;if(c.dock==="right"||c.dock==="left"){c.vertical=true}c.layout=d=Ext.applyIf(Ext.isString(d)?{type:d}:d||{},{type:c.vertical?"vbox":"hbox",align:c.vertical?"stretchmax":"middle"});if(c.overflowHandler){d.overflowHandler=c.overflowHandler}else{if(c.enableOverflow){d.overflowHandler="menu"}}if(c.vertical){c.addClsWithUI("vertical")}if(c.ui==="footer"){c.ignoreBorderManagement=true}c.callParent()},getRefItems:function(h){var j=this,g=j.callParent(arguments),l=j.layout,m;if(h&&(j.enableOverflow||(j.overflowHandler==="menu"))){m=l.overflowHandler;if(m&&m.menu){g=g.concat(m.menu.getRefItems(h))}}return g},lookupComponent:function(h){var j=arguments;if(typeof h==="string"){var c=Ext.toolbar.Toolbar,g=c.shortcutsHV[this.vertical?1:0][h]||c.shortcuts[h];if(typeof g==="string"){h={xtype:g}}else{if(g){h=Ext.apply({},g)}else{h={xtype:"tbtext",text:h}}}this.applyDefaults(h);j=[h]}return this.callParent(j)},onBeforeAdd:function(e){var j=this,h=j.ui==="footer",g=h?j.defaultFooterButtonUI:j.defaultButtonUI;if(e.isSegmentedButton){if(e.getDefaultUI()==="default"&&!e.config.hasOwnProperty("defaultUI")){e.setDefaultUI(g)}}else{if(e.ui==="default"&&!e.hasOwnProperty("ui")){if(e.isButton){e.ui=g}else{if(e.isFormField){e.ui=h?j.defaultFooterFieldUI:j.defaultFieldUI}}}}if(e instanceof Ext.toolbar.Separator){e.setUI((j.vertical)?"vertical":"horizontal")}j.callParent(arguments)},onAdd:function(b){this.callParent(arguments);this.trackMenu(b)},onRemove:function(b){this.callParent(arguments);this.trackMenu(b,true)},privates:{applyDefaults:function(b){if(!Ext.isString(b)){b=this.callParent(arguments)}return b},trackMenu:function(g,e){var d=this;if(d.trackMenus&&g.menu){g[e?"un":"on"]({mouseover:d.onButtonOver,menushow:d.onButtonMenuShow,menuhide:d.onButtonMenuHide,scope:d})}},getChildItemsToDisable:function(){return this.items.getRange()},onButtonOver:function(d,c){if(this.activeMenuBtn&&this.activeMenuBtn!==d){this.activeMenuBtn.hideMenu();d.focus();d.showMenu(c);this.activeMenuBtn=d}},onButtonMenuShow:function(b){this.activeMenuBtn=b},onButtonMenuHide:function(b){this.activeMenuBtn=null}}});Ext.define("ExtThemeNeptune.toolbar.Toolbar",{override:"Ext.toolbar.Toolbar",usePlainButtons:false,border:false});Ext.define("Ext.dd.DragDrop",{constructor:function(g,e,d){if(g){this.init(g,e,d)}},id:null,config:null,dragElId:null,handleElId:null,invalidHandleTypes:null,invalidHandleIds:null,invalidHandleClasses:null,startPageX:0,startPageY:0,groups:null,locked:false,lock:function(){this.locked=true},moveOnly:false,unlock:function(){this.locked=false},isTarget:true,padding:null,_domRef:null,__ygDragDrop:true,constrainX:false,constrainY:false,minX:0,maxX:0,minY:0,maxY:0,maintainOffset:false,xTicks:null,yTicks:null,primaryButtonOnly:true,available:false,hasOuterHandles:false,triggerEvent:"mousedown",b4StartDrag:function(d,c){},startDrag:function(d,c){},b4Drag:function(b){},onDrag:function(b){},onDragEnter:function(d,c){},b4DragOver:function(b){},onDragOver:function(d,c){},b4DragOut:function(b){},onDragOut:function(d,c){},b4DragDrop:function(b){},onDragDrop:function(d,c){},onInvalidDrop:function(b){},b4EndDrag:function(b){},endDrag:function(b){},b4MouseDown:function(b){},onMouseDown:function(b){},onMouseUp:function(b){},onAvailable:function(){},defaultPadding:{left:0,right:0,top:0,bottom:0},constrainTo:function(w,y,p){if(Ext.isNumber(y)){y={left:y,right:y,top:y,bottom:y}}y=y||this.defaultPadding;var u=Ext.get(this.getEl()).getBox(),c=Ext.get(w),q=c.getScroll(),v,s=c.dom,r,x,z;if(s==document.body){v={x:q.left,y:q.top,width:Ext.Element.getViewportWidth(),height:Ext.Element.getViewportHeight()}}else{r=c.getXY();v={x:r[0],y:r[1],width:s.clientWidth,height:s.clientHeight}}x=u.y-v.y;z=u.x-v.x;this.resetConstraints();this.setXConstraint(z-(y.left||0),v.width-z-u.width-(y.right||0),this.xTickSize);this.setYConstraint(x-(y.top||0),v.height-x-u.height-(y.bottom||0),this.yTickSize)},getEl:function(){if(!this._domRef){this._domRef=Ext.getDom(this.id)}return this._domRef},getDragEl:function(){return Ext.getDom(this.dragElId)},init:function(h,g,e){var j=this;j.el=j.el||Ext.get(h);j.initTarget(h,g,e);Ext.get(j.id).on(j.triggerEvent,j.handleMouseDown,j)},initTarget:function(g,e,d){this.config=d||{};this.DDMInstance=Ext.dd.DragDropManager;this.groups={};if(typeof g!=="string"){g=Ext.id(g)}this.id=g;this.addToGroup((e)?e:"default");this.handleElId=g;this.setDragElId(g);this.invalidHandleTypes={A:"A"};this.invalidHandleIds={};this.invalidHandleClasses=[];this.applyConfig();this.handleOnAvailable()},applyConfig:function(){this.padding=this.config.padding||[0,0,0,0];this.isTarget=(this.config.isTarget!==false);this.maintainOffset=(this.config.maintainOffset);this.primaryButtonOnly=(this.config.primaryButtonOnly!==false)},handleOnAvailable:function(){this.available=true;this.resetConstraints();this.onAvailable()},setPadding:function(j,g,h,e){if(!g&&0!==g){this.padding=[j,j,j,j]}else{if(!h&&0!==h){this.padding=[j,g,j,g]}else{this.padding=[j,g,h,e]}}},setInitPosition:function(n,o){var m=this.getEl(),h,j,l;if(!this.DDMInstance.verifyEl(m)){return}h=n||0;j=o||0;l=Ext.fly(m).getXY();this.initPageX=l[0]-h;this.initPageY=l[1]-j;this.lastPageX=l[0];this.lastPageY=l[1];this.setStartPosition(l)},setStartPosition:function(c){var d=c||Ext.fly(this.getEl()).getXY();this.deltaSetXY=null;this.startPageX=d[0];this.startPageY=d[1]},addToGroup:function(b){this.groups[b]=true;this.DDMInstance.regDragDrop(this,b)},removeFromGroup:function(b){if(this.groups[b]){delete this.groups[b]}this.DDMInstance.removeDDFromGroup(this,b)},setDragElId:function(b){this.dragElId=b},setHandleElId:function(b){if(typeof b!=="string"){b=Ext.id(b)}this.handleElId=b;this.DDMInstance.regHandle(this.id,b)},setOuterHandleElId:function(b){if(typeof b!=="string"){b=Ext.id(b)}Ext.get(b).on(this.triggerEvent,this.handleMouseDown,this);this.setHandleElId(b);this.hasOuterHandles=true},unreg:function(){var c=this,d;if(c._domRef){d=Ext.fly(c.id);if(d){d.un(c.triggerEvent,c.handleMouseDown,c)}}c._domRef=null;c.DDMInstance._remove(c,c.autoGroup)},destroy:function(){this.unreg();this.isDestroyed=true},isLocked:function(){return(this.DDMInstance.isLocked()||this.locked)},handleMouseDown:function(g,d){var e=this;if((e.primaryButtonOnly&&g.button!=0)||e.isLocked()){return}e.DDMInstance.refreshCache(e.groups);if(e.hasOuterHandles||e.DDMInstance.isOverTarget(g.getPoint(),e)){if(e.clickValidator(g)){e.setStartPosition();e.b4MouseDown(g);e.onMouseDown(g);e.DDMInstance.handleMouseDown(g,e);e.DDMInstance.stopEvent(g)}}},clickValidator:function(c){var d=c.getTarget();return(this.isValidHandleChild(d)&&(this.id==this.handleElId||this.DDMInstance.handleWasClicked(d,this.id)))},addInvalidHandleType:function(d){var c=d.toUpperCase();this.invalidHandleTypes[c]=c},addInvalidHandleId:function(b){if(typeof b!=="string"){b=Ext.id(b)}this.invalidHandleIds[b]=b},addInvalidHandleClass:function(b){this.invalidHandleClasses.push(b)},removeInvalidHandleType:function(d){var c=d.toUpperCase();delete this.invalidHandleTypes[c]},removeInvalidHandleId:function(b){if(typeof b!=="string"){b=Ext.id(b)}delete this.invalidHandleIds[b]},removeInvalidHandleClass:function(d){for(var g=0,e=this.invalidHandleClasses.length;g<e;++g){if(this.invalidHandleClasses[g]==d){delete this.invalidHandleClasses[g]}}},isValidHandleChild:function(n){var o=true,l,e,j;try{l=n.nodeName.toUpperCase()}catch(m){l=n.nodeName}o=o&&!this.invalidHandleTypes[l];o=o&&!this.invalidHandleIds[n.id];for(e=0,j=this.invalidHandleClasses.length;o&&e<j;++e){o=!Ext.fly(n).hasCls(this.invalidHandleClasses[e])}return o},setXTicks:function(h,g){this.xTicks=[];this.xTickSize=g;var j={},e;for(e=this.initPageX;e>=this.minX;e=e-g){if(!j[e]){this.xTicks[this.xTicks.length]=e;j[e]=true}}for(e=this.initPageX;e<=this.maxX;e=e+g){if(!j[e]){this.xTicks[this.xTicks.length]=e;j[e]=true}}Ext.Array.sort(this.xTicks,this.DDMInstance.numericSort)},setYTicks:function(h,g){this.yTicks=[];this.yTickSize=g;var j={},e;for(e=this.initPageY;e>=this.minY;e=e-g){if(!j[e]){this.yTicks[this.yTicks.length]=e;j[e]=true}}for(e=this.initPageY;e<=this.maxY;e=e+g){if(!j[e]){this.yTicks[this.yTicks.length]=e;j[e]=true}}Ext.Array.sort(this.yTicks,this.DDMInstance.numericSort)},setXConstraint:function(g,d,e){this.leftConstraint=g;this.rightConstraint=d;this.minX=this.initPageX-g;this.maxX=this.initPageX+d;if(e){this.setXTicks(this.initPageX,e)}this.constrainX=true},clearConstraints:function(){this.constrainX=false;this.constrainY=false;this.clearTicks()},clearTicks:function(){this.xTicks=null;this.yTicks=null;this.xTickSize=0;this.yTickSize=0},setYConstraint:function(e,g,d){this.topConstraint=e;this.bottomConstraint=g;this.minY=this.initPageY-e;this.maxY=this.initPageY+g;if(d){this.setYTicks(this.initPageY,d)}this.constrainY=true},resetConstraints:function(){if(this.initPageX||this.initPageX===0){var c=(this.maintainOffset)?this.lastPageX-this.initPageX:0,d=(this.maintainOffset)?this.lastPageY-this.initPageY:0;this.setInitPosition(c,d)}else{this.setInitPosition()}if(this.constrainX){this.setXConstraint(this.leftConstraint,this.rightConstraint,this.xTickSize)}if(this.constrainY){this.setYConstraint(this.topConstraint,this.bottomConstraint,this.yTickSize)}},getTick:function(m,p){if(!p){return m}else{if(p[0]>=m){return p[0]}else{var j,l,q,n,o;for(j=0,l=p.length;j<l;++j){q=j+1;if(p[q]&&p[q]>=m){n=m-p[j];o=p[q]-m;return(o>n)?p[j]:p[q]}}return p[p.length-1]}}},toString:function(){return("DragDrop "+this.id)}});Ext.define("Ext.dd.DD",{extend:Ext.dd.DragDrop,constructor:function(g,e,d){if(g){this.init(g,e,d)}},scroll:true,autoOffset:function(j,e){var g=j-this.startPageX,h=e-this.startPageY;this.setDelta(g,h)},setDelta:function(c,d){this.deltaX=c;this.deltaY=d},setDragElPos:function(g,d){var e=this.getDragEl();this.alignElWithMouse(e,g,d)},alignElWithMouse:function(y,v,x){var u=this.getTargetCoord(v,x),w=y.dom?y:Ext.fly(y,"_dd"),o=w.getSize(),r=Ext.Element,q,z,p,s;if(!this.deltaSetXY){q=this.cachedViewportSize={width:r.getDocumentWidth(),height:r.getDocumentHeight()};z=[Math.max(0,Math.min(u.x,q.width-o.width)),Math.max(0,Math.min(u.y,q.height-o.height))];w.setXY(z);p=this.getLocalX(w);s=w.getLocalY();this.deltaSetXY=[p-u.x,s-u.y]}else{q=this.cachedViewportSize;this.setLocalXY(w,Math.max(0,Math.min(u.x+this.deltaSetXY[0],q.width-o.width)),Math.max(0,Math.min(u.y+this.deltaSetXY[1],q.height-o.height)))}this.cachePosition(u.x,u.y);this.autoScroll(u.x,u.y,y.offsetHeight,y.offsetWidth);return u},cachePosition:function(d,e){if(d){this.lastPageX=d;this.lastPageY=e}else{var g=Ext.fly(this.getEl()).getXY();this.lastPageX=g[0];this.lastPageY=g[1]}},autoScroll:function(w,x,B,v){if(this.scroll){var u=Ext.Element.getViewportHeight(),F=Ext.Element.getViewportWidth(),h=this.DDMInstance.getScrollTop(),C=this.DDMInstance.getScrollLeft(),y=B+x,s=v+w,z=(u+h-x-this.deltaY),A=(F+C-w-this.deltaX),D=40,G=(document.all)?80:30;if(y>u&&z<D){window.scrollTo(C,h+G)}if(x<h&&h>0&&x-h<D){window.scrollTo(C,h-G)}if(s>F&&A<D){window.scrollTo(C+G,h)}if(w<C&&C>0&&w-C<D){window.scrollTo(C-G,h)}}},getTargetCoord:function(j,e){var g=j-this.deltaX,h=e-this.deltaY;if(this.constrainX){if(g<this.minX){g=this.minX}if(g>this.maxX){g=this.maxX}}if(this.constrainY){if(h<this.minY){h=this.minY}if(h>this.maxY){h=this.maxY}}g=this.getTick(g,this.xTicks);h=this.getTick(h,this.yTicks);return{x:g,y:h}},applyConfig:function(){this.callParent();this.scroll=(this.config.scroll!==false)},b4MouseDown:function(c){var d=c.getXY();this.autoOffset(d[0],d[1])},b4Drag:function(c){var d=c.getXY();this.setDragElPos(d[0],d[1])},toString:function(){return("DD "+this.id)},getLocalX:function(b){return b.getLocalX()},setLocalXY:function(d,e,g){d.setLocalXY(e,g)}});Ext.define("Ext.dd.DDProxy",{extend:Ext.dd.DD,statics:{dragElId:"ygddfdiv"},constructor:function(g,e,d){if(g){this.init(g,e,d);this.initFrame()}},resizeFrame:true,centerFrame:false,createFrame:function(){var e=this,g=document.body,h,j;if(!g||!g.firstChild){Ext.defer(function(){e.createFrame()},50);return}h=this.getDragEl();if(!h){h=document.createElement("div");h.id=this.dragElId;h.setAttribute("role","presentation");j=h.style;j.position="absolute";j.visibility="hidden";j.cursor="move";j.border="2px solid #aaa";j.zIndex=999;g.insertBefore(h,g.firstChild)}},initFrame:function(){this.createFrame()},applyConfig:function(){this.callParent();this.resizeFrame=(this.config.resizeFrame!==false);this.centerFrame=(this.config.centerFrame);this.setDragElId(this.config.dragElId||Ext.dd.DDProxy.dragElId)},showFrame:function(j,l){var m=this.getEl(),h=this.getDragEl(),g=h.style;this._resizeProxy();if(this.centerFrame){this.setDelta(Math.round(parseInt(g.width,10)/2),Math.round(parseInt(g.height,10)/2))}this.setDragElPos(j,l);Ext.fly(h).show()},_resizeProxy:function(){if(this.resizeFrame){var b=this.getEl();Ext.fly(this.getDragEl()).setSize(b.offsetWidth,b.offsetHeight)}},b4MouseDown:function(j){var e=j.getXY(),g=e[0],h=e[1];this.autoOffset(g,h);this.setDragElPos(g,h)},b4StartDrag:function(d,c){this.showFrame(d,c)},b4EndDrag:function(b){Ext.fly(this.getDragEl()).hide()},endDrag:function(g){var d=this.getEl(),e=this.getDragEl();e.style.visibility="";this.beforeMove();d.style.visibility="hidden";Ext.dd.DDM.moveToEl(d,e);e.style.visibility="hidden";d.style.visibility="";this.afterDrag()},beforeMove:function(){},afterDrag:function(){},toString:function(){return("DDProxy "+this.id)}});Ext.define("Ext.dd.StatusProxy",{extend:Ext.Component,animRepair:false,childEls:["ghost"],renderTpl:['<div class="'+Ext.baseCSSPrefix+'dd-drop-icon" role="presentation"></div><div id="{id}-ghost" data-ref="ghost" class="'+Ext.baseCSSPrefix+'dd-drag-ghost" role="presentation"></div>'],repairCls:Ext.baseCSSPrefix+"dd-drag-repair",ariaRole:"presentation",constructor:function(d){var c=this;d=d||{};Ext.apply(c,{hideMode:"visibility",hidden:true,floating:true,id:c.id||Ext.id(),cls:Ext.baseCSSPrefix+"dd-drag-proxy "+this.dropNotAllowed,shadow:d.shadow||false,renderTo:Ext.getDetachedBody()});c.callParent(arguments);this.dropStatus=this.dropNotAllowed},dropAllowed:Ext.baseCSSPrefix+"dd-drop-ok",dropNotAllowed:Ext.baseCSSPrefix+"dd-drop-nodrop",setStatus:function(b){b=b||this.dropNotAllowed;if(this.dropStatus!=b){this.el.replaceCls(this.dropStatus,b);this.dropStatus=b}},reset:function(d){var g=this,e=Ext.baseCSSPrefix+"dd-drag-proxy ";g.el.replaceCls(e+g.dropAllowed,e+g.dropNotAllowed);g.dropStatus=g.dropNotAllowed;if(d){g.ghost.setHtml("")}},update:function(d){if(typeof d=="string"){this.ghost.setHtml(d)}else{this.ghost.setHtml("");d.style.margin="0";this.ghost.dom.appendChild(d)}var c=this.ghost.dom.firstChild;if(c){Ext.fly(c).setStyle("float","none")}},getGhost:function(){return this.ghost},hide:function(b){this.callParent();if(b){this.reset(true)}},stop:function(){if(this.anim&&this.anim.isAnimated&&this.anim.isAnimated()){this.anim.stop()}},sync:function(){this.el.syncUnderlays()},repair:function(j,h,g){var e=this;e.callback=h;e.scope=g;if(j&&e.animRepair!==false){e.el.addCls(e.repairCls);e.el.setUnderlaysVisible(false);e.anim=e.el.animate({duration:e.repairDuration||500,easing:"ease-out",to:{x:j[0],y:j[1]},stopAnimation:true,callback:e.afterRepair,scope:e})}else{e.afterRepair()}},afterRepair:function(){var b=this;b.hide(true);b.el.removeCls(b.repairCls);if(typeof b.callback=="function"){b.callback.call(b.scope||b)}delete b.callback;delete b.scope}});Ext.define("Ext.dd.DragSource",{extend:Ext.dd.DDProxy,dropAllowed:Ext.baseCSSPrefix+"dd-drop-ok",dropNotAllowed:Ext.baseCSSPrefix+"dd-drop-nodrop",animRepair:true,repairHighlightColor:"c3daf9",constructor:function(c,d){this.el=Ext.get(c);if(!this.dragData){this.dragData={}}Ext.apply(this,d);if(!this.proxy){this.proxy=new Ext.dd.StatusProxy({id:this.el.id+"-drag-status-proxy",animRepair:this.animRepair})}this.callParent([this.el.dom,this.ddGroup||this.group,{dragElId:this.proxy.id,resizeFrame:false,isTarget:false,scroll:this.scroll===true}]);this.dragging=false},getDragData:function(b){return this.dragData},onDragEnter:function(j,h){var e=Ext.dd.DragDropManager.getDDById(h),g;this.cachedTarget=e;if(this.beforeDragEnter(e,j,h)!==false){if(e.isNotifyTarget){g=e.notifyEnter(this,j,this.dragData);this.proxy.setStatus(g)}else{this.proxy.setStatus(this.dropAllowed)}if(this.afterDragEnter){this.afterDragEnter(e,j,h)}}},beforeDragEnter:function(d,e,g){return true},onDragOver:function(j,h){var e=this.cachedTarget||Ext.dd.DragDropManager.getDDById(h),g;if(this.beforeDragOver(e,j,h)!==false){if(e.isNotifyTarget){g=e.notifyOver(this,j,this.dragData);this.proxy.setStatus(g)}if(this.afterDragOver){this.afterDragOver(e,j,h)}}},beforeDragOver:function(d,e,g){return true},onDragOut:function(d,g){var e=this.cachedTarget||Ext.dd.DragDropManager.getDDById(g);if(this.beforeDragOut(e,d,g)!==false){if(e.isNotifyTarget){e.notifyOut(this,d,this.dragData)}this.proxy.reset();if(this.afterDragOut){this.afterDragOut(e,d,g)}}this.cachedTarget=null},beforeDragOut:function(d,e,g){return true},onDragDrop:function(d,g){var e=this.cachedTarget||Ext.dd.DragDropManager.getDDById(g);if(this.beforeDragDrop(e,d,g)!==false){if(e.isNotifyTarget){if(e.notifyDrop(this,d,this.dragData)!==false){this.onValidDrop(e,d,g)}else{this.onInvalidDrop(e,d,g)}}else{this.onValidDrop(e,d,g)}if(this.afterDragDrop){this.afterDragDrop(e,d,g)}}delete this.cachedTarget},beforeDragDrop:function(d,e,g){return true},onValidDrop:function(d,e,g){this.hideProxy();if(this.afterValidDrop){this.afterValidDrop(d,e,g)}},getRepairXY:function(c,d){return this.el.getXY()},onInvalidDrop:function(j,e,h){var g=this;if(!e){e=j;j=null;h=e.getTarget().id}if(g.beforeInvalidDrop(j,e,h)!==false){if(g.cachedTarget){if(g.cachedTarget.isNotifyTarget){g.cachedTarget.notifyOut(g,e,g.dragData)}g.cacheTarget=null}g.proxy.repair(g.getRepairXY(e,g.dragData),g.afterRepair,g);if(g.afterInvalidDrop){g.afterInvalidDrop(e,h)}}},afterRepair:function(){var b=this;if(Ext.enableFx){b.el.highlight(b.repairHighlightColor)}b.dragging=false},beforeInvalidDrop:function(d,e,g){return true},handleMouseDown:function(c){if(this.dragging){return}var d=this.getDragData(c);if(d&&this.onBeforeDrag(d,c)!==false){this.dragData=d;this.proxy.stop();this.callParent(arguments)}},onBeforeDrag:function(d,c){return true},onStartDrag:Ext.emptyFn,alignElWithMouse:function(){this.proxy.ensureAttachedToBody(true);return this.callParent(arguments)},startDrag:function(d,c){this.proxy.reset();this.proxy.hidden=false;this.dragging=true;this.proxy.update("");this.onInitDrag(d,c);this.proxy.show()},onInitDrag:function(e,g){var d=this.el.dom.cloneNode(true);d.id=Ext.id();this.proxy.update(d);this.onStartDrag(e,g);return true},getProxy:function(){return this.proxy},hideProxy:function(){this.proxy.hide();this.proxy.reset(true);this.dragging=false},triggerCacheRefresh:function(){Ext.dd.DDM.refreshCache(this.groups)},b4EndDrag:function(b){},endDrag:function(b){this.onEndDrag(this.dragData,b)},onEndDrag:function(d,c){},autoOffset:function(d,c){this.setDelta(-12,-20)},destroy:function(){this.callParent();Ext.destroy(this.proxy)}});Ext.define("Ext.panel.Proxy",{alternateClassName:"Ext.dd.PanelProxy",moveOnDrag:true,constructor:function(e,d){var g=this;g.panel=e;g.id=g.panel.id+"-ddproxy";Ext.apply(g,d)},insertProxy:true,setStatus:Ext.emptyFn,reset:Ext.emptyFn,update:Ext.emptyFn,stop:Ext.emptyFn,sync:Ext.emptyFn,getEl:function(){return this.ghost.el},getGhost:function(){return this.ghost},getProxy:function(){return this.proxy},hide:function(){var b=this;if(b.ghost){if(b.proxy){b.proxy.destroy();delete b.proxy}b.panel.unghost(null,b.moveOnDrag);delete b.ghost}},show:function(){var c=this,d;if(!c.ghost){d=c.panel.getSize();c.panel.el.setVisibilityMode(Ext.Element.DISPLAY);c.ghost=c.panel.ghost();if(c.insertProxy){c.proxy=c.panel.el.insertSibling({role:"presentation",cls:Ext.baseCSSPrefix+"panel-dd-spacer"});c.proxy.setSize(d)}}},repair:function(d,g,e){this.hide();Ext.callback(g,e||this)},moveProxy:function(d,c){if(this.proxy){d.insertBefore(this.proxy.dom,c)}}});Ext.define("Ext.panel.DD",{extend:Ext.dd.DragSource,constructor:function(d,e){var g=this;g.panel=d;g.dragData={panel:d};g.panelProxy=new Ext.panel.Proxy(d,e);g.proxy=g.panelProxy.proxy;g.callParent([d.el,e]);g.setupEl(d)},setupEl:function(g){var j=this,h=g.header,e=g.body;if(h){j.setHandleElId(h.id);e=h.el}if(e){e.setStyle("cursor","move");j.scroll=false}else{g.on("boxready",j.setupEl,j,{single:true})}},showFrame:Ext.emptyFn,startDrag:Ext.emptyFn,b4StartDrag:function(d,c){this.panelProxy.show()},b4MouseDown:function(j){var e=j.getXY(),g=e[0],h=e[1];this.autoOffset(g,h)},onInitDrag:function(d,c){this.onStartDrag(d,c);return true},createFrame:Ext.emptyFn,getDragEl:function(c){var d=this.panelProxy.ghost;if(d){return d.el.dom}},endDrag:function(b){this.panelProxy.hide();this.panel.saveState()},autoOffset:function(d,c){d-=this.startPageX;c-=this.startPageY;this.setDelta(d,c)},onInvalidDrop:function(j,e,h){var g=this;if(g.beforeInvalidDrop(j,e,h)!==false){if(g.cachedTarget){if(g.cachedTarget.isNotifyTarget){g.cachedTarget.notifyOut(g,e,g.dragData)}g.cacheTarget=null}if(g.afterInvalidDrop){g.afterInvalidDrop(e,h)}}}});Ext.define("Ext.layout.component.Dock",{extend:Ext.layout.component.Component,alias:"layout.dock",alternateClassName:"Ext.layout.component.AbstractDock",type:"dock",horzAxisProps:{name:"horz",oppositeName:"vert",dockBegin:"left",dockEnd:"right",horizontal:true,marginBegin:"margin-left",maxSize:"maxWidth",minSize:"minWidth",pos:"x",setSize:"setWidth",shrinkWrapDock:"shrinkWrapDockWidth",size:"width",sizeModel:"widthModel"},vertAxisProps:{name:"vert",oppositeName:"horz",dockBegin:"top",dockEnd:"bottom",horizontal:false,marginBegin:"margin-top",maxSize:"maxHeight",minSize:"minHeight",pos:"y",setSize:"setHeight",shrinkWrapDock:"shrinkWrapDockHeight",size:"height",sizeModel:"heightModel"},initializedBorders:-1,horizontalCollapsePolicy:{width:true,x:true},verticalCollapsePolicy:{height:true,y:true},finishRender:function(){var d=this,g,e;d.callParent();g=d.getRenderTarget();e=d.getDockedItems();d.finishRenderItems(g,e)},isItemBoxParent:function(b){return true},isItemShrinkWrap:function(b){return true},noBorderClasses:[Ext.baseCSSPrefix+"docked-noborder-top",Ext.baseCSSPrefix+"docked-noborder-right",Ext.baseCSSPrefix+"docked-noborder-bottom",Ext.baseCSSPrefix+"docked-noborder-left"],noBorderClassesSides:{top:Ext.baseCSSPrefix+"docked-noborder-top",right:Ext.baseCSSPrefix+"docked-noborder-right",bottom:Ext.baseCSSPrefix+"docked-noborder-bottom",left:Ext.baseCSSPrefix+"docked-noborder-left"},borderWidthProps:{top:"border-top-width",right:"border-right-width",bottom:"border-bottom-width",left:"border-left-width"},_itemCls:Ext.baseCSSPrefix+"docked",handleItemBorders:function(){var x=this,I=x.owner,y,s,B=x.lastDockedItems,C=x.borders,H=I.dockedItems.generation,G=x.noBorderClassesSides,w=x.borderWidthProps,D,z,u,v,A,F=x.collapsed;if(x.initializedBorders==H||(I.border&&!I.manageBodyBorders)){return}x.initializedBorders=H;x.collapsed=false;x.lastDockedItems=s=x.getLayoutItems();x.collapsed=F;y={top:[],right:[],bottom:[],left:[]};for(D=0,z=s.length;D<z;D++){u=s[D];v=u.dock;if(u.ignoreBorderManagement){continue}if(!y[v].satisfied){y[v].push(u);y[v].satisfied=true}if(!y.top.satisfied&&v!=="bottom"){y.top.push(u)}if(!y.right.satisfied&&v!=="left"){y.right.push(u)}if(!y.bottom.satisfied&&v!=="top"){y.bottom.push(u)}if(!y.left.satisfied&&v!=="right"){y.left.push(u)}}if(B){for(D=0,z=B.length;D<z;D++){u=B[D];if(!u.isDestroyed&&!u.ignoreBorderManagement&&!I.manageBodyBorders){u.removeCls(x.noBorderClasses)}}}if(C){for(A in C){if(I.manageBodyBorders&&C[A].satisfied){I.setBodyStyle(w[A],"")}}}for(A in y){z=y[A].length;if(!I.manageBodyBorders){for(D=0;D<z;D++){y[A][D].addCls(G[A])}if((!y[A].satisfied&&!I.bodyBorder)||I.bodyBorder===false){I.addBodyCls(G[A])}else{I.removeBodyCls(G[A])}}else{if(y[A].satisfied){I.setBodyStyle(w[A],"1px")}}}x.borders=y},beforeLayoutCycle:function(n){var q=this,j=q.owner,m=q.sizeModels.shrinkWrap,o=j.shrinkWrapDock,p,l;if(j.collapsed){if(j.collapsedVertical()){l=true;n.measureDimensions=1}else{p=true;n.measureDimensions=2}}n.collapsedVert=l;n.collapsedHorz=p;if(l){n.heightModel=m}else{if(p){n.widthModel=m}}o=o===true?3:(o||0);n.shrinkWrapDockHeight=(o&1)&&n.heightModel.shrinkWrap;n.shrinkWrapDockWidth=(o&2)&&n.widthModel.shrinkWrap},beginLayout:function(C){var w=this,D=w.owner,r=w.getLayoutItems(),F=C.context,A=r.length,x=w.lastCollapsedState,v,y,s,G,B,z,u;w.callParent(arguments);z=D.getCollapsed();if(z!==x&&x!==undefined){if(w.owner.collapsed){C.isCollapsingOrExpanding=1;D.addClsWithUI(D.collapsedCls)}else{C.isCollapsingOrExpanding=2;D.removeClsWithUI(D.collapsedCls);C.lastCollapsedState=w.lastCollapsedState}}w.lastCollapsedState=z;C.dockedItems=v=[];for(y=0;y<A;y++){s=r[y];if(s.rendered){u=s.dock;G=F.getCmp(s);G.dockedAt={x:0,y:0};G.offsets=B=Ext.Element.parseBox(s.offsets||0);G.horizontal=u=="top"||u=="bottom";B.width=B.left+B.right;B.height=B.top+B.bottom;v.push(G)}}C.bodyContext=C.getEl("body")},beginLayoutCycle:function(w){var s=this,n=w.dockedItems,u=n.length,x=s.owner,r=x.frameBody,o=s.lastHeightModel,v,p,q;s.callParent(arguments);if(s.owner.manageHeight){if(s.lastBodyDisplay){x.body.dom.style.display=s.lastBodyDisplay=""}}else{if(s.lastBodyDisplay!=="inline-block"){x.body.dom.style.display=s.lastBodyDisplay="inline-block"}if(o&&o.shrinkWrap&&!w.heightModel.shrinkWrap){x.body.dom.style.marginBottom=""}}if(w.widthModel.auto){if(w.widthModel.shrinkWrap){x.el.setWidth(null)}x.body.setWidth(null);if(r){r.setWidth(null)}}if(w.heightModel.auto){x.body.setHeight(null);if(r){r.setHeight(null)}}if(w.collapsedVert){w.setContentHeight(0)}else{if(w.collapsedHorz){w.setContentWidth(0)}}for(v=0;v<u;v++){p=n[v].target;q=p.dock;if(q=="right"){p.setLocalX(0)}else{if(q!="left"){continue}}}},calculate:function(y){var q=this,z=q.measureAutoDimensions(y,y.measureDimensions),A=y.state,r=A.horzDone,x=A.vertDone,w=y.bodyContext,s,B,u,v,p;y.borderInfo||y.getBorderInfo();y.paddingInfo||y.getPaddingInfo();y.frameInfo||y.getFrameInfo();w.borderInfo||w.getBorderInfo();w.paddingInfo||w.getPaddingInfo();if(!y.frameBorder){if(!(s=y.framing)){y.frameBorder=y.borderInfo;y.framePadding=y.paddingInfo}else{y.frameBorder=s.border;y.framePadding=s.padding}}B=!r&&q.createAxis(y,z.contentWidth,y.widthModel,q.horzAxisProps,y.collapsedHorz);u=!x&&q.createAxis(y,z.contentHeight,y.heightModel,q.vertAxisProps,y.collapsedVert);for(v=0,p=y.dockedItems.length;p--;++v){if(B){q.dockChild(y,B,p,v)}if(u){q.dockChild(y,u,p,v)}}if(B&&q.finishAxis(y,B)){A.horzDone=r=B}if(u&&q.finishAxis(y,u)){A.vertDone=x=u}if(r&&x&&q.finishConstraints(y,r,x)){q.finishPositions(y,r,x)}else{q.done=false}},createAxis:function(D,K,O,H,P){var y=this,z=0,R=y.owner,N=R[H.maxSize],Q=R[H.minSize]||0,G=H.dockBegin,L=H.dockEnd,B=H.pos,I=H.size,J=N!=null,F=O.shrinkWrap,S,A,C,M;if(F){if(P){M=0}else{S=D.bodyContext;M=K+S.borderInfo[I]}}else{A=D.frameBorder;C=D.framePadding;z=A[G]+C[G];M=D.getProp(I)-(A[L]+C[L])}return{shrinkWrap:O.shrinkWrap,sizeModel:O,initialBegin:z,begin:z,end:M,collapsed:P,horizontal:H.horizontal,ignoreFrameBegin:null,ignoreFrameEnd:null,initialSize:M-z,maxChildSize:0,hasMinMaxConstraints:(Q||J)&&O.shrinkWrap,minSize:Q,maxSize:J?N:1000000000,bodyPosProp:y.owner.manageHeight?B:H.marginBegin,dockBegin:G,dockEnd:L,posProp:B,sizeProp:I,setSize:H.setSize,shrinkWrapDock:D[H.shrinkWrapDock],sizeModelName:H.sizeModel,dockedPixelsEnd:0}},dockChild:function(y,x,o,v){var u=this,z=y.dockedItems[x.shrinkWrap?o:v],r=z.target,q=r.dock,w=x.sizeProp,s,p;if(r.ignoreParentFrame&&y.isCollapsingOrExpanding){z.clearMarginCache()}z.marginInfo||z.getMarginInfo();if(q==x.dockBegin){if(x.shrinkWrap){s=u.dockOutwardBegin(y,z,r,x)}else{s=u.dockInwardBegin(y,z,r,x)}}else{if(q==x.dockEnd){if(x.shrinkWrap){s=u.dockOutwardEnd(y,z,r,x)}else{s=u.dockInwardEnd(y,z,r,x)}}else{if(x.shrinkWrapDock){p=z.getProp(w)+z.marginInfo[w];x.maxChildSize=Math.max(x.maxChildSize,p);s=0}else{s=u.dockStretch(y,z,r,x)}}}z.dockedAt[x.posProp]=s},dockInwardBegin:function(w,x,o,u){var r=u.begin,s=u.sizeProp,v=o.ignoreParentFrame,q,n,p;if(v){u.ignoreFrameBegin=x;p=o.dock;q=w.frameBorder[p];r-=q+w.framePadding[p]}if(!o.overlay){n=x.getProp(s)+x.marginInfo[s];u.begin+=n;if(v){u.begin-=q}}return r},dockInwardEnd:function(q,r,s,l){var n=l.sizeProp,m=r.getProp(n)+r.marginInfo[n],o=l.end-m,p;if(!s.overlay){l.end=o}if(s.ignoreParentFrame){l.ignoreFrameEnd=r;p=q.frameBorder[s.dock];o+=p+q.framePadding[s.dock];l.end+=p}return o},dockOutwardBegin:function(o,p,q,j){var m=j.begin,n=j.sizeProp,l;if(j.collapsed){j.ignoreFrameBegin=j.ignoreFrameEnd=p}else{if(q.ignoreParentFrame){j.ignoreFrameBegin=p}}if(!q.overlay){l=p.getProp(n)+p.marginInfo[n];m-=l;j.begin=m}return m},dockOutwardEnd:function(o,p,q,j){var m=j.end,n=j.sizeProp,l;l=p.getProp(n)+p.marginInfo[n];if(j.collapsed){j.ignoreFrameBegin=j.ignoreFrameEnd=p}else{if(q.ignoreParentFrame){j.ignoreFrameEnd=p}}if(!q.overlay){j.end=m+l;j.dockedPixelsEnd+=l}return m},dockStretch:function(G,H,w,F){var v=w.dock,z=F.sizeProp,I=v=="top"||v=="bottom",A=G.frameBorder,D=H.offsets,x=G.framePadding,B=I?"right":"bottom",s=I?"left":"top",y=F.begin+D[s],C,u;if(w.stretch!==false){u=F.end-y-D[B];if(w.ignoreParentFrame){y-=x[s]+A[s];u+=x[z]+A[z]}C=H.marginInfo;u-=C[z];H[F.setSize](u)}return y},finishAxis:function(N,U){if(isNaN(U.maxChildSize)){return false}var V=U.begin,J=U.end-V,S=U.collapsed,B=U.setSize,P=U.dockBegin,D=U.dockEnd,K=N.framePadding,H=N.frameBorder,T=H[P],G=N.framing,M=G&&G[P],X=S?0:K[P],Q=U.sizeProp,F=U.ignoreFrameBegin,I=U.ignoreFrameEnd,Y=N.bodyContext,O=Math.max(T+X-M,0),W,L,C,R;if(U.shrinkWrap){L=U.initialSize;if(G){C=-V+T+X;W=C-M-O}else{W=-V;C=W+X}if(!S){J+=K[Q]}if(F){C-=T;W-=T;F.dockedAt[U.posProp]-=X}else{J+=T}if(S){}else{if(I){I.dockedAt[U.posProp]+=K[D]}else{J+=H[D]}}U.size=J;if(!U.horizontal&&!this.owner.manageHeight){R=false}}else{if(G){C=0;W=V-M-O}else{C=-T;W=V-X-T}L=J}U.delta=C;Y[B](L,R);Y.setProp(U.bodyPosProp,W);return !isNaN(J)},beforeInvalidateShrinkWrapDock:function(g,d){var e=d.axis.sizeModelName;if(!g[e].constrainedMin){g[e]=Ext.layout.SizeModel.calculated}},afterInvalidateShrinkWrapDock:function(l,h){var g=h.axis,m=h.layout,j;if(l[g.sizeModelName].calculated){j=m.dockStretch(h.ownerContext,l,l.target,g);l.setProp(g.posProp,g.delta+j)}},finishConstraints:function(F,M,z){var w=this,x=w.sizeModels,A=M.shrinkWrap,y=z.shrinkWrap,O=w.owner,H,C,B,J,I,D,N,L,K,G;if(A){D=M.size;N=M.collapsed?0:M.minSize;L=M.maxSize;K=M.maxChildSize;G=Math.max(D,K);if(G>L){I=x.constrainedMax;B=L}else{if(G<N){I=x.constrainedMin;B=N}else{if(D<K){I=x.constrainedDock;O.dockConstrainedWidth=B=K}else{B=D}}}}if(y){D=z.size;N=z.collapsed?0:z.minSize;L=z.maxSize;K=z.maxChildSize;G=Math.max(D,K+D-z.initialSize);if(G>L){J=x.constrainedMax;C=L}else{if(G<N){J=x.constrainedMin;C=N}else{if(D<K){J=x.constrainedDock;O.dockConstrainedHeight=C=K}else{if(!F.collapsedVert&&!O.manageHeight){H=false;F.bodyContext.setProp("margin-bottom",z.dockedPixelsEnd)}C=D}}}}if(I||J){if(I&&J&&I.constrainedMax&&J.constrainedByMin){F.invalidate({widthModel:I});return false}if(!F.widthModel.calculatedFromShrinkWrap&&!F.heightModel.calculatedFromShrinkWrap){F.invalidate({widthModel:I,heightModel:J});return false}}else{w.invalidateAxes(F,M,z)}if(A){F.setWidth(B);if(I){F.widthModel=I}}if(y){F.setHeight(C,H);if(J){F.heightModel=J}}return true},invalidateAxes:function(F,K,A){var w=this.beforeInvalidateShrinkWrapDock,J=this.afterInvalidateShrinkWrapDock,G=K.end-K.begin,L=A.initialSize,I=K.shrinkWrapDock&&K.maxChildSize<=G,z=A.shrinkWrapDock&&A.maxChildSize<=L,v,y,B,H,M,x,D,C;if(I||z){if(z){A.begin=A.initialBegin;A.end=A.begin+A.initialSize}v=F.dockedItems;for(B=0,y=v.length;B<y;++B){H=v[B];x=H.horizontal;D=null;if(I&&x){C=K.sizeProp;M=G;D=K}else{if(z&&!x){C=A.sizeProp;M=L;D=A}}if(D){M-=H.getMarginInfo()[C];if(M!==H.props[C]){H.invalidate({before:w,after:J,axis:D,ownerContext:F,layout:this})}}}}},finishPositions:function(r,v,o){var m=r.dockedItems,s=m.length,p=v.delta,q=o.delta,n,u;for(n=0;n<s;++n){u=m[n];u.setProp("x",p+u.dockedAt.x);u.setProp("y",q+u.dockedAt.y)}},finishedLayout:function(d){var e=this,g=d.target;e.callParent(arguments);if(!d.animatePolicy){if(d.isCollapsingOrExpanding===1){g.afterCollapse(false)}else{if(d.isCollapsingOrExpanding===2){g.afterExpand(false)}}}},getAnimatePolicy:function(j){var e=this,g,h;if(j.isCollapsingOrExpanding==1){g=e.lastCollapsedState}else{if(j.isCollapsingOrExpanding==2){g=j.lastCollapsedState}}if(g=="left"||g=="right"){h=e.horizontalCollapsePolicy}else{if(g=="top"||g=="bottom"){h=e.verticalCollapsePolicy}}return h},getDockedItems:function(z,p){var u=this,x=(z==="visual"),s=x?Ext.ComponentQuery.query("[rendered]",u.owner.dockedItems.items):u.owner.dockedItems.items,v=s&&s.length&&z!==false,A,q,r,w,y,B;if(p==null){r=v&&!x?s.slice():s}else{r=[];for(w=0,B=s.length;w<B;++w){q=s[w].dock;y=(q=="top"||q=="left");if(p?y:!y){r.push(s[w])}}v=v&&r.length}if(v){A=(z=z||"render")=="render";Ext.Array.sort(r,function(c,d){var b,a;if(A&&((b=u.owner.dockOrder[c.dock])!==(a=u.owner.dockOrder[d.dock]))){if(!(b+a)){return b-a}}b=u.getItemWeight(c,z);a=u.getItemWeight(d,z);if((b!==undefined)&&(a!==undefined)){return b-a}return 0})}return r||[]},getItemWeight:function(d,e){var g=d.weight||this.owner.defaultDockWeights[d.dock];return g[e]||g},getLayoutItems:function(){var m=this,h,l,n,o,j;if(m.owner.collapsed){j=m.owner.getCollapsedDockedItems()}else{h=m.getDockedItems("visual");l=h.length;j=[];for(o=0;o<l;o++){n=h[o];if(!n.hidden){j.push(n)}}}return j},measureContentWidth:function(d){var c=d.bodyContext;return c.el.getWidth()-c.getBorderInfo().width},measureContentHeight:function(d){var c=d.bodyContext;return c.el.getHeight()-c.getBorderInfo().height},redoLayout:function(g){var d=this,e=d.owner;if(g.isCollapsingOrExpanding==1){if(e.reExpander){e.reExpander.el.show()}e.addClsWithUI(e.collapsedCls);g.redo(true)}else{if(g.isCollapsingOrExpanding==2){e.removeClsWithUI(e.collapsedCls);g.bodyContext.redo()}}},renderChildren:function(){var d=this,e=d.getDockedItems(),g=d.getRenderTarget();d.handleItemBorders();d.renderItems(e,g)},renderItems:function(w,x){var v=this,B=w.length,D=0,C=0,j=0,u=v.getRenderTarget().dom.childNodes,s=u.length,y,A,z,r;for(y=0,A=0;y<s;y++){z=u[y];if(z.nodeType===1&&Ext.fly(z).hasCls(Ext.baseCSSPrefix+"resizable-handle")){break}for(A=0;A<B;A++){r=w[A];if(r.rendered&&r.el.dom===z){break}}if(A===B){j++}}for(;D<B;D++,C++){r=w[D];if(D===C&&(r.dock==="right"||r.dock==="bottom")){C+=j}if(r&&!r.rendered){v.renderItem(r,x,C)}else{if(!v.isValidParent(r,x,C)){v.moveItem(r,x,C)}}}},undoLayout:function(g){var d=this,e=d.owner;if(g.isCollapsingOrExpanding==1){if(e.reExpander){e.reExpander.el.hide()}e.removeClsWithUI(e.collapsedCls);g.undo(true)}else{if(g.isCollapsingOrExpanding==2){e.addClsWithUI(e.collapsedCls);g.bodyContext.undo()}}},sizePolicy:{nostretch:{setsWidth:0,setsHeight:0},horz:{shrinkWrap:{setsWidth:1,setsHeight:0,readsWidth:1},stretch:{setsWidth:1,setsHeight:0}},vert:{shrinkWrap:{setsWidth:0,setsHeight:1,readsHeight:1},stretch:{setsWidth:0,setsHeight:1}},stretchV:{setsWidth:0,setsHeight:1},autoStretchH:{readsWidth:1,setsWidth:1,setsHeight:0},autoStretchV:{readsHeight:1,setsWidth:0,setsHeight:1}},getItemSizePolicy:function(p,n){var q=this,m=q.sizePolicy,o=q.owner.shrinkWrapDock,j,l;if(p.stretch===false){return m.nostretch}j=p.dock;l=(j=="left"||j=="right");o=o===true?3:(o||0);if(l){m=m.vert;o=o&1}else{m=m.horz;o=o&2}if(o){if(!n){n=q.owner.getSizeModel()}if(n[l?"height":"width"].shrinkWrap){return m.shrinkWrap}}return m.stretch},configureItem:function(d,c){this.callParent(arguments);d.addCls(this._itemCls);if(!d.ignoreBorderManagement){d.addClsWithUI(this.getDockCls(d.dock))}},getDockCls:function(b){return"docked-"+b},afterRemove:function(d){var c;this.callParent(arguments);d.removeCls(this._itemCls);if(!d.ignoreBorderManagement){d.removeClsWithUI(this.getDockCls(d.dock))}c=d.el.dom;if(!d.destroying&&c){c.parentNode.removeChild(c)}this.childrenChanged=true},borderCollapseMap:{},getBorderCollapseTable:function(){var n=this,l=n.borderCollapseMap,j=n.owner,h=j.baseCls,m=j.ui,o;l=l[h]||(l[h]={});o=l[m];if(!o){h+="-"+m+"-outer-border-";l[m]=o=[0,h+"l",h+"b",h+"bl",h+"r",h+"rl",h+"rb",h+"rbl",h+"t",h+"tl",h+"tb",h+"tbl",h+"tr",h+"trl",h+"trb",h+"trbl"]}return o}});Ext.define("ExtThemeNeptune.layout.component.Dock",{override:"Ext.layout.component.Dock",noBorderClassTable:[0,Ext.baseCSSPrefix+"noborder-l",Ext.baseCSSPrefix+"noborder-b",Ext.baseCSSPrefix+"noborder-bl",Ext.baseCSSPrefix+"noborder-r",Ext.baseCSSPrefix+"noborder-rl",Ext.baseCSSPrefix+"noborder-rb",Ext.baseCSSPrefix+"noborder-rbl",Ext.baseCSSPrefix+"noborder-t",Ext.baseCSSPrefix+"noborder-tl",Ext.baseCSSPrefix+"noborder-tb",Ext.baseCSSPrefix+"noborder-tbl",Ext.baseCSSPrefix+"noborder-tr",Ext.baseCSSPrefix+"noborder-trl",Ext.baseCSSPrefix+"noborder-trb",Ext.baseCSSPrefix+"noborder-trbl"],edgeMasks:{top:8,right:4,bottom:2,left:1},handleItemBorders:function(){var P=this,Y=0,M=8,L=4,T=2,Z=1,ac=P.owner,I=ac.bodyBorder,R=ac.border,V=P.collapsed,N=P.edgeMasks,U=P.noBorderClassTable,Q=ac.dockedItems.generation,b,aa,F,W,J,S,G,O,X,K,H,ab;if(P.initializedBorders===Q){return}H=[];ab=[];aa=P.getBorderCollapseTable();U=P.getBorderClassTable?P.getBorderClassTable():U;P.initializedBorders=Q;P.collapsed=false;F=P.getDockedItems();P.collapsed=V;for(J=0,S=F.length;J<S;J++){G=F[J];if(G.ignoreBorderManagement){continue}O=G.dock;K=W=0;H.length=0;ab.length=0;if(O!=="bottom"){if(Y&M){b=G.border}else{b=R;if(b!==false){W+=M}}if(b===false){K+=M}}if(O!=="left"){if(Y&L){b=G.border}else{b=R;if(b!==false){W+=L}}if(b===false){K+=L}}if(O!=="top"){if(Y&T){b=G.border}else{b=R;if(b!==false){W+=T}}if(b===false){K+=T}}if(O!=="right"){if(Y&Z){b=G.border}else{b=R;if(b!==false){W+=Z}}if(b===false){K+=Z}}if((X=G.lastBorderMask)!==K){G.lastBorderMask=K;if(X){ab[0]=U[X]}if(K){H[0]=U[K]}}if((X=G.lastBorderCollapse)!==W){G.lastBorderCollapse=W;if(X){ab[ab.length]=aa[X]}if(W){H[H.length]=aa[W]}}if(ab.length){G.removeCls(ab)}if(H.length){G.addCls(H)}Y|=N[O]}K=W=0;H.length=0;ab.length=0;if(Y&M){b=I}else{b=R;if(b!==false){W+=M}}if(b===false){K+=M}if(Y&L){b=I}else{b=R;if(b!==false){W+=L}}if(b===false){K+=L}if(Y&T){b=I}else{b=R;if(b!==false){W+=T}}if(b===false){K+=T}if(Y&Z){b=I}else{b=R;if(b!==false){W+=Z}}if(b===false){K+=Z}if((X=P.lastBodyBorderMask)!==K){P.lastBodyBorderMask=K;if(X){ab[0]=U[X]}if(K){H[0]=U[K]}}if((X=P.lastBodyBorderCollapse)!==W){P.lastBodyBorderCollapse=W;if(X){ab[ab.length]=aa[X]}if(W){H[H.length]=aa[W]}}if(ab.length){ac.removeBodyCls(ab)}if(H.length){ac.addBodyCls(H)}},onRemove:function(c){var d=c.lastBorderMask;if(!c.isDestroyed&&!c.ignoreBorderManagement&&d){c.lastBorderMask=0;c.removeCls(this.noBorderClassTable[d])}this.callParent([c])}});Ext.define("Ext.util.Memento",(function(){function l(b,c,a,d){b[d?d+a:a]=c[a]}function m(b,c,a){delete b[a]}function j(a,b,o,c){var e=c?c+o:o,d=a[e];if(d||a.hasOwnProperty(e)){h(b,o,d)}}function h(b,a,c){if(Ext.isDefined(c)){b[a]=c}else{delete b[a]}}function g(d,p,q,c,b){if(p){if(Ext.isArray(c)){var a,e=c.length;for(a=0;a<e;a++){d(p,q,c[a],b)}}else{d(p,q,c,b)}}}return{data:null,target:null,constructor:function(a,b){this.data={};if(a){this.target=a;if(b){this.capture(b)}}},capture:function(d,a,b){var c=this;g(l,c.data||(c.data={}),a||c.target,d,b)},remove:function(a){g(m,this.data,null,a)},restore:function(c,d,a,b){g(j,this.data,a||this.target,c,b);if(d!==false){this.remove(c)}},restoreAll:function(e,a){var c=this,d=a||this.target,b=c.data,o;e=e!==false;for(o in b){if(b.hasOwnProperty(o)){h(d,o,b[o]);if(e){delete b[o]}}}}}}()));Ext.define("Ext.container.DockingContainer",{isDockingContainer:true,defaultDockWeights:{top:{render:1,visual:1},left:{render:3,visual:5},right:{render:5,visual:7},bottom:{render:7,visual:3}},dockOrder:{top:-1,left:-1,right:1,bottom:1},horizontalDocks:0,addDocked:function(j,m){var n=this,q=0,l,o,p;j=n.prepareItems(j);p=j.length;for(;q<p;q++){o=j[q];o.dock=o.dock||"top";if(o.dock==="left"||o.dock==="right"){n.horizontalDocks++}if(m!==undefined){q+=m;n.dockedItems.insert(q,o)}else{n.dockedItems.add(o)}l=!!o.instancedCmp;delete o.instancedCmp;o.onAdded(n,q,l);delete o.initOwnerCt;if(n.hasListeners.dockedadd){n.fireEvent("dockedadd",n,o,q)}if(n.onDockedAdd!==Ext.emptyFn){n.onDockedAdd(o)}}if(n.rendered&&!n.suspendLayout){n.updateLayout()}return j},destroyDockedItems:function(){var d=this.dockedItems,c;if(d){while((c=d.first())){this.removeDocked(c,true)}}},doRenderDockedItems:function(q,n,m){var o=n.$comp,p=o.componentLayout,j,l;if(p.getDockedItems&&!n.$skipDockedItems){j=p.getDockedItems("render",!m);l=j&&p.getItemsRenderTree(j);if(l){Ext.DomHelper.generateMarkup(l,q)}}},getDockedComponent:function(b){if(Ext.isObject(b)){b=b.getItemId()}return this.dockedItems.get(b)},getDockedItems:function(e,g){var d=this.getComponentLayout().getDockedItems("render",g);if(e&&d.length){d=Ext.ComponentQuery.query(e,d)}return d},getDockingRefItems:function(g,j){var h=g&&"*,* *",l=this.getDockedItems(h,true),m;l.push.apply(l,j);m=this.getDockedItems(h,false);l.push.apply(l,m);return l},initDockingItems:function(){var c=this,d=c.dockedItems;if(!d||!d.isMixedCollection){c.dockedItems=new Ext.util.AbstractMixedCollection(false,c.getComponentId);if(d){c.addDocked(d)}}},insertDocked:function(c,d){this.addDocked(d,c)},onDockedAdd:Ext.emptyFn,onDockedRemove:Ext.emptyFn,removeDocked:function(j,g){var l=this,m,h;g=g===true||(g!==false&&l.autoDestroy);if(!l.dockedItems.contains(j)){return j}if(j.dock==="left"||j.dock==="right"){l.horizontalDocks--}m=l.componentLayout;h=m&&l.rendered;if(h){m.onRemove(j)}l.dockedItems.remove(j);j.onRemoved(j.destroying||g);l.onDockedRemove(j);if(g){j.destroy()}else{if(h){m.afterRemove(j)}}if(l.hasListeners.dockedremove){l.fireEvent("dockedremove",l,j)}if(!l.destroying&&!l.suspendLayout){l.updateLayout()}return j},moveDocked:function(c,d){if(this.rendered){Ext.suspendLayouts()}this.removeDocked(c,false);c.dock=d;this.addDocked(c);if(this.rendered){if(c.frame){Ext.getDetachedBody().appendChild(c.el);c.updateFrame()}Ext.resumeLayouts(true)}},setupDockingRenderTpl:function(b){b.renderDockedItems=this.doRenderDockedItems}});Ext.define("Ext.panel.Panel",{extend:Ext.container.Container,alias:"widget.panel",alternateClassName:"Ext.Panel",mixins:{docking:Ext.container.DockingContainer},childEls:["body"],renderTpl:["{% this.renderDockedItems(out,values,0); %}",'<div id="{id}-body" data-ref="body" class="{baseCls}-body<tpl if="bodyCls"> {bodyCls}</tpl>',' {baseCls}-body-{ui}<tpl if="uiCls">','<tpl for="uiCls"> {parent.baseCls}-body-{parent.ui}-{.}</tpl>','</tpl>{childElCls}"','<tpl if="bodyRole"> role="{bodyRole}"<tpl else> role="presentation"</tpl>','<tpl if="bodyStyle"> style="{bodyStyle}"</tpl>>',"{%this.renderContainer(out,values);%}","</div>","{% this.renderDockedItems(out,values,1); %}"],headerPosition:"top",iconAlign:"left",titleAlign:"left",titleRotation:"default",beforeRenderConfig:{glyph:null,headerPosition:null,icon:null,iconAlign:null,iconCls:null,title:null,titleAlign:null,titleRotation:null},animCollapse:Ext.enableFx,border:true,closable:false,closeAction:"destroy",collapsed:false,collapsedCls:"collapsed",collapseFirst:true,collapsible:undefined,constrain:false,constrainHeader:false,dockedItems:null,tbar:null,bbar:null,fbar:null,lbar:null,rbar:null,buttons:null,floatable:true,frame:false,frameHeader:true,hideCollapseTool:false,manageHeight:true,maskElement:"el",minButtonWidth:75,preventHeader:false,shrinkWrapDock:false,titleCollapse:undefined,baseCls:Ext.baseCSSPrefix+"panel",bodyPosProps:{x:"x",y:"y"},componentLayout:"dock",contentPaddingProperty:"bodyPadding",emptyArray:[],isPanel:true,defaultBindProperty:"title",addBodyCls:function(d){var g=this,e=g.rendered?g.body:g.getProtoBody();e.addCls(d);return g},addTool:function(o){if(!Ext.isArray(o)){o=[o]}var p=this,m=p.header,l=o.length,n=p.tools,q,j;if(!m||!m.isHeader){m=null;if(!n){p.tools=n=[]}}for(q=0;q<l;q++){j=o[q];j.toolOwner=p;if(m){m.addTool(j)}else{n.push(j)}}p.updateHeader()},addTools:Ext.emptyFn,setCollapsible:function(j){var e=this,h=e.collapsible,g=e.collapseTool;e.collapsible=j;if(j&&!h){e.updateCollapseTool();g=e.collapseTool;if(g){g.show()}}else{if(!j&&h){if(g){g.hide()}}}},addUIClsToElement:function(d){var g=this,e=g.callParent(arguments);g.addBodyCls([Ext.baseCSSPrefix+d,g.baseCls+"-body-"+d,g.baseCls+"-body-"+g.ui+"-"+d]);return e},afterCollapse:function(d){var e=this,g=e.ownerLayout;e.isCollapsingOrExpanding=0;e.updateCollapseTool();if(d){e.removeCls(Ext.baseCSSPrefix+"animating-size")}if(g){g.afterCollapse(e,d)}e.setHiddenDocked();e.fireEvent("collapse",e)},afterExpand:function(d){var e=this,g=e.ownerLayout;e.isCollapsingOrExpanding=0;e.updateCollapseTool();if(d){e.removeCls(Ext.baseCSSPrefix+"animating-size")}if(g){g.afterExpand(e,d)}e.fireEvent("expand",e);e.fireHierarchyEvent("expand")},beforeDestroy:function(){var b=this;Ext.destroy(b.placeholder,b.ghostPanel,b.dd);this.destroyDockedItems();b.callParent()},beforeRender:function(){var c=this,d;c.callParent();c.initTools();if(!(c.preventHeader||(c.header===false))){c.updateHeader()}c.afterHeaderInit=true;if(c.collapsed){if(c.isPlaceHolderCollapse()){if(!c.hidden){c.setHiddenState(true);c.preventCollapseFire=true;c.placeholderCollapse();delete c.preventCollapseFire;d=c.collapsed;c.collapsed=false}}else{c.beginCollapse();c.addClsWithUI(c.collapsedCls)}}if(d){c.collapsed=d}},getMemento:function(d){var c=this;if(d&&typeof d=="string"){d+="Memento";return c[d]||(c[d]=new Ext.util.Memento(c))}},beginCollapse:function(){var o=this,q=o.lastBox,m=o.rendered,j=o.getMemento("collapse"),p=o.getSizeModel(),n=o.header,l;j.capture(["height","minHeight","width","minWidth"]);if(q){j.capture(o.restoreDimension(),q,"last.")}if(o.collapsedVertical()){if(p.width.shrinkWrap){o.width=m?o.getWidth():o.width||o.minWidth||100}delete o.height;o.minHeight=0}else{if(o.collapsedHorizontal()){if(p.height.shrinkWrap){o.height=m?o.getHeight():o.height||o.minHeight||100}delete o.width;o.minWidth=0}}if(o.ownerCt){o.ownerCt.getLayout().beginCollapse(o)}if(!o.isPlaceHolderCollapse()&&n!==false){if(n===(l=o.getReExpander())){n.collapseImmune=true;n.getInherited().collapseImmune=true;n.addClsWithUI(o.getHeaderCollapsedClasses(n));if(n.rendered){n.updateFrame()}}else{if(l.el){l.el.show();l.hidden=false}}}if(o.resizer){o.resizer.disable()}},beginDrag:function(){if(this.floatingDescendants){this.floatingDescendants.hide()}},beginExpand:function(){var m=this,n=m.lastBox,o=m.getMemento("collapse"),j=m.restoreDimension(),l=m.header,h;if(o){o.restore(["minHeight","minWidth",j]);if(n){o.restore(j,true,n,"last.")}}if(m.ownerCt){m.ownerCt.getLayout().beginExpand(m)}if(!m.isPlaceHolderCollapse()&&l!==false){if(l===(h=m.getReExpander())){delete l.collapseImmune;delete l.getInherited().collapseImmune;l.removeClsWithUI(m.getHeaderCollapsedClasses(l));if(l.rendered){l.expanding=true;l.updateFrame();delete l.expanding}}else{h.hidden=true;h.el.hide()}}if(m.resizer){m.resizer.enable()}},bridgeToolbars:function(){var j=this,l=[],m=j.minButtonWidth,o,h;function n(c,a,b){if(Ext.isArray(c)){c={xtype:"toolbar",items:c}}else{if(!c.xtype){c.xtype="toolbar"}}c.dock=a;if(a=="left"||a=="right"){c.vertical=true}if(b){c.layout=Ext.applyIf(c.layout||{},{pack:{left:"start",center:"center"}[j.buttonAlign]||"end"})}return c}if(j.tbar){l.push(n(j.tbar,"top"));j.tbar=null}if(j.bbar){l.push(n(j.bbar,"bottom"));j.bbar=null}if(j.buttons){j.fbar=j.buttons;j.buttons=null}if(j.fbar){o=n(j.fbar,"bottom",true);o.ui="footer";if(m){h=o.defaults;o.defaults=function(b){var a=h||{},c=!b.xtype||b.isButton,d;if(!c){d=Ext.ClassManager.getByAlias("widget."+b.xtype);if(d){c=d.prototype.isButton}}if(c&&!("minWidth" in a)){a=Ext.apply({minWidth:m},a)}return a}}l.push(o);j.fbar=null}if(j.lbar){l.push(n(j.lbar,"left"));j.lbar=null}if(j.rbar){l.push(n(j.rbar,"right"));j.rbar=null}if(j.dockedItems){if(j.dockedItems.isMixedCollection){j.addDocked(l)}else{if(!Ext.isArray(j.dockedItems)){j.dockedItems=[j.dockedItems]}j.dockedItems=j.dockedItems.concat(l)}}else{j.dockedItems=l}},close:function(){if(this.fireEvent("beforeclose",this)!==false){this.doClose()}},collapse:function(o,l){var p=this,n=o||p.collapseDirection,j=p.ownerCt,q=p.ownerLayout,m=p.rendered;if(p.isCollapsingOrExpanding){return p}if(arguments.length<2){l=p.animCollapse}if(p.collapsed||p.fireEvent("beforecollapse",p,o,l)===false){return p}if(q&&q.onBeforeComponentCollapse){if(q.onBeforeComponentCollapse(p)===false){return p}}if(m&&j&&p.isPlaceHolderCollapse()){return p.placeholderCollapse(o,l)}p.collapsed=n;if(m){p.beginCollapse()}p.getInherited().collapsed=true;p.fireHierarchyEvent("collapse");if(m){p.doCollapseExpand(1,l)}return p},collapsedHorizontal:function(){var b=this.getCollapsed();return b==="left"||b==="right"},collapsedVertical:function(){var b=this.getCollapsed();return b==="top"||b==="bottom"},convertCollapseDir:function(b){return b.substr(0,1)},createGhost:function(g){var e=this,h=e.header,j=e.frame&&!e.alwaysFramed;return{xtype:"panel",hidden:false,header:h?{titleAlign:h.getTitleAlign()}:null,ui:j?e.ui.replace(/-framed$/,""):e.ui,id:e.id+"-ghost",renderTo:Ext.getBody(),resizable:false,draggable:false,closable:false,floating:true,shadow:false,frame:j,shim:e.shim,alwaysFramed:e.alwaysFramed,overlapHeader:e.overlapHeader,headerPosition:e.getHeaderPosition(),titleRotation:e.getTitleRotation(),baseCls:e.baseCls,getRefOwner:function(){return e.getRefOwner()},cls:e.baseCls+"-ghost "+(g||"")}},createReExpander:function(p,q){var r=this,n=p==="left",s=p==="right",o=n||s,l=r.ownerCt,m=Ext.apply({hideMode:"offsets",title:r.getTitle(),titleAlign:r.getTitleAlign(),vertical:o,textCls:r.headerTextCls,icon:r.getIcon(),iconCls:r.getIconCls(),iconAlign:r.getIconAlign(),glyph:r.getGlyph(),baseCls:r.self.prototype.baseCls+"-header",ui:r.ui,frame:r.frame&&r.frameHeader,ignoreParentFrame:r.frame||r.overlapHeader,ignoreBorderManagement:r.frame||r.ignoreHeaderBorderManagement,indicateDrag:r.draggable,collapseImmune:true,headerRole:r.headerRole,ownerCt:(l&&r.collapseMode==="placeholder")?l:r,ownerLayout:r.componentLayout,margin:r.margin},q);if(r.collapseMode==="mini"){if(o){m.width=1}else{m.height=1}}if(!r.hideCollapseTool){if(n||(s&&r.isPlaceHolderCollapse())){m.titlePosition=1}m.tools=[{xtype:"tool",type:"expand-"+r.getOppositeDirection(p),uiCls:["top"],handler:r.toggleCollapse,scope:r}]}m=new Ext.panel.Header(m);m.addClsWithUI(r.getHeaderCollapsedClasses(m));return m},doClose:function(){this.fireEvent("close",this);this[this.closeAction]()},doCollapseExpand:function(h,g){var l=this,m=l.animCollapse,j=l.ownerLayout;l.animCollapse=g;l.isCollapsingOrExpanding=h;if(g){l.addCls(Ext.baseCSSPrefix+"animating-size")}if(j&&!g){j.onContentChange(l)}else{l.updateLayout({isRoot:true})}l.animCollapse=m;return l},endDrag:function(){if(this.floatingDescendants){this.floatingDescendants.show()}},expand:function(g){var j=this,e=j.ownerLayout,h=j.rendered;if(j.isCollapsingOrExpanding){return j}if(!arguments.length){g=j.animCollapse}if(!j.collapsed&&!j.floatedFromCollapse){return j}if(j.fireEvent("beforeexpand",j,g)===false){return j}if(e&&e.onBeforeComponentExpand){if(e.onBeforeComponentExpand(j)===false){return j}}delete j.getInherited().collapsed;if(h&&j.isPlaceHolderCollapse()){return j.placeholderExpand(g)}j.restoreHiddenDocked();if(h){j.beginExpand()}j.collapsed=false;if(j.rendered){j.doCollapseExpand(2,g)}return j},findReExpander:function(n){var o=this,m=Ext.Component,p=o.dockedItems.items,l=p.length,c,q;if(o.collapseMode==="mini"){return}switch(n){case m.DIRECTION_TOP:case m.DIRECTION_BOTTOM:for(q=0;q<l;q++){c=p[q];if(!c.hidden){if(c.isHeader&&(!c.dock||c.dock==="top"||c.dock==="bottom")){return c}}}break;case m.DIRECTION_LEFT:case m.DIRECTION_RIGHT:for(q=0;q<l;q++){c=p[q];if(!c.hidden){if(c.isHeader&&(c.dock==="left"||c.dock==="right")){return c}}}break;default:throw ("Panel#findReExpander must be passed a valid collapseDirection")}},floatCollapsedPanel:function(){var o=this,n=o.placeholder,v=n.getSize(),p=Ext.baseCSSPrefix+"border-region-slide-in",r=o.collapsed,m=o.ownerCt||o,u,s,q;if(o.isSliding){return}if(o.el.hasCls(p)){o.slideOutFloatedPanel();return}o.isSliding=true;n.el.hide();n.hidden=true;o.el.show();o.setHiddenState(false);o.collapsed=false;m.updateLayout();n.el.show();n.hidden=false;o.el.hide();o.setHiddenState(true);o.collapsed=r;m.updateLayout();q=o.getBox(false,true);o.slideOutTask=o.slideOutTask||new Ext.util.DelayedTask(o.slideOutFloatedPanel,o);if(Ext.supports.Touch){Ext.on("mousedown",s=function(a){if(!a.within(o.el)){Ext.un("mousedown",s);o.slideOutFloatedPanel()}})}if(!o.placeholderListener){o.placeholderListener=n.on({resize:o.onPlaceholderResize,scope:o,destroyable:true})}n.el.on("mouseleave",o.onMouseLeaveFloated,o);o.el.on("mouseleave",o.onMouseLeaveFloated,o);n.el.on("mouseenter",o.onMouseEnterFloated,o);o.el.on("mouseenter",o.onMouseEnterFloated,o);o.el.addCls(p);o.floated=r;if(o.collapseTool){o.collapseTool.el.hide()}switch(o.collapsed){case"top":o.width=v.width;o.setLocalXY(q.x,q.y+v.height);break;case"right":o.height=v.height;o.setLocalXY(q.x-v.width,q.y);break;case"bottom":o.width=v.width;o.setLocalXY(q.x,q.y-v.height);break;case"left":o.height=v.height;o.setLocalXY(q.x+v.width,q.y);break}u=o.convertCollapseDir(o.collapsed);o.floatedFromCollapse=o.collapsed;o.collapsed=false;o.setHiddenState(false);o.el.slideIn(u,{preserveScroll:true,duration:Ext.Number.from(o.animCollapse,Ext.fx.Anim.prototype.duration),listeners:{afteranimate:function(){o.isSliding=false;o.fireEvent("float",o)}}})},onPlaceholderResize:function(m,o,j){var h=this,n=h.getBox(false,true),l=m.getBox(false,true);switch(h.floated){case"top":h.width=o;h.setLocalY(l.y+l.height);break;case"right":h.height=j;h.setLocalX(l.x-n.width);break;case"bottom":h.width=o;h.setLocalY(l.y-n.height);break;case"left":h.height=j;h.setLocalX(l.x+l.width);break}h.updateLayout({isRoot:true})},getAnimationProps:function(){var d=this,g=d.animCollapse,e;e=d.callParent();if(typeof g==="number"){e.duration=g}return e},getCollapsed:function(){var b=this;if(b.collapsed===true){return b.collapseDirection}return b.collapsed},getCollapsedDockedItems:function(){var b=this;return b.header===false||b.collapseMode=="placeholder"?b.emptyArray:[b.getReExpander()]},getComponent:function(d){var c=this.callParent(arguments);if(c===undefined&&!Ext.isNumber(d)){c=this.getDockedComponent(d)}return c},getHeader:function(){return this.header},getHeaderCollapsedClasses:function(h){var e=this,j=e.collapsedCls,g;g=[j,j+"-"+h.getDockName()];if(e.border&&(!e.frame||(e.frame&&Ext.supports.CSS3BorderRadius))){g.push(j+"-border-"+h.getDockName())}return g},getKeyMap:function(){return this.keyMap||(this.keyMap=new Ext.util.KeyMap(Ext.apply({target:this.el},this.keys)))},getOppositeDirection:function(d){var c=Ext.Component;switch(d){case c.DIRECTION_TOP:return c.DIRECTION_BOTTOM;case c.DIRECTION_RIGHT:return c.DIRECTION_LEFT;case c.DIRECTION_BOTTOM:return c.DIRECTION_TOP;case c.DIRECTION_LEFT:return c.DIRECTION_RIGHT}},getPlaceholder:function(o){var p=this,m=o||p.collapseDirection,q=null,n=p.placeholder,j=p.floatable,l=p.titleCollapse;if(!n){if(j||(p.collapsible&&l)){q={click:{fn:(!l&&j)?p.floatCollapsedPanel:p.toggleCollapse,element:"el",scope:p}}}p.placeholder=n=Ext.widget(p.createReExpander(m,{id:p.id+"-placeholder",listeners:q}))}if(!n.placeholderFor){if(!n.isComponent){p.placeholder=n=p.lookupComponent(n)}Ext.applyIf(n,{margin:p.margin,placeholderFor:p,synthetic:true});n.addCls([Ext.baseCSSPrefix+"region-collapsed-placeholder",Ext.baseCSSPrefix+"region-collapsed-"+m+"-placeholder",p.collapsedCls])}return n},getProtoBody:function(){var c=this,d=c.protoBody;if(!d){c.protoBody=d=new Ext.util.ProtoElement({cls:c.bodyCls,style:c.bodyStyle,clsProp:"bodyCls",styleProp:"bodyStyle",styleIsText:true})}return d},getReExpander:function(j){var e=this,h=j||e.collapseDirection,g=e.reExpander||e.findReExpander(h);e.expandDirection=e.getOppositeDirection(h);if(!g){e.reExpander=g=e.createReExpander(h,{dock:h,cls:Ext.baseCSSPrefix+"docked "+e.baseCls+"-"+e.ui+"-collapsed",isCollapsedExpander:true});e.dockedItems.insert(0,g)}return g},getRefItems:function(d){var c=this.callParent(arguments);return this.getDockingRefItems(d,c)},getState:function(){var h=this,m=h.callParent()||{},j=h.collapsed,g=h.floated,l;if(g){h.collapsed=g}m=h.addPropertyToState(m,"collapsed");if(g){h.collapsed=j}if(h.getCollapsed()){l=h.getMemento("collapse").data;m=h.addPropertyToState(m,"collapsed",l);if(h.collapsedVertical()){delete m.height;if(l){m=h.addPropertyToState(m,"height",l.height)}}else{delete m.width;if(l){m=h.addPropertyToState(m,"width",l.width)}}}return m},applyState:function(j){var e=this,g={},h;if(j){h=j.collapsed;if(h){g=e.getMemento("collapse");Ext.Object.merge(g.data,h);j.collapsed=true}e.callParent(arguments)}},ghost:function(o){var s=this,z=s.ghostPanel,w=s.getBox(),x=s.header,q,v,r,p,u,y;if(!z){s.ghostPanel=z=Ext.widget(s.createGhost(o));z.el.dom.removeAttribute("tabIndex")}else{z.el.show()}z.setHiddenState(false);z.floatParent=s.floatParent;z.toFront();if(x&&!s.preventHeader){q=z.header;q.suspendLayouts();v=q.query("tool");for(y=v.length;y--;){q.remove(v[y])}q.setTitlePosition(0);z.addTool(s.ghostTools());z.setTitle(s.getTitle());q.setTitlePosition(x.titlePosition);p=s.getIconCls();if(p){z.setIconCls(p)}else{r=s.getIcon();if(r){z.setIcon(r)}else{u=s.getGlyph();if(u){z.setGlyph(u)}}}q.addCls(Ext.baseCSSPrefix+"header-ghost");q.resumeLayouts()}z.setPagePosition(w.x,w.y);z.setSize(w.width,w.height);s.el.hide();return z},ghostTools:function(){var m=[],l=this.header,n=l?l.query("tool[hidden=false]"):[],o,j,h;if(n.length){o=0;j=n.length;for(;o<j;o++){h=n[o];m.push({type:h.type})}}else{m=[{type:"placeholder"}]}return m},initBodyBorder:function(){var b=this;if(b.frame&&b.bodyBorder){if(!Ext.isNumber(b.bodyBorder)){b.bodyBorder=1}b.getProtoBody().setStyle("border-width",this.unitizeBox(b.bodyBorder))}},initBodyStyles:function(){var c=this,d=c.getProtoBody();if(c.bodyPadding!==undefined){if(c.layout.managePadding){d.setStyle("padding",0)}else{d.setStyle("padding",this.unitizeBox((c.bodyPadding===true)?5:c.bodyPadding))}}c.initBodyBorder()},initBorderProps:function(){var b=this;if(b.frame&&b.border&&b.bodyBorder===undefined){b.bodyBorder=false}if(b.frame&&b.border&&(b.bodyBorder===false||b.bodyBorder===0)){b.manageBodyBorders=true}},initComponent:function(){var b=this;if(b.collapsible){b.addStateEvents(["expand","collapse"])}if(b.unstyled){b.setUI("plain")}if(b.frame){b.setUI(b.ui+"-framed")}b.bridgeToolbars();b.initBorderProps();b.callParent();b.collapseDirection=b.collapseDirection||b.getHeaderPosition()||Ext.Component.DIRECTION_TOP;b.hiddenOnCollapse=new Ext.dom.CompositeElement()},initItems:function(){this.callParent();this.initDockingItems()},initRenderData:function(){var d=this,c=d.callParent();d.initBodyStyles();d.protoBody.writeTo(c);delete d.protoBody;return c},calculateConstrainedPosition:function(p,l,q,m){var o=this,n=o.header,r,s;if(o.constrainHeader){r=n.lastBox;if(m){if(!n.vertical){m=[m[0],r?r.height:m[1]]}else{m=[r?r.width:m[0],m[1]]}}else{if(r){m=[r.width,r.height]}}s=o.floatParent;p=p||o.constrainTo||(s?s.getTargetEl():null)||o.container||o.el.parent()}return o.callParent([p,l,q,m])},initTools:function(){var j=this,h=j.tools,e,g;j.tools=[];for(e=h&&h.length;e;){--e;j.tools[e]=g=h[e];g.toolOwner=j}if(j.collapsible&&!(j.hideCollapseTool||j.header===false||j.preventHeader)){j.updateCollapseTool();if(j.collapseFirst){j.tools.unshift(j.collapseTool)}}j.addTools();if(j.pinnable){j.initPinnable()}if(j.closable){j.addClsWithUI("closable");j.addTool({xtype:"tool",type:"close",scope:j,handler:j.close})}if(j.collapseTool&&!j.collapseFirst){j.addTool(j.collapseTool)}},isLayoutRoot:function(){if(this.floatedFromCollapse){return true}return this.callParent()},isPlaceHolderCollapse:function(){return this.collapseMode=="placeholder"},isVisible:function(d){var c=this;if(c.collapsed&&c.placeholder){return c.placeholder.isVisible(d)}return c.callParent(arguments)},onBoxReady:function(){this.callParent(arguments);if(this.collapsed){this.setHiddenDocked()}},onHide:function(j,g,m){var l=this,h=l.dd;if(l.floatedFromCollapse){l.slideOutFloatedPanel(true)}if(l.draggable&&h){h.endDrag()}if(l.collapsed&&l.placeholder){l.placeholder.hide()}else{l.callParent([j,g,m])}},onMouseEnterFloated:function(b){this.slideOutTask.cancel()},onMouseLeaveFloated:function(b){this.slideOutTask.delay(500)},onRemoved:function(c){var d=this;if(d.placeholder&&!c){d.ownerCt.remove(d.placeholder,false)}d.callParent(arguments)},onShow:function(){var b=this;if(b.collapsed&&b.isPlaceHolderCollapse()){b.setHiddenState(true);b.placeholderCollapse()}else{b.callParent(arguments)}},placeholderCollapse:function(p,m){var r=this,s=r.ownerCt,n=p||r.collapseDirection,l=Ext.baseCSSPrefix+"border-region-slide-in",o=r.getPlaceholder(n),q;r.isCollapsingOrExpanding=1;r.setHiddenState(true);r.collapsed=n;if(o.rendered){if(o.el.dom.parentNode!==r.el.dom.parentNode){r.el.dom.parentNode.insertBefore(o.el.dom,r.el.dom)}o.hidden=false;o.setHiddenState(false);o.el.show();s.updateLayout()}else{s.insert(s.items.indexOf(r),o)}if(r.rendered){r.el.setVisibilityMode(r.placeholderCollapseHideMode);if(m){r.el.addCls(l);o.el.hide();q=r.convertCollapseDir(n);r.el.slideOut(q,{preserveScroll:true,duration:Ext.Number.from(m,Ext.fx.Anim.prototype.duration),listeners:{afteranimate:function(){r.el.removeCls(l);o.el.show().setStyle("display","none").slideIn(q,{easing:"linear",duration:100,listeners:{afteranimate:function(){o.focus();o.setHiddenState(false);r.isCollapsingOrExpanding=0;r.fireEvent("collapse",r)}}})}}})}else{r.el.hide();o.setHiddenState(false);r.isCollapsingOrExpanding=0;r.fireEvent("collapse",r)}}else{r.isCollapsingOrExpanding=0;if(!r.preventCollapseFire){r.fireEvent("collapse",r)}}return r},placeholderExpand:function(q){var o=this,m=o.collapsed,p=Ext.baseCSSPrefix+"border-region-slide-in",n,j,l=o.ownerLayout?o.ownerLayout.centerRegion:null;if(Ext.Component.layoutSuspendCount){q=false}if(o.floatedFromCollapse){j=o.getPosition(true);o.slideOutFloatedPanelBegin();o.slideOutFloatedPanelEnd();o.floated=false}if(q){Ext.suspendLayouts();o.placeholder.hide();o.el.show();o.collapsed=false;o.setHiddenState(false);if(l&&!j){l.hidden=true}Ext.resumeLayouts(true);l.hidden=false;o.el.addCls(p);o.isCollapsingOrExpanding=2;if(j){n=o.getXY();o.setLocalXY(j[0],j[1]);o.setXY([n[0],n[1]],{duration:Ext.Number.from(q,Ext.fx.Anim.prototype.duration),listeners:{afteranimate:function(){o.el.removeCls(p);o.isCollapsingOrExpanding=0;o.fireEvent("expand",o)}}})}else{o.el.hide();o.placeholder.el.show();o.placeholder.hidden=false;o.setHiddenState(false);o.el.slideIn(o.convertCollapseDir(m),{preserveScroll:true,duration:Ext.Number.from(q,Ext.fx.Anim.prototype.duration),listeners:{afteranimate:function(){o.el.removeCls(p);o.placeholder.hide();o.updateLayout();o.isCollapsingOrExpanding=0;o.fireEvent("expand",o)}}})}}else{o.floated=o.collapsed=false;o.el.removeCls(p);Ext.suspendLayouts();o.placeholder.hide();o.show();Ext.resumeLayouts(true);o.fireEvent("expand",o)}return o},removeBodyCls:function(d){var g=this,e=g.rendered?g.body:g.getProtoBody();e.removeCls(d);return g},removeUIClsFromElement:function(d){var g=this,e=g.callParent(arguments);g.removeBodyCls([Ext.baseCSSPrefix+d,g.baseCls+"-body-"+d,g.baseCls+"-body-"+g.ui+"-"+d]);return e},restoreDimension:function(){var b=this.collapseDirection;return(b==="top"||b==="bottom")?"height":"width"},restoreHiddenDocked:function(){var b=this.hiddenOnCollapse;b.setStyle("visibility","");b.clear()},setBodyStyle:function(e,h){var j=this,g=j.rendered?j.body:j.getProtoBody();if(Ext.isFunction(e)){e=e()}if(arguments.length==1){if(Ext.isString(e)){e=Ext.Element.parseStyles(e)}g.setStyle(e)}else{g.setStyle(e,h)}return j},setBorder:function(g,j){if(j){return}var e=this,h=e.header;if(!g){g=0}else{if(g===true){g="1px"}else{g=e.unitizeBox(g)}}if(h){if(h.isHeader){h.setBorder(g)}else{h.border=g}}if(e.rendered&&e.bodyBorder!==false){e.body.setStyle("border-width",g)}e.updateLayout();e.border=g},setCollapsed:function(b){this[b?"collapse":"expand"]()},setGlyph:function(m){var g=this,h=g.glyph,j=g.header,l=g.placeholder;if(m!==h){g.glyph=m;if(j){if(j.isHeader){j.setGlyph(m)}else{j.glyph=m}}else{if(g.rendered||g.afterHeaderInit){g.updateHeader()}}if(l&&l.setGlyph){l.setGlyph(m)}g.fireEvent("glyphchange",g,m,h)}},setIcon:function(h){var g=this,m=g.icon,j=g.header,l=g.placeholder;if(h!==m){g.icon=h;if(j){if(j.isHeader){j.setIcon(h)}else{j.icon=h}}else{if(g.rendered||g.afterHeaderInit){g.updateHeader()}}if(l&&l.setIcon){l.setIcon(h)}g.fireEvent("iconchange",g,h,m)}},setIconCls:function(g){var m=this,h=m.iconCls,j=m.header,l=m.placeholder;if(g!==h){m.iconCls=g;if(j){if(j.isHeader){j.setIconCls(g)}else{j.iconCls=g}}else{if(m.rendered||m.afterHeaderInit){m.updateHeader()}}if(l&&l.setIconCls){l.setIconCls(g)}m.fireEvent("iconclschange",m,g,h)}},setTitle:function(m){var o=this,h=o.title,l=o.header,j=o.reExpander,n=o.placeholder;if(m!==h){o.title=m;if(l){if(l.isHeader){l.setTitle(m)}}else{if(o.rendered||o.afterHeaderInit){o.updateHeader()}}if(j){j.setTitle(m)}if(n&&n.setTitle){n.setTitle(m)}o.fireEvent("titlechange",o,m,h)}},setHiddenDocked:function(){var m=this,p=m.hiddenOnCollapse,q=m.getDockedItems(),l=q.length,o=0,n,j;if(m.header!==false){j=m.getReExpander()}p.add(m.body);for(;o<l;o++){n=q[o];if(n&&n!==j&&n.el){p.add(n.el)}}p.setStyle("visibility","hidden")},setUI:function(c){var d=this;d.callParent(arguments);if(d.header&&d.header.rendered){d.header.setUI(c)}},toggleCollapse:function(){return(this.collapsed||this.floatedFromCollapse)?this.expand():this.collapse()},updateCollapseTool:function(){var c=this,d=c.collapseTool;if(!d&&c.collapsible){c.collapseDirection=c.collapseDirection||c.getHeaderPosition()||"top";c.collapseTool=c.expandTool=d=Ext.widget({xtype:"tool",handler:c.toggleCollapse,scope:c})}if(d){if(c.collapsed&&!c.isPlaceHolderCollapse()){d.setType("expand-"+c.getOppositeDirection(c.collapseDirection))}else{d.setType("collapse-"+c.collapseDirection)}}},updateHeaderPosition:function(d){var c=this.header;if(c&&c.isHeader){c.setDock(d)}},updateIconAlign:function(c){var d=this.header;if(d&&d.isHeader){d.setIconAlign(c)}},updateTitleAlign:function(c){var d=this.header;if(d&&d.isHeader){d.setTitleAlign(c)}},updateTitleRotation:function(d){var c=this.header;if(c&&c.isHeader){c.setTitleRotation(d)}},unghost:function(m,h,g){var j=this,l=j.ghostPanel;if(!l){return}if(m!==false){j.el.show();if(h!==false){j.setPagePosition(l.getXY());if(j.hideMode==="offsets"){delete j.el.hideModeStyles}}if(g){j.focus(false,10)}}l.el.hide();l.setHiddenState(true)},updateHeader:function(z){var s=this,w=s.header,p=s.getTitle(),u=s.tools,q=s.getIcon(),r=s.getGlyph(),o=s.getIconCls(),x=r||q||o,v=s.getHeaderPosition(),y=v==="left"||v==="right";if(Ext.isObject(w)||(w!==false&&(z||(p||x)||(u&&u.length)||(s.collapsible&&!s.titleCollapse)))){if(w&&w.isHeader){w.show()}else{w=s.header=Ext.widget(Ext.merge({xtype:"header",title:p,titleAlign:s.getTitleAlign(),vertical:y,dock:s.getHeaderPosition()||"top",titleRotation:s.getTitleRotation(),textCls:s.headerTextCls,iconCls:o,iconAlign:s.getIconAlign(),icon:q,glyph:r,baseCls:s.baseCls+"-header",tools:u,ui:s.ui,id:s.id+"_header",overCls:s.headerOverCls,indicateDrag:s.draggable,frame:(s.frame||s.alwaysFramed)&&s.frameHeader,ignoreParentFrame:s.frame||s.overlapHeader,ignoreBorderManagement:s.frame||s.ignoreHeaderBorderManagement,headerRole:s.headerRole,ownerCt:s,synthetic:true,listeners:s.collapsible&&s.titleCollapse?{click:s.toggleCollapse,scope:s}:null},s.header));s.addDocked(w,0)}}else{if(w){w.hide()}}},privates:{addUIToElement:function(){var b=this;b.callParent(arguments);b.addBodyCls(b.baseCls+"-body-"+b.ui)},applyTargetCls:function(b){this.getProtoBody().addCls(b)},getDefaultContentTarget:function(){return this.body},getTargetEl:function(){var b=this;return b.body||b.protoBody||b.frameBody||b.el},initDraggable:function(){var b=this;if(b.simpleDrag){b.initSimpleDraggable()}else{b.dd=new Ext.panel.DD(b,Ext.isBoolean(b.draggable)?null:b.draggable)}},initResizable:function(){this.callParent(arguments);if(this.collapsed){this.resizer.disable()}},initSimpleDraggable:function(){var g=this,d,e;if(!g.header){g.updateHeader(true)}if(g.header){d=Ext.applyIf({el:g.el,delegate:"#"+g.header.id},g.draggable);if(g.constrain||g.constrainHeader){d.constrain=g.constrain;d.constrainDelegate=g.constrainHeader;d.constrainTo=g.constrainTo||g.container}e=g.dd=new Ext.util.ComponentDragger(g,d);g.relayEvents(e,["dragstart","drag","dragend"]);if(g.maximized){e.disable()}}},removeUIFromElement:function(){var b=this;b.callParent(arguments);b.removeBodyCls(b.baseCls+"-body-"+b.ui)},setupRenderTpl:function(b){this.callParent(arguments);this.setupDockingRenderTpl(b)},slideOutFloatedPanel:function(g){var e=this,h=e.el,j;if(e.isSliding||e.isDestroyed){return}e.isSliding=true;e.floated=false;e.slideOutFloatedPanelBegin();if(typeof e.collapsed=="string"){j=e.convertCollapseDir(e.collapsed)}h.slideOut(j,{preserveScroll:true,duration:Ext.Number.from(e.animCollapse,Ext.fx.Anim.prototype.duration),autoEnd:g===true,listeners:{afteranimate:function(){e.slideOutFloatedPanelEnd();e.el.removeCls(Ext.baseCSSPrefix+"border-region-slide-in")}}})},slideOutFloatedPanelBegin:function(){var d=this,g=d.placeholder.el,e=d.el;d.collapsed=d.floatedFromCollapse;d.setHiddenState(true);d.floatedFromCollapse=null;g.un("mouseleave",d.onMouseLeaveFloated,d);e.un("mouseleave",d.onMouseLeaveFloated,d);g.un("mouseenter",d.onMouseEnterFloated,d);e.un("mouseenter",d.onMouseEnterFloated,d)},slideOutFloatedPanelEnd:function(d){var c=this;if(c.collapseTool){c.collapseTool.el.show()}c.slideOutTask.cancel();c.isSliding=false;if(!d){c.fireEvent("unfloat",c)}}}},function(){var b=this.prototype;b.animCollapse=Ext.enableFx;b.placeholderCollapseHideMode=Ext.Element.VISIBILITY});Ext.define("ExtThemeNeptune.panel.Panel",{override:"Ext.panel.Panel",border:false,bodyBorder:false,initBorderProps:Ext.emptyFn,initBodyBorder:function(){if(this.bodyBorder!==true){this.callParent()}}});Ext.define("Ext.tip.Tip",{extend:Ext.panel.Panel,alias:"widget.tip",alternateClassName:"Ext.Tip",minWidth:40,maxWidth:500,shadow:"sides",defaultAlign:"tl-bl?",constrainPosition:true,autoRender:true,hidden:true,baseCls:Ext.baseCSSPrefix+"tip",focusOnToFront:false,closeAction:"hide",alwaysFramed:true,frameHeader:false,initComponent:function(){var b=this;b.floating=Ext.apply({},{shadow:b.shadow,constrain:b.constrainPosition},b.self.prototype.floating);b.callParent(arguments);b.constrain=b.constrain||b.constrainPosition},showAt:function(c){var d=this;this.callParent(arguments);if(d.isVisible()){d.setPagePosition(c[0],c[1]);if(d.constrainPosition||d.constrain){d.doConstrain()}d.toFront(true)}},privates:{initDraggable:function(){var b=this;b.draggable={el:b.getDragEl(),delegate:b.header.el,constrain:b,constrainTo:b.el.dom.parentNode};Ext.Component.prototype.initDraggable.call(b)}},ghost:undefined,unghost:undefined});Ext.define("Ext.tip.ToolTip",{extend:Ext.tip.Tip,alias:"widget.tooltip",alternateClassName:"Ext.ToolTip",autoHide:true,showDelay:500,hideDelay:200,dismissDelay:5000,trackMouse:false,anchorToTarget:true,anchorOffset:0,targetCounter:0,quickShowInterval:250,hideAction:"hide",fadeOutDuration:1000,ariaRole:"tooltip",initComponent:function(){var b=this;b.callParent(arguments);b.lastActive=new Date();b.setTarget(b.target);b.origAnchor=b.anchor},onRender:function(d,e){var g=this;g.callParent(arguments);g.anchorCls=Ext.baseCSSPrefix+"tip-anchor-"+g.getAnchorPosition();g.anchorEl=g.el.createChild({role:"presentation",cls:Ext.baseCSSPrefix+"tip-anchor "+g.anchorCls})},setTarget:function(h){var e=this,g=Ext.get(h),j;if(e.target){j=Ext.get(e.target);if(Ext.supports.Touch){e.mun(j,"tap",e.onTargetOver,e)}else{e.mun(j,{mouseover:e.onTargetOver,mouseout:e.onTargetOut,mousemove:e.onMouseMove,scope:e})}}e.target=g;if(g){if(Ext.supports.Touch){e.mon(g,{tap:e.onTargetOver,scope:e})}else{e.mon(g,{mouseover:e.onTargetOver,mouseout:e.onTargetOut,mousemove:e.onMouseMove,scope:e})}}if(e.anchor){e.anchorTarget=e.target}},onMouseMove:function(h){var e=this,g,j;if(!e.target||e.target.contains(h.target)){g=e.delegate?h.getTarget(e.delegate):e.triggerElement=true;if(g){e.targetXY=h.getXY();if(g===e.triggerElement){if(!e.hidden&&e.trackMouse){j=e.getTargetXY();if(e.constrainPosition){j=e.el.adjustForConstraints(j,e.el.parent())}e.setPagePosition(j)}}else{e.hide();e.lastActive=new Date(0);e.onTargetOver(h)}}else{if((!e.closable&&e.isVisible())&&e.autoHide!==false){e.delayHide()}}}},getTargetXY:function(){var v=this,A,B,q,D,w,s,z,r,u,C,x,y;if(v.delegate){v.anchorTarget=v.triggerElement}if(v.anchor){v.targetCounter++;B=v.getOffsets();q=(v.anchorToTarget&&!v.trackMouse)?v.getAlignToXY(v.anchorTarget,v.getAnchorAlign()):v.targetXY;D=Ext.Element.getViewportWidth()-5;w=Ext.Element.getViewportHeight()-5;s=document.documentElement;z=document.body;r=(s.scrollLeft||z.scrollLeft||0)+5;u=(s.scrollTop||z.scrollTop||0)+5;C=[q[0]+B[0],q[1]+B[1]];x=v.getSize();y=v.constrainPosition;v.anchorEl.removeCls(v.anchorCls);if(v.targetCounter<2&&y){if(C[0]<r){if(v.anchorToTarget){v.defaultAlign="l-r";if(v.mouseOffset){v.mouseOffset[0]*=-1}}v.anchor="left";return v.getTargetXY()}if(C[0]+x.width>D){if(v.anchorToTarget){v.defaultAlign="r-l";if(v.mouseOffset){v.mouseOffset[0]*=-1}}v.anchor="right";return v.getTargetXY()}if(C[1]<u){if(v.anchorToTarget){v.defaultAlign="t-b";if(v.mouseOffset){v.mouseOffset[1]*=-1}}v.anchor="top";return v.getTargetXY()}if(C[1]+x.height>w){if(v.anchorToTarget){v.defaultAlign="b-t";if(v.mouseOffset){v.mouseOffset[1]*=-1}}v.anchor="bottom";return v.getTargetXY()}}v.anchorCls=Ext.baseCSSPrefix+"tip-anchor-"+v.getAnchorPosition();v.anchorEl.addCls(v.anchorCls);v.targetCounter=0;return C}else{A=v.getMouseOffset();return(v.targetXY)?[v.targetXY[0]+A[0],v.targetXY[1]+A[1]]:A}},calculateConstrainedPosition:function(g){var m=this,j,h,l;if(!g&&m.isContainedFloater()){j=m.isVisible();if(!j){m.el.show()}h=m.getTargetXY();if(!j){m.el.hide()}l=m.floatParent.getTargetEl().getViewRegion();h[0]-=l.left;h[1]-=l.top}else{h=m.callOverridden(arguments)}return h},getMouseOffset:function(){var d=this,c=d.anchor?[0,0]:[15,18];if(d.mouseOffset){c[0]+=d.mouseOffset[0];c[1]+=d.mouseOffset[1]}return c},fadeOut:function(){var b=this;b.el.fadeOut({duration:b.fadeOutDuration,callback:function(){b.hide();b.el.setOpacity("")}})},getAnchorPosition:function(){var c=this,d;if(c.anchor){c.tipAnchor=c.anchor.charAt(0)}else{d=c.defaultAlign.match(/^([a-z]+)-([a-z]+)(\?)?$/);c.tipAnchor=d[1].charAt(0)}switch(c.tipAnchor){case"t":return"top";case"b":return"bottom";case"r":return"right"}return"left"},getAnchorAlign:function(){switch(this.anchor){case"top":return"tl-bl";case"left":return"tl-tr";case"right":return"tr-tl";default:return"bl-tl"}},getOffsets:function(){var j=this,h,e,g=j.getAnchorPosition().charAt(0);if(j.anchorToTarget&&!j.trackMouse){switch(g){case"t":e=[0,9];break;case"b":e=[0,-13];break;case"r":e=[-13,0];break;default:e=[9,0];break}}else{switch(g){case"t":e=[-15-j.anchorOffset,30];break;case"b":e=[-19-j.anchorOffset,-13-j.el.dom.offsetHeight];break;case"r":e=[-15-j.el.dom.offsetWidth,-13-j.anchorOffset];break;default:e=[25,-13-j.anchorOffset];break}}h=j.getMouseOffset();e[0]+=h[0];e[1]+=h[1];return e},onTargetOver:function(h){var j=this,e=j.delegate,g;if(j.disabled||h.within(j.target.dom,true)){return}g=e?h.getTarget(e):true;if(g){j.triggerElement=g;j.triggerEvent=h;j.clearTimer("hide");j.targetXY=h.getXY();j.delayShow()}},delayShow:function(g){var e=this,d=e.el&&(g===false||!e.trackMouse)&&e.getTargetXY();if(e.hidden&&!e.showTimer){if(Ext.Date.getElapsed(e.lastActive)<e.quickShowInterval){e.show()}else{e.showTimer=Ext.defer(e.showFromDelay,e.showDelay,e,[d])}}else{if(!e.hidden&&e.autoHide!==false){e.show(d)}}},showFromDelay:function(b){this.fromDelayShow=true;this.show(b);delete this.fromDelayShow},onShowVeto:function(){this.callParent();delete this.triggerElement;this.clearTimer("show")},onTargetOut:function(h){var e=this,g=e.triggerElement,j=g===true?e.target:g;if(e.disabled||!g||h.within(j,true)){return}if(e.showTimer){e.clearTimer("show");e.triggerElement=null}if(e.autoHide!==false){e.delayHide()}},delayHide:function(){var b=this;if(!b.hidden&&!b.hideTimer){b.hideTimer=Ext.defer(b[b.hideAction],b.hideDelay,b)}},hide:function(){var b=this;b.clearTimer("dismiss");b.lastActive=new Date();if(b.anchorEl){b.anchorEl.hide()}b.callParent(arguments);delete b.triggerElement},show:function(c){var d=this;this.callParent();if(this.hidden===false){if(d.anchor){d.anchor=d.origAnchor}if(!d.calledFromShowAt){d.showAt(c||d.getTargetXY())}}},showAt:function(c){var d=this;d.lastActive=new Date();d.clearTimers();d.calledFromShowAt=true;if(!d.isVisible()){this.callParent(arguments)}if(d.isVisible()){d.setPagePosition(c[0],c[1]);if(d.constrainPosition||d.constrain){d.doConstrain()}d.toFront(true);d.el.syncUnderlays();if(d.dismissDelay&&d.autoHide!==false){d.dismissTimer=Ext.defer(d.hide,d.dismissDelay,d)}}delete d.calledFromShowAt},syncAnchor:function(){var j=this,g,e,h;switch(j.tipAnchor.charAt(0)){case"t":g="b";e="tl";h=[20+j.anchorOffset,1];break;case"r":g="l";e="tr";h=[-1,12+j.anchorOffset];break;case"b":g="t";e="bl";h=[20+j.anchorOffset,-1];break;default:g="r";e="tl";h=[1,12+j.anchorOffset];break}j.anchorEl.alignTo(j.el,g+"-"+e,h);j.anchorEl.setStyle("z-index",parseInt(j.el.getZIndex(),10)||0+1).setVisibilityMode(Ext.Element.DISPLAY)},afterSetPosition:function(e,g){var d=this;d.callParent(arguments);if(d.anchor){d.syncAnchor();if(!d.anchorEl.isVisible()){d.anchorEl.show()}}else{d.anchorEl.hide()}},_timerNames:{},clearTimer:function(h){var g=this,l=g._timerNames,m=l[h]||(l[h]=h+"Timer"),j=g[m];if(j){clearTimeout(j);g[m]=null}},clearTimers:function(){var b=this;b.clearTimer("show");b.clearTimer("dismiss");b.clearTimer("hide")},onShow:function(){var b=this;b.callParent();b.mon(Ext.getDoc(),"mousedown",b.onDocMouseDown,b)},onHide:function(){var b=this;b.callParent();b.mun(Ext.getDoc(),"mousedown",b.onDocMouseDown,b)},onDocMouseDown:function(c){var d=this;if(!d.closable&&!c.within(d.el.dom)){d.disable();Ext.defer(d.doEnable,100,d)}},doEnable:function(){if(!this.isDestroyed){this.enable()}},onDisable:function(){this.callParent();this.clearTimers();this.hide()},beforeDestroy:function(){var b=this;b.clearTimers();Ext.destroy(b.anchorEl);delete b.anchorEl;delete b.target;delete b.anchorTarget;delete b.triggerElement;b.callParent()},onDestroy:function(){Ext.getDoc().un("mousedown",this.onDocMouseDown,this);this.callParent()}});Ext.define("Ext.data.AbstractStore",{mixins:[Ext.mixin.Observable,Ext.mixin.Factoryable],factoryConfig:{defaultType:"store",type:"store"},$configPrefixed:false,$configStrict:false,config:{autoFilter:true,autoSort:true,filters:undefined,autoDestroy:undefined,storeId:null,statefulFilters:false,sorters:undefined,remoteSort:false,remoteFilter:false,groupField:undefined,groupDir:"ASC",grouper:null,pageSize:25},currentPage:1,loading:false,isDestroyed:false,isStore:true,updating:0,constructor:function(d){var g=this,e;g.isInitializing=true;g.mixins.observable.constructor.call(g,d);g.isInitializing=false;e=g.getStoreId();if(!e&&(d&&d.id)){g.setStoreId(e=d.id)}if(e){Ext.data.StoreManager.register(g)}},getCount:function(){return this.getData().getCount()},rangeCached:function(c,d){return this.getData().getCount()>=Math.max(c,d)},find:function(p,q,o,n,m,r){var s=!n,l=!!(s&&r);return this.getData().findIndex(p,q,o,s,l,!m)},findRecord:function(){var c=this,d=c.find.apply(c,arguments);return d!==-1?c.getAt(d):null},findExact:function(d,e,g){return this.getData().findIndexBy(function(a){return a.isEqual(a.get(d),e)},this,g)},findBy:function(d,e,g){return this.getData().findIndexBy(d,e,g)},getAt:function(b){return this.getData().getAt(b)||null},getRange:function(h,e,j){var g=this.getData().getRange(h,Ext.isNumber(e)?e+1:e);if(j&&j.callback){j.callback.call(j.scope||this,g,h,e,j)}return g},applyFilters:function(c,d){if(!d){d=this.createFiltersCollection()}d.add(c);return d},applySorters:function(c,d){if(!d){d=this.createSortersCollection()}d.add(c);return d},updateAutoFilter:function(c){var d=this.getData();if(d.setAutoFilter){d.setAutoFilter(c)}},updateAutoSort:function(d){var c=this.getData();if(c.setAutoSort){c.setAutoSort(d)}},filter:function(d,g,e){if(Ext.isString(d)){d={property:d,value:g}}this.suppressNextFilter=!!e;this.getFilters().add(d);this.suppressNextFilter=false},removeFilter:function(g,h){var j=this,e=j.getFilters();j.suppressNextFilter=!!h;if(g instanceof Ext.util.Filter){e.remove(g)}else{e.removeByKey(g)}j.suppressNextFilter=false},updateRemoteSort:function(j){var g=this,h=g.getSorters(),e=g.getData();if(j){h.on("endupdate",g.onSorterEndUpdate,g);e.un("beforesort",g.onBeforeCollectionSort,g)}else{h.un("endupdate",g.onSorterEndUpdate,g);e.on("beforesort",g.onBeforeCollectionSort,g)}},updateRemoteFilter:function(g){var d=this,e=d.getFilters();if(g){e.on("endupdate",d.onFilterEndUpdate,d)}else{e.un("endupdate",d.onFilterEndUpdate,d)}},addFilter:function(c,d){this.suppressNextFilter=!!d;this.getFilters().add(c);this.suppressNextFilter=false},filterBy:function(c,d){this.getFilters().add({filterFn:c,scope:d||this})},clearFilter:function(g){var d=this,e=d.getFilters(false);if(!e||e.getCount()===0){return}d.suppressNextFilter=!!g;e.removeAll();d.suppressNextFilter=false},isFiltered:function(){return this.getFilters().getCount()>0},isSorted:function(){return this.getSorters().getCount()>0||this.isGrouped()},addFieldTransform:function(j){if(j.getTransform()){return}var l=j.getProperty(),m=this.getModel(),h,g;if(m){h=m.getField(l);g=h?h.getSortType():null}if(g&&g!==Ext.identityFn){j.setTransform(g)}},beginUpdate:function(){if(!this.updating++){this.fireEvent("beginupdate")}},endUpdate:function(){if(this.updating&&!--this.updating){this.fireEvent("endupdate");this.onEndUpdate()}},getState:function(){var p=this,o=[],q=p.getFilters(),l=p.getGrouper(),n,r,s,m;p.getSorters().each(function(a){o[o.length]=a.getState();r=true});if(p.statefulFilters&&p.saveStatefulFilters){r=true;n=[];q.each(function(a){n[n.length]=a.getState()})}if(l){r=true}if(r){m={};if(o.length){m.sorters=o}if(n){m.filters=n}if(l){m.grouper=l.getState()}}return m},applyState:function(n){var p=this,m=p.getSorters(),q=p.getFilters(),j=n.sorters,l=n.filters,o=n.grouper;if(j){m.replaceAll(j)}if(l){p.saveStatefulFilters=true;q.replaceAll(l)}if(o){this.setGrouper(o)}},hasPendingLoad:Ext.emptyFn,isLoaded:Ext.emptyFn,isLoading:Ext.emptyFn,destroy:function(){var b=this;b.clearListeners();if(b.getStoreId()){Ext.data.StoreManager.unregister(b)}b.onDestroy();b.callParent()},sort:function(j,e,h){var g=this;if(arguments.length===0){if(g.getRemoteSort()){g.attemptLoad()}else{g.forceLocalSort()}}else{g.getSorters().addSort(j,e,h)}},onBeforeCollectionSort:function(d,c){this.fireEvent("beforesort",this,c.getRange())},onSorterEndUpdate:function(){var d=this,c;if(d.settingGroups){return}c=d.getSorters().getRange();if(c.length){if(d.getRemoteSort()){d.attemptLoad({callback:function(){d.fireEvent("sort",d,c)}})}else{d.fireEvent("datachanged",d);d.fireEvent("refresh",d);d.fireEvent("sort",d,c)}}else{d.fireEvent("sort",d,c)}},onFilterEndUpdate:function(){var c=this,d=c.suppressNextFilter;if(c.getAutoFilter()){if(c.getRemoteFilter()){c.currentPage=1;if(!d){c.attemptLoad()}}else{if(!d){c.fireEvent("datachanged",c);c.fireEvent("refresh",c)}}}if(c.trackStateChanges){c.saveStatefulFilters=true}c.fireEvent("filterchange",c,c.getFilters().getRange())},updateGroupField:function(b){if(b){this.setGrouper({property:b,direction:this.getGroupDir()})}else{this.setGrouper(null)}},getGrouper:function(){return this.getData().getGrouper()},group:function(g,j){var e=this,h=g||e.getSorters().getCount()>0;if(g&&typeof g==="string"){g={property:g,direction:j||e.getGroupDir()}}e.settingGroups=true;e.getData().setGrouper(g);delete e.settingGroups;if(e.isLoadBlocked()){return}if(h){if(e.getRemoteSort()){e.attemptLoad({scope:e,callback:e.fireGroupChange})}else{e.fireEvent("datachanged",e);e.fireEvent("refresh",e);e.fireGroupChange()}}else{e.fireGroupChange()}},fireGroupChange:function(){this.fireEvent("groupchange",this,this.getGrouper())},clearGrouping:function(){this.group(null)},getGroupField:function(){var d=this.getGrouper(),c="";if(d){c=d.getProperty()}return c},isGrouped:function(){return !!this.getGrouper()},applyGrouper:function(b){this.group(b);return this.getData().getGrouper()},getGroups:function(){return this.getData().getGroups()},onEndUpdate:Ext.emptyFn,privates:{loadsSynchronously:Ext.privateFn},deprecated:{5:{methods:{destroyStore:function(){this.destroy()}}}}});Ext.define("Ext.data.writer.Writer",{mixins:[Ext.mixin.Factoryable],alias:"writer.base",factoryConfig:{defaultType:null},alternateClassName:["Ext.data.DataWriter","Ext.data.Writer"],config:{clientIdProperty:null,allDataOptions:{persist:true},partialDataOptions:{changes:true,critical:true},writeAllFields:false,dateFormat:null,nameProperty:"name",writeRecordId:true,transform:null},isWriter:true,constructor:function(b){this.initConfig(b)},applyTransform:function(b){if(b){if(Ext.isFunction(b)){b={fn:b}}return b.fn.bind(b.scope||this)}return b},write:function(m){var o=m.getOperation(),h=o.getRecords()||[],j=h.length,l=[],n;for(n=0;n<j;n++){l.push(this.getRecordData(h[n],o))}return this.writeRecords(m,l)},writeRecords:Ext.emptyFn,getRecordData:function(B,D){var y=this,G=y.getNameProperty(),K=G!=="name",I=B.self.idField,M=I[G]||I.name,v=B.id,H=y.getWriteAllFields(),z,J,F,L,w,A,C,x;if(I.serialize){v=I.serialize(v)}if(!H&&D&&D.isDestroyOperation){z={};z[M]=v}else{J=y.getDateFormat();F=B.phantom;L=(F||H)?y.getAllDataOptions():y.getPartialDataOptions();w=F&&y.getClientIdProperty();A=B.getFieldsMap();L.serialize=false;C=B.getData(L);z=K?{}:C;if(w){z[w]=v;delete C[M]}else{if(!y.getWriteRecordId()){delete C[M]}}for(M in C){v=C[M];if(!(x=A[M])){if(K){z[M]=v}}else{if(x.isDateField&&J&&Ext.isDate(v)){v=Ext.Date.format(v,J)}else{if(x.serialize){v=x.serialize(v,B)}}if(K){M=x[G]||M}z[M]=v}}}return z}});Ext.define("Ext.data.proxy.Proxy",{mixins:[Ext.mixin.Factoryable,Ext.mixin.Observable],$configPrefixed:false,alias:"proxy.proxy",alternateClassName:["Ext.data.DataProxy","Ext.data.Proxy"],config:{batchOrder:"create,update,destroy",batchActions:true,model:undefined,reader:{type:"json"},writer:{type:"json"}},isProxy:true,isSynchronous:false,constructor:function(b){this.mixins.observable.constructor.call(this,b)},applyModel:function(b){return Ext.data.schema.Schema.lookupEntity(b)},updateModel:function(c){if(c){var d=this.getReader();if(d&&!d.getModel()){d.setModel(c)}}},applyReader:function(b){return Ext.Factory.reader(b)},updateReader:function(e){if(e){var g=this,d=g.getModel();if(!d){d=e.getModel();if(d){g.setModel(d)}}else{e.setModel(d)}if(e.onMetaChange){e.onMetaChange=Ext.Function.createSequence(e.onMetaChange,g.onMetaChange,g)}}},applyWriter:function(c){var d=this.getReader();c=Ext.Factory.writer(c);if(c.getRecord&&!c.getRecord()&&d&&d.getRecord){d=d.getRecord();if(d){c.setRecord(d)}}return c},abort:Ext.emptyFn,onMetaChange:function(b){this.fireEvent("metachange",this,b)},create:Ext.emptyFn,read:Ext.emptyFn,update:Ext.emptyFn,erase:Ext.emptyFn,batch:function(a,u){var v=this,w=v.getBatchActions(),y,C,z,B,A,s,D,r,x;if(a.operations===undefined){a={operations:a,listeners:u}}if(a.batch){if(Ext.isDefined(a.batch.runOperation)){y=Ext.applyIf(a.batch,{proxy:v,listeners:{}})}}else{a.batch={proxy:v,listeners:a.listeners||{}}}if(!y){y=new Ext.data.Batch(a.batch)}y.on("complete",Ext.bind(v.onBatchComplete,v,[a],0));z=v.getBatchOrder().split(",");B=z.length;for(s=0;s<B;s++){A=z[s];C=a.operations[A];if(C){if(w){y.add(v.createOperation(A,{records:C,params:a.params}))}else{r=C.length;for(D=0;D<r;D++){x=C[D];y.add(v.createOperation(A,{records:[x],params:a.params}))}}}}y.start();return y},onBatchComplete:function(e,d){var g=e.scope||this;if(d.hasException()){if(Ext.isFunction(e.failure)){Ext.callback(e.failure,g,[d,e])}}else{if(Ext.isFunction(e.success)){Ext.callback(e.success,g,[d,e])}}if(Ext.isFunction(e.callback)){Ext.callback(e.callback,g,[d,e])}},createOperation:function(g,d){var e=Ext.createByAlias("data.operation."+g,d);e.setProxy(this);return e},clone:function(){return new this.self(this.getInitialConfig())}});Ext.define("Ext.data.proxy.Client",{extend:Ext.data.proxy.Proxy,alternateClassName:"Ext.data.ClientProxy",isSynchronous:true,clear:function(){}});Ext.define("Ext.data.proxy.Memory",{extend:Ext.data.proxy.Client,alias:"proxy.memory",alternateClassName:"Ext.data.MemoryProxy",isMemoryProxy:true,config:{enablePaging:false,data:{$value:null,merge:function(h,g,j,e){if(Ext.isArray(h)){return Ext.Array.clone(h)}else{return Ext.clone(h)}}}},finishOperation:function(e){var j=0,h=e.getRecords(),g=h.length;for(j;j<g;j++){h[j].commit()}e.setSuccessful(true)},create:function(b){this.finishOperation(b)},update:function(b){this.finishOperation(b)},erase:function(b){this.finishOperation(b)},read:function(p){var n=this,m=n.getReader().read(n.getData()),r=m.getRecords(),o=p.getSorters(),v=p.getGrouper(),s=p.getFilters(),u=p.getStart(),q=p.getLimit();if(p.process(m,null,null,false)!==false){if(s&&s.length){m.setRecords(r=Ext.Array.filter(r,Ext.util.Filter.createFilterFn(s)));m.setTotal(r.length)}if(v){o=o?o.concat(v):o}if(o&&o.length){m.setRecords(r=Ext.Array.sort(r,Ext.util.Sortable.createComparator(o)))}if(n.getEnablePaging()&&u!==undefined&&q!==undefined){if(u>=m.getTotal()){m.setConfig({success:false,records:[],total:0})}else{m.setRecords(Ext.Array.slice(r,u,u+q))}}p.setCompleted()}},clear:Ext.emptyFn});Ext.define("Ext.data.ProxyStore",{extend:Ext.data.AbstractStore,config:{model:undefined,fields:null,proxy:undefined,autoLoad:undefined,autoSync:false,batchUpdateMode:"operation",sortOnLoad:true,trackRemoved:true,autoLoadDelay:1},onClassExtended:function(g,l,h){var m=l.model,j;if(typeof m==="string"){j=h.onBeforeCreated;h.onBeforeCreated=function(){var a=this,b=arguments;Ext.require(m,function(){j.apply(a,b)})}}},implicitModel:false,blockLoadCounter:0,loadsWhileBlocked:0,autoSyncSuspended:0,constructor:function(d){var c=this;c.removed=[];c.blockLoad();c.callParent(arguments);c.unblockLoad()},updateAutoLoad:function(d){var g=this,e;g.getData();if(d){e=g.loadTask||(g.loadTask=new Ext.util.DelayedTask(null,null,null,null,false));e.delay(g.autoLoadDelay,g.attemptLoad,g,Ext.isObject(d)?[d]:undefined)}},getTotalCount:function(){return this.totalCount||0},applyFields:function(g){var h=this,e,j;if(g){h.implicitModel=true;h.setModel(e=Ext.define(null,{extend:"Ext.data.Model",fields:g,proxy:(j=h.getProxy())}));if(j&&!j.getModel()){j.setModel(e)}}},applyModel:function(b){if(b){b=Ext.data.schema.Schema.lookupEntity(b)}else{this.getFields();b=this.getModel()}return b},applyProxy:function(c){var d=this.getModel();if(c!==null){if(c){if(c.isProxy){c.setModel(d)}else{if(Ext.isString(c)){c={type:c,model:d}}else{if(!c.model){c=Ext.apply({model:d},c)}}c=Ext.createByAlias("proxy."+c.type,c);c.autoCreated=true}}else{if(d){c=d.getProxy()}}if(!c){c=Ext.createByAlias("proxy.memory");c.autoCreated=true}}return c},updateProxy:function(e,g){var h=this,j={scope:h,beginprocessresponse:h.beginUpdate,endprocessresponse:h.endUpdate};if(!h.disableMetaChangeEvent){j.metachange=h.onMetaChange}if(g){g.un(j)}if(e){e.on(j)}},updateTrackRemoved:function(b){this.removed=b?[]:null},onMetaChange:function(d,c){this.fireEvent("metachange",this,c)},create:function(l,o){var m=this,j=new m.model(l),n=m.getProxy(),h;o=Ext.apply({},o);if(!o.records){o.records=[j]}o.internalScope=m;o.internalCallback=m.onProxyWrite;h=n.createOperation("create",o);return h.execute()},read:function(){return this.load.apply(this,arguments)},update:function(e){var h=this,j=h.getProxy(),g;e=Ext.apply({},e);if(!e.records){e.records=h.getUpdatedRecords()}e.internalScope=h;e.internalCallback=h.onProxyWrite;g=j.createOperation("update",e);return g.execute()},onProxyWrite:function(e){var j=this,h=e.wasSuccessful(),g=e.getRecords();switch(e.getAction()){case"create":j.onCreateRecords(g,e,h);break;case"update":j.onUpdateRecords(g,e,h);break;case"destroy":j.onDestroyRecords(g,e,h);break}if(h){j.fireEvent("write",j,e);j.fireEvent("datachanged",j)}},onCreateRecords:Ext.emptyFn,onUpdateRecords:Ext.emptyFn,onDestroyRecords:function(d,e,g){if(g){this.removed.length=0}},erase:function(e){var h=this,j=h.getProxy(),g;e=Ext.apply({},e);if(!e.records){e.records=h.getRemovedRecords()}e.internalScope=h;e.internalCallback=h.onProxyWrite;g=j.createOperation("destroy",e);return g.execute()},onBatchOperationComplete:function(c,d){return this.onProxyWrite(d)},onBatchComplete:function(o,j){var l=this,h=o.operations,m=h.length,n;if(l.batchUpdateMode!=="operation"){l.suspendEvents();for(n=0;n<m;n++){l.onProxyWrite(h[n])}l.resumeEvents()}l.isSyncing=false;l.fireEvent("datachanged",l)},onBatchException:function(c,d){},filterNew:function(b){return b.phantom===true&&b.isValid()},getNewRecords:function(){return[]},getUpdatedRecords:function(){return[]},getModifiedRecords:function(){return[].concat(this.getNewRecords(),this.getUpdatedRecords())},filterUpdated:function(b){return b.dirty===true&&b.phantom!==true&&b.isValid()},getRemovedRecords:function(){return this.removed},sync:function(q){var o=this,j={},n=o.getNewRecords(),p=o.getUpdatedRecords(),l=o.getRemovedRecords(),m=false;o.needsSync=false;if(n.length>0){j.create=n;m=true}if(p.length>0){j.update=p;m=true}if(l.length>0){j.destroy=l;m=true}if(m&&o.fireEvent("beforesync",j)!==false){o.isSyncing=true;q=q||{};o.proxy.batch(Ext.apply(q,{operations:j,listeners:o.getBatchListeners()}))}return o},getBatchListeners:function(){var c=this,d={scope:c,exception:c.onBatchException,complete:c.onBatchComplete};if(c.batchUpdateMode==="operation"){d.operationcomplete=c.onBatchOperationComplete}return d},save:function(){return this.sync.apply(this,arguments)},load:function(h){if(this.isLoadBlocked()){return}var m=this,o=m.getProxy(),j={internalScope:m,internalCallback:m.onProxyLoad},n,l;if(m.getRemoteFilter()){n=m.getFilters();if(n.getCount()){j.filters=n.getRange()}}if(m.getRemoteSort()){l=m.getSorters();if(l.getCount()){j.sorters=l.getRange()}m.fireEvent("beforesort",m,j.sorters)}Ext.apply(j,h);j.scope=j.scope||m;m.lastOptions=j;j=o.createOperation("read",j);if(m.fireEvent("beforeload",m,j)!==false){m.onBeforeLoad(j);m.loading=true;m.clearLoadTask();j.execute()}return m},reload:function(d){var c=Ext.apply({},d,this.lastOptions);return this.load(c)},onEndUpdate:function(){var b=this;if(b.needsSync&&b.autoSync&&!b.autoSyncSuspended){b.sync()}},afterReject:function(d){var c=this;if(c.contains(d)){c.onUpdate(d,Ext.data.Model.REJECT,null);c.fireEvent("update",c,d,Ext.data.Model.REJECT,null)}},afterCommit:function(e,g){var d=this;if(!g){g=null}if(d.contains(e)){d.onUpdate(e,Ext.data.Model.COMMIT,g);d.fireEvent("update",d,e,Ext.data.Model.COMMIT,g)}},afterErase:function(b){this.onErase(b)},onErase:Ext.emptyFn,onUpdate:Ext.emptyFn,onDestroy:function(){var c=this,d=c.getProxy();c.blockLoad();c.clearData();c.setProxy(null);if(d.autoCreated){d.destroy()}c.setModel(null)},hasPendingLoad:function(){return !!this.loadTask||this.isLoading()},isLoading:function(){return !!this.loading},isLoaded:function(){return this.loadCount>0},suspendAutoSync:function(){++this.autoSyncSuspended},resumeAutoSync:function(c){var d=this;if(d.autoSyncSuspended&&!--d.autoSyncSuspended){if(c){d.sync()}}},removeAll:Ext.emptyFn,clearData:Ext.emptyFn,privates:{attemptLoad:function(b){if(this.isLoadBlocked()){++this.loadsWhileBlocked;return}this.load(b)},blockLoad:function(b){++this.blockLoadCounter},clearLoadTask:function(){var b=this.loadTask;if(b){b.cancel();this.loadTask=null}},isLoadBlocked:function(){return !!this.blockLoadCounter},loadsSynchronously:function(){return this.getProxy().isSynchronous},onBeforeLoad:Ext.privateFn,unblockLoad:function(e){var g=this,d=g.loadsWhileBlocked;--g.blockLoadCounter;if(!g.blockLoadCounter){g.loadsWhileBlocked=0;if(e&&d){g.load()}}}}});Ext.define("E.xforms.overrideProxyStore",{override:"Ext.data.ProxyStore",config:{entityName:null},getSchema:function(){var b=this.getSession();return b?b.getSchema():Ext.data.schema.Schema.get(E.xforms.model.ModelManager.defaultSchema)},applyEntityName:function(e){if(e&&!this.getModel()){var g=Ext.getApp(),d=this.getSchema();d.checkReady(e,function(){this.setModel(d.getEntity(e))},this)}return e}});Ext.define("Ext.data.LocalStore",{extend:Ext.Mixin,mixinConfig:{id:"localstore"},config:{extraKeys:null},applyExtraKeys:function(e){var g,d=this.getData();d.setExtraKeys(e);e=d.getExtraKeys();for(g in e){this[g]=e[g]}},add:function(b){return this.insert(this.getCount(),arguments.length===1?b:arguments)},constructDataCollection:function(){var d=new Ext.util.Collection({rootProperty:"data",extraKeys:{byInternalId:{property:"internalId",rootProperty:""}}}),c;this.byInternalId=d.byInternalId;c=d.getSorters();c.setSorterConfigure(this.addFieldTransform,this);return d},createModel:function(e){var d=this.getSession();if(!e.isModel){var g=this.getModel();e=new g(e,d)}return e},createFiltersCollection:function(){return this.getData().getFilters()},createSortersCollection:function(){return this.getData().getSorters()},onCollectionSort:function(){this.onSorterEndUpdate()},onCollectionFilter:function(){this.onFilterEndUpdate()},notifySorterChange:function(){this.getData().onSorterChange()},forceLocalSort:function(){this.getData().onSortChange()},contains:function(b){return this.indexOf(b)>-1},each:function(m,n){var l=this.data.items,j=l.length,h,o;for(o=0;o<j;++o){h=l[o];if(m.call(n||h,h,o,j)===false){break}}},collect:function(g,h,m){var l=this,j=l.getData();if(m===true&&j.filtered){j=j.getSource()}return j.collect(g,"data",h)},getById:function(c){var d=this.getData();if(d.filtered){d=d.getSource()}return d.get(c)||null},getByInternalId:function(d){var c=this.getData();if(c.filtered){c=c.getSource()}return c.byInternalId.get(d)||null},indexOf:function(b){return this.getData().indexOf(b)},indexOfId:function(b){return this.indexOf(this.getById(b))},insert:function(m,g){var j=this,h,l;if(g){if(!Ext.isIterable(g)){g=[g]}else{g=Ext.Array.clone(g)}h=g.length}if(!h){return[]}for(l=0;l<h;++l){g[l]=j.createModel(g[l])}j.getData().insert(m,g);return g},queryBy:function(d,e){var g=this.getData();return(g.getSource()||g).createFiltered(d,e)},query:function(m,n,l,j,h){var o=this.getData();return(o.getSource()||o).createFiltered(m,n,l,j,h)},first:function(b){return this.getData().first(b)||null},last:function(b){return this.getData().last(b)||null},sum:function(g,e){var d=this.getData();return(e&&this.isGrouped())?d.sumByGroup(g):d.sum(g)},count:function(d){var c=this.getData();return(d&&this.isGrouped())?c.countByGroup():c.count()},min:function(g,e){var d=this.getData();return(e&&this.isGrouped())?d.minByGroup(g):d.min(g)},max:function(g,e){var d=this.getData();return(e&&this.isGrouped())?d.maxByGroup(g):d.max(g)},average:function(g,e){var d=this.getData();return(e&&this.isGrouped())?d.averageByGroup(g):d.average(g)},aggregate:function(q,n,s,p){var r=this,x,u,w,o,v;if(s&&r.isGrouped()){x=r.getGroups().items;u=x.length;w={};for(v=0;v<u;++v){o=x[v];w[o.getGroupKey()]=r.getAggregate(q,n||r,o.items,p)}return w}else{return r.getAggregate(q,n,r.getData().items,p)}},getAggregate:function(n,o,q,m){var j=[],l=q.length,p;for(p=0;p<l;++p){j[p]=q[p].get(m)}return n.call(o||this,q,j)},addObserver:function(d){var c=this.observers;if(!c){this.observers=c=new Ext.util.Collection()}c.add(d)},removeObserver:function(d){var c=this.observers;if(c){c.remove(d)}},callObservers:function(o,r){var n=this.observers,m,s,q,l,p;if(n){s=n.items;if(r){r.unshift(this)}else{r=[this]}for(q=0,m=s.length;q<m;++q){p=s[q];l="onSource"+o;if(p[l]){p[l].apply(p,r)}}}},queryRecordsBy:function(o,p){var m=this.getData(),n=[],l,q,j;m=(m.getSource()||m).items;p=p||this;for(q=0,l=m.length;q<l;++q){j=m[q];if(o.call(p,j)===true){n.push(j)}}return n},queryRecords:function(m,n){var o=this.getData(),p=[],l,q,j;o=(o.getSource()||o).items;for(q=0,l=o.length;q<l;++q){j=o[q];if(j.get(m)===n){p.push(j)}}return p}});Ext.define("Ext.data.proxy.Server",{extend:Ext.data.proxy.Proxy,alias:"proxy.server",alternateClassName:"Ext.data.ServerProxy",isRemote:true,config:{url:"",pageParam:"page",startParam:"start",limitParam:"limit",groupParam:"group",groupDirectionParam:"groupDir",sortParam:"sort",filterParam:"filter",directionParam:"dir",idParam:"id",simpleSortMode:false,simpleGroupMode:false,noCache:true,cacheString:"_dc",timeout:30000,api:{create:undefined,read:undefined,update:undefined,destroy:undefined},extraParams:{}},create:function(){return this.doRequest.apply(this,arguments)},read:function(){return this.doRequest.apply(this,arguments)},update:function(){return this.doRequest.apply(this,arguments)},erase:function(){return this.doRequest.apply(this,arguments)},setExtraParam:function(d,c){this.getExtraParams()[d]=c},buildRequest:function(l){var n=this,j=Ext.apply({},l.getParams()),m=Ext.applyIf(j,n.getExtraParams()||{}),o,p,q;Ext.applyIf(m,n.getParams(l));p=l.getId();q=n.getIdParam();if(p!==undefined&&m[q]===undefined){m[q]=p}o=new Ext.data.Request({params:m,action:l.getAction(),records:l.getRecords(),url:l.getUrl(),operation:l,proxy:n});o.setUrl(n.buildUrl(o));l.setRequest(o);return o},processResponse:function(n,s,o,l){var p=this,r,m,q;p.fireEvent("beginprocessresponse",p,l,s);if(n===true){m=p.getReader();if(l.status===204){q=m.getNullResultSet()}else{q=m.read(p.extractResponseData(l),{recordCreator:s.getRecordCreator()})}s.process(q,o,l);r=!s.wasSuccessful()}else{p.setException(s,l);r=true}if(r){p.fireEvent("exception",p,l,s)}p.afterRequest(o,n);p.fireEvent("endprocessresponse",p,l,s)},setException:function(c,d){c.setException({status:d.status,statusText:d.statusText,response:d})},extractResponseData:Ext.identityFn,applyEncoding:function(b){return Ext.encode(b)},encodeSorters:function(j,m){var h=[],l=j.length,g;for(g=0;g<l;g++){h[g]=j[g].serialize()}return this.applyEncoding(m?h[0]:h)},encodeFilters:function(l){var h=[],m=l.length,g,j;for(g=0;g<m;g++){h[g]=l[g].serialize()}return this.applyEncoding(h)},getParams:function(G){if(!G.isReadOperation){return{}}var z=this,A={},C=G.getGrouper(),U=G.getSorters(),I=G.getFilters(),N=G.getPage(),O=G.getStart(),B=G.getLimit(),K=z.getSimpleSortMode(),R=z.getSimpleGroupMode(),D=z.getPageParam(),Q=z.getStartParam(),T=z.getLimitParam(),S=z.getGroupParam(),J=z.getGroupDirectionParam(),P=z.getSortParam(),F=z.getFilterParam(),H=z.getDirectionParam(),L,M;if(D&&N){A[D]=N}if(Q&&(O||O===0)){A[Q]=O}if(T&&B){A[T]=B}L=S&&C;if(L){if(R){A[S]=C.getProperty();A[J]=C.getDirection()}else{A[S]=z.encodeSorters([C],true)}}if(P&&U&&U.length>0){if(K){M=0;if(U.length>1&&L){M=1}A[P]=U[M].getProperty();A[H]=U[M].getDirection()}else{A[P]=z.encodeSorters(U)}}if(F&&I&&I.length>0){A[F]=z.encodeFilters(I)}return A},buildUrl:function(g){var d=this,e=d.getUrl(g);if(d.getNoCache()){e=Ext.urlAppend(e,Ext.String.format("{0}={1}",d.getCacheString(),Ext.Date.now()))}return e},getUrl:function(c){var d;if(c){d=c.getUrl()||this.getApi()[c.getAction()]}return d?d:this.callParent()},doRequest:function(b){},afterRequest:Ext.emptyFn,onDestroy:function(){Ext.destroy(this.getReader(),this.getWriter())}});Ext.define("Ext.data.proxy.Ajax",{extend:Ext.data.proxy.Server,alias:"proxy.ajax",alternateClassName:["Ext.data.HttpProxy","Ext.data.AjaxProxy"],defaultActionMethods:{create:"POST",read:"GET",update:"POST",destroy:"POST"},config:{binary:false,headers:undefined,paramsAsJson:false,withCredentials:false,useDefaultXhrHeader:true,username:null,password:null,actionMethods:{create:"POST",read:"GET",update:"POST",destroy:"POST"}},doRequest:function(l){var p=this,o=p.getWriter(),q=p.buildRequest(l),m=p.getMethod(q),j,n;if(o&&l.allowWrite()){q=o.write(q)}q.setConfig({binary:p.getBinary(),headers:p.getHeaders(),timeout:p.getTimeout(),scope:p,callback:p.createRequestCallback(q,l),method:m,useDefaultXhrHeader:p.getUseDefaultXhrHeader(),disableCaching:false});if(m.toUpperCase()!=="GET"&&p.getParamsAsJson()){n=q.getParams();if(n){j=q.getJsonData();if(j){j=Ext.Object.merge({},j,n)}else{j=n}q.setJsonData(j);q.setParams(undefined)}}if(p.getWithCredentials()){q.setWithCredentials(true);q.setUsername(p.getUsername());q.setPassword(p.getPassword())}return p.sendRequest(q)},sendRequest:function(b){b.setRawRequest(Ext.Ajax.request(b.getCurrentConfig()));this.lastRequest=b;return b},abort:function(b){b=b||this.lastRequest;if(b){Ext.Ajax.abort(b.getRawRequest())}},getMethod:function(g){var j=this.getActionMethods(),e=g.getAction(),h;if(j){h=j[e]}return h||this.defaultActionMethods[e]},createRequestCallback:function(g,e){var d=this;return function(b,a,c){if(g===d.lastRequest){d.lastRequest=null}d.processResponse(a,e,g,c)}}});Ext.define("Ext.data.writer.Json",{extend:Ext.data.writer.Writer,alternateClassName:"Ext.data.JsonWriter",alias:"writer.json",config:{rootProperty:undefined,encode:false,allowSingle:true,expandData:false},getExpandedData:function(r){var u=r.length,q=0,n,v,p,s,o,j=function(a,c){var b={};b[a]=c;return b};for(;q<u;q++){n=r[q];for(v in n){if(n.hasOwnProperty(v)){p=v.split(".");s=p.length-1;if(s>0){o=n[v];for(;s>0;s--){o=j(p[s],o)}n[p[0]]=n[p[0]]||{};Ext.Object.merge(n[p[0]],o);delete n[v]}}}}return r},writeRecords:function(o,n){var p=this,l=p.getRootProperty(),q,m,j;if(p.getExpandData()){n=p.getExpandedData(n)}if(p.getAllowSingle()&&n.length===1){n=n[0];m=true}j=this.getTransform();if(j){n=j(n,o)}if(p.getEncode()){if(l){o.setParam(l,Ext.encode(n))}else{}}else{if(m||(n&&n.length)){q=o.getJsonData()||{};if(l){q[l]=n}else{q=n}o.setJsonData(q)}}return o}});Ext.define("Ext.util.Group",{extend:Ext.util.Collection,config:{groupKey:null},$endUpdatePriority:2001});Ext.define("Ext.util.GroupCollection",{extend:Ext.util.Collection,isGroupCollection:true,config:{grouper:null,itemRoot:null},observerPriority:-100,onCollectionAdd:function(c,d){this.addItemsToGroups(c,d.items)},onCollectionBeforeItemChange:function(c,d){this.changeDetails=d},onCollectionBeginUpdate:function(){this.beginUpdate()},onCollectionEndUpdate:function(){this.endUpdate()},onCollectionItemChange:function(g,e){var d=e.item;if(!e.indexChanged){this.syncItemGrouping(g,d,g.getKey(d),e.oldKey,e.oldIndex)}this.changeDetails=null},onCollectionRefresh:function(b){this.removeAll();this.addItemsToGroups(b,b.items)},onCollectionRemove:function(z,y){var s=this,p=s.changeDetails,u,r,q,v,x,w,n;if(p){n=p.item;q=s.findGroupForItem(n);u=[];if(q){u.push({group:q,items:[n]})}}else{u=s.groupItems(z,y.items,false)}for(v=0,x=u.length;v<x;++v){q=(r=u[v]).group;if(q){q.remove(r.items);if(!q.length){(w||(w=[])).push(q)}}}if(w){s.remove(w)}},onCollectionSort:function(o){var p=this,m=o.getSorters(),l=p.items,q=p.length,j,n;for(j=0;j<q;++j){n=l[j];if(n.getSorters()!==m){n.setSorters(m)}}},onCollectionUpdateKey:function(h,e){var g=e.index,j=e.item;if(!e.indexChanged){g=h.indexOf(j);this.syncItemGrouping(h,j,e.newKey,e.oldKey,g)}},addItemsToGroups:function(c,d){this.groupItems(c,d,true)},groupItems:function(I,z,G){var y=this,J={},B=[],H=I.getGrouper(),w=y.itemGroupKeys,x,v,K,C,u,F,A,D;for(C=0,A=z.length;C<A;++C){K=H.getGroupString(u=z[C]);F=I.getKey(u);if(G){(w||(y.itemGroupKeys=w={}))[F]=K}else{if(w){delete w[F]}}if(!(x=J[K])){if(!(v=y.getByKey(K))&&G){(D||(D=[])).push(v=y.createGroup(I,K))}B.push(J[K]=x={group:v,items:[]})}x.items.push(u)}for(C=0,A=B.length;C<A;++C){x=B[C];x.group.add(x.items)}if(D){y.add(D)}return B},syncItemGrouping:function(J,u,D,A,I){var w=this,z=w.itemGroupKeys||(w.itemGroupKeys={}),H=J.getGrouper(),K=H.getGroupString(u),C=0,x=-1,y,v,F,B,G;if(A){B=z[A];delete z[A]}else{B=z[D]}z[D]=K;if(!(v=w.get(K))){v=w.createGroup(J,K);y=[v]}if(v.get(D)!==u){if(v.getCount()>0&&J.getSorters().getCount()===0){G=J.indexOf(v.items[0]);if(I<G){x=0}else{x=I-G}}if(x===-1){v.add(u)}else{v.insert(x,u)}}else{v.itemChanged(u)}if(K!==B&&(B===0||B)){F=w.get(B);if(F){F.remove(u);if(!F.length){C=[F]}}}if(y){w.splice(0,C,y)}else{if(C){w.splice(0,C)}}},createGroup:function(d,e){var g=new Ext.util.Group({groupKey:e,rootProperty:this.getItemRoot(),sorters:d.getSorters()});return g},getKey:function(b){return b.getGroupKey()},createSortFn:function(){var g=this,e=g.getGrouper(),d=g.getSorters().getSortFn();if(!e){return d}return function(b,a){return e.sort(b.items[0],a.items[0])||d(b,a)}},updateGrouper:function(d){var c=this;c.grouped=!!d;c.onSorterChange();c.onEndUpdateSorters(c.getSorters())},privates:{findGroupForItem:function(l){var g=this.items,h=g.length,m,j;for(m=0;m<h;++m){j=g[m];if(j.contains(l)){return j}}}}});Ext.define("Ext.data.Store",{extend:Ext.data.ProxyStore,alias:"store.store",mixins:[Ext.data.LocalStore],config:{data:0,clearRemovedOnLoad:true,clearOnPageLoad:true,associatedEntity:null,role:null,session:null},addRecordsOptions:{addRecords:true},loadCount:0,complete:false,moveMapCount:0,constructor:function(e){var d=this,g;if(e){if(e.buffered){return new Ext.data.BufferedStore(e)}}d.callParent(arguments);d.getData().addObserver(this);g=d.inlineData;if(g){delete d.inlineData;d.loadInlineData(g)}},onCollectionBeginUpdate:function(){this.beginUpdate()},onCollectionEndUpdate:function(){this.endUpdate()},applyData:function(g,e){var d=this;d.getFields();d.getModel();if(g&&g.isCollection){e=g}else{if(!e){e=d.constructDataCollection()}if(g){if(d.isInitializing){d.inlineData=g}else{d.loadData(g)}}}return e},loadInlineData:function(h){var j=this,e=j.getProxy(),g;if(e&&e.isMemoryProxy){e.setData(h);g=j.blockLoadCounter;j.blockLoadCounter=0;j.suspendEvents();j.read();j.resumeEvents();j.blockLoadCounter=g}else{j.removeAll(true);j.suspendEvents();j.loadData(h);j.resumeEvents()}},updateRemoteFilter:function(g){var d=this.getData(),e=this.getFilters();if(g){d.setFilters(null)}else{d.setFilters(e)}this.callParent(arguments)},updateRemoteSort:function(d){var e=this.getData(),g=this.getSorters();if(d){e.setSorters(null)}else{e.setSorters(g)}this.callParent(arguments)},onCollectionAdd:function(c,d){this.onCollectionAddItems(c,d.items,d)},onCollectionFilterAdd:function(c,d){this.onCollectionAddItems(c,d)},onCollectionAddItems:function(A,F,G){var w=this,y=F.length,u=G?!G.next:false,z=w.getRemovedRecords(),B=w.ignoreCollectionAdd,x=w.getSession(),r=G&&G.replaced,D,v,C,s;for(D=0;D<y;++D){C=F[D];if(x){x.adopt(C)}if(!B){C.join(w);if(z&&z.length){Ext.Array.remove(z,C)}v=v||C.phantom||C.dirty}}if(B){return}if(r){s=[];do{Ext.Array.push(s,r.items);r=r.next}while(r);w.setMoving(s,true)}if(G){w.fireEvent("add",w,F,G.at);if(u){w.fireEvent("datachanged",w)}}if(r){w.setMoving(s,false)}w.needsSync=w.needsSync||v},onCollectionFilteredItemChange:function(){this.onCollectionItemChange.apply(this,arguments)},onCollectionItemChange:function(l,m){var n=this,j=m.item,o=m.modified||null,h=m.meta;n.onUpdate(j,h,o,m);n.fireEvent("update",n,j,h,o,m)},afterChange:function(e,g,d){this.getData().itemChanged(e,g||null,undefined,d)},afterCommit:function(d,c){this.afterChange(d,c,Ext.data.Model.COMMIT)},afterEdit:function(d,c){this.needsSync=this.needsSync||d.dirty;this.afterChange(d,c,Ext.data.Model.EDIT)},afterReject:function(b){this.afterChange(b,null,Ext.data.Model.REJECT)},afterDrop:function(b){this.getData().remove(b)},addSorted:function(h){var m=this,j=m.getRemoteSort(),l=m.getData(),g;if(j){l.setSorters(m.getSorters())}g=l.findInsertionIndex(h);if(j){l.setSorters(null)}return m.insert(g,h)},remove:function(u,m,o){var n=this,s=n.getData(),p,r,v,q;if(u){if(u.isModel){if(n.indexOf(u)>-1){v=[u];p=1}else{p=0}}else{v=[];for(r=0,p=u.length;r<p;++r){q=u[r];if(q&&q.isEntity){if(!s.contains(q)){continue}}else{if(!(q=s.getAt(q))){continue}}v.push(q)}p=v.length}}if(!p){return[]}n.removeIsMove=m===true;n.removeIsSilent=o;s.remove(v);n.removeIsSilent=false;return v},onCollectionRemove:function(y,C){var s=this,x=s.removed,B=C.items,v=B.length,w=C.at,q=s.removeIsMove,u=s.removeIsSilent,r=!C.next,D=C.replacement,A,z;if(s.ignoreCollectionRemove){return}if(D){s.setMoving(D.items,true)}for(A=0;A<v;++A){z=B[A];z.unjoin(s);if(x&&!q&&!z.phantom&&!z.erasing){z.removedFrom=w+A;x.push(z);s.needsSync=true}}if(!u){s.fireEvent("remove",s,B,w,q);if(r){s.fireEvent("datachanged",s)}}if(D){s.setMoving(D.items,false)}},onFilterEndUpdate:function(){this.callParent(arguments);this.callObservers("Filter")},removeAt:function(e,d){var g=this.getData();e=Math.max(e,0);if(e<g.length){if(arguments.length===1){d=1}else{if(!d){return}}g.removeAt(e,d)}},removeAll:function(g){var m=this,l=m.getData(),j=m.hasListeners.clear,h=l.getRange();if(l.length){m.removeIsSilent=true;m.callObservers("BeforeRemoveAll");l.removeAll();m.removeIsSilent=false;if(!g){m.fireEvent("clear",m,h);m.fireEvent("datachanged",m)}m.callObservers("AfterRemoveAll",[!!g])}return h},setRecords:function(d){var c=this.getCount();++this.loadCount;if(c){this.getData().splice(0,c,d)}else{this.add(d)}},splice:function(e,g,d){return this.getData().splice(e,g,d)},load:function(e){var j=this,g=j.getPageSize(),h;if(typeof e==="function"){e={callback:e}}else{e=Ext.apply({},e)}if(j.getRemoteSort()&&!e.grouper&&j.getGrouper()){e.grouper=j.getGrouper()}if(g||"start" in e||"limit" in e||"page" in e){e.page=e.page!=null?e.page:j.currentPage;e.start=(e.start!==undefined)?e.start:(e.page-1)*g;e.limit=e.limit!=null?e.limit:g}e.addRecords=e.addRecords||false;if(!e.recordCreator){h=j.getSession();if(h){e.recordCreator=h.recordCreator}}return j.callParent([e])},onProxyLoad:function(g){var l=this,m=g.getResultSet(),h=g.getRecords(),j=g.wasSuccessful();if(l.isDestroyed){return}if(m){l.totalCount=m.getTotal()}if(j){h=l.processAssociation(h);l.loadRecords(h,g.getAddRecords()?{addRecords:true}:undefined)}else{l.loading=false}if(l.hasListeners.load){l.fireEvent("load",l,h,j,g)}l.callObservers("AfterLoad",[h,j,g])},getUnfiltered:function(){var b=this.getData();return b.getSource()||b},getNewRecords:function(){return this.getUnfiltered().createFiltered(this.filterNew).getRange()},getUpdatedRecords:function(){return this.getUnfiltered().createFiltered(this.filterUpdated).getRange()},loadData:function(l,j){var m=this,n=l.length,o=[],h;for(h=0;h<n;h++){o.push(m.createModel(l[h]))}o=m.processAssociation(o);m.loadRecords(o,j?m.addRecordsOptions:undefined)},loadRawData:function(o,j){var p=this,n=p.getSession(),l=p.getProxy().getReader().read(o,n?{recordCreator:n.recordCreator}:undefined),q=l.getRecords(),m=l.getSuccess();if(m){p.totalCount=l.getTotal();p.loadRecords(q,j?p.addRecordsOptions:undefined)}return m},loadRecords:function(m,s){var o=this,p=m.length,n=o.getData(),q,r,l;if(s){q=s.addRecords}if(!o.getRemoteSort()&&!o.getSortOnLoad()){l=true;n.setAutoSort(false)}if(!q){o.clearData(true)}o.loading=false;o.ignoreCollectionAdd=true;o.callObservers("BeforePopulate");n.add(m);o.ignoreCollectionAdd=false;if(l){n.setAutoSort(true)}for(r=0;r<p;r++){m[r].join(o)}++o.loadCount;o.complete=true;o.fireEvent("datachanged",o);o.fireEvent("refresh",o);o.callObservers("AfterPopulate")},loadPage:function(h,g){var j=this,e=j.getPageSize();j.currentPage=h;g=Ext.apply({page:h,start:(h-1)*e,limit:e,addRecords:!j.getClearOnPageLoad()},g);j.read(g)},nextPage:function(b){this.loadPage(this.currentPage+1,b)},previousPage:function(b){this.loadPage(this.currentPage-1,b)},clearData:function(m,o){var p=this,n=p.removed,j,q,l;o=o||p.getData();if(o){j=o.items;for(q=0,l=j.length;q<l;++q){j[q].unjoin(p)}p.ignoreCollectionRemove=true;p.callObservers("BeforeClear");o.removeAll();p.ignoreCollectionRemove=false;p.callObservers("AfterClear")}if(n&&(m!==true||p.getClearRemovedOnLoad())){n.length=0}},onIdChanged:function(g,d,e){this.getData().updateKey(g,d);this.fireEvent("idchanged",this,g,d,e)},commitChanges:function(){var m=this,l=m.getModifiedRecords(),h=l.length,j=m.removed,g=0;for(;g<h;g++){l[g].commit()}if(j){j.length=0}},filterNewOnly:function(b){return b.phantom===true},filterRejects:function(b){return b.phantom||b.dirty},getRejectRecords:function(){return this.getData().createFiltered(this.filterRejects).getRange()},rejectChanges:function(){var m=this,l=m.getRejectRecords(),h=l.length,g=0,j;for(;g<h;g++){j=l[g];j.reject();if(j.phantom){m.remove(j)}}l=m.removed;if(l){h=l.length;for(g=h-1;g>=0;g--){j=l[g];m.insert(j.removedFrom||0,j);j.reject()}l.length=0}},onDestroy:function(){var e=this,g=e.loadTask,h=e.getData(),j=h.getSource();e.callParent();e.setSession(null);e.observers=null;if(g){g.cancel();e.loadTask=null}e.clearData(false,j||h);h.destroy();if(j){j.destroy()}e.setData(null)},privates:{onBeforeLoad:function(b){this.callObservers("BeforeLoad",[b])},isMoving:function(o,m){var l=this.moveMap,h=0,j,n;if(l){if(o){if(Ext.isArray(o)){for(n=0,j=o.length;n<j;++n){h+=l[o[n].id]?1:0}}else{if(l[o.id]){++h}}}else{h=m?l:this.moveMapCount}}return h},setMoving:function(j,n){var p=this,o=p.moveMap||(p.moveMap={}),l=j.length,q,m;for(q=0;q<l;++q){m=j[q].id;if(n){if(o[m]){++o[m]}else{o[m]=1;++p.moveMapCount}}else{if(--o[m]===0){delete o[m];--p.moveMapCount}}}if(p.moveMapCount===0){p.moveMap=null}},processAssociation:function(e){var g=this,d=g.getAssociatedEntity();if(d){e=g.getRole().processLoad(g,d,e,g.getSession())}return e}}});Ext.define("E.overrides.Store",{override:"Ext.data.Store",config:{queryCaching:true},load:function(c){var d=c&&c.params&&c.params.query||"";if(this.getQueryCaching()&&this.isLoaded()&&(this.lastQuery===d)){return}this.lastQuery=d;return this.callParent([c])}});Ext.define("Ext.data.reader.Array",{extend:Ext.data.reader.Json,alternateClassName:"Ext.data.ArrayReader",alias:"reader.array",config:{totalProperty:undefined,successProperty:undefined},createFieldAccessor:function(h){var e=h.mapping,j=h.hasMapping()?e:h.ordinal,g;h.mapping=j;g=this.callParent(arguments);h.mapping=e;return g},getModelData:function(b){return{}}});Ext.define("Ext.data.ArrayStore",{extend:Ext.data.Store,alias:"store.array",alternateClassName:["Ext.data.SimpleStore"],config:{proxy:{type:"memory",reader:"array"}},loadData:function(j,h){if(this.expandData){var l=[],g=0,m=j.length;for(;g<m;g++){l[l.length]=[j[g]]}j=l}this.callParent([j,h])}});Ext.define("Ext.data.StoreManager",{extend:Ext.util.MixedCollection,alternateClassName:["Ext.StoreMgr","Ext.data.StoreMgr","Ext.StoreManager"],singleton:true,register:function(){for(var d=0,c;(c=arguments[d]);d++){this.add(c)}},unregister:function(){for(var d=0,c;(c=arguments[d]);d++){this.remove(this.lookup(c))}},lookup:function(o){if(Ext.isArray(o)){var h=["field1"],m=!Ext.isArray(o[0]),l=o,n,j;if(m){l=[];for(n=0,j=o.length;n<j;++n){l.push([o[n]])}}else{for(n=2,j=o[0].length;n<=j;++n){h.push("field"+n)}}return new Ext.data.ArrayStore({data:l,fields:h,autoDestroy:true,autoCreated:true,expanded:m})}if(Ext.isString(o)){return this.get(o)}else{return Ext.Factory.store(o)}},getKey:function(b){return b.storeId}},function(){Ext.regStore=function(e,g){var a;if(Ext.isObject(e)){g=e}else{if(Ext.data.StoreManager.containsKey(e)){return Ext.data.StoreManager.lookup(e)}g.storeId=e}if(g instanceof Ext.data.Store){a=g}else{a=new Ext.data.Store(g)}Ext.data.StoreManager.register(a);return a};Ext.getStore=function(a){return Ext.data.StoreManager.lookup(a)};var b=Ext.regStore("ext-empty-store",{proxy:"memory",useModelWarning:false});b.isEmptyStore=true});Ext.define("E.xforms.overrideStoreMgr",{override:"Ext.data.StoreManager",lookupBaseId:"lookupStore",loadLookup:function(j,h,e){var g=this.get(this.lookupBaseId);value=Ext.Array.unique(h.value);if(value.length>0){g.loadMissing({params:{value:value,type:j},scope:e,callback:e[h.attributes.callback],attributes:h.attributes})}}});Ext.define("Ext.util.StoreHolder",{mixinId:"storeholder",bindStore:function(g,m,h){h=h||"store";var l=this,j=m?null:l[h];if(g!==j){if(j){l.onUnbindStore(j,m,h);if(l.isComponent&&h==="store"&&j.autoDestroy){j.destroy()}else{l.unbindStoreListeners(j)}}if(g){l[h]=g=Ext.data.StoreManager.lookup(g);l.bindStoreListeners(g);l.onBindStore(g,m,h,j)}else{l[h]=null}}return l},getStore:function(){return this.store},setStore:function(b){this.bindStore(b)},unbindStoreListeners:function(d){var c=this.storeListeners;if(c){d.un(c)}},bindStoreListeners:function(d){var c=this.getStoreListeners(d);if(c){c=Ext.apply({},c);if(!c.scope){c.scope=this}this.storeListeners=c;d.on(c)}},getStoreListeners:Ext.emptyFn,onUnbindStore:Ext.emptyFn,onBindStore:Ext.emptyFn});Ext.define("E.overrides.StoreHolder",{override:"Ext.util.StoreHolder",bindStore:function(j,h,e){this.callParent(arguments);j=this[e];var g;if(j&&(g=j.getModel())){this.entityName=g.entityName}return this}},function(){var b={bindStore:this.prototype.bindStore};Ext.forEach(["Ext.grid.filters.Filters","Ext.grid.locking.View","Ext.selection.Model","Ext.toolbar.Paging","Ext.ux.form.MultiSelect"],function(a){if(a=Ext.ClassManager.get(a)){a.addMembers(b)}})});Ext.define("Ext.LoadMask",{extend:Ext.Component,alias:"widget.loadmask",mixins:[Ext.util.StoreHolder],isLoadMask:true,msg:"Loading...",msgCls:Ext.baseCSSPrefix+"mask-loading",msgWrapCls:Ext.baseCSSPrefix+"mask-msg",useMsg:true,useTargetEl:false,cls:Ext.baseCSSPrefix+"mask",componentCls:Ext.baseCSSPrefix+"border-box",ariaRole:"status",focusable:true,tabIndex:0,autoEl:{tag:"div",role:"status"},childEls:["msgWrapEl","msgEl","msgTextEl"],renderTpl:['<div id="{id}-msgWrapEl" data-ref="msgWrapEl" class="{[values.$comp.msgWrapCls]}">','<div id="{id}-msgEl" data-ref="msgEl" class="{[values.$comp.msgCls]} ',Ext.baseCSSPrefix,'mask-msg-inner {childElCls}">','<div id="{id}-msgTextEl" data-ref="msgTextEl" class="',Ext.baseCSSPrefix,"mask-msg-text",'{childElCls}">{msg}</div>',"</div>","</div>"],constructor:function(d){var g=this,e;if(arguments.length===2){e=g.target=d;d=arguments[1]}else{e=d.target}g.callParent([d]);if(e.isComponent){g.ownerCt=e;g.hidden=true;g.renderTo=g.getMaskTarget();g.external=g.renderTo===Ext.getBody();g.bindComponent(e)}else{e=Ext.get(e);g.isElement=true;g.renderTo=g.target}g.render(g.renderTo);if(g.store){g.bindStore(g.store,true)}},initRenderData:function(){var b=this.callParent(arguments);b.msg=this.msg||"";return b},onRender:function(){this.callParent(arguments);this.maskEl=this.el},bindComponent:function(e){var g=this,d={scope:this,resize:g.sizeMask};if(g.external){d.added=g.onComponentAdded;d.removed=g.onComponentRemoved;if(e.floating){d.move=g.sizeMask;g.activeOwner=e}else{if(e.ownerCt){g.onComponentAdded(e.ownerCt)}}}g.mon(e,d);if(g.external){g.mon(Ext.GlobalEvents,{show:g.onContainerShow,hide:g.onContainerHide,expand:g.onContainerExpand,collapse:g.onContainerCollapse,scope:g})}},onComponentAdded:function(d){var c=this;delete c.activeOwner;c.floatParent=d;if(!d.floating){d=d.up("[floating]")}if(d){c.activeOwner=d;c.mon(d,"move",c.sizeMask,c);c.mon(d,"tofront",c.onOwnerToFront,c)}else{c.preventBringToFront=true}d=c.floatParent.ownerCt;if(c.rendered&&c.isVisible()&&d){c.floatOwner=d;c.mon(d,"afterlayout",c.sizeMask,c,{single:true})}},onComponentRemoved:function(g){var j=this,h=j.activeOwner,e=j.floatOwner;if(h){j.mun(h,"move",j.sizeMask,j);j.mun(h,"tofront",j.onOwnerToFront,j)}if(e){j.mun(e,"afterlayout",j.sizeMask,j)}delete j.activeOwner;delete j.floatOwner},afterRender:function(){var b=this;b.callParent(arguments);if(Ext.isIE){b.el.on("mousedown",b.onMouseDown,b)}this.el.skipGarbageCollection=true},onMouseDown:function(c){var d=this.el;if(c.within(d)){c.preventDefault();d.focus()}},onOwnerToFront:function(d,c){this.el.setStyle("zIndex",c+1)},onContainerShow:function(b){if(!this.isHierarchicallyHidden()){this.onComponentShow()}},onContainerHide:function(b){if(this.isHierarchicallyHidden()){this.onComponentHide()}},onContainerExpand:function(b){if(!this.isHierarchicallyHidden()){this.onComponentShow()}},onContainerCollapse:function(b){if(this.isHierarchicallyHidden()){this.onComponentHide()}},onComponentHide:function(){var b=this;if(b.rendered&&b.isVisible()){b.hide();b.showNext=true}},onComponentShow:function(){if(this.showNext){this.show()}delete this.showNext},sizeMask:function(){var d=this,g=d.activeOwner||d.target,e=d.external?d.getOwner().el:d.getMaskTarget();if(d.rendered&&d.isVisible()){if(d.external){if(!d.isElement&&g.floating){d.onOwnerToFront(g,g.el.getZIndex())}d.el.setSize(e.getSize()).alignTo(e,"tl-tl")}d.msgWrapEl.center(d.el)}},bindStore:function(e,d){var g=this;g.mixins.storeholder.bindStore.apply(g,arguments);e=g.store;if(e&&e.isLoading()){g.onBeforeLoad()}},getStoreListeners:function(e){var h=this.onLoad,j=this.onBeforeLoad,g={cachemiss:j,cachefilled:h};if(!e.loadsSynchronously()){g.beforeload=j;g.load=h}return g},onDisable:function(){this.callParent(arguments);if(this.loading){this.onLoad()}},getOwner:function(){return this.ownerCt||this.ownerCmp||this.floatParent},getMaskTarget:function(){var b=this.getOwner();if(this.isElement){return this.target}return this.useTargetEl?b.getTargetEl():(b.getMaskTarget()||Ext.getBody())},onBeforeLoad:function(){var g=this,e=g.getOwner(),d;if(!g.disabled){g.loading=true;if(e.componentLayoutCounter){g.maybeShow()}else{d=e.afterComponentLayout;e.afterComponentLayout=function(){e.afterComponentLayout=d;d.apply(e,arguments);g.maybeShow()}}}},maybeShow:function(){var c=this,d=c.getOwner();if(!d.isVisible(true)){c.showNext=true}else{if(c.loading&&d.rendered){c.show()}}},hide:function(){var c=this,d=c.ownerCt;if(c.isElement){d.unmask();c.fireEvent("hide",this);return}c.restoreFocus();d.enableTabbing();d.setMasked(false);delete c.showNext;return c.callParent(arguments)},show:function(){var b=this;if(b.isElement){b.ownerCt.mask(this.useMsg?this.msg:"",this.msgCls);b.fireEvent("show",this);return}return b.callParent(arguments)},afterShow:function(){var g=this,d=g.ownerCt,e=g.el;g.loading=true;g.callParent(arguments);if(g.hasOwnProperty("msgWrapCls")){e.dom.className=g.msgWrapCls}if(g.useMsg){g.msgTextEl.setHtml(g.msg)}else{g.msgEl.hide()}if(g.shim||Ext.useShims){e.enableShim(null,true)}else{e.disableShim()}d.disableTabbing();d.setMasked(true);e.restoreTabbableState();g.saveFocus();g.sizeMask()},onLoad:function(){this.loading=false;this.hide()},beforeDestroy:function(){this.ownerCt=null;this.bindStore(null);this.callParent()},onDestroy:function(){var b=this;if(b.isElement){b.ownerCt.unmask()}b.callParent()},privates:{getFocusEl:function(){return this.el},saveFocus:function(){var g=this,d=g.ownerCt.el,e=Ext.Element.getActiveElement();if(d.contains(e)){g.previouslyFocused=e;g.el.focus()}},restoreFocus:function(){var h=this,e=h.ownerCt,j=h.previouslyFocused,g;if(h.el.dom===document.activeElement){if(j){if(Ext.fly(j).isFocusable()){g=j}}else{if(e.getDefaultFocus){g=e.getDefaultFocus()}else{if(e.canFocus()){g=e.getFocusEl()}}}if(g){g.focus()}}delete h.previouslyFocused}}});Ext.define("Ext.selection.Model",{extend:Ext.mixin.Observable,alternateClassName:"Ext.AbstractSelectionModel",mixins:[Ext.util.StoreHolder,Ext.mixin.Factoryable],alias:"selection.abstract",factoryConfig:{defaultType:"dataviewmodel"},$configPrefixed:false,$configStrict:false,config:{store:null,selected:{}},isSelectionModel:true,allowDeselect:undefined,toggleOnClick:true,selected:null,pruneRemoved:true,suspendChange:0,ignoreRightMouseSelection:false,constructor:function(d){var c=this;c.modes={SINGLE:true,SIMPLE:true,MULTI:true};c.callParent([d]);c.setSelectionMode(c.mode);if(c.selectionMode!=="SINGLE"){c.allowDeselect=true}},updateStore:function(d,c){this.bindStore(d,!c)},applySelected:function(b){if(!b.isCollection){b=new Ext.util.Collection(Ext.apply({rootProperty:"data"},b))}return b},onBindStore:function(d,c){this.mixins.storeholder.onBindStore.call(this,[d,c]);if(d){this.refresh()}},getStoreListeners:function(){var b=this;return{add:b.onStoreAdd,clear:b.onStoreClear,remove:b.onStoreRemove,update:b.onStoreUpdate,idchanged:b.onIdChanged,load:b.onStoreLoad,refresh:b.onStoreRefresh,pageadd:b.onPageAdd,pageremove:b.onPageRemove}},suspendChanges:function(){++this.suspendChange},resumeChanges:function(){if(this.suspendChange){--this.suspendChange}},selectAll:function(g){var j=this,e=j.store.getRange(),h=j.getSelection().length;j.suspendChanges();j.doSelect(e,true,g);j.resumeChanges();if(!g){j.maybeFireSelectionChange(j.getSelection().length!==h)}},deselectAll:function(l){var p=this,u=p.getSelection(),o={},n=p.store,v=u.length,q,s,r;for(q=0,s=u.length;q<s;q++){r=u[q];o[r.id]=n.indexOf(r)}u=Ext.Array.sort(u,function(c,a){var b=o[c.id],d=o[a.id];return b<d?-1:1});p.suspendChanges();p.doDeselect(u,l);p.resumeChanges();if(!l){p.maybeFireSelectionChange(p.getSelection().length!==v)}},getSelectionStart:function(){return this.selectionStart},setSelectionStart:function(b){this.selectionStart=b},selectWithEvent:function(e,j){var l=this,m=l.isSelected(e),h=j.shiftKey;switch(l.selectionMode){case"MULTI":l.selectWithEventMulti(e,j,m);break;case"SIMPLE":l.selectWithEventSimple(e,j,m);break;case"SINGLE":l.selectWithEventSingle(e,j,m);break}if(!h){if(l.isSelected(e)){l.selectionStart=e}else{l.selectionStart=null}}},vetoSelection:function(b){if(b.type!=="keydown"&&b.button!==0){if(this.ignoreRightMouseSelection||this.isSelected(b.record)){return true}}else{return b.type==="mousedown"}},onNavigate:function(y){if(!y.record||this.vetoSelection(y.keyEvent)){return}this.onBeforeNavigate(y);var w=this,x=y.keyEvent,C=x.ctrlKey||y.ctrlKey,A=y.recordIndex,z=y.record,r=y.previousRecord,B=w.isSelected(z),u=(w.selectionStart&&w.isSelected(y.previousRecord))?w.selectionStart:(w.selectionStart=y.previousRecord),D=y.previousRecordIndex,s=x.getCharCode(),e=s===x.SPACE,v=s===x.UP||s===x.PAGE_UP?"up":(s===x.DOWN||s===x.DOWN?"down":null);switch(w.selectionMode){case"MULTI":if(s===x.A&&C){w.selected.beginUpdate();w.selectRange(0,w.store.getCount()-1);w.selected.endUpdate()}else{if(e){if(x.shiftKey){w.selectRange(u,z,C)}else{if(B){if(w.allowDeselect){w.doDeselect(z)}}else{w.doSelect(z,C)}}}else{if(x.shiftKey&&u){if(v==="up"&&D<=A){w.deselectRange(r,A+1)}else{if(v==="down"&&D>=A){w.deselectRange(r,A-1)}else{if(u!==z){w.selectRange(u,z,C)}}}w.lastSelected=z}else{if(s){if(!C){w.doSelect(z,false)}}else{w.selectWithEvent(z,x)}}}}break;case"SIMPLE":if(s===x.A&&C){w.selected.beginUpdate();w.selectRange(0,w.store.getCount()-1);w.selected.endUpdate()}else{if(B){w.doDeselect(z)}else{w.doSelect(z,true)}}break;case"SINGLE":if(e){if(B){if(w.allowDeselect){w.doDeselect(z)}}else{w.doSelect(z)}}else{if(C){break}else{if(w.allowDeselect&&B){w.doDeselect(z)}else{w.doSelect(z,false)}}}break}if(!x.shiftKey){if(w.isSelected(z)){w.selectionStart=z}}},selectRange:function(s,A,r){var w=this,u=w.store,B=w.selected.items,q,y,x,z,D,v,C;if(w.isLocked()){return}q=w.normalizeRowRange(s,A);s=q[0];A=q[1];z=[];for(y=s;y<=A;y++){if(!w.isSelected(u.getAt(y))){z.push(u.getAt(y))}}if(!r){D=[];w.suspendChanges();for(y=0,x=B.length;y<x;++y){C=B[y];v=u.indexOf(C);if(v<s||v>A){D.push(C)}}for(y=0,x=D.length;y<x;++y){w.doDeselect(D[y])}w.resumeChanges()}if(z.length){w.doMultiSelect(z,true)}else{if(D){w.maybeFireSelectionChange(D.length>0)}}},deselectRange:function(q,r){var n=this,s=n.store,m,o,p,l;if(n.isLocked()){return}m=n.normalizeRowRange(q,r);q=m[0];r=m[1];p=[];for(o=q;o<=r;o++){l=s.getAt(o);if(n.isSelected(l)){p.push(l)}}if(p.length){n.doDeselect(p)}},normalizeRowRange:function(j,e){var g=this.store,h;if(!Ext.isNumber(j)){j=g.indexOf(j)}j=Math.max(0,j);if(!Ext.isNumber(e)){e=g.indexOf(e)}e=Math.min(e,g.getCount()-1);if(j>e){h=e;e=j;j=h}return[j,e]},select:function(d,g,e){if(Ext.isDefined(d)&&!(Ext.isArray(d)&&!d.length)){this.doSelect(d,g,e)}},deselect:function(c,d){this.doDeselect(c,d)},doSelect:function(m,j,g){var l=this,h;if(l.locked){return}if(typeof m==="number"){h=l.store.getAt(m);if(!h){return}m=[h]}if(l.selectionMode==="SINGLE"&&m){h=m.length?m[0]:m;l.doSingleSelect(h,g)}else{l.doMultiSelect(m,j,g)}},doMultiSelect:function(z,p,q){var s=this,y=s.selected,r=false,o,w,u,v,x;if(s.locked){return}z=!Ext.isArray(z)?[z]:z;u=z.length;if(!p&&y.getCount()>0){o=s.deselectDuringSelect(z,q);if(o[0]){s.maybeFireSelectionChange(o[1]>0&&!q);return}else{r=o[1]>0}}x=function(){if(!y.getCount()){s.selectionStart=v}y.add(v);r=true};for(w=0;w<u;w++){v=z[w];if(s.isSelected(v)){continue}s.onSelectChange(v,true,q,x)}s.lastSelected=v;s.maybeFireSelectionChange(r&&!q)},deselectDuringSelect:function(r,n){var o=this,v=o.selected.getRange(),p=v.length,s=0,q=false,m,u;o.suspendChanges();o.deselectingDuringSelect=true;for(u=0;u<p;++u){m=v[u];if(!Ext.Array.contains(r,m)){if(o.doDeselect(m,n)){++s}else{q=true}}}o.deselectingDuringSelect=false;o.resumeChanges();return[q,s]},doDeselect:function(x,o){var p=this,w=p.selected,u=0,q,s,n=0,r=0,v;if(p.locked||!p.store){return false}if(typeof x==="number"){s=p.store.getAt(x);if(!s){return false}x=[s]}else{if(!Ext.isArray(x)){x=[x]}}v=function(){++r;w.remove(s);if(s===p.selectionStart){p.selectionStart=null}};q=x.length;p.suspendChanges();for(;u<q;u++){s=x[u];if(p.isSelected(s)){if(p.lastSelected===s){p.lastSelected=w.last()}++n;p.onSelectChange(s,false,o,v)}}p.resumeChanges();p.maybeFireSelectionChange(r>0&&!o);return r===n},doSingleSelect:function(j,h){var n=this,l=false,o=n.selected,m;if(n.locked){return}if(n.isSelected(j)){return}m=function(){if(o.getCount()){n.suspendChanges();var a=n.deselectDuringSelect([j],h);n.resumeChanges();if(a[0]){return false}}n.lastSelected=j;if(!o.getCount()){n.selectionStart=j}o.add(j);l=true};n.onSelectChange(j,true,h,m);if(l){n.maybeFireSelectionChange(!h)}},maybeFireSelectionChange:function(d){var c=this;if(d&&!c.suspendChange){c.fireEvent("selectionchange",c,c.getSelection())}},getLastSelected:function(){return this.lastSelected},getSelection:function(){return this.selected.getRange()},getSelectionMode:function(){return this.selectionMode},setSelectionMode:function(b){b=b?b.toUpperCase():"SINGLE";this.selectionMode=this.modes[b]?b:"SINGLE"},isLocked:function(){return this.locked},setLocked:function(b){this.locked=!!b},isRangeSelected:function(n,o){var l=this,h=l.store,m,j;j=l.normalizeRowRange(n,o);n=j[0];o=j[1];for(m=n;m<=o;m++){if(!l.isSelected(h.getAt(m))){return false}}return true},isSelected:function(b){b=Ext.isNumber(b)?this.store.getAt(b):b;return this.selected.contains(b)},hasSelection:function(){var b=this.getSelected();return !!(b&&b.getCount())},refresh:function(){var u=this,d=u.store,C,y=[],v=[],z=u.getSelection(),x=z.length,r,B=u.getSelected(),s,A=0,w,D;if(!d||!(B.isCollection||B.isRows)||!B.getCount()){return}D=d.getData();if(D.getSource){w=D.getSource();if(w){D=w}}u.refreshing=true;u.suspendChanges();for(;A<x;A++){r=z[A];if(D.indexOf(r)!==-1){y.push(r)}else{if(!u.pruneRemoved){C=D.get(r.getId());if(C){y.push(C)}else{v.push(r)}}}if(u.mode==="SINGLE"&&v.length){break}}if(B.getCount()!==(y.length+v.length)){s=true}u.clearSelections();if(y.length){u.doSelect(y,false,true)}if(v.length){B.add(v);if(!u.lastSelected){u.lastSelected=v[v.length-1]}}u.resumeChanges();u.refreshing=false;u.maybeFireSelectionChange(s)},clearSelections:function(){var b=this.getSelected();if(b){b.clear()}this.lastSelected=null},onStoreAdd:Ext.emptyFn,onStoreClear:function(){if(!this.store.isLoading()&&this.hasSelection()){this.clearSelections();this.maybeFireSelectionChange(true)}},onStoreRemove:function(o,w,s,n){var p=this,x=w,u,r,v,q;if(p.selectionStart&&Ext.Array.contains(w,p.selectionStart)){p.selectionStart=null}if(n||p.locked||!p.pruneRemoved){return}q=o.isMoving(null,true);if(q){x=null;for(u=0,r=w.length;u<r;++u){v=w[u];if(!q[v.id]){(x||(x=[])).push(v)}}}if(x){p.deselect(x)}},onPageRemove:function(d,e,g){this.onStoreRemove(this.store,g)},onPageAdd:function(n,o,m){var j=m.length,l,h;for(l=0;l<j;l++){h=m[l];if(this.selected.get(h.id)){this.selected.replace(h)}}},getCount:function(){return this.selected.getCount()},onUpdate:Ext.emptyFn,destroy:function(){var b=this;b.clearListeners();b.clearSelections();b.bindStore(null);b.selected=Ext.destroy(b.selected);b.callParent()},onStoreUpdate:Ext.emptyFn,onIdChanged:function(g,h,j,e){this.selected.updateKey(h,j)},onStoreRefresh:function(){this.updateSelectedInstances(this.selected)},updateSelectedInstances:function(s){var p=this,n=p.getStore(),o=p.lastSelected,q,v,r,m,u;if(n.isBufferedStore){return}q=s.getRange();v=q.length;if(o){p.lastSelected=n.getById(o.id)}p.refreshing=true;for(r=0;r<v;++r){m=q[r];u=n.getById(m.id);if(u){if(u!==m){s.replace(u)}}else{if(p.pruneRemovedOnRefresh()){s.remove(m)}}}p.refreshing=false},pruneRemovedOnRefresh:function(){return this.pruneRemoved},onStoreLoad:Ext.emptyFn,onSelectChange:function(j,n,o,l){var m=this,h=n?"select":"deselect";if((o||m.fireEvent("before"+h,m,j))!==false&&l()!==false){if(!o){m.fireEvent(h,m,j)}}},onEditorKey:Ext.emptyFn,beforeViewRender:function(b){Ext.Array.include(this.views||(this.views=[]),b)},onHeaderClick:Ext.emptyFn,resolveListenerScope:function(g){var e=this.view,d;if(e){d=e.resolveListenerScope(g)}return d||this.callParent([g])},onVetoUIEvent:Ext.emptyFn,bindComponent:Ext.emptyFn,privates:{onBeforeNavigate:Ext.privateFn,selectWithEventMulti:function(u,r,y){var q=this,x=r.shiftKey,B=r.ctrlKey,z=x?(q.getSelectionStart()):null,w=q.getSelection(),s=w.length,A,v,e;if(x&&z){q.selectRange(z,u,B)}else{if(B&&y){if(q.allowDeselect){q.doDeselect(u,false)}}else{if(B){q.doSelect(u,true,false)}else{if(y&&!x&&!B&&s>1){if(q.allowDeselect){A=[];for(v=0;v<s;++v){e=w[v];if(e!==u){A.push(e)}}q.doDeselect(A)}}else{if(!y){q.doSelect(u,false)}}}}}},selectWithEventSimple:function(e,g,d){if(d){this.doDeselect(e)}else{this.doSelect(e,true)}},selectWithEventSingle:function(e,j,m){var l=this,h=l.allowDeselect;if(h&&!j.ctrlKey){h=l.toggleOnClick}if(h&&m){l.doDeselect(e)}else{l.doSelect(e,false)}}}});Ext.define("Ext.selection.DataViewModel",{extend:Ext.selection.Model,alias:"selection.dataviewmodel",deselectOnContainerClick:true,bindComponent:function(e){var g=this,d;if(g.view!==e){if(g.view){g.navigationModel=null;Ext.destroy(g.viewListeners,g.navigationListeners)}g.view=e;if(e){d=g.getViewListeners();d.scope=g;d.destroyable=true;g.navigationModel=e.getNavigationModel();g.viewListeners=e.on(d);g.navigationListeners=g.navigationModel.on({navigate:g.onNavigate,scope:g,destroyable:true})}}},getViewListeners:function(){var d=this,c={};c[d.view.triggerCtEvent]=d.onContainerClick;return c},onUpdate:function(c){var d=this.view;if(d&&this.isSelected(c)){d.onItemSelect(c)}},onContainerClick:function(){if(this.deselectOnContainerClick){this.deselectAll()}},onSelectChange:function(l,p,q,n){var o=this,m=o.view,r=p?"select":"deselect",s=o.store.indexOf(l);if((q||o.fireEvent("before"+r,o,l,s))!==false&&n()!==false){if(m){if(p){m.onItemSelect(l)}else{m.onItemDeselect(l)}}if(!q){o.fireEvent(r,o,l,s)}}},destroy:function(){this.bindComponent();Ext.destroy(this.keyNav);this.callParent()}});Ext.define("Ext.view.NavigationModel",{mixins:[Ext.util.Observable,Ext.mixin.Factoryable],alias:"view.navigation.default",focusCls:Ext.baseCSSPrefix+"view-item-focused",constructor:function(){this.mixins.observable.constructor.call(this)},bindComponent:function(b){if(this.view!==b){this.view=b;this.bindView(b)}},bindView:function(g){var j=this,h=g.dataSource,e;j.initKeyNav(g);if(j.dataSource!==h){j.dataSource=h;e=j.getStoreListeners();e.destroyable=true;j.dataSourceListeners=g.dataSource.on(e)}e=j.getViewListeners();e.destroyable=true;j.viewListeners=j.viewListeners||[];j.viewListeners.push(g.on(e))},getStoreListeners:function(){var b=this;return{clear:b.onStoreClear,remove:b.onStoreRemove,scope:b}},getViewListeners:function(){var b=this;return{containermousedown:b.onContainerMouseDown,itemmousedown:b.onItemMouseDown,itemclick:b.onItemClick,itemcontextmenu:b.onItemMouseDown,scope:b}},initKeyNav:function(d){var c=this;c.keyNav=new Ext.util.KeyNav({target:d,ignoreInputFields:true,eventName:"itemkeydown",defaultEventAction:"stopEvent",processEvent:function(l,m,a,j,b){return b},up:c.onKeyUp,down:c.onKeyDown,right:c.onKeyRight,left:c.onKeyLeft,pageDown:c.onKeyPageDown,pageUp:c.onKeyPageUp,home:c.onKeyHome,end:c.onKeyEnd,tab:c.onKeyTab,space:c.onKeySpace,enter:c.onKeyEnter,A:{ctrl:true,handler:c.onSelectAllKeyPress},scope:c})},addKeyBindings:function(b){this.keyNav.addBindings(b)},enable:function(){this.keyNav.enable();this.disabled=false},disable:function(){this.keyNav.disable();this.disabled=true},onContainerMouseDown:function(d,c){if(this.view.containsFocus){c.preventDefault()}},onItemMouseDown:function(h,j,l,n,o){var m=o.parentEvent;if(!m||m.type!=="touchstart"){this.setPosition(n)}},onItemClick:function(m,g,j,l,h){if(this.record===g){this.fireNavigateEvent(h)}else{this.setPosition(l,h)}},beforeViewRefresh:function(){this.focusRestorePosition=this.view.dataSource.isBufferedStore?this.recordIndex:this.record},onViewRefresh:function(){if(this.focusRestorePosition!=null){this.setPosition(this.focusRestorePosition);this.focusRestorePosition=null}},onStoreClear:function(){this.setPosition()},onStoreRemove:function(){this.setPosition(this.getRecord(),null,null,true)},setPosition:function(v,q,n,u){var p=this,o=p.view,s=o.getSelectionModel(),x=o.dataSource,r,w;if(v==null||!o.all.getCount()){p.record=p.recordIndex=null}else{if(typeof v==="number"){w=Math.max(Math.min(v,x.getCount()-1),0);r=x.getAt(v)}else{if(v.isEntity){r=x.getById(v.id);w=x.indexOf(r);if(w===-1){r=x.getAt(0);w=0}}else{if(v.tagName){r=o.getRecord(v);w=x.indexOf(r)}else{r=w=null}}}}if(r===p.record){return p.focusPosition(p.recordIndex)}if(p.item){p.item.removeCls(p.focusCls)}p.previousRecordIndex=p.recordIndex;p.previousRecord=p.record;p.previousItem=p.item;p.recordIndex=w;p.record=r;u=u||p.record===p.lastFocused;if(r){p.focusPosition(p.recordIndex)}else{p.item=null}if(!n){s.fireEvent("focuschange",s,p.previousRecord,p.record)}if(!u&&q){p.fireNavigateEvent(q)}},focusPosition:function(d){var c=this;if(d!=null&&d!==-1){if(d.isEntity){d=c.view.dataSource.indexOf(d)}c.item=c.view.all.item(d);if(c.item){c.lastFocused=c.record;c.lastFocusedIndex=c.recordIndex;c.focusItem(c.item)}else{c.record=null}}else{c.item=null}},focusItem:function(b){b.addCls(this.focusCls);b.focus()},getPosition:function(){return this.record?this.recordIndex:null},getRecordIndex:function(){return this.recordIndex},getItem:function(){return this.item},getRecord:function(){return this.record},getLastFocused:function(){if(this.view.dataSource.indexOf(this.lastFocused)===-1){return null}return this.lastFocused},onKeyUp:function(c){var d=this.recordIndex-1;if(d<0){d=this.view.all.getCount()-1}this.setPosition(d,c)},onKeyDown:function(c){var d=this.recordIndex+1;if(d>this.view.all.getCount()-1){d=0}this.setPosition(d,c)},onKeyRight:function(c){var d=this.recordIndex+1;if(d>this.view.all.getCount()-1){d=0}this.setPosition(d,c)},onKeyLeft:function(c){var d=this.recordIndex-1;if(d<0){d=this.view.all.getCount()-1}this.setPosition(d,c)},onKeyPageDown:Ext.emptyFn,onKeyPageUp:Ext.emptyFn,onKeyHome:function(b){this.setPosition(0,b)},onKeyEnd:function(b){this.setPosition(this.view.all.getCount()-1,b)},onKeyTab:function(c){var d=this.view;d.toggleChildrenTabbability(false);return true},onKeySpace:function(b){this.fireNavigateEvent(b)},onKeyEnter:function(b){b.stopEvent();b.view.fireEvent("itemclick",b.view,b.record,b.item,b.recordIndex,b)},onSelectAllKeyPress:function(b){this.fireNavigateEvent(b)},fireNavigateEvent:function(c){var d=this;d.fireEvent("navigate",{navigationModel:d,keyEvent:c,previousRecordIndex:d.previousRecordIndex,previousRecord:d.previousRecord,previousItem:d.previousItem,recordIndex:d.recordIndex,record:d.record,item:d.item})},destroy:function(){var b=this;Ext.destroy(b.dataSourceListeners,b.viewListeners,b.keyNav);b.keyNav=b.dataSourceListeners=b.viewListeners=b.dataSource=null;b.callParent()}});Ext.define("Ext.view.AbstractView",{extend:Ext.Component,mixins:[Ext.util.StoreHolder],inheritableStatics:{getRecord:function(b){return this.getBoundView(b).getRecord(b)},getBoundView:function(b){return Ext.getCmp(b.getAttribute("data-boundView"))}},defaultBindProperty:"store",renderBuffer:document.createElement("div"),statics:{updateDelay:200,queueRecordChange:function(w,u,B,H,G){var x=this,I=x.changeQueue||(x.changeQueue={}),A=B.internalId,y,C,z,F,s,v,D;y=I[A]||(I[A]={operation:H,record:B,data:{},views:[]});C=y.data;Ext.Array.include(y.views,w);if(G&&(z=G.length)){for(F=0;F<z;F++){s=G[F];v=B.data[s];if(C.hasOwnProperty(s)){if(B.isEqual(C[s],v)){delete C[s];D=true}}else{C[s]=v}}if(D&&!Ext.Object.getKeys(C).length){delete I[A]}}else{Ext.apply(C,B.data)}if(!x.flushQueueTask){x.flushQueueTask=Ext.util.TaskManager.newTask({run:Ext.global.requestAnimationFrame?Ext.Function.createAnimationFrame(x.onFlushTick,x):Ext.Function.bind(x.onFlushTick,x),interval:Ext.view.AbstractView.updateDelay,repeat:1})}x.flushQueueTask.start()},onFlushTick:function(){Ext.AnimationQueue.start(this.flushChangeQueue,this)},flushChangeQueue:function(){var q=this,p,m,n,r,o,s,l;if(Ext.isScrolling){q.flushQueueTask.start();return}n=q.changeQueue;this.changeQueue={};for(o in n){r=n[o];p=r.views;m=p.length;for(s=0;s<m;s++){l=p[s];if(!l.isDestroyed){l.handleUpdate(l.dataSource,r.record,r.operation,Ext.Object.getKeys(r.data))}}}Ext.AnimationQueue.stop(q.flushChangeQueue,q)}},config:{selection:null,store:"ext-empty-store",navigationModel:{type:"default"},selectionModel:{type:"dataviewmodel"}},publishes:["selection"],twoWayBindable:["selection"],throttledUpdate:false,deferInitialRefresh:false,itemCls:Ext.baseCSSPrefix+"dataview-item",loadingText:"Loading...",loadMask:true,loadingUseMsg:true,selectedItemCls:Ext.baseCSSPrefix+"item-selected",emptyText:"",deferEmptyText:true,trackOver:false,blockRefresh:false,preserveScrollOnRefresh:false,ariaRole:"listbox",itemAriaRole:"option",last:false,focusable:true,tabIndex:0,triggerEvent:"itemclick",triggerCtEvent:"containerclick",refreshNeeded:true,addCmpEvents:Ext.emptyFn,constructor:function(b){if(b&&b.selModel){b.selectionModel=b.selModel}this.callParent([b])},initComponent:function(){var j=this,g=Ext.isDefined,h=j.itemTpl,e={};if(h){if(Ext.isArray(h)){h=h.join("")}else{if(Ext.isObject(h)){e=Ext.apply(e,h.initialConfig);h=h.html}}if(!j.itemSelector){j.itemSelector="."+j.itemCls}h=Ext.String.format('<tpl for="."><div class="{0}" role="{2}">{1}</div></tpl>',j.itemCls,h,j.itemAriaRole);j.tpl=new Ext.XTemplate(h,e)}j.callParent();j.tpl=j.getTpl("tpl");if(j.overItemCls){j.trackOver=true}j.addCmpEvents();j.store=Ext.data.StoreManager.lookup(j.store||"ext-empty-store");if(!j.dataSource){j.dataSource=j.store}j.getNavigationModel().bindComponent(this);j.bindStore(j.dataSource,true,"dataSource");if(!j.all){j.all=new Ext.CompositeElementLite()}j.scrollState={top:0,left:0};j.savedTabIndexAttribute="data-savedtabindex-"+j.id},getElConfig:function(){var b=this.mixins.renderable.getElConfig.call(this);if(this.focusable){b.tabIndex=0}return b},onRender:function(){var b=this.loadMask;this.callParent(arguments);if(b){this.createMask(b)}},beforeLayout:function(){var b=this;b.callParent(arguments);if(b.refreshNeeded&&!b.pendingRefresh){if(b.refreshCounter){b.refresh()}else{b.doFirstRefresh(b.dataSource)}}},getMaskStore:function(){return this.store},onMaskBeforeShow:function(){var c=this,d=c.loadingHeight;if(d&&d>c.getHeight()){c.hasLoadingHeight=true;c.oldMinHeight=c.minHeight;c.minHeight=d;c.updateLayout()}},onMaskHide:function(){var b=this;if(!b.destroying&&b.hasLoadingHeight){b.minHeight=b.oldMinHeight;b.updateLayout();delete b.hasLoadingHeight}},beforeRender:function(){this.callParent(arguments);this.getSelectionModel().beforeViewRender(this)},afterRender:function(){this.callParent(arguments);if(this.focusable){this.focusEl=this.el}},getRefItems:function(){var c=this.loadMask,d=[];if(c&&c.isComponent){d.push(c)}return d},getSelection:function(){return this.getSelectionModel().getSelection()},updateSelection:function(e){var d=this,g;if(!d.ignoreNextSelection){d.ignoreNextSelection=true;g=d.getSelectionModel();if(e){g.select(e)}else{g.deselectAll()}d.ignoreNextSelection=false}},updateBindSelection:function(g,j){var h=this,e=null;if(!h.ignoreNextSelection){h.ignoreNextSelection=true;if(j.length){e=g.getLastSelected();h.hasHadSelection=true}if(h.hasHadSelection){h.setSelection(e)}h.ignoreNextSelection=false}},applySelectionModel:function(g,j){var e=this,h;if(j){j.un("selectionchange",e.updateBindSelection,e);Ext.destroy(e.selModelRelayer);g=Ext.Factory.selection(g)}else{if(g&&g.isSelectionModel){g.locked=e.disableSelection}else{if(e.simpleSelect){h="SIMPLE"}else{if(e.multiSelect){h="MULTI"}else{h="SINGLE"}}if(typeof g==="string"){g={type:g}}g=Ext.Factory.selection(Ext.apply({allowDeselect:e.allowDeselect||e.multiSelect,mode:h,locked:e.disableSelection},g))}}e.selModelRelayer=e.relayEvents(g,["selectionchange","beforeselect","beforedeselect","select","deselect","focuschange"]);g.on("selectionchange",e.updateBindSelection,e);return g},updateSelectionModel:function(b){this.selModel=b},applyNavigationModel:function(b){return Ext.Factory.viewNavigation(b)},onFocusEnter:function(h){var j=this,e=j.getNavigationModel(),g;if(!j.itemFocused&&j.all.getCount()){g=e.getLastFocused();e.setPosition(g||0,h.event,null,!g);j.itemFocused=e.getPosition()!=null}if(j.itemFocused){this.el.dom.setAttribute("tabindex","-1")}},onFocusLeave:function(c){var d=this;if(d.itemFocused){d.getNavigationModel().setPosition(null,c.event,null,true);d.itemFocused=false;d.el.dom.setAttribute("tabindex",0)}},onRemoved:function(b){this.callParent([b]);this.onFocusLeave({})},refresh:function(){var w=this,r=w.all,G=r.getCount(),z=w.refreshCounter,u,y,B,C,x,A=w.getSelectionModel(),D=w.getNavigationModel(),v=D.getPosition(),s=z&&r.getCount()&&w.preserveScrollOnRefresh&&!w.bufferedRenderer,F;if(!w.rendered||w.isDestroyed||w.preventRefresh){return}if(!w.hasListeners.beforerefresh||w.fireEvent("beforerefresh",w)!==false){w.refreshing=true;D.beforeViewRefresh();u=w.getTargetEl();C=w.getViewRange();B=u.dom;if(s){y=w.getOverflowEl();F=y.getScroll()}if(z){x=true;w.clearViewEl();w.refreshCounter++}else{w.refreshCounter=1}w.tpl.append(u,w.collectData(C,r.startIndex||0));if(C.length<1){if(w.emptyText&&!w.getStore().isLoading()&&(!w.deferEmptyText||x)){w.emptyEl=Ext.core.DomHelper.insertHtml("beforeEnd",u.dom,w.emptyText)}r.clear()}else{w.collectNodes(u.dom);w.updateIndexes(0)}D.onViewRefresh();if(w.refreshSelmodelOnRefresh!==false){A.refresh()}w.refreshNeeded=false;w.refreshSize(r.getCount()!==G);w.fireEvent("refresh",w,C);if(s){y.setScrollLeft(F.left);y.setScrollTop(F.top)}if(!w.viewReady){w.viewReady=true;w.fireEvent("viewready",w)}w.refreshing=false;w.refreshScroll()}},toggleChildrenTabbability:function(g){var e=this.savedTabIndexAttribute,d=this.getTargetEl();if(g){d.restoreChildrenTabbableState(e)}else{d.saveChildrenTabbableState(e)}},collectNodes:function(c){var d=this.all;d.fill(Ext.fly(c).query(this.getItemSelector()),d.startIndex||0);if(this.focusable){d.set({tabindex:"-1"})}},getViewRange:function(){return this.dataSource.getRange()},refreshSize:function(h){var j=this,e=j.getSizeModel(),g=j.getScrollable();if(e.height.shrinkWrap||e.width.shrinkWrap||h){j.updateLayout()}else{if(j.touchScroll&&!j.bufferedRenderer){if(g){g.refresh()}else{j.on({boxready:j.refreshScroll,scope:j,single:true})}}}},onResize:function(){var c=this,d=c.getScrollable();if(d&&!c._hasScrollListener){d.on({scroll:c.onViewScroll,scope:c,onFrame:!!Ext.global.requestAnimationFrame});c._hasScrollListener=true}this.callParent(arguments)},clearViewEl:function(){var d=this,g=d.getTargetEl(),e=d.getNodeContainer()===g;d.clearEmptyEl();d.all.clear(!e);if(e){g.dom.innerHTML=""}},clearEmptyEl:function(){var b=this.emptyEl;if(b){b.parentNode.removeChild(b)}this.emptyEl=null},onViewScroll:function(d,e,g){this.fireEvent("scroll",this,e,g)},saveScrollState:function(){var d=this,c=d.scrollState;if(d.rendered){c.left=d.getScrollX();c.top=d.getScrollY()}},restoreScrollState:function(){var d=this,c=d.scrollState;if(d.rendered){d.setScrollX(c.left);d.setScrollY(c.top)}},prepareData:function(m,n,o){var h,j,l;if(o){h=o.getAssociatedData();for(j in h){if(h.hasOwnProperty(j)){if(!l){m=Ext.Object.chain(m);l=true}m[j]=h[j]}}}return m},collectData:function(o,l){var m=[],n=0,j=o.length,h;for(;n<j;n++){h=o[n];m[n]=this.prepareData(h.data,l+n,h)}return m},bufferRender:function(r,q){var o=this,n=o.renderBuffer,l=document.createDocumentFragment(),s,m,p;o.tpl.overwrite(n,o.collectData(r,q));s=Ext.fly(n).query(o.getItemSelector());for(p=0,m=s.length;p<m;p++){l.appendChild(s[p])}l.childrenArray=s;return l},nodeContainerSelector:null,getNodeContainer:function(){var c=this.getTargetEl(),d=this.nodeContainerSelector;return d?c.down(d,true):c},getNodeContainerSelector:function(){return this.nodeContainerSelector},onUpdate:function(p,j,q,m,o){var n=this,l=o&&o.filtered;if(!l&&n.getNode(j)){if(n.throttledUpdate){n.statics().queueRecordChange(n,p,j,q,m)}else{n.handleUpdate.apply(n,arguments)}}},handleUpdate:function(o,j){var l=this,n,m,h=l.getSelectionModel();if(l.viewReady){n=l.dataSource.indexOf(j);if(n>-1){if(l.getNode(j)){m=l.bufferRender([j],n).childrenArray[0];l.all.replaceElement(n,m,true);l.updateIndexes(n,n);h.onUpdate(j);l.refreshSizePending=true;if(h.isSelected(j)){l.onItemSelect(j)}if(l.hasListeners.itemupdate){l.fireEvent("itemupdate",j,n,m)}return m}}}},onReplace:function(s,r,A,z){var u=this,w,j=u.all,B,q,x,y,v=u.getSelectionModel();if(u.rendered){B=u.bufferRender(z,r,true);q=j.item(r);if(q){j.item(r).insertSibling(B,"before",true)}else{u.appendNodes(B)}j.insert(r,B.childrenArray);r+=z.length;w=r+A.length-1;j.removeRange(r,w,true);if(u.refreshSelmodelOnRefresh!==false){v.refresh()}u.updateIndexes(r);if(u.hasListeners.itemremove){for(x=A.length,y=w;x>=0;--x,--y){u.fireEvent("itemremove",A[x],y,u)}}if(u.hasListeners.itemadd){u.fireEvent("itemadd",z,r,B.childrenArray)}u.refreshSize()}},onAdd:function(n,o,m){var l=this,h,j=l.getSelectionModel();if(l.rendered){if(l.all.getCount()===0){l.refresh();h=l.all.slice()}else{h=l.doAdd(o,m);if(l.refreshSelmodelOnRefresh!==false){j.refresh()}l.updateIndexes(m);l.refreshSizePending=true}if(l.hasListeners.itemadd){l.fireEvent("itemadd",o,m,h)}}},appendNodes:function(b){this.getNodeContainer().appendChild(b)},doAdd:function(s,r){var n=this,l=n.bufferRender(s,r,true),p=n.all,o=p.getCount(),q=p.startIndex||0,m=p.endIndex||o-1;if(o===0||r>m){n.appendNodes(l)}else{if(r<=q){p.item(q).insertSibling(l,"before",true)}else{p.item(r).insertSibling(l,"before",true)}}p.insert(r,l.childrenArray);return l.childrenArray},onRemove:function(y,v,r){var q=this,o=q.all,x=q.hasListeners.itemremove,p,u,s,z,w;if(o.getCount()){if(q.dataSource.getCount()===0){if(x){q.fireEvent("itemremove",v,r,q.getNodes(r,r+v.length-1))}q.preventPrune=true;q.refresh();q.preventPrune=false}else{if(x){z=[]}for(u=v.length-1;u>=0;--u){s=v[u];p=r+u;if(z){w=o.item(p);z[u]=w?w.dom:undefined}if(o.item(p)){q.doRemove(s,p)}}if(x){q.fireEvent("itemremove",v,r,z,q)}q.updateIndexes(r)}q.refreshSizePending=true}},doRemove:function(d,c){this.all.removeElement(c,true)},refreshNode:function(b){if(Ext.isNumber(b)){b=this.store.getAt(b)}this.onUpdate(this.dataSource,b)},updateIndexes:function(m,n){var j=this.all.elements,o,l=this.getViewRange(),p,q=this.id;m=m||0;n=n||((n===0)?0:(j.length-1));for(p=m;p<=n;p++){o=j[p];o.setAttribute("data-recordIndex",p);o.setAttribute("data-recordId",l[p].internalId);o.setAttribute("data-boundView",q)}},bindStore:function(g,m,j){var l=this,h=l.getSelectionModel();h.bindStore(g);h.bindComponent(g?l:null);l.mixins.storeholder.bindStore.apply(l,arguments);if(g&&l.componentLayoutCounter&&!l.preventRefresh){l.doFirstRefresh(g,!m)}},doFirstRefresh:function(e,g){var d=this;if(d.deferInitialRefresh&&!g){Ext.defer(d.doFirstRefresh,1,d,[e,true])}else{if(e&&!e.isLoading()){d.refresh()}}},onUnbindStore:function(d,g,e){if(e==="store"){this.setMaskBind(null);this.getSelectionModel().bindStore(null)}},onBindStore:function(g,e,h){var j=this;j.setMaskBind(g);if(!e&&h==="store"){j.preventRefresh=true;j.store=g;j.bindStore(g,false,"dataSource");j.preventRefresh=false}},setMaskBind:function(c){var d=this.loadMask;if(this.rendered&&d&&c&&!d.bindStore){d=this.createMask()}if(d&&d.bindStore){d.bindStore(c)}},getStoreListeners:function(){var b=this;return{refresh:b.onDataRefresh,replace:b.onReplace,add:b.onAdd,remove:b.onRemove,update:b.onUpdate,clear:b.refresh,beginupdate:b.onBeginUpdate,endupdate:b.onEndUpdate}},onBeginUpdate:function(){Ext.suspendLayouts()},onEndUpdate:function(){Ext.resumeLayouts(true);if(this.refreshSizePending){this.refreshSize(true);this.refreshSizePending=false}},onDataRefresh:function(){this.refreshView()},refreshView:function(){var c=this,d=c.blockRefresh||!c.rendered||c.up("[collapsed],[isCollapsingOrExpanding],[hidden]");if(d){c.refreshNeeded=true}else{if(c.bufferedRenderer&&c.all.getCount()){c.bufferedRenderer.refreshView()}else{c.refresh()}}},findItemByChild:function(b){return Ext.fly(b).findParent(this.getItemSelector(),this.getTargetEl())},findTargetByEvent:function(b){return b.getTarget(this.getItemSelector(),this.getTargetEl())},getSelectedNodes:function(){var e=[],g=this.getSelectionModel().getSelection(),h=g.length,j=0;for(;j<h;j++){e.push(this.getNode(g[j]))}return e},getRecords:function(m){var g=[],l=0,h=m.length,j=this.dataSource.data;for(;l<h;l++){g[g.length]=j.getByKey(m[l].getAttribute("data-recordId"))}return g},getRecord:function(b){return this.dataSource.getByInternalId(Ext.getDom(b).getAttribute("data-recordId"))},isSelected:function(c){var d=this.getRecord(c);return this.getSelectionModel().isSelected(d)},select:function(d,g,e){this.getSelectionModel().select(d,g,e)},deselect:function(c,d){this.getSelectionModel().deselect(c,d)},getNode:function(d){var g=this,e;if(g.rendered&&(d||d===0)){if(Ext.isString(d)){e=document.getElementById(d)}else{if(d.isModel){e=g.getNodeByRecord(d)}else{if(Ext.isNumber(d)){e=g.all.elements[d]}else{if(d.target){d=d.target}e=Ext.fly(d).findParent(g.itemSelector,g.getTargetEl())}}}}return e||null},getNodeByRecord:function(d){var c=this.store.indexOf(d);return this.all.elements[c]||null},getNodes:function(g,e){var d=this.all;if(e!==undefined){e++}return d.slice(g,e)},indexOf:function(b){b=this.getNode(b);if(!b&&b!==0){return -1}if(b.getAttribute("data-recordIndex")){return Number(b.getAttribute("data-recordIndex"))}return this.all.indexOf(b)},onDestroy:function(){var b=this;b.all.clear();b.emptyEl=null;b.callParent();b.bindStore(null);Ext.destroy(b.navigationModel,b.selectionModel)},onItemSelect:function(d){var c=this.getNode(d);if(c){Ext.fly(c).addCls(this.selectedItemCls)}},onItemDeselect:function(d){var c=this.getNode(d);if(c){Ext.fly(c).removeCls(this.selectedItemCls)}},getItemSelector:function(){return this.itemSelector},addItemCls:function(d,e){var g=this.getNode(d);if(g){Ext.fly(g).addCls(e)}},removeItemCls:function(d,e){var g=this.getNode(d);if(g){Ext.fly(g).removeCls(e)}},updateStore:function(b){if(!this.isConfiguring){delete this.store;this.bindStore(b)}},privates:{createMask:function(e){var h=this,j=h.getMaskStore(),g;if(j&&!j.isEmptyStore&&!j.loadsSynchronously()){g={target:h,msg:h.loadingText,useMsg:h.loadingUseMsg,store:j};if(h.loadingCls){g.msgCls=h.loadingCls}if(Ext.isObject(e)){g=Ext.apply(g,e)}h.loadMask=new Ext.LoadMask(g);h.loadMask.on({scope:h,beforeshow:h.onMaskBeforeShow,hide:h.onMaskHide})}return h.loadMask},getFocusEl:function(){return this.el},getOverflowEl:function(){return Ext.Component.prototype.getTargetEl.call(this)},getTargetEl:function(){return this.touchScroll?this.getScrollerEl():this.callParent()}}},function(){Ext.deprecate("extjs","4.0",function(){Ext.view.AbstractView.override({getSelectionCount:function(){if(Ext.global.console){Ext.global.console.warn("DataView: getSelectionCount will be removed, please interact with the Ext.selection.DataViewModel")}return this.selModel.getSelection().length},getSelectedRecords:function(){if(Ext.global.console){Ext.global.console.warn("DataView: getSelectedRecords will be removed, please interact with the Ext.selection.DataViewModel")}return this.selModel.getSelection()},select:function(g,e,h){if(Ext.global.console){Ext.global.console.warn("DataView: select will be removed, please access select through a DataView's SelectionModel, ie: view.getSelectionModel().select()")}var j=this.getSelectionModel();return j.select.apply(j,arguments)},clearSelections:function(){if(Ext.global.console){Ext.global.console.warn("DataView: clearSelections will be removed, please access deselectAll through DataView's SelectionModel, ie: view.getSelectionModel().deselectAll()")}var b=this.getSelectionModel();return b.deselectAll()}})})});Ext.define("Ext.view.View",{extend:Ext.view.AbstractView,alternateClassName:"Ext.DataView",alias:"widget.dataview",inputTagRe:/^textarea$|^input$/i,keyEventRe:/^key/,inheritableStatics:{EventMap:{longpress:"LongPress",mousedown:"MouseDown",mouseup:"MouseUp",click:"Click",dblclick:"DblClick",contextmenu:"ContextMenu",mouseover:"MouseOver",mouseout:"MouseOut",mouseenter:"MouseEnter",mouseleave:"MouseLeave",keydown:"KeyDown",keyup:"KeyUp",keypress:"KeyPress",focus:"Focus"},TouchEventMap:{touchstart:"mousedown",touchend:"mouseup",tap:"click",doubletap:"dblclick"}},afterRender:function(){var b=this;b.callParent();b.mon(b.el,{scope:b,click:b.handleEvent,longpress:b.handleEvent,mousedown:b.handleEvent,mouseup:b.handleEvent,dblclick:b.handleEvent,contextmenu:b.handleEvent,keydown:b.handleEvent,keyup:b.handleEvent,keypress:b.handleEvent,mouseover:b.handleMouseOver,mouseout:b.handleMouseOut})},getTargetSelector:function(){return this.dataRowSelector||this.itemSelector},handleMouseOver:function(h){var j=this,g=j.getTargetSelector(),e=h.getTarget(g);if(!j.isDestroyed){if(e){if(j.mouseOverItem!==e&&j.el.contains(e)){j.mouseOverItem=h.item=e;h.newType="mouseenter";j.handleEvent(h)}}else{j.handleEvent(h)}}},handleMouseOut:function(j){var e=this.getTargetSelector(),m=j.getTarget(e),l=j.getRelatedTarget(e),h;if((m===l)&&!(m===null&&l===null)){return}if(!this.isDestroyed){if(m&&(h=this.self.getBoundView(m))){j.item=m;j.newType="mouseleave";h.handleEvent(j);h.mouseOverItem=null}else{this.handleEvent(j)}}},handleEvent:function(h){var j=this,e=j.keyEventRe.test(h.type),g=j.getNavigationModel();h.view=j;if(e){h.item=g.getItem();h.record=g.getRecord()}if(!h.item){h.item=h.getTarget(j.itemSelector)}if(h.item&&!h.record){h.record=j.getRecord(h.item)}if(j.processUIEvent(h)!==false){j.processSpecialEvent(h)}if(e&&((h.getKey()===h.SPACE&&!Ext.fly(h.target).isInputField())||h.isNavKeyPress(true))){h.preventDefault()}},processItemEvent:Ext.emptyFn,processContainerEvent:Ext.emptyFn,processSpecialEvent:Ext.emptyFn,processUIEvent:function(s){if(!Ext.getBody().isAncestor(s.target)){return}var p=this,o=s.item,e=p.self,x=e.EventMap,r=e.TouchEventMap,u,v=s.record,q=s.type,w=q;if(s.newType){w=s.newType}if(o){w=r[w]||w;u=s.recordIndex=p.indexInStore?p.indexInStore(v):p.indexOf(o);if(!v||p.processItemEvent(v,o,u,s)===false){return false}if((p["onBeforeItem"+x[w]](v,o,u,s)===false)||(p.fireEvent("beforeitem"+w,p,v,o,u,s)===false)||(p["onItem"+x[w]](v,o,u,s)===false)){return false}p.fireEvent("item"+w,p,v,o,u,s)}else{q=r[q]||q;if((p.processContainerEvent(s)===false)||(p["onBeforeContainer"+x[q]](s)===false)||(p.fireEvent("beforecontainer"+q,p,s)===false)||(p["onContainer"+x[q]](s)===false)){return false}p.fireEvent("container"+q,p,s)}return true},onItemMouseEnter:function(g,j,e,h){if(this.trackOver){this.highlightItem(j)}},onItemMouseLeave:function(g,j,e,h){if(this.trackOver){this.clearHighlight()}},onItemMouseDown:Ext.emptyFn,onItemLongPress:Ext.emptyFn,onItemMouseUp:Ext.emptyFn,onItemFocus:Ext.emptyFn,onItemClick:Ext.emptyFn,onItemDblClick:Ext.emptyFn,onItemContextMenu:Ext.emptyFn,onItemKeyDown:Ext.emptyFn,onItemKeyUp:Ext.emptyFn,onItemKeyPress:Ext.emptyFn,onBeforeItemLongPress:Ext.emptyFn,onBeforeItemMouseDown:Ext.emptyFn,onBeforeItemMouseUp:Ext.emptyFn,onBeforeItemFocus:Ext.emptyFn,onBeforeItemMouseEnter:Ext.emptyFn,onBeforeItemMouseLeave:Ext.emptyFn,onBeforeItemClick:Ext.emptyFn,onBeforeItemDblClick:Ext.emptyFn,onBeforeItemContextMenu:Ext.emptyFn,onBeforeItemKeyDown:Ext.emptyFn,onBeforeItemKeyUp:Ext.emptyFn,onBeforeItemKeyPress:Ext.emptyFn,onContainerMouseDown:Ext.emptyFn,onContainerLongPress:Ext.emptyFn,onContainerMouseUp:Ext.emptyFn,onContainerMouseOver:Ext.emptyFn,onContainerMouseOut:Ext.emptyFn,onContainerClick:Ext.emptyFn,onContainerDblClick:Ext.emptyFn,onContainerContextMenu:Ext.emptyFn,onContainerKeyDown:Ext.emptyFn,onContainerKeyUp:Ext.emptyFn,onContainerKeyPress:Ext.emptyFn,onBeforeContainerMouseDown:Ext.emptyFn,onBeforeContainerLongPress:Ext.emptyFn,onBeforeContainerMouseUp:Ext.emptyFn,onBeforeContainerMouseOver:Ext.emptyFn,onBeforeContainerMouseOut:Ext.emptyFn,onBeforeContainerClick:Ext.emptyFn,onBeforeContainerDblClick:Ext.emptyFn,onBeforeContainerContextMenu:Ext.emptyFn,onBeforeContainerKeyDown:Ext.emptyFn,onBeforeContainerKeyUp:Ext.emptyFn,onBeforeContainerKeyPress:Ext.emptyFn,setHighlightedItem:function(j){var e=this,g=e.highlightedItem,h=e.overItemCls;if(g!==j){if(g){Ext.fly(g).removeCls(h);if(Ext.isIE8){e.repaintBorder(g);e.repaintBorder(g.nextSibling)}if(e.hasListeners.unhighlightitem){e.fireEvent("unhighlightitem",e,g)}}e.highlightedItem=j;if(j){Ext.fly(j).addCls(e.overItemCls);if(Ext.isIE8){e.repaintBorder(j.nextSibling)}if(e.hasListeners.highlightitem){e.fireEvent("highlightitem",e,j)}}}},highlightItem:function(b){this.setHighlightedItem(b)},clearHighlight:function(){this.setHighlightedItem(undefined)},handleUpdate:function(h,j){var l=this,m,o,n;if(l.viewReady){m=l.getNode(j);o=l.callParent(arguments);n=l.highlightedItem;if(n&&n===m){delete l.highlightedItem;if(o){l.highlightItem(o)}}}},refresh:function(){this.clearHighlight();this.callParent(arguments)},focusNode:function(n){var p=this,q=p.getNode(n),r=p.el,m=0,l=0,o=r.getRegion(),s;o.bottom=o.top+r.dom.clientHeight;o.right=o.left+r.dom.clientWidth;if(q){s=Ext.fly(q).getRegion();if(s.top<o.top){m=s.top-o.top}else{if(s.bottom>o.bottom){m=s.bottom-o.bottom}}if(s.left<o.left){l=s.left-o.left}else{if(s.right>o.right){l=s.right-o.right}}if(l||m){p.scrollBy(l,m,false)}Ext.fly(q).set({tabIndex:-1});q.focus()}},bindStore:function(o,n,h){var m=this,l=m[h],j=m.getSelectionModel();if(l&&l.isFeatureStore){j.bindStore(l.store);j.bindComponent(m);if(o.isFeatureStore){m.bindStoreListeners(o);l.bindStore(l.store)}else{l.bindStore(o)}}else{m.callParent([o,n,h])}},privates:{repaintBorder:function(c){var d=this.getNode(c);if(d){d.className=d.className}}}});Ext.define("Ext.overrides.view.View",{override:"Ext.view.View",compatibility:"5.1.0",handleEvent:function(h){var j=this,e=j.keyEventRe.test(h.type),g=j.getNavigationModel();h.view=j;if(e){h.item=g.getItem();h.record=g.getRecord()}if(!h.item){h.item=h.getTarget(j.itemSelector)}if(h.item&&!h.record){h.record=j.getRecord(h.item)}if(j.processUIEvent(h)!==false){j.processSpecialEvent(h)}if(e&&!Ext.fly(h.target).isInputField()){if(h.getKey()===h.SPACE||h.isNavKeyPress(true)){h.preventDefault()}}}});Ext.define("Ext.overrides.View",{override:"Ext.view.View",getHelpListener:function(d){var c=this.mixins.Help.getHelpListener.call(this,d);c.refresh={fn:"markDataset",scope:this,args:[d]};return c}});Ext.define("Ext.ux.help.Indicators",{extend:Ext.view.View,height:30,alias:["widget.helpindicators"],selectedItemCls:"active",tpl:['<div class="carousel-indicators-wrapper">','<ol class="carousel-indicators">','<tpl for=".">','<a href="#!uxhelp/{id}" class="" ><li data-target="" data-slide-to="0" > </li></a>',"</tpl>","</ol>","</div>"],itemSelector:".carousel-indicators li"});Ext.define("Ext.util.Scheduler",{mixins:[Ext.mixin.Observable],busyCounter:0,lastBusyCounter:0,destroyed:false,firing:null,notifyIndex:-1,nextId:0,orderedItems:null,passes:0,scheduledCount:0,validIdRe:null,config:{cycleLimit:5,preSort:null,tickDelay:5},constructor:function(b){this.mixins.observable.constructor.call(this,b);this.items=new Ext.util.Collection()},destroy:function(){var d=this,c=d.timer;if(c){window.clearTimeout(c);d.timer=null}d.destroyed=true;d.items.destroy();d.items=d.orderedItems=null;d.destroy=Ext.emptyFn},add:function(g){var d=this,e=d.items;if(e===d.firing){d.items=e=e.clone()}g.id=g.id||++d.nextId;g.scheduler=d;e.add(g);if(!d.sortMap){d.orderedItems=null}},remove:function(g){var d=this,e=d.items;if(d.destroyed){return}if(e===d.firing){d.items=e=e.clone()}if(g.scheduled){d.unscheduleItem(g);g.scheduled=false}e.remove(g);d.orderedItems=null},sort:function(){var n=this,j=n.items,m={},l=n.getPreSort(),h,o;n.orderedItems=[];n.sortMap=m;if(l){j.sortItems(l)}j=j.items;for(h=0;h<j.length;++h){o=j[h];if(!m[o.id]){n.sortItem(o)}}n.sortMap=null},sortItem:function(m){var g=this,l=g.sortMap,h=g.orderedItems,j;if(!m.scheduler){g.add(m)}j=m.id;if(!(j in l)){l[j]=0;if(!m.sort.$nullFn){m.sort()}l[j]=1;m.order=g.orderedItems.length;h.push(m)}return g},sortItems:function(e){var d=this,g=d.sortItem;if(e){if(e instanceof Array){Ext.each(e,g,d)}else{Ext.Object.eachValue(e,g,d)}}return d},applyPreSort:function(n){if(typeof n==="function"){return n}var o=n.split(","),p=[],q=o.length,m,l,c;for(l=0;l<q;++l){p[l]=1;c=o[l];if((m=c.charAt(0))==="-"){p[l]=-1}else{if(m!=="+"){m=0}}if(m){o[l]=c.substring(1)}}return function(j,d){var b=0,a,e,g,h;for(a=0;!b&&a<q;++a){e=o[a];g=j[e];h=d[e];b=p[a]*((g<h)?-1:((h<g)?1:0))}return b}},notify:function(){var p=this,w=p.timer,u=p.getCycleLimit(),v=Ext.GlobalEvents,n,s,o,q,r,x;if(w){window.clearTimeout(w);p.timer=null}while(p.scheduledCount){if(u){--u}else{p.firing=null;break}if(!x){x=true;if(v.hasListeners.beforebindnotify){v.fireEvent("beforebindnotify",p)}}++p.passes;if(!(r=p.orderedItems)){p.sort();r=p.orderedItems}q=r.length;if(q){p.firing=p.items;for(s=0;s<q;++s){o=r[s];if(o.scheduled){o.scheduled=false;--p.scheduledCount;p.notifyIndex=s;o.react();if(!p.scheduledCount){break}}}}}p.firing=null;p.notifyIndex=-1;if((n=p.busyCounter)!==p.lastBusyCounter){if(!(p.lastBusyCounter=n)){p.fireEvent("idle",p)}}},onTick:function(){this.timer=null;this.notify()},scheduleItem:function(c){var d=this;++d.scheduledCount;if(!d.timer&&!d.firing){d.scheduleTick()}},scheduleTick:function(){var b=this;if(!b.destroyed&&!b.timer){b.timer=Ext.Function.defer(b.onTick,b.getTickDelay(),b)}},unscheduleItem:function(b){if(this.scheduledCount){--this.scheduledCount}},adjustBusy:function(e){var d=this,g=d.busyCounter+e;d.busyCounter=g;if(g){if(!d.lastBusyCounter){d.lastBusyCounter=g;d.fireEvent("busy",d)}}else{if(d.lastBusyCounter&&!d.timer){d.scheduleTick()}}},isBusy:function(){return !this.isIdle()},isIdle:function(){return !(this.busyCounter+this.lastBusyCounter)}});Ext.define("Ext.util.Schedulable",{"abstract":true,isSchedulable:true,scheduled:false,constructor:function(){this.getScheduler().add(this)},destroy:function(){var c=this,d=c.getScheduler();if(d){d.remove(c)}c.destroyed=true;c.scheduler=null;c.schedule=c.destroy=c.react=Ext.emptyFn},getFullName:function(){return this.name||this.id},privates:{getScheduler:function(){return this.scheduler},schedule:function(){var c=this,d;if(!c.scheduled){d=c.getScheduler();if(d){c.scheduled=true;if(c.onSchedule){c.onSchedule()}d.scheduleItem(c)}}},unschedule:function(){var c=this,d;if(c.scheduled){d=c.getScheduler();if(d){d.unscheduleItem(c)}c.scheduled=false}},sort:function(){}}});Ext.define("Ext.app.bind.BaseBinding",{extend:Ext.util.Schedulable,calls:0,kind:20,defaultOptions:{},lastValue:undefined,constructor:function(h,j,m,g){var l=this;l.options=g;l.owner=h;l.scope=m;l.callback=j;l.lateBound=Ext.isString(j);if(g&&g.deep){l.deep=true}l.callParent()},destroy:function(){var c=this,d=c.owner;c.callParent();if(d){d.onBindDestroy()}c.scope=c.callback=c.owner=null},privates:{getScheduler:function(){var b=this.owner;return b&&b.getScheduler()},getSession:function(){var b=this.owner;return b.isSession?b:b.getSession()},notify:function(h){var j=this,g=j.options||j.defaultOptions,e=j.lastValue;if(!j.calls||j.deep||e!==h||Ext.isArray(h)){++j.calls;j.lastValue=h;if(j.lateBound){j.scope[j.callback](h,e,j)}else{j.callback.call(j.scope,h,e,j)}if(g.single){j.destroy()}}}}});Ext.define("Ext.app.bind.Binding",{extend:Ext.app.bind.BaseBinding,constructor:function(l,j,g,h){var m=this;m.callParent([l.owner,j,g,h]);m.stub=l;m.depth=l.depth;if(!l.isLoading()&&!l.scheduled){m.schedule()}},destroy:function(g){var e=this,d=e.stub;if(d&&!g){d.unbind(e);e.stub=null}e.callParent()},bindValidation:function(g,e){var d=this.stub;return d&&d.bindValidation(g,e)},bindValidationField:function(g,e){var d=this.stub;return d&&d.bindValidationField(g,e)},getFullName:function(){return this.fullName||(this.fullName="@("+this.stub.getFullName()+")")},getValue:function(){var d=this,g=d.stub,e=g&&g.getValue();if(d.transform){e=d.transform(e)}return e},isLoading:function(){var b=this.stub;return b&&b.isLoading()},isReadOnly:function(){var c=this.stub,d=this.options;if(!(d&&d.twoWay===false)){if(c){return c.isReadOnly()}}return true},refresh:function(){},setValue:function(b){this.stub.set(b)},privates:{getDataObject:function(){var b=this.stub;return b&&b.getDataObject()},getRawValue:function(){var d=this,g=d.stub,e=g&&g.getRawValue();if(d.transform){e=d.transform(e)}return e},isDescendantOf:function(d){var c=this.stub;return c?(d===c)||c.isDescendantOf(d):false},react:function(){this.notify(this.getValue())},schedule:function(){if(!this.stub.scheduled){this.callParent()}},sort:function(){var b=this.stub;b.scheduler.sortItem(b)}}});Ext.define("Ext.app.bind.AbstractStub",{extend:Ext.util.Schedulable,children:null,depth:0,generation:1,kind:10,parent:null,constructor:function(e,d){var g=this;g.owner=e;g.name=d;g.callParent()},destroy:function(){var m=this,n=m.children,l=m.bindings,j,o,h;if(l){for(o=0,j=l.length;o<j;++o){l[o].destroy(true)}}for(h in n){n[h].destroy()}m.callParent();m.bindings=m.children=m.owner=null},add:function(c){var d=this;(d.children||(d.children={}))[c.name]=c;c.depth=d.depth+1;c.parent=d},getChild:function(c){var d=Ext.isString(c)?c.split("."):c;if(d&&d.length){return this.descend(d,0)}return this},getFullName:function(){var h=this,g=h.fullName,j=h.parent,e;if(!g){g=h.name||h.id;if(j&&(e=j.getFullName())){g=((e.charAt(e.length-1)!==":")?e+".":e)+g}h.fullName=g}return g},getSession:function(){var b=this.owner;return b.isSession?b:b.getSession()},bind:function(l,h,j){var o=this,n=new Ext.app.bind.Binding(o,l,h,j),m=(o.bindings||(o.bindings=[]));n.depth=o.depth;m.push(n);return n},getValue:function(){return this.isLoading()?null:this.getRawValue()},graft:function(m){var l=this,j=l.bindings,h=l.name,g;l.parent=l.bindings=null;l.destroy();m.depth=l.depth;m.bindings=j;m.generation=l.generation+1;m.name=h;m.id=l.id;m.path=l.path;if(j){for(g=j.length;g-->0;){j[g].stub=m}}return m},isDescendantOf:function(c){for(var d=this;d=d.parent;){if(d===c){return true}}return false},onSchedule:function(){for(var g,h,l,j,m=this.parent;m;m=m.parent){j=m.bindings;if(j){for(g=0,h=j.length;g<h;++g){l=j[g];if(l.deep&&!l.scheduled){l.schedule()}}}}},react:function(){var h=this.bindings,j,e,g;if(h){for(e=0,g=h.length;e<g;++e){j=h[e];if(!j.scheduled){j.schedule()}}}},unbind:function(d){var c=this.bindings;if(c&&c.length){Ext.Array.remove(c,d)}},privates:{collect:function(){var o=this.children,l=this.bindings,j=0,n=0,m,h;if(o){for(h in o){m=o[h];n=m.collect();if(n===0){m.destroy();delete o[h]}j+=n}}if(l){j+=l.length}return j},getScheduler:function(){var b=this.owner;return b&&b.getScheduler()},sort:function(){var b=this.parent;if(b){this.scheduler.sortItem(b)}}}});Ext.define("Ext.app.bind.Stub",{extend:Ext.app.bind.AbstractStub,isStub:true,dirty:true,formula:null,validationKey:"validation",statics:{trackHadValue:function(q,m,o,p){var s=p&&p.children,n,l,r;r=q!==undefined;if(!m.hadValue[o]){m.hadValue[o]=r}if(p){p.hadValue=r}if(q&&(q.constructor===Object||q.isModel)){if(q.isModel){q=q.data}for(l in q){Ext.app.bind.Stub.trackHadValue(q[l],m,o+"."+l,s&&s[l])}}}},constructor:function(h,g,m){var l=this,j=g;l.callParent([h,g]);l.boundValue=null;if(m){m.add(l);if(!m.isRootStub){j=m.path+"."+g}}l.hadValue=h.hadValue[j];l.path=j},destroy:function(){var j=this,h=j.formula,g=j.parent,e=j.storeBinding;if(h){h.destroy()}if(e){e.destroy()}j.detachBound();j.parentValue=j.formula=j.storeBinding=null;j.callParent()},bindValidation:function(g,d){var e=this.parent;return e&&e.descend([this.validationKey,this.name]).bind(g,d)},bindValidationField:function(l,n){var o=this.parent,h=this.name,m=typeof l==="string",j;if(o){j=o.bind(function(b){var a=null;if(b&&b.isModel){a=b.getField(h)}if(m){n[l](a,null,this)}else{l.call(n,a,null,this)}})}return j||null},descend:function(n,q){var o=this,p=o.children||(o.children={}),m=q||0,j=n[m++],l;if(!(l=p[j])){l=new Ext.app.bind.Stub(o.owner,j,o)}if(m<n.length){l=l.descend(n,m)}return l},getChildValue:function(g){var h=this,j=h.name,e;if(!g&&!Ext.isString(g)){e=h.hadValue?null:undefined}else{e=h.inspectValue(g);if(!e){if(g.isEntity){e=g.data[j]}else{e=g[j]}}}return e},getDataObject:function(){var h=this,g=h.parent.getDataObject(),j=h.name,e=g?g[j]:null;if(!e||!(e.$className||Ext.isObject(e))){if(e){}g[j]=e={};h.hadValue=h.owner.hadValue[h.path]=true;h.invalidate(true,true)}return e},getRawValue:function(){return this.getChildValue(this.getParentValue())},graft:function(m){var l=this,n=l.parent,o=l.children,j=l.name,h;m.parent=n;m.children=o;if(n){n.children[j]=m}if(o){for(h in o){o[h].parent=m}}l.children=null;return l.callParent([m])},isLoading:function(){var p=this,q=p.parent,m=false,j,n,o,l;if(q&&!(m=q.isLoading())){n=p.getParentValue();o=p.inspectValue(n);if(o){m=o.isLoading()}else{if(n&&n.isModel){j=n.associations;if(!(j&&p.name in j)){m=false;l=true}}if(!l){m=!p.hadValue&&p.getRawValue()===undefined}}}return m},invalidate:function(g,h){var j=this,l=j.children,m;j.dirty=true;if(!h&&!j.isLoading()){if(!j.scheduled){j.schedule()}}if(g&&l){for(m in l){l[m].invalidate(g,h)}}},isReadOnly:function(){var b=this.formula;return !!(b&&!b.set)},set:function(n){var o=this,m=o.parent,v=o.name,q=o.formula,p,s,u,r;if(q&&!q.settingValue&&q.set){q.setValue(n);return}else{if(o.isLinkStub){r=o.getLinkFormulaStub();q=r?r.formula:null;if(q){q.setValue(n);return}}}p=m.getDataObject();if(p.isEntity){s=p.associations;if(s&&(v in s)){u=s[v];p[u.setterName](n);o.invalidate(true)}else{p.set(v,n)}}else{if((n&&n.constructor===Object)||n!==p[v]){if(!o.setByLink(n)){if(n===undefined){delete p[v]}else{p[v]=n;Ext.app.bind.Stub.trackHadValue(n,o.owner,o.path,o)}o.inspectValue(p);o.invalidate(true)}}}},onStoreLoad:function(){this.invalidate(true)},afterLoad:function(b){this.invalidate(true)},afterCommit:function(b){this.afterEdit(b,null)},afterEdit:function(o,q){var s=this.children,n=q&&q.length,r=o.associations,m,p,u,v;if(s){if(n){for(p=0;p<n;++p){u=s[q[p]];if(u){u.invalidate()}}}else{for(m in s){if(!(r&&m in r)){s[m].invalidate()}}}}this.invalidate()},afterReject:function(b){this.afterEdit(b,null)},setByLink:function(p){var q=this,m=0,l,j,n,o;for(o=q;o;o=o.parent){if(o.isLinkStub){j=o;if(m){for(n=[],l=0,o=q;o!==j;o=o.parent){++l;n[m-l]=o.name}}break}++m}if(!j||!(o=j.getTargetStub())){return false}if(n){o=o.descend(n)}o.set(p);return true},setFormula:function(g){var e=this,d=e.formula;if(d){d.destroy()}e.formula=new Ext.app.bind.Formula(e,g)},react:function(){var j=this,e=this.boundValue,g=j.children,h;if(e){if(e.isValidation){e.refresh();h=e.generation;if(j.lastValidationGeneration===h){return}j.lastValidationGeneration=h}else{if(e.isModel){if(g&&g[j.validationKey]){e.isValid()}}else{if(e.isStore){if(e.isLoading()&&!e.loadCount){return}}}}}this.callParent()},privates:{collect:function(){var j=this,g=j.callParent(),e=j.storeBinding?1:0,h=j.formula?1:0;return g+e+h},getLinkFormulaStub:function(){var b=this;while(b.isLinkStub){b=b.binding.stub}return b.formula?b:null},getParentValue:function(){var b=this;if(b.dirty){b.parentValue=b.parent.getValue();b.dirty=false}return b.parentValue},setStore:function(b){this.storeBinding=b},inspectValue:function(p){var o=this,x=o.name,r=o.boundValue,v=null,u,w,n,s,q;if(p&&p.isEntity){u=p.associations;if(u&&(x in u)){w=u[x];v=p[w.getterName]();if(v&&v.isStore){v.$associatedStore=true}}else{if(x===o.validationKey){v=p.getValidation();o.lastValidationGeneration=null}}}else{if(p){n=p[x];if(n&&(n.isModel||n.isStore)){v=n}}}s=r!==v;if(s){if(r){o.detachBound()}if(v){if(v.isModel){v.join(o)}else{q=v.associatedEntity;if(q&&!q.phantom&&!v.complete&&!v.hasPendingLoad()){v.load()}v.on("load",o.onStoreLoad,o,{single:true})}}o.boundValue=v}return v},detachBound:function(){var d=this,c=d.boundValue;if(c){if(c.isModel){c.unjoin(d)}else{c.un("load",d.onStoreLoad,d)}}},sort:function(){var j=this,h=j.formula,g=j.scheduler,e=j.storeBinding;j.callParent();if(e){g.sortItem(e)}if(h){g.sortItem(h)}}}});Ext.define("Ext.app.bind.LinkStub",{extend:Ext.app.bind.Stub,isLinkStub:true,binding:null,destroy:function(){var d=this,g=d.binding,e=d.owner;if(g){d.binding=null;g.destroy();if(e){delete e.linkData[d.name]}}d.target=null;d.callParent()},getFullName:function(){var b=this;return b.fullName||(b.fullName="("+b.callParent()+" -> "+b.binding.getFullName()+")")},getDataObject:function(){var b=this.binding;return b&&b.getDataObject()},getRawValue:function(){var b=this.binding;return b&&b.getRawValue()},getValue:function(){var b=this.binding;return b&&b.getValue()},getTargetStub:function(){var b=this.binding;return b&&b.stub},isLoading:function(){var b=this.binding;return b?b.isLoading():false},link:function(h,e){var g=this,j=g.binding;if(j){j.destroy()}e=g.target=e||g.owner;g.linkDescriptor=h;g.binding=e.bind(h,g.onChange,g);g.binding.deep=true},onChange:function(){this.invalidate(true)},react:function(){var c=this,d=c.owner.linkData;d[c.name]=c.getValue();c.callParent()},privates:{collect:function(){var d=this,e=d.callParent(),g=d.binding?1:0;return e+g},sort:function(){var b=this.binding;if(b){this.scheduler.sortItem(b)}}}});Ext.define("Ext.app.bind.RootStub",{extend:Ext.app.bind.AbstractStub,isRootStub:true,depth:0,createRootChild:function(x,s){var o=this,w=o.owner,r=w.getData(),v=o.children,p=v&&v[x],q=p?null:o,n,u;if(s||r.hasOwnProperty(x)||!(n=w.getParent())){u=new Ext.app.bind.Stub(w,x,q)}else{u=new Ext.app.bind.LinkStub(w,x,p?null:q);u.link("{"+x+"}",n)}if(p){p.graft(u)}return u},createStubChild:function(b){return this.createRootChild(b,true)},descend:function(n,q){var o=this,p=o.children,m=q||0,j=n[m++],l=(p&&p[j])||o.createRootChild(j);if(m<n.length){l=l.descend(n,m)}return l},getFullName:function(){return this.fullName||(this.fullName=this.owner.id+":")},getDataObject:function(){return this.owner.data},getRawValue:function(){return this.owner.data},getValue:function(){return this.owner.data},isDescendantOf:function(){return false},isLoading:function(){return false},set:function(q){var r=this,w=r.children||(r.children={}),x=r.owner,u=x.data,n=x.getParent(),s,v,o,p;for(p in q){if((o=q[p])!==undefined){if(!(v=w[p])){v=new Ext.app.bind.Stub(x,p,r)}else{if(v.isLinkStub){if(!v.getLinkFormulaStub()){s=v;v=new Ext.app.bind.Stub(x,p);s.graft(v)}}}v.set(o)}else{if(u.hasOwnProperty(p)){delete u[p];v=w[p];if(v&&!v.isLinkStub&&n){v=r.createRootChild(p)}v.invalidate(true)}}}},schedule:Ext.emptyFn,unschedule:Ext.emptyFn});Ext.define("Ext.app.bind.Multi",{extend:Ext.app.bind.BaseBinding,isMultiBinding:true,missing:1,deep:true,constructor:function(o,l,m,q,j){var p=this,n=j&&j.trackStatics;p.callParent([l,m,q,j]);p.bindings=[];p.literal=o.$literal;if(o.constructor===Object){if(n){p.staticKeys=[]}p.addObject(o,p.lastValue={},p.staticKeys)}else{p.addArray(o,p.lastValue=[])}if(!--p.missing&&!p.scheduled){p.schedule()}},destroy:function(){var b=this;b.bindings=Ext.destroy(b.bindings);b.callParent()},add:function(u,p,m){var n=this,r=n.owner,s=n.bindings,v=n.literal?(u.reference?"bindEntity":"bindExpression"):"bind",o,q;++n.missing;o=r[v](u,function(a){p[m]=a;if(o.calls===1){--n.missing}if(!n.missing&&!n.scheduled){n.schedule()}},n,null);q=o.depth;if(!s.length||q<n.depth){n.depth=q}s.push(o);return !this.isBindingStatic(o)},addArray:function(s,m){var p=this,n=s.length,r=false,o,b,q;for(q=0;q<n;++q){b=s[q];if(b&&(b.reference||Ext.isString(b))){o=p.add(b,m,q)}else{if(Ext.isArray(b)){o=p.addArray(b,m[q]=[])}else{if(b&&b.constructor===Object){o=p.addObject(b,m[q]={})}else{m[q]=b;o=false}}}r=r||o}return r},addObject:function(s,p,n){var o=this,q=false,m,b,r;for(r in s){b=s[r];if(b&&(b.reference||Ext.isString(b))){m=o.add(b,p,r)}else{if(Ext.isArray(b)){m=o.addArray(b,p[r]=[])}else{if(b&&b.constructor===Object){m=o.addObject(b,p[r]={})}else{p[r]=b;m=false}}}if(n&&!m){n.push(r)}q=q||m}return q},getFullName:function(){var m=this,l=m.fullName,j=m.bindings,g=j.length,h;if(!l){l="@[";for(h=0;h<g;++h){if(h){l+=","}l+=j[h].getFullName()}l+="]";m.fullName=l}return l},getRawValue:function(){return this.lastValue},isDescendantOf:function(){return false},isLoading:function(){for(var c=this.bindings,d=c.length;d-->0;){if(c[d].isLoading()){return true}}return false},isBindingStatic:function(b){return b.isTemplateBinding&&b.isStatic},isStatic:function(){var h=this.bindings,g=h.length,e,j;for(e=0;e<g;++e){j=h[e];if(!this.isBindingStatic(j)){return false}}return true},pruneStaticKeys:function(){var h=Ext.apply({},this.lastValue),j=this.staticKeys,g=j.length,e;for(e=0;e<g;++e){delete h[j[e]]}return h},react:function(){this.notify(this.lastValue)},refresh:function(){},privates:{sort:function(){this.scheduler.sortItems(this.bindings)}}});Ext.define("Ext.app.bind.Formula",{extend:Ext.util.Schedulable,statics:{getFormulaParser:function(e){var g=this.formulaCache,h,j;if(!g){g=this.formulaCache=new Ext.util.LruCache({maxSize:20})}h=g.get(e);if(!h){j="[^\\.a-z0-9_]"+e+"\\(\\s*(['\"])(.*?)\\1\\s*\\)";h=new RegExp(j,"gi");g.add(e,h)}return h}},isFormula:true,calculation:null,explicit:false,set:null,single:false,argumentNamesRe:/^function\s*\(\s*([^,\)\s]+)/,constructor:function(o,n){var p=this,l=o.owner,r,q,m,s;p.owner=l;p.stub=o;p.callParent();if(n instanceof Function){p.get=m=n}else{p.get=m=n.get;p.set=n.set;q=n.bind;if(n.single){p.single=n.single}if(q){r=q.bindTo;if(r){s=Ext.apply({},q);delete s.bindTo;q=r}}}if(q){p.explicit=true}else{q=m.$expressions||p.parseFormula(m)}p.binding=l.bind(q,p.onChange,p,s)},destroy:function(){var e=this,g=e.binding,d=e.stub;if(g){g.destroy();e.binding=null}if(d){d.formula=null}e.callParent();e.getterFn=e.owner=null},getFullName:function(){return this.fullName||(this.fullName=this.stub.getFullName()+"="+this.callParent()+")")},getRawValue:function(){return this.calculation},onChange:function(){if(!this.scheduled){this.schedule()}},parseFormula:function(m){var n=m.toString(),p={$literal:true},q,j,l,o;q=this.argumentNamesRe.exec(n);j=q?q[1]:"get";l=Ext.app.bind.Formula.getFormulaParser(j);while((q=l.exec(n))){o=q[2];p[o]=o}p.$literal=true;m.$expressions=p;return p},react:function(){var m=this,g=m.owner,l=m.binding.lastValue,j=m.getterFn,h;if(m.explicit){h=l}else{h=g.getFormulaFn(l)}m.settingValue=true;m.stub.set(m.calculation=m.get.call(g,h));m.settingValue=false;if(m.single){m.destroy()}},setValue:function(b){this.set.call(this.stub.owner,b)},privates:{getScheduler:function(){var b=this.owner;return b&&b.getScheduler()},sort:function(){var d=this,c=d.binding;if(!c.destroyed){d.scheduler.sortItem(c)}}}});Ext.define("Ext.app.bind.Template",{numberRe:/^(?:\d+(?:\.\d*)?)$/,stringRe:/^(?:["][^"]*["])$/,tokenRe:/\{[!]?(?:(?:(\d+)|([a-z_][\w\-\.]*))(?::([a-z_\.]+)(?:\(([^\)]*?)?\))?)?)\}/gi,formatRe:/^([a-z_]+)(?:\(([^\)]*?)?\))?$/i,buffer:null,slots:null,tokens:null,constructor:function(h){var j=this,e=j._initters,g;j.text=h;for(g in e){j[g]=e[g]}},_initters:{apply:function(d,c){return this.parse().apply(d,c)},getTokens:function(){return this.parse().getTokens()}},apply:function(n,m){var q=this,r=q.slots,u=q.buffer,v=r.length,s,o,p;for(s=0;s<v;++s){o=r[s];if(o){if((p=n[o.pos])==null){p=""}if(o.not){p=!p}if(o.format){p=o.format(p,m)}u[s]=p}}return u.join("")},getTokens:function(){return this.tokens},parse:function(){var z=this,s=z.text,F=[],B=[],A=[],v={},w=0,G=z.tokenRe,y=0,I,D,J,C,K,x,H;for(D in z._initters){delete z[D]}z.buffer=F;z.slots=B;z.tokens=A;while((C=G.exec(s))){J=C.index-w;if(J){F[y++]=s.substring(w,w+J);w+=J}w+=(K=C[0]).length;x={fmt:(I=C[3]||null),index:C[1]?parseInt(C[1],10):null,not:K.charAt(1)==="!",token:C[2]||null};H=x.token||String(x.index);if(H in v){x.pos=v[H]}else{v[H]=x.pos=A.length;A.push(H)}if(I){if(I.substring(0,5)==="this."){x.fmt=I.substring(5)}else{x.scope=Ext.util.Format}z.parseArgs(C[4],x)}B[y++]=x}if(w<s.length){F[y++]=s.substring(w)}return z},parseArgs:function(p,o){var q=this,u=q.numberRe,n=q.stringRe,m,r,s,v;if(!p){r=[]}else{if(p.indexOf(",")<0){r=[p]}else{r=p.split(",")}}o=o||{};v=r.length;o.args=r;for(s=0;s<v;++s){m=r[s];if(m==="true"){r[s]=true}else{if(m==="false"){r[s]=false}else{if(m==="null"){r[s]=null}else{if(u.test(m)){r[s]=parseFloat(m)}else{if(n.test(m)){r[s]=m.substring(1,m.length-1)}else{o.fn=Ext.functionFactory("return ["+p+"];");o.format=q._formatEval;break}}}}}}if(!o.format){r.unshift(0);o.format=q._formatArgs}return o},parseFormat:function(h){var l=this,m=l.formatRe.exec(h),j={fmt:h,scope:Ext.util.Format},g;g=m[2];if(g){j.fmt=m[1];l.parseArgs(g,j)}else{j.args=[0];j.format=l._formatArgs}return j},_formatArgs:function(c,d){d=this.scope||d;this.args[0]=c;return d[this.fmt].apply(d,this.args)},_formatEval:function(g,d){var e=this.fn();e.unshift(g);d=this.scope||d;return d[this.fmt].apply(d,e)}});Ext.define("Ext.app.bind.TemplateBinding",{extend:Ext.app.bind.BaseBinding,isTemplateBinding:true,lastValue:undefined,value:undefined,constructor:function(q,m,n,r,s){var p=this,l=new Ext.app.bind.Template(q),o=l.getTokens();p.callParent([m,n,r,s]);p.tpl=l;p.tokens=o;o.$literal=true;if(o.length){p.multiBinding=new Ext.app.bind.Multi(o,m,p.onBindData,p)}else{p.isStatic=true;p.onData(l.text)}},destroy:function(){var b=this;Ext.destroy(b.multiBinding);b.tpl=b.multiBinding=null;b.callParent()},getFullName:function(){var b=this.multiBinding;return this.fullName||(this.fullName="$"+(b?b.getFullName():this.callParent()))},getRawValue:function(){return this.value},getTemplateScope:function(){return null},isDescendantOf:function(){return false},isLoading:function(){var b=this.multiBinding;return b?b.isLoading():false},onBindData:function(b){this.onData(this.tpl.apply(b,this.getTemplateScope()))},onData:function(g){var d=this,e=d.value;if(e!==(d.value=g)){d.lastValue=e;d.schedule()}},react:function(){this.notify(this.value)},refresh:function(){var b=this.multiBinding;if(b){b.refresh()}},privates:{sort:function(){var b=this.multiBinding;if(b){this.scheduler.sortItem(b)}}}});Ext.define("Ext.data.ChainedStore",{extend:Ext.data.AbstractStore,alias:"store.chained",config:{source:null,remoteFilter:false,remoteSort:false},mixins:[Ext.data.LocalStore],constructor:function(){this.callParent(arguments);this.getData().addObserver(this)},blockLoad:Ext.emptyFn,unblockLoad:Ext.emptyFn,remove:function(){var b=this.getSource();return b.remove.apply(b,arguments)},getData:function(){var d=this,c=d.data;if(!c){d.data=c=d.constructDataCollection()}return c},getSession:function(){return this.getSource().getSession()},applySource:function(b){if(b){b=Ext.data.StoreManager.lookup(b)}return b},updateSource:function(h,e){var g=this,j;if(e){e.removeObserver(g)}if(h){j=g.getData();j.setSource(h.getData());if(!g.isInitializing){g.fireEvent("refresh",g);g.fireEvent("datachanged",g)}h.addObserver(g)}},getModel:function(){return this.getSource().getModel()},getProxy:function(){return null},onCollectionAdd:function(l,m){var g=this,h=m.items,j=!m.next;if(g.ignoreCollectionAdd){return}g.fireEvent("add",g,h,m.at);if(j){g.fireEvent("datachanged",g)}},onCollectionItemChange:function(l,m){var n=this,j=m.item,o=m.modified||null,h=m.meta;n.onUpdate(j,h,o,m);n.fireEvent("update",n,j,h,o,m)},onUpdate:Ext.emptyFn,onCollectionRemove:function(l,m){var g=this,h=m.items,j=!m.next;if(g.ignoreCollectionRemove){return}g.fireEvent("remove",g,h,m.at,false);if(j){g.fireEvent("datachanged",g)}},onSourceBeforeLoad:function(c,d){this.fireEvent("beforeload",this,d)},onSourceAfterLoad:function(j,e,h,g){this.fireEvent("load",this,e,h,g)},onFilterEndUpdate:function(){this.callParent(arguments);this.callObservers("Filter")},onSourceBeforePopulate:function(){this.ignoreCollectionAdd=true;this.callObservers("BeforePopulate")},onSourceAfterPopulate:function(){var b=this;b.ignoreCollectionAdd=false;b.fireEvent("datachanged",b);b.fireEvent("refresh",b);this.callObservers("AfterPopulate")},onSourceBeforeClear:function(){this.ignoreCollectionRemove=true;this.callObservers("BeforeClear")},onSourceAfterClear:function(){this.ignoreCollectionRemove=false;this.callObservers("AfterClear")},onSourceBeforeRemoveAll:function(){this.ignoreCollectionRemove=true;this.callObservers("BeforeRemoveAll")},onSourceAfterRemoveAll:function(g,e){var d=this;d.ignoreCollectionRemove=false;if(!e){d.fireEvent("clear",d);d.fireEvent("datachanged",d)}this.callObservers("AfterRemoveAll",[e])},onSourceFilter:function(){var b=this;b.fireEvent("refresh",b);b.fireEvent("datachanged",b)},hasPendingLoad:function(){return this.getSource().hasPendingLoad()},isLoaded:function(){return this.getSource().isLoaded()},isLoading:function(){return this.getSource().isLoading()},onDestroy:function(){var b=this;b.observers=null;b.setSource(null);b.getData().destroy(true);b.data=null},privates:{isMoving:function(){var b=this.getSource();return b.isMoving?b.isMoving.apply(b,arguments):false},loadsSynchronously:function(){return this.getSource().loadsSynchronously()}}});Ext.define("E.overrides.ChainedStore",{override:"Ext.data.ChainedStore",load:function(b){return this.getSource().load(b)},sync:function(b){return this.getSource().sync(b)},remove:function(b){return this.getSource().remove(b)},suspendAutoSync:function(){this.getSource().suspendAutoSync()},resumeAutoSync:function(){this.getSource().resumeAutoSync()},getProxy:function(){return this.getSource().getProxy()},getSelector:function(){return this.getSource().getSelector()},getResourceId:function(){return this.getSource().getResourceId()},getReadType:function(){return this.getSource().getReadType()}});Ext.define("Ext.app.ViewModel",{mixins:[Ext.mixin.Factoryable,Ext.mixin.Identifiable],alias:"viewmodel.default",isViewModel:true,factoryConfig:{name:"viewModel"},destroyed:false,collectTimeout:100,expressionRe:/^(?:\{[!]?(?:(\d+)|([a-z_][\w\-\.]*))\})$/i,$configStrict:false,config:{data:true,formulas:{$value:null,merge:function(h,g,j,e){return this.mergeNew(h,g,j,e)}},links:null,parent:null,root:true,scheduler:null,schema:"default",session:null,stores:null,view:null},constructor:function(b){this.hadValue={};this.initConfig(b)},destroy:function(){var n=this,p=n._scheduler,m=n.storeInfo,o=n.getParent(),s=n.collectTask,q,l,r;n.destroy=Ext.emptyFn;n.destroying=true;if(s){s.cancel();n.collectTask=null}if(m){for(q in m){l=m[q];r=l.autoDestroy;if(r||(!l.$wasInstance&&r!==false)){l.destroy()}Ext.destroy(l.$binding)}}if(o){o.unregisterChild(n)}n.getRoot().destroy();if(p&&p.$owner===n){p.$owner=null;p.destroy()}n.hadValue=n.children=n.storeInfo=n._session=n._view=n._scheduler=n._root=n._parent=n.formulaFn=n.$formulaData=null;n.destroying=false},bind:function(n,l,h,j){var o=this,m;h=h||o;if(!j&&n.bindTo!==undefined&&!Ext.isString(n)){j=n;n=j.bindTo}if(!Ext.isString(n)){m=new Ext.app.bind.Multi(n,o,l,h,j)}else{if(o.expressionRe.test(n)){n=n.substring(1,n.length-1);m=o.bindExpression(n,l,h,j)}else{m=new Ext.app.bind.TemplateBinding(n,o,l,h,j)}}return m},getSession:function(){var d=this,g=d._session,e;if(!g&&(e=d.getParent())){d.setSession(g=e.getSession())}return g||null},getStore:function(d){var g=this.storeInfo,e;if(g){e=g[d]}return e||null},linkTo:function(p,l){var o=this,n=o.getStub(p),m,q,j;if(l.isModel){l={type:l.entityName,id:l.id}}q=l.type||l.reference;if(q){m=l.id;if(l.create){m=undefined}n.set(o.getRecord(q,m))}else{if(!n.isLinkStub){j=new Ext.app.bind.LinkStub(o,n.name);n.graft(j);n=j}n.link(l)}},notify:function(){this.getScheduler().notify()},get:function(b){return this.getStub(b).getValue()},set:function(j,g){var h=this,l,m;h.getData();if(g===undefined&&j&&j.constructor===Object){m=h.getRoot();g=j}else{if(j&&j.indexOf(".")<0){l={};l[j]=g;g=l;m=h.getRoot()}else{m=h.getStub(j)}}m.set(g)},privates:{registerChild:function(c){var d=this.children;if(!d){this.children=d={}}d[c.getId()]=c},unregisterChild:function(c){var d=this.children;if(d){delete d[c.getId()]}},getRecord:function(h,l){var n=this.getSession(),m=h,o=l!==undefined,j;if(n){if(o){j=n.getRecord(h,l)}else{j=n.createRecord(h)}}else{if(!m.$isClass){m=this.getSchema().getEntity(m)}if(o){j=m.createWithId(l);j.load()}else{j=new m()}}return j},notFn:function(b){return !b},bindExpression:function(u,p,o,m){var v=u.charAt(0),r=(v==="!"),n=r?u.substring(1):u,s=this.getStub(n),q;q=s.bind(p,o,m);if(r){q.transform=this.notFn}return q},applyScheduler:function(b){if(b&&!b.isInstance){b=new Ext.util.Scheduler(b);b.$owner=this}return b},getScheduler:function(){var j=this,g=j._scheduler,e,h;if(!g){if(!(e=j.getParent())){g=new Ext.util.Scheduler({preSort:"kind,-depth"});g.$owner=j}else{g=e.getScheduler()}j.setScheduler(g)}return g},getStub:function(c){var d=this.getRoot();return c?d.getChild(c):d},collect:function(){var g=this,d=g.getParent(),e=g.collectTask;if(d){d.collect();return}if(!e){e=g.collectTask=new Ext.util.DelayedTask(g.doCollect,g)}if(g.collectTimeout===0){g.doCollect()}else{e.delay(g.collectTimeout)}},doCollect:function(){var c=this.children,d;if(c){for(d in c){c[d].doCollect()}}this.getRoot().collect()},onBindDestroy:function(){var c=this,d;if(c.destroying){return}d=c.getParent();if(d){d.onBindDestroy()}else{c.collect()}},applyData:function(m,j){var l=this,h,g;l.getSession();if(!j){g=l.getParent();l.linkData=h=g?Ext.Object.chain(g.getData()):{};l.data=l._data=Ext.Object.chain(h)}if(m&&m.constructor===Object){l.getRoot().set(m)}},applyParent:function(b){if(b){b.registerChild(this)}return b},applyStores:function(m){var r=this,p=r.getRoot(),n,s,v,u,q,o;r.storeInfo={};r.listenerScopeFn=function(){return r.getView().getInheritedConfig("defaultListenerScope")};for(n in m){s=m[n];if(s.isStore){s.$wasInstance=true;r.setupStore(s,n);continue}else{if(Ext.isString(s)){s={source:s}}else{s=Ext.apply({},s)}}q=s.listeners;delete s.listeners;v=r.bind(s,r.onStoreBind,r,{trackStatics:true});if(v.isStatic()){v.destroy();r.createStore(n,s,q)}else{v.$storeKey=n;v.$listeners=q;u=p.createStubChild(n);u.setStore(v)}}},onStoreBind:function(l,q,m){var n=this.storeInfo,o=m.$storeKey,j=n[o],p;if(!j){this.createStore(o,l,m.$listeners,m)}else{l=Ext.merge({},m.pruneStaticKeys());p=l.proxy;delete l.type;delete l.model;delete l.fields;delete l.proxy;delete l.listeners;if(p){delete p.reader;delete p.writer;j.getProxy().setConfig(p)}j.blockLoad();j.setConfig(l);j.unblockLoad(true)}},createStore:function(o,j,n,l){var m=this.getSession(),h;j=Ext.apply({},j);if(j.session){j.session=m}if(j.source){j.type=j.type||"chained"}j.listeners=n;h=Ext.Factory.store(j);h.$binding=l;this.setupStore(h,o)},setupStore:function(d,c){d.resolveListenerScope=this.listenerScopeFn;this.storeInfo[c]=d;this.set(c,d)},applyFormulas:function(m){var l=this,h=l.getRoot(),g,j;l.getData();for(g in m){h.createStubChild(g);j=l.getStub(g);j.setFormula(m[g])}return m},applyLinks:function(d){for(var c in d){this.linkTo(c,d[c])}},applySchema:function(b){return Ext.data.schema.Schema.get(b)},applyRoot:function(){var d=new Ext.app.bind.RootStub(this),c=this.getParent();if(c){d.depth=c.getRoot().depth-1000}return d},getFormulaFn:function(g){var d=this,e=d.formulaFn;if(!e){e=d.formulaFn=function(a){return d.$formulaData[a]}}d.$formulaData=g;return e}}});Ext.define("E.overrides.overrideViewModel",{override:"Ext.app.ViewModel",config:{generateFormulas:null,entityName:null},updateView:function(d){var c;if(d&&(c=d.entityName)&&(c!=this.entityName)){this.setEntityName(c)}},applyGenerateFormulas:function(e){var g=this,d={};Ext.Object.each(e,function(b,a){if(Ext.isString(a)){a=[a]}Ext.forEach(a,function(c){d[b+Ext.String.capitalize(c)]={bind:{bindTo:"{"+b+"}",deep:true},get:function(j){if(!j){return false}return j[c]}}})});g.setFormulas(Ext.apply(d,g.getFormulas()));return e},applyConfig:function(d){d=d||{};var c=this;Ext.Array.map(["data","stores","links","formulas"],function(a){if(d[a]){c[a.setter()](d[a])}})}});Ext.define("Ext.ux.help.ViewModel",{extend:Ext.app.ViewModel,alias:"viewmodel.ux-help",data:{isDev:null,currentHelp:null,helpMode:"guided"},formulas:{isGuidedMode:{bind:{helpMode:"{helpMode}"},get:function(b){return b.helpMode=="guided"}}},stores:{helpStore:{source:"uxHelpStore",filters:[{property:"disabled",operator:"=",value:false}],sorters:[{property:"order"}]}}});Ext.define("Ext.app.domain.View",{extend:Ext.app.EventDomain,isInstance:true,constructor:function(b){this.callParent(arguments);this.controller=b;this.monitoredClasses=[Ext.Component]},match:function(h,g,e){var j=false;if(g==="#"){j=e===h.getController()}else{j=h.is(g)}return j},destroy:function(){this.controller=null;this.callParent()}});Ext.define("Ext.app.ViewController",{extend:Ext.app.BaseController,mixins:[Ext.mixin.Factoryable],isViewController:true,factoryConfig:{type:"controller"},config:{closeViewAction:"destroy"},constructor:function(){this.compDomain=new Ext.app.domain.View(this);this.callParent(arguments)},beforeInit:Ext.emptyFn,init:Ext.emptyFn,initViewModel:Ext.emptyFn,destroy:function(){var d=this,c=d.compDomain;if(c){c.unlisten(d);c.destroy()}d.compDomain=d.view=null;d.callParent()},closeView:function(){var d=this.getView(),c;if(d){c=this.getCloseViewAction();d[c]()}},control:function(e,d){var g=e;if(Ext.isString(e)){g={};g[e]=d}this.compDomain.listen(g,this)},listen:function(g,e){var d=g.component;if(d){g=Ext.apply({},g);delete g.component;this.control(d)}this.callParent([g,e])},getReferences:function(){return this.view.getReferences()},getView:function(){return this.view},lookupReference:function(c){var d=this.view;return d&&d.lookupReference(c)},getSession:function(){var b=this.view;return b&&b.lookupSession()},getViewModel:function(){var b=this.view;return b&&b.lookupViewModel()},getStore:function(c){var d=this.getViewModel();return d?d.getStore(c):null},fireViewEvent:function(g){var d=this.view,e=false;if(d){e=d.fireEvent.apply(d,arguments)}return e},privates:{view:null,ensureId:function(){var b=this.getId();if(!b){this.setId(Ext.id(null,"controller-"))}},attachReference:function(c){var d=this.view;if(d){d.attachReference(c)}},clearReference:function(c){var d=this.view;if(d){d.clearReference(c)}},clearReferences:function(){var b=this.view;if(b){b.clearReferences()}},setView:function(b){this.view=b;if(!this.beforeInit.$nullFn){this.beforeInit()}}}});Ext.define("E.overrides.ViewController",{override:"Ext.app.ViewController",config:{observe:null},applyObserve:function(h,g){g=g||{};if(Ext.isObject(h)){var j=this;if(!j.view){j.initObserve=function(){this.setObserve(this.getObserve());this.view.inheritedState.invalid=true;this.initObserve=Ext.emptyFn};return h}var e=j.getViewModel();for(k in h){if(g[k]&&g[k].destroy){g[k].destroy()}h[k]=e.bind(k,Ext.isString(h[k])?j[h[k]]:h[k],j)}}for(k in g){if(!h[k]){g[k].destroy()}}return h},initObserve:Ext.emptyFn,getViewModelSelected:function(){var c=this.getViewModel(),d=c.getEntityName();return c.getData()[d]},getSelected:function(g){var d=this.getViewModel(),e=g.getInheritedConfig("entityName");return d.getData()[e]},loadSelected:function(){return this.processSelected("load",this.getSelected.apply(this,arguments))},saveSelected:function(){return this.processSelected("save",this.getSelected.apply(this,arguments))},eraseSelected:function(){return this.processSelected("erase",this.getSelected.apply(this,arguments))},rejectSelected:function(){var b=this.getSelected.apply(this,arguments);if(b){b.reject();return b}},processSelected:function(c,d){if(d){d[c]({callback:this.callbackDefault});return d}},callbackDefault:Ext.emptyFn,privates:{setView:function(b){this.callParent(arguments);if(!this.initObserve.$nullFn){this.initObserve()}}}});Ext.define("Ext.ux.help.ViewController",function(){var m=false,g=null,h=null,j=null;function l(a,c){var b=Ext.get(c).up("[data-help]",Ext.getBody());if(b&&(b!=g)){this.redirectTo("!uxhelp/"+b.dom.dataset.help)}}return{alias:"controller.ux-help",extend:Ext.app.ViewController,routes:{"!uxhelp-init":"initUxHelp","!uxhelp-skip":"skipUxHelp","!uxhelp/:id":{action:"onGetHelp",conditions:{":id":"([%a-zA-Z0-9\\.\\-\\_\\s,]+)"}}},observe:{"{helpMode}":"onUpdateHelpMode"},initUxHelp:function(){var c=this,d=this.getStore(),a,b;m=true;c.scanStore();this.getReferences().helpindicators.refresh();c.getMaskEl().addCls("active");this.getNav().enable();b=d.first();if(b){c.redirectTo("!uxhelp/"+b.getId(),true)}if(a=Ext.getApp()){c.getViewModel().set("isDev",a.viewModel.getData().appState.get("isDev"))}Ext.ux.help.Help.setActive(m)},editUxHelp:function(){if(d3.editTpl&&!this.__editing){var c=this.getView(),b=c.getSize(),a=c.getEl().selectNode("[data-edit]");this.__editing=true;this.getNav().disable();d3.editTpl().startEdit(a);return c.setSize({width:b.width+50,height:b.height+200})}delete this.__editing;this.getNav().enable()},skipUxHelp:function(){this.getMaskEl().removeCls("active");this.onUpdateHelpMode();this.getView().hide();this.getNav().disable();m=false;Ext.ux.help.Help.setActive(m)},scanStore:function(){Ext.StoreManager.get("uxHelpStore").each(function(a){a.set("disabled",!Ext.getCmp(a.get("cmpId")).isVisible(true))})},onGetHelp:function(a){var b=this.getStore(),c=b.getById(a);if(!c){return}h=c;this.getViewModel().set("currentHelp",c);this.focusHelp(c)},focusHelp:function(v){var c=this,x=v.get("selector"),y=Ext.get(v.get("cmpId")),w,b,y=x&&(w=y.selectNode(x))?w:y,d=c.getMaskEl(),a=c.getView(),e=0,u=y.getBox?y.getBox():y.getBoundingClientRect(),z=new Ext.util.DelayedTask(function(){d.setStyle(y.getBox?{top:(100+u.y)+"px",left:(100+u.x)+"px",width:u.width+"px",height:u.height+"px"}:{top:(100+u.top)+"px",left:(100+u.left)+"px",width:u.width+"px",height:u.height+"px"});d.dom.dataset.helpContent=c.getStore().indexOf(v)+1;Ext.defer(a.show,430,a)});g=y;a.hide();if(x&&(b=Ext.getCmp(v.get("cmpId")))&&b.focusNode){b.focusNode(y);e=50}z.delay(e)},onUpdateHelpMode:function(a){if(m){if(a=="free"){Ext.getBody().on("mouseover",l,this)}else{Ext.getBody().un("mouseover",l,this)}}},nextHelp:function(){var a=h||this.getStore().first(),c=this.getStore(),b=c.indexOf(a);if(b==(c.getCount()-1)){return this.skipUxHelp()}this.redirectTo("#!uxhelp/"+c.getAt(b+1).getId())},previousHelp:function(){var a=h||this.getStore().first(),c=this.getStore(),b=c.indexOf(a);if(b<1){return}this.redirectTo("!uxhelp/"+c.getAt(b-1).getId())},getStore:function(){return this.getViewModel().get("helpStore")},getMaskEl:function(){return this.getView().target},getNav:function(){return Ext.ux.help.Help.nav}}});Ext.define("Ext.ux.help.Tip",{extend:Ext.tip.ToolTip,viewModel:"ux-help",controller:"ux-help",alias:"widget.helptip",minWidth:335,config:{helpMode:"guided",publishes:{helpMode:true}},title:"Help Tooltip",bind:{title:"{currentHelp.title}"},anchor:"right",anchorOffset:5,showDelay:0,autoHide:false,items:[{xtype:"component",boddyPadding:8,bind:{html:"{currentHelp.helpContent.content}"}},{xtype:"helpindicators",reference:"helpindicators",bind:{store:"{helpStore}",selection:"{currentHelp}"}},{xtype:"toolbar",ui:"footer",items:[{text:"previous",listeners:{click:"previousHelp"},glyph:61512},{text:"next",listeners:{click:"nextHelp"},glyph:61521,iconAlign:"right"},{text:"skip",listeners:{click:"skipUxHelp"},glyph:61579},{text:"edit",hidden:true,bind:{hidden:"{!isDev}"},listeners:{click:"editUxHelp"},glyph:61508}]}]});Ext.define("Ext.ux.help.HelpMixin",{extend:Ext.Mixin,mixinId:"Help",config:{help:null},getComponentDepth:function(){var d,c=0;for(d=this.getRefOwner();!!d;d=d.getRefOwner()){c++}return c},markDataset:function(b){this.getEl().dom.dataset.help=b.getId()},getHelpListener:function(b){return{destroy:{fn:"setDisabled",scope:b},hide:{fn:"setDisabled",scope:b},show:{fn:"setEnabled",scope:b}}},applyHelp:function(u){if(!this.rendered){this.on("render",function(){this.setHelp(u)},this,{single:true});return u}if(u){var q=this,o=Ext.StoreManager.get("uxHelpStore"),s=q.getId(),x,r,v,w=q.$className;if(Ext.isString(u)){u={id:this.lookupController().type+"-"+u}}if(u===true){u={}}x=u.id;if(!x){var p=(this.config&&this.config.reference)||this.reference||this.itemId;x=this.lookupController().type+"-"+p}helpId=null;v=u.orderOffset||0;u=Ext.apply({title:this.helpTitle,helpContentId:x,order:this.getComponentDepth()+v,cmpId:s,clsName:w,lang:Ext.getApp().getLang()},u)}u=o.add(u)[0];r=u.getHelpContent();var n=q.getHelpListener(u);if(this.rendered){this.markDataset(u)}else{n.render={fn:this.markDataset,scope:this,args:[u],single:true}}this.on(n);if(!r.get("content")){if(this.helpContent){r.set("content",this.helpContent)}}return u}});Ext.define("Ext.overrides.Component",{override:"Ext.Component",mixins:[Ext.ux.help.HelpMixin]});Ext.define("Ext.overrides.app.domain.Component",{override:"Ext.app.domain.Component"},function(b){b.monitor(Ext.Component)});Ext.define("Ext.app.Util",{},function(){Ext.apply(Ext.app,{namespaces:{Ext:{}},addNamespaces:function(j){var h=Ext.app.namespaces,e,g;if(!Ext.isArray(j)){j=[j]}for(e=0,g=j.length;e<g;e++){h[j[e]]=true}},clearNamespaces:function(){Ext.app.namespaces={}},getNamespace:function(e){var h=Ext.apply({},Ext.ClassManager.paths,Ext.app.namespaces),g="",j;for(j in h){if(h.hasOwnProperty(j)&&j.length>g.length&&(j+"."===e.substring(0,j.length+1))){g=j}}return g===""?undefined:g}});Ext.getNamespace=Ext.app.getNamespace});Ext.define("Ext.app.domain.Store",{extend:Ext.app.EventDomain,singleton:true,type:"store",prefix:"store.",idMatchRe:/^\#/,constructor:function(){var b=this;b.callParent();b.monitor(Ext.data.AbstractStore)},match:function(h,e){var g=false,j=h.alias;if(e==="*"){g=true}else{if(this.idMatchRe.test(e)){g=h.getStoreId()===e.substring(1)}else{if(j){g=Ext.Array.indexOf(j,this.prefix+e)>-1}}}return g}});Ext.define("Ext.app.route.Queue",{queue:null,token:null,constructor:function(b){Ext.apply(this,b);this.queue=new Ext.util.MixedCollection()},queueAction:function(d,c){this.queue.add({route:d,args:c})},clearQueue:function(){this.queue.removeAll()},runQueue:function(){var e=this.queue,g=e.removeAt(0),d;if(g){d=g&&g.route;d.execute(this.token,g.args,this.onActionExecute,this)}},onActionExecute:function(b){if(b){this.clearQueue()}else{this.runQueue()}}});Ext.define("Ext.app.route.Route",{action:null,conditions:null,controller:null,allowInactive:false,url:null,before:null,caseInsensitive:false,matcherRegex:null,paramMatchingRegex:null,paramsInMatchString:null,constructor:function(d){var g=this,e;Ext.apply(g,d,{conditions:{}});e=g.url;g.paramMatchingRegex=new RegExp(/:([0-9A-Za-z\_]*)/g);g.paramsInMatchString=e.match(g.paramMatchingRegex)||[];g.matcherRegex=g.createMatcherRegex(e)},recognize:function(m){var l=this,h=l.controller,j,g;if((l.allowInactive||h.isActive())&&l.recognizes(m)){j=l.matchesFor(m);g=m.match(l.matcherRegex);g.shift();return Ext.applyIf(j,{controller:h,action:l.action,historyUrl:m,args:g})}return false},recognizes:function(b){return this.matcherRegex.test(b)},execute:function(s,o,n,r){var l=o.args||[],p=this.before,m=this.controller,q=this.createCallback(o,n,r);if(p){l.push(q);if(Ext.isString(p)){p=this.before=m[p]}if(p){p.apply(m,l)}}else{q.resume()}},matchesFor:function(o){var l={},m=this.paramsInMatchString,h=o.match(this.matcherRegex),n=0,j=m.length;h.shift();for(;n<j;n++){l[m[n].replace(":","")]=h[n]}return l},createMatcherRegex:function(x){var v=this.paramsInMatchString,p=this.conditions,u=0,r=v.length,o=Ext.util.Format.format,n=this.caseInsensitive?"i":"",w,q,s;for(;u<r;u++){w=v[u];q=p[w];s=o("{0}",q||"([%a-zA-Z0-9\\-\\_\\s,]+)");x=x.replace(new RegExp(w),s)}return new RegExp("^"+x+"$",n)},createCallback:function(g,h,e){var j=this;e=e||j;return{resume:function(){var c=j.controller,a=j.action,b;if(Ext.isString(a)){a=c[a]}g=g&&g.args?g.args:[];b=g.pop();if(b&&!Ext.isObject(b)){g.push(b)}if(a){j.action=a;a.apply(c,g)}if(h){h.call(e)}},stop:function(a){if(h){h.call(e,a)}}}}});Ext.define("Ext.util.History",{singleton:true,alternateClassName:"Ext.History",mixins:{observable:Ext.util.Observable},useTopWindow:false,constructor:function(){var b=this;b.hiddenField=null;b.ready=false;b.currentToken=null;b.mixins.observable.constructor.call(b)},getHash:function(){return this.win.location.hash.substr(1)},setHash:function(c){try{this.win.location.hash=c;this.currentToken=c}catch(d){}},handleStateChange:function(b){this.currentToken=b;this.fireEvent("change",b)},startUp:function(){var b=this;b.currentToken=b.getHash();if(Ext.supports.Hashchange){Ext.get(b.win).on("hashchange",b.onHashChange,b)}else{Ext.TaskManager.start({fireIdleEvent:false,run:b.onHashChange,interval:50,scope:b})}b.ready=true;b.fireEvent("ready",b)},onHashChange:function(){var c=this,d=c.getHash();if(d!==c.hash){c.hash=d;c.handleStateChange(d)}},init:function(g,e){var d=this;if(d.ready){Ext.callback(g,e,[d]);return}if(!Ext.isReady){Ext.onReady(function(){d.init(g,e)});return}d.win=d.useTopWindow?window.top:window;d.hash=d.getHash();if(g){d.on("ready",g,e,{single:true})}d.startUp()},add:function(g,e){var j=this,h=false;if(e===false||j.getToken()!==g){j.setHash(g);h=true}return h},back:function(){var b=this.useTopWindow?window.top:window;b.history.go(-1)},forward:function(){var b=this.useTopWindow?window.top:window;b.history.go(1)},getToken:function(){return this.ready?this.currentToken:this.getHash()}});Ext.define("Ext.app.route.Router",{singleton:true,multipleToken:"|",queueRoutes:true,constructor:function(){var b=Ext.util.History;if(!b.ready){b.init()}b.on("change",this.onStateChange,this);this.clear()},onStateChange:function(C){var w=this,D=w.application,u=w.routes,z=u.length,r=w.queueRoutes,x=C.split(w.multipleToken),s=0,F=x.length,B,A,v,y,G;for(;s<F;s++){C=x[s];G=false;if(r){A=new Ext.app.route.Queue({token:C})}for(B=0;B<z;B++){v=u[B];y=v.recognize(C);if(y){G=true;if(r){A.queueAction(v,y)}else{v.execute(C,y)}}}if(r){A.runQueue()}if(!G&&D){D.fireEvent("unmatchedroute",C)}}},connect:function(j,h,g){var e={url:j,action:h,controller:g};if(Ext.isObject(h)){Ext.merge(e,h)}this.routes.push(new Ext.app.route.Route(e))},disconnectAll:function(o){var h=this.routes,j=h.length,m=[],l,n;for(l=0;l<j;++l){n=h[l];if(n.controller!==o){m.push(n)}}this.routes=m},recognize:function(m){var h=this.routes||[],l=0,j=h.length,o,n;for(;l<j;l++){o=h[l];n=o.recognize(m);if(n){return{route:o,args:n}}}return false},draw:function(b){b.call(this,this)},clear:function(){this.routes=[]}});Ext.define("Ext.app.Controller",{extend:Ext.app.BaseController,statics:{strings:{model:{getter:"getModel",upper:"Model"},view:{getter:"getView",upper:"View"},controller:{getter:"getController",upper:"Controller"},store:{getter:"getStore",upper:"Store"},profile:{getter:"getProfile",upper:"Profiles"}},controllerRegex:/^(.*)\.controller\./,createGetter:function(d,c){return function(){return this[d](c)}},getGetterName:function(o,j){var n="get",m=o.split("."),l=m.length,h;for(h=0;h<l;h++){n+=Ext.String.capitalize(m[h])}n+=j;return n},resolveNamespace:function(l,n){var m=Ext.app.Controller,o=m.controllerRegex,p,q,j;p=Ext.getClassName(l);q=n.$namespace||n.namespace||Ext.app.getNamespace(p)||((j=o.exec(p))&&j[1]);return q},processDependencies:function(I,H,D,C,y){if(!y||!y.length){return}var x=this,j=x.strings[C],F,o,v,G,B,A,w,z;if(!Ext.isArray(y)){y=[y]}for(B=0,A=y.length;B<A;B++){G=y[B];F=x.getFullName(G,C,D);o=F.absoluteName;v=F.shortName;H.push(o);w=x.getGetterName(v,j.upper);I[w]=z=x.createGetter(j.getter,G);if(C!=="controller"){z["Ext.app.getter"]=true}}},getFullName:function(o,m,n){var j=o,h,l;if((h=o.indexOf("@"))>0){j=o.substring(0,h);l=o.substring(h+1)+"."+j}else{if(o.indexOf(".")>0&&(Ext.ClassManager.isCreated(o)||this.hasRegisteredPrefix(o))){l=o}else{if(n){l=n+"."+m+"."+o;j=o}else{l=o}}}return{absoluteName:l,shortName:j}},hasRegisteredPrefix:function(e){var g=Ext.ClassManager,d=g.getPrefix(e);return d&&d!==e}},models:null,views:null,stores:null,controllers:null,config:{application:null,refs:null,active:true,moduleClassName:null},onClassExtended:function(e,j,g){var h=g.onBeforeCreated;g.onBeforeCreated=function(o,b){var a=Ext.app.Controller,d=[],n,c;c=o.prototype;n=a.resolveNamespace(o,b);if(n){c.$namespace=n}a.processDependencies(c,d,n,"model",b.models);a.processDependencies(c,d,n,"view",b.views);a.processDependencies(c,d,n,"store",b.stores);a.processDependencies(c,d,n,"controller",b.controllers);Ext.require(d,Ext.Function.pass(h,arguments,this))}},constructor:function(b){this.initAutoGetters();this.callParent(arguments)},normalizeRefs:function(d){var g=this,e=[];if(d){if(Ext.isObject(d)){Ext.Object.each(d,function(b,a){if(Ext.isString(a)){a={selector:a}}a.ref=b;e.push(a)})}else{if(Ext.isArray(d)){e=Ext.Array.merge(e,d)}}}d=g.refs;if(d){g.refs=null;d=g.normalizeRefs(d);if(d){e=Ext.Array.merge(e,d)}}return e},getRefMap:function(){var l=this,o=l._refMap,j,m,n,h;if(!o){j=l.getRefs();o=l._refMap={};if(j){for(h=0,n=j.length;h<n;h++){m=j[h];o[m.ref]=m.selector}}}return o},applyRefs:function(b){return this.normalizeRefs(Ext.clone(b))},updateRefs:function(b){if(b){this.ref(b)}},initAutoGetters:function(){var d=this.self.prototype,g,e;for(g in d){e=d[g];if(e&&e["Ext.app.getter"]){e.call(this)}}},doInit:function(c){var d=this;if(!d._initialized){d.init(c);d._initialized=true}},finishInit:function(l){var n=this,m=n.controllers,h,o,j;if(n._initialized&&m&&m.length){for(o=0,j=m.length;o<j;o++){h=n.getController(m[o]);h.finishInit(l)}}},init:Ext.emptyFn,onLaunch:Ext.emptyFn,activate:function(){this.setActive(true)},deactivate:function(){this.setActive(false)},isActive:function(){return this.getActive()},ref:function(l){var n=this,j=0,o=l.length,m,p,q;l=Ext.Array.from(l);n.references=n.references||[];for(;j<o;j++){m=l[j];p=m.ref;q="get"+Ext.String.capitalize(p);if(!n[q]){n[q]=Ext.Function.pass(n.getRef,[p,m],n)}n.references.push(p.toLowerCase())}},addRef:function(b){this.ref(b)},getRef:function(n,l,j){var o=this,m=o.refCache||(o.refCache={}),h=m[n];l=l||{};j=j||{};Ext.apply(l,j);if(l.forceCreate){return Ext.ComponentManager.create(l,"component")}if(!h){if(l.selector){m[n]=h=Ext.ComponentQuery.query(l.selector)[0]}if(!h&&l.autoCreate){m[n]=h=Ext.ComponentManager.create(l,"component")}if(h){h.on("beforedestroy",function(){m[n]=null})}}return h},hasRef:function(c){var d=this.references;return d&&Ext.Array.indexOf(d,c.toLowerCase())!==-1},getController:function(c){var d=this.getApplication();if(c===this.getId()){return this}return d&&d.getController(c)},getStore:function(g){var e,d;e=(g.indexOf("@")===-1)?g:g.split("@")[0];d=Ext.StoreManager.get(e);if(!d){g=Ext.app.Controller.getFullName(g,"store",this.$namespace);if(g){d=Ext.create(g.absoluteName,{storeId:e})}}return d},getModel:function(g){var d=Ext.app.Controller.getFullName(g,"model",this.$namespace),e=Ext.ClassManager.get(d.absoluteName);if(!e){e=Ext.data.schema.Schema.lookupEntity(g)}return e},getProfile:function(b){b=Ext.app.Controller.getFullName(b,"profile",this.$namespace);return b},getView:function(d){var c=Ext.app.Controller.getFullName(d,"view",this.$namespace);return c&&Ext.ClassManager.get(c.absoluteName)},ensureId:function(){var b=this.getId();if(!b){this.setId(this.getModuleClassName(this.$className,"controller"))}},destroy:function(j,h){var n=this,l=n.application,m,o;if(!h&&l){l.unregister(n)}n.application=null;if(j){m=n.refCache;for(o in m){if(m.hasOwnProperty(o)){Ext.destroy(m[o])}}}n.callParent()}});Ext.define("Ext.app.Application",{extend:Ext.app.Controller,isApplication:true,scope:undefined,namespaces:[],paths:null,appFolder:"app",config:{name:"",appProperty:"app",profiles:[],currentProfile:null,mainView:{$value:null,lazy:true},defaultToken:null,glyphFontFamily:null},onClassExtended:function(q,x,r){var y=Ext.app.Controller,w=q.prototype,o=[],v,p,z,u,s;z=x.name||q.superclass.name;s=x.appFolder||q.superclass.appFolder;if(z){x.$namespace=z;Ext.app.addNamespaces(z)}if(x.namespaces){Ext.app.addNamespaces(x.namespaces)}if(!x["paths processed"]){if(z&&s){Ext.Loader.setPath(z,s)}p=x.paths;if(p){for(u in p){if(p.hasOwnProperty(u)){Ext.Loader.setPath(u,p[u])}}}}else{delete x["paths processed"]}y.processDependencies(w,o,z,"profile",x.profiles);w.getDependencies(q,x,o);if(o.length){v=r.onBeforeCreated;r.onBeforeCreated=function(c,a){var b=Ext.Array.clone(arguments);Ext.require(o,function(){return v.apply(this,b)})}}},getDependencies:Ext.emptyFn,constructor:function(d){var g=this;Ext.app.route.Router.application=g;g.callParent(arguments);g.doInit(g);g.initNamespace();var e=this.getProfiles();if(e&&e.length){Ext.require(e,this.onProfilesLoaded,this)}else{this.onProfilesReady()}},onProfilesReady:function(){var b=this;b.initControllers();b.onBeforeLaunch();b.finishInitControllers()},initNamespace:function(){var g=this,e=g.getAppProperty(),d;d=Ext.namespace(g.getName());if(d){d.getApplication=function(){return g};if(e){if(!d[e]){d[e]=g}}}},initControllers:function(){var j=this,h=Ext.Array.from(j.controllers);j.controllers=new Ext.util.MixedCollection();for(var g=0,e=h.length;g<e;g++){j.getController(h[g])}},finishInitControllers:function(){var j=this,h,e,g;h=j.controllers.getRange();for(e=0,g=h.length;e<g;e++){h[e].finishInit(j)}},launch:Ext.emptyFn,onBeforeLaunch:function(){var n=this,r=Ext.util.History,v=n.getDefaultToken(),p=n.getCurrentProfile(),u,o,c,q,s;n.initMainView();if(p){p.launch()}n.launch.call(n.scope||n);n.launched=true;n.fireEvent("launch",n);u=n.controllers.items;c=u.length;for(o=0;o<c;o++){q=u[o];q.onLaunch(n)}if(!r.ready){r.init()}s=r.getToken();if(s){n.redirectTo(s,true)}else{if(v){r.add(v)}}},getModuleClassName:function(d,c){return Ext.app.Controller.getFullName(d,c,this.getName()).absoluteName},initMainView:function(){var g=this,d=g.getCurrentProfile(),e;if(d){e=d.getMainView()}if(e){g.setMainView(e)}else{g.getMainView()}},applyMainView:function(c){var d;d=this.getView(c);return d.create()},createController:function(b){return this.getController(b)},destroyController:function(b){if(typeof b==="string"){b=this.getController(b,true)}Ext.destroy(b)},getController:function(w,x){var o=this,v=o.controllers,q,s,r,u,p,c;s=v.get(w);if(!s){c=v.items;for(u=0,r=c.length;u<r;++u){p=c[u];q=p.getModuleClassName();if(q&&q===w){s=p;break}}}if(!s&&!x){q=o.getModuleClassName(w,"controller");s=Ext.create(q,{application:o,moduleClassName:w});v.add(s);if(o._initialized){s.doInit(o)}}return s},unregister:function(b){this.controllers.remove(b)},getApplication:function(){return this},destroy:function(h){var m=this,j=m.controllers,g=Ext.namespace(m.getName()),l=m.getAppProperty();Ext.destroy(m.viewport);if(j){j.each(function(a){a.destroy(h,true)})}m.controllers=null;m.callParent([h,true]);if(g&&g[l]===m){delete g[l]}},updateGlyphFontFamily:function(b){Ext.setGlyphFontFamily(b)},applyProfiles:function(d){var c=this;return Ext.Array.map(d,function(a){return c.getModuleClassName(a,"profile")})},onProfilesLoaded:function(){var z=this,x=z.getProfiles(),G=x.length,J=[],A,B,v,K,H,u,w,C,y,F,I,D;for(B=0;B<G;B++){J[B]=Ext.create(x[B],{application:z});if(J[B].isActive()&&!A){A=J[B];v=A.getDependencies();K=v.all;z.setCurrentProfile(A);u=v.controller;if(u.length){H=z.controllers=(z.controllers||[]);H.push.apply(H,u)}C=v.view;if(C.length){w=z.views=(z.views||[]);w.push.apply(w,C)}F=v.store;if(F.length){y=z.stores=(z.stores||[]);y.push.apply(y,F)}D=v.model;if(D.length){I=z.models=(z.models||[]);I.push.apply(I,D)}}}if(K){Ext.require(K,z.onProfilesReady,z)}else{z.onProfilesReady()}}});Ext.application=function(g){var j=function(a){Ext.onReady(function(){Ext.app.Application.instance=new a()})},h=g.paths,e;if(typeof g==="string"){Ext.require(g,function(){j(Ext.ClassManager.get(g))})}else{g=Ext.apply({extend:"Ext.app.Application"},g);Ext.Loader.setPath(g.name,g.appFolder||"app");if(h){for(e in h){if(h.hasOwnProperty(e)){Ext.Loader.setPath(e,h[e])}}}g["paths processed"]=true;Ext.define(g.name+".$application",g,function(){j(this)})}};Ext.define("Ext.overrides.app.Application",{override:"Ext.app.Application",autoCreateViewport:false,config:{enableQuickTips:true},applyMainView:function(j){var g=this.getView(j),l=g.prototype,m,h;if(!l.isViewport){h=l.plugins;h=["viewport"].concat(h?Ext.Array.from(h,true):[]);m={plugins:h}}return g.create(m)},getDependencies:function(l,n,p){var m=Ext.app.Controller,o=l.prototype,q=n.$namespace,j=n.autoCreateViewport;if(j){if(j===true){j="Viewport"}else{p.push("Ext.plugin.Viewport")}m.processDependencies(o,p,q,"view",j)}},onBeforeLaunch:function(){var c=this,d=c.autoCreateViewport;if(c.getEnableQuickTips()){c.initQuickTips()}if(d){c.initViewport()}this.callParent(arguments)},getViewportName:function(){var d=null,c=this.autoCreateViewport;if(c){d=(c===true)?"Viewport":c}return d},initViewport:function(){this.setMainView(this.getViewportName())},initQuickTips:function(){Ext.tip.QuickTipManager.init()}});Ext.define("Ext.app.domain.Controller",{extend:Ext.app.EventDomain,singleton:true,type:"controller",prefix:"controller.",idMatchRe:/^\#/,constructor:function(){var b=this;b.callParent();b.monitor(Ext.app.BaseController)},match:function(h,e){var g=false,j=h.alias;if(e==="*"){g=true}else{if(e==="#"){g=!!h.isApplication}else{if(this.idMatchRe.test(e)){g=h.getId()===e.substring(1)}else{if(j){g=Ext.Array.indexOf(j,this.prefix+e)>-1}}}}return g}});Ext.define("Ext.data.PageMap",{extend:Ext.util.LruCache,config:{store:null,pageSize:0,rootProperty:""},clear:function(d){var c=this;c.pageMapGeneration=(c.pageMapGeneration||0)+1;c.indexMap={};c.callParent(arguments)},forEach:function(q,j){var s=this,w=Ext.Object.getKeys(s.map),z=w.length,r=s.getPageSize(),x,y,p,u,v;for(x=0;x<z;x++){w[x]=+w[x]}Ext.Array.sort(w,Ext.Array.numericSortFn);j=j||s;for(x=0;x<z;x++){p=w[x];u=s.getPage(p);v=u.length;for(y=0;y<v;y++){if(q.call(j,u[y],(p-1)*r+y)===false){return}}}},findBy:function(j,e){var h=this,g=null;e=e||h;h.forEach(function(a,b){if(j.call(e,a,b)){g=a;return false}});return g},findIndexBy:function(j,e){var h=this,g=-1;e=e||h;h.forEach(function(a,b){if(j.call(e,a)){g=b;return false}});return g},find:function(o,p,n,r,s,l){if(Ext.isEmpty(p,false)){return null}var q=Ext.String.createRegex(p,r,s,l),m=this.getRootProperty();return this.findBy(function(a){return a&&q.test((m?a[m]:a)[o])},null,n)},findIndex:function(o,p,n,r,s,l){if(Ext.isEmpty(p,false)){return null}var q=Ext.String.createRegex(p,r,s,l),m=this.getRootProperty();return this.findIndexBy(function(a){return a&&q.test((m?a[m]:a)[o])},null,n)},getPageFromRecordIndex:function(b){return Math.floor(b/this.getPageSize())+1},addAll:function(b){this.addPage(1,b)},addPage:function(o,z){var r=this,p=r.getPageSize(),x=o+Math.floor((z.length-1)/p),q,s=(o-1)*p,u=r.indexMap,v,y,w;for(q=0;o<=x;o++,q+=p){v=Ext.Array.slice(z,q,q+p);for(y=0,w=v.length;y<w;y++){u[v[y].internalId]=s++}r.add(o,v);r.fireEvent("pageadd",r,o,v)}},getCount:function(){var b=this.callParent();if(b){b=(b-1)*this.getPageSize()+this.last.value.length}return b},getByInternalId:function(d){var c=this.indexMap[d];if(c!==-1){return this.getAt(c)}},indexOf:function(c){var d=-1;if(c){d=this.indexMap[c.internalId];if(d==null){d=-1}}return d},insert:function(){},remove:function(){},removeAt:function(){},removeAtKey:function(l){var m=this,o=m.getPage(l),h,n,j;if(o){if(m.fireEvent("beforepageremove",m,l,o)!==false){h=o.length;for(n=0;n<h;n++){delete m.indexMap[o[n].internalId]}j=m.callParent(arguments);m.fireEvent("pageremove",m,l,o);o.length=0}}return j},getPage:function(b){return this.get(b)},hasRange:function(h,e){var g=this.getPageFromRecordIndex(h),j=this.getPageFromRecordIndex(e);for(;g<=j;g++){if(!this.hasPage(g)){return false}}return true},hasPage:function(b){return !!this.get(b)},peekPage:function(b){return this.map[b]},getAt:function(b){return this.getRange(b,b+1)[0]},getRange:function(D,C){C--;if(!this.hasRange(D,C)){Ext.Error.raise("PageMap asked for range which it does not have")}var y=this,x=y.getPageSize(),u=y.getPageFromRecordIndex(D),A=y.getPageFromRecordIndex(C),B=(u-1)*x,r=(A*x)-1,w=u,q=[],s,z,v;for(;w<=A;w++){if(w===u){s=D-B;v=true}else{s=0;v=false}if(w===A){z=x-(r-C);v=true}if(v){Ext.Array.push(q,Ext.Array.slice(y.getPage(w),s,z))}else{Ext.Array.push(q,y.getPage(w))}}return q}});Ext.define("Ext.data.BufferedStore",{extend:Ext.data.ProxyStore,alias:"store.buffered",isBufferedStore:true,buffered:true,config:{data:0,pageSize:25,remoteSort:true,remoteFilter:true,sortOnLoad:false,purgePageCount:5,trailingBufferZone:25,leadingBufferZone:200,defaultViewSize:100,viewSize:0},applyData:function(c){var d=this.data||(this.data=this.createDataCollection());return d},applyProxy:function(b){b=this.callParent([b]);if(b&&b.setEnablePaging){b.setEnablePaging(true)}return b},createFiltersCollection:function(){return new Ext.util.FilterCollection()},createSortersCollection:function(){return new Ext.util.SorterCollection()},updateGroupField:function(c){var d=this;if(d.isInitializing){d.blockLoad()}d.group(c);if(d.isInitializing){d.unblockLoad()}},getGrouper:function(){return this.grouper},isGrouped:function(){return !!this.grouper},createDataCollection:function(){var c=this,d=new Ext.data.PageMap({store:c,rootProperty:"data",pageSize:c.getPageSize(),maxSize:c.getPurgePageCount(),listeners:{clear:c.onPageMapClear,scope:c}});c.relayEvents(d,["beforepageremove","pageadd","pageremove"]);c.pageRequests={};return d},removeAll:function(e){var d=this,g=d.getData();if(g){if(e){d.suspendEvent("clear")}g.clear();if(e){d.resumeEvent("clear")}}},load:function(d){var c=this;d=d||{};c.getData().clear();d.page=1;d.start=0;d.limit=c.getViewSize()||c.getDefaultViewSize();d.loadCallback=d.callback;delete d.callback;return c.loadToPrefetch(d)},reload:function(o){var s=this,r,y,u,p,v,z,q,x,w=s.getData();if(s.loading){return}if(!o){o={}}delete s.totalCount;w.clear(true);z=function(){if(s.rangeCached(r,Math.min(y,s.getTotalCount()))){s.loading=false;w.un("pageadd",z);x=w.getRange(r,y+1);s.fireEvent("load",s,x,true);s.fireEvent("refresh",s)}};q=Math.ceil((s.getLeadingBufferZone()+s.getTrailingBufferZone())/2);if(!s.lastRequestStart){r=o.start||0;y=r+(o.count||s.getPageSize())-1}else{r=s.lastRequestStart;y=s.lastRequestEnd}r=Math.max(r-q,0);y+=q;u=s.getPageFromRecordIndex(r);p=s.getPageFromRecordIndex(y);if(s.fireEvent("beforeload",s,o)!==false){s.loading=true;w.on("pageadd",z);for(v=u;v<=p;v++){s.prefetchPage(v,o)}}},filter:function(){if(this.remoteSort){this.getData().clear();this.callParent(arguments)}this.callParent(arguments)},clearFilter:function(){this.getData().clear();this.callParent(arguments)},filterBy:function(c,d){},loadData:function(c,d){},loadPage:function(g,e){var d=this;e=e||{};e.page=d.currentPage=g;e.start=(g-1)*d.getPageSize();e.limit=d.getViewSize()||d.getDefaultViewSize();e.loadCallback=e.callback;delete e.callback;return d.loadToPrefetch(e)},clearData:function(g){var e=this,d=e.getData();if(d){d.clear()}if(g!==true||e.clearRemovedOnLoad){e.removed.length=0}},getCount:function(){return this.totalCount||0},getRange:function(A,x,r){var s=this,z=s.totalCount-1,y=s.lastRequestStart,q=[],w=s.getData(),B,u,C,D,v;r=Ext.apply({prefetchStart:A,prefetchEnd:x},r);x=(x>=s.totalCount)?z:x;u=A===0?0:A-1;C=x===z?x:x+1;s.lastRequestStart=A;s.lastRequestEnd=x;if(s.rangeCached(u,C)){s.onRangeAvailable(r);q=w.getRange(A,x+1)}else{s.fireEvent("cachemiss",s,A,x);D=s.getPageFromRecordIndex(u);v=s.getPageFromRecordIndex(C);B=function(c,a,b){if(a>=D&&a<=v&&s.rangeCached(u,C)){s.fireEvent("cachefilled",s,A,x);w.un("pageadd",B);s.onRangeAvailable(r)}};w.on("pageadd",B);s.prefetchRange(A,x)}s.primeCache(A,x,A<y?-1:1);return q},getById:function(c){var d=this.data.findBy(function(a){return a.getId()===c});return d},getAt:function(d){var c=this.getData();if(c.hasRange(d,d)){return c.getAt(d)}},getByInternalId:function(b){return this.data.getByInternalId(b)},indexOf:function(b){return this.getData().indexOf(b)},indexOfId:function(b){return this.indexOf(this.getById(b))},group:function(e,h){var j=this,g;if(e&&typeof e==="string"){g=j.grouper;if(!g){j.grouper=new Ext.util.Grouper({property:e,direction:h||"ASC",root:"data"})}else{if(h===undefined){g.toggle()}else{g.setDirection(h)}}}else{j.grouper=e?j.getSorters().decodeSorter(e,"Ext.util.Grouper"):null}if(j.isLoadBlocked()){return}j.getData().clear();j.loadPage(1,{callback:function(){j.fireEvent("groupchange",j,j.getGrouper())}})},getPageFromRecordIndex:function(b){return Math.floor(b/this.getPageSize())+1},loadToPrefetch:function(s){var x=this,G=s,B=x.getPurgePageCount(),A,H,v,w=s.start,I=s.start+s.limit-1,z=Math.min(I,s.start+(x.getViewSize()||s.limit)-1),y=x.getPageFromRecordIndex(Math.max(w-x.getTrailingBufferZone(),0)),u=x.getPageFromRecordIndex(I+x.getLeadingBufferZone()),C=x.getData(),F=function(){if(x.rangeCached(w,z)){x.loading=false;H=C.getRange(w,z+1);C.un("pageadd",F);if(x.hasListeners.guaranteedrange){x.guaranteeRange(w,z,s.callback,s.scope)}if(s.loadCallback){s.loadCallback.call(s.scope||x,H,D,true)}if(s.callback){s.callback.call(s.scope||x,H,w,I,s)}x.fireEvent("datachanged",x);x.fireEvent("refresh",x);x.fireEvent("load",x,H,true)}},D;if(B){C.setMaxSize(B?(u-y+1)+B:0)}if(x.fireEvent("beforeload",x,s)!==false){delete x.totalCount;x.loading=true;if(s.callback){G=Ext.apply({},s);delete G.callback}x.on("prefetch",function(c,d,a,b){if(a){D=b;if((v=x.getTotalCount())){C.on("pageadd",F);z=Math.min(z,v-1);u=x.getPageFromRecordIndex(Math.min(z+x.getLeadingBufferZone(),v-1));for(A=y+1;A<=u;++A){x.prefetchPage(A,G)}}else{x.fireEvent("datachanged",x);x.fireEvent("refresh",x);x.fireEvent("load",x,d,true)}}else{x.fireEvent("load",x,d,false)}},null,{single:true});x.prefetchPage(y,G)}},prefetch:function(o){var m=this,j=m.getPageSize(),l=m.getData(),n,h;if(j){if(m.lastPageSize&&j!=m.lastPageSize){Ext.Error.raise("pageSize cannot be dynamically altered")}if(!l.getPageSize()){l.setPageSize(j)}}else{m.pageSize=l.setPageSize(j=o.limit)}m.lastPageSize=j;if(!o.page){o.page=m.getPageFromRecordIndex(o.start);o.start=(o.page-1)*j;o.limit=Math.ceil(o.limit/j)*j}if(!m.pageRequests[o.page]){n=m.proxy;o=Ext.apply({action:"read",filters:m.getFilters().items,sorters:m.getSorters().items,grouper:m.getGrouper(),internalCallback:m.onProxyPrefetch,internalScope:m},o);h=n.createOperation("read",o);h.pageMapGeneration=l.pageMapGeneration;if(m.fireEvent("beforeprefetch",m,h)!==false){m.pageRequests[o.page]=h.execute();if(n.isSynchronous){delete m.pageRequests[o.page]}}}return m},onPageMapClear:function(){var n=this,o=n.wasLoading,j=n.pageRequests,l=n.getData(),h,m;l.clearListeners();l.on("clear",n.onPageMapClear,n);n.relayEvents(l,["beforepageremove","pageadd","pageremove"]);n.loading=true;n.totalCount=0;for(m in j){if(j.hasOwnProperty(m)){h=j[m];delete j[m];delete h.callback}}n.fireEvent("clear",n);n.loading=o},prefetchPage:function(m,h){var n=this,j=n.getPageSize(),l=(m-1)*j,o=n.totalCount;if(o!==undefined&&n.data.getCount()===o){return}n.prefetch(Ext.applyIf({page:m,start:l,limit:j},h))},onProxyPrefetch:function(q){var o=this,p=q.getResultSet(),j=q.getRecords(),m=q.wasSuccessful(),n=q.getPage(),l=o.totalCount;if(q.pageMapGeneration===o.getData().pageMapGeneration){if(p){o.totalCount=p.getTotal();if(o.totalCount!==l){o.fireEvent("totalcountchange",o.totalCount)}}if(n!==undefined){delete o.pageRequests[n]}o.loading=false;o.fireEvent("prefetch",o,j,m,q);if(m){o.cachePage(j,q.getPage())}Ext.callback(q.getCallback(),q.getScope()||o,[j,q,m])}},cachePage:function(g,j){var l=this,h=g.length,m;if(!Ext.isDefined(l.totalCount)){l.totalCount=g.length;l.fireEvent("totalcountchange",l.totalCount)}for(m=0;m<h;m++){g[m].join(l)}l.getData().addPage(j,g)},rangeCached:function(c,d){return this.getData().hasRange(c,d)},pageCached:function(b){return this.getData().hasPage(b)},pagePending:function(b){return !!this.pageRequests[b]},rangeSatisfied:function(c,d){return this.rangeCached(c,d)},onRangeAvailable:function(n){var m=this,h=m.getTotalCount(),l=n.prefetchStart,j=(n.prefetchEnd>h-1)?h-1:n.prefetchEnd,o;j=Math.max(0,j);o=m.getData().getRange(l,j+1);if(n.fireEvent!==false){m.fireEvent("guaranteedrange",o,l,j,n)}if(n.callback){n.callback.call(n.scope||m,o,l,j,n)}},guaranteeRange:function(j,h,l,m,g){g=Ext.apply({callback:l,scope:m},g);this.getRange(j,h+1,g)},prefetchRange:function(m,j){var o=this,p=o.getPurgePageCount(),q,l,n;if(!o.rangeCached(m,j)){q=o.getPageFromRecordIndex(m);l=o.getPageFromRecordIndex(j);o.getData().setMaxSize(p?(l-q+1)+p:0);for(n=q;n<=l;n++){if(!o.pageCached(n)){o.prefetchPage(n)}}}},primeCache:function(n,s,o){var p=this,q=p.getLeadingBufferZone(),r=p.getTrailingBufferZone(),l=p.getPageSize(),m=p.totalCount;if(o===-1){n=Math.max(n-q,0);s=Math.min(s+r,m-1)}else{if(o===1){n=Math.max(Math.min(n-r,m-l),0);s=Math.min(s+q,m-1)}else{n=Math.min(Math.max(Math.floor(n-((q+r)/2)),0),m-p.pageSize);s=Math.min(Math.max(Math.ceil(s+((q+r)/2)),0),m-1)}}p.prefetchRange(n,s)},sort:function(d,e,g){if(arguments.length===0){this.clearAndLoad()}else{this.getSorters().addSort(d,e,g)}},onSorterEndUpdate:function(){var d=this,c=d.getSorters().getRange();if(c.length){d.clearAndLoad({callback:function(){d.fireEvent("sort",d,c)}})}else{d.fireEvent("sort",d,c)}},clearAndLoad:function(b){this.getData().clear();this.loadPage(1,b)},privates:{isMoving:function(){return false}}});Ext.define("Ext.data.JsonP",{singleton:true,requestCount:0,requests:{},timeout:30000,disableCaching:true,disableCachingParam:"_dc",callbackKey:"callback",request:function(q){q=Ext.apply({},q);var v=this,A=Ext.isDefined(q.disableCaching)?q.disableCaching:v.disableCaching,x=q.disableCachingParam||v.disableCachingParam,B=++v.requestCount,s=q.callbackName||"callback"+B,w=q.callbackKey||v.callbackKey,r=Ext.isDefined(q.timeout)?q.timeout:v.timeout,z=Ext.apply({},q.params),C=q.url,D=Ext.name,y,u;if(A&&!z[x]){z[x]=Ext.Date.now()}q.params=z;z[w]=D+".data.JsonP."+s;u=v.createScript(C,z,q);v.requests[B]=y={url:C,params:z,script:u,id:B,scope:q.scope,success:q.success,failure:q.failure,callback:q.callback,callbackKey:w,callbackName:s};if(r>0){y.timeout=Ext.defer(v.handleTimeout,r,v,[y])}v.setupErrorHandling(y);v[s]=Ext.bind(v.handleResponse,v,[y],true);v.loadScript(y);return y},abort:function(j){var e=this,h=e.requests,g;if(j){if(!j.id){j=h[j]}e.handleAbort(j)}else{for(g in h){if(h.hasOwnProperty(g)){e.abort(h[g])}}}},setupErrorHandling:function(b){b.script.onerror=Ext.bind(this.handleError,this,[b])},handleAbort:function(b){b.errorType="abort";this.handleResponse(null,b)},handleError:function(b){b.errorType="error";this.handleResponse(null,b)},cleanupErrorHandling:function(b){b.script.onerror=null},handleTimeout:function(b){b.errorType="timeout";this.handleResponse(null,b)},handleResponse:function(e,j){var h=true,g=Ext.GlobalEvents;if(j.timeout){clearTimeout(j.timeout)}delete this[j.callbackName];delete this.requests[j.id];this.cleanupErrorHandling(j);Ext.fly(j.script).destroy();if(j.errorType){h=false;Ext.callback(j.failure,j.scope,[j.errorType])}else{Ext.callback(j.success,j.scope,[e])}Ext.callback(j.callback,j.scope,[h,e,j.errorType]);if(g.hasListeners.idle){g.fireEvent("idle")}},createScript:function(j,h,e){var g=document.createElement("script");g.setAttribute("src",Ext.urlAppend(j,Ext.Object.toQueryString(h)));g.setAttribute("async",true);g.setAttribute("type","text/javascript");return g},loadScript:function(b){Ext.getHead().appendChild(b.script)}});Ext.define("Ext.data.proxy.JsonP",{extend:Ext.data.proxy.Server,alternateClassName:"Ext.data.ScriptTagProxy",alias:["proxy.jsonp","proxy.scripttag"],config:{callbackKey:"callback",recordParam:"records",autoAppendParams:true},doRequest:function(g){var j=this,e=j.buildRequest(g),h=e.getParams();e.setConfig({callbackKey:j.callbackKey,timeout:j.timeout,scope:j,disableCaching:false,callback:j.createRequestCallback(e,g)});if(j.getAutoAppendParams()){e.setParams({})}e.setRawRequest(Ext.data.JsonP.request(e.getCurrentConfig()));e.setParams(h);j.lastRequest=e;return e},createRequestCallback:function(g,e){var d=this;return function(a,c,b){if(g===d.lastRequest){d.lastRequest=null}d.processResponse(a,e,g,c)}},setException:function(c,d){c.setException(c.getRequest().getRawRequest().errorType)},buildUrl:function(q){var o=this,x=o.callParent(arguments),u=q.getRecords(),s=o.getWriter(),r,v,w,p,n;if(s&&q.getOperation().allowWrite()){q=s.write(q)}r=q.getParams();v=r.filters;delete r.filters;if(v&&v.length){for(p=0;p<v.length;p++){w=v[p];n=w.getValue();if(n){r[w.getProperty()]=n}}}if(Ext.isArray(u)&&u.length>0&&(!s||!s.getEncode())){r[o.getRecordParam()]=o.encodeRecords(u)}if(o.getAutoAppendParams()){x=Ext.urlAppend(x,Ext.Object.toQueryString(r))}return x},abort:function(b){b=b||this.lastRequest;if(b){Ext.data.JsonP.abort(b.getRawRequest())}},encodeRecords:function(e){var h=[],j=0,g=e.length;for(;j<g;j++){h.push(Ext.encode(e[j].getData()))}return h}});Ext.define("Ext.data.ModelManager",{alternateClassName:"Ext.ModelMgr",singleton:true,deprecated:{5:{methods:{clear:null,create:function(j,e,h){var g=e;if(!g.isEntity){g=this.getModel(e||j.name)}return g.createWithId(h,j)},each:function(c,d){Ext.data.Model.schema.eachEntity(c,d)},get:function(b){return this.getModel(b)},getCount:function(){return Ext.data.Model.schema.entityCount},getModel:function(b){return Ext.data.schema.Schema.lookupEntity(b)},isRegistered:function(b){return !!this.getModel(b)}}}}});Ext.define("Ext.data.Request",{config:{action:undefined,params:undefined,method:"GET",url:null,operation:null,proxy:null,disableCaching:false,headers:{},callbackKey:null,rawRequest:null,jsonData:undefined,xmlData:undefined,withCredentials:false,username:null,password:null,binary:false,callback:null,scope:null,timeout:30000,records:null,directFn:null,args:null,useDefaultXhrHeader:null},constructor:function(b){this.initConfig(b)},getParam:function(e){var g=this.getParams(),d;if(g){return g[e]}return d},setParam:function(e,d){var g=this.getParams()||{};g[e]=d;this.setParams(g)}});Ext.define("Ext.data.Types",{singleton:true},function(c){var d=Ext.data.SortTypes;Ext.apply(c,{stripRe:/[\$,%]/g,AUTO:{sortType:d.none,type:"auto"},STRING:{convert:function(a){var b=this.getAllowNull()?null:"";return(a===undefined||a===null)?b:String(a)},sortType:d.asUCString,type:"string"},INT:{convert:function(a){if(typeof a==="number"){return parseInt(a,10)}return a!==undefined&&a!==null&&a!==""?parseInt(String(a).replace(c.stripRe,""),10):(this.getAllowNull()?null:0)},sortType:d.none,type:"int"},FLOAT:{convert:function(a){if(typeof a==="number"){return a}return a!==undefined&&a!==null&&a!==""?parseFloat(String(a).replace(c.stripRe,""),10):(this.getAllowNull()?null:0)},sortType:d.none,type:"float"},BOOL:{convert:function(a){if(typeof a==="boolean"){return a}if(this.getAllowNull()&&(a===undefined||a===null||a==="")){return null}return a==="true"||a==1},sortType:d.none,type:"bool"},DATE:{convert:function(b){var a=this.getDateReadFormat()||this.getDateFormat(),g;if(!b){return null}if(b instanceof Date){return b}if(a){return Ext.Date.parse(b,a)}g=Date.parse(b);return g?new Date(g):null},sortType:d.asDate,type:"date"}});c.BOOLEAN=c.BOOL;c.INTEGER=c.INT;c.NUMBER=c.FLOAT});Ext.define("Ext.data.Validation",{extend:Ext.data.Model,isValidation:true,syncGeneration:0,attach:function(b){this.record=b;delete this.data.id},getValidation:function(){return null},isValid:function(){var b=this;if(b.syncGeneration!==b.record.generation){b.refresh()}return b.dirty},refresh:function(T){var C=this,B=C.data,R=C.record,M=R.fields,J=R.generation,D=R.data,N=R.validationSeparator,S=null,Q,O,L,U,G,I,K,F,H,P,j,A;if(T||C.syncGeneration!==J){C.syncGeneration=J;for(I=0,H=M.length;I<H;++I){U=M[I];A=U.name;j=D[A];Q=U.defaultInvalidMessage;L=0;if(!(A in B)){B[A]=O=true}else{O=B[A]}if(U.validate!==Ext.emptyFn){P=U.validate(j,N);if(P!==true){L=P||Q}}if(!L){L=true}if(L!==O){(S||(S={}))[A]=L}}if(S){C.set(S)}}}});Ext.define("E.overrides.data.Validation",{override:"Ext.data.Validation",refresh:function(T){var C=this,B=C.data,R=C.record,M=R.fields,J=R.generation,D=R.data,N=R.validationSeparator,S=null,Q,O,L,U,G,I,K,F,H,P,j,A;if(T||C.syncGeneration!==J){C.syncGeneration=J;for(I=0,H=M.length;I<H;++I){U=M[I];A=U.name;j=D[A];Q=U.defaultInvalidMessage;L=0;if(!(A in B)){B[A]=O=true}else{O=B[A]}if(U.validate!==Ext.emptyFn){P=U.validate(j,N,null,R);if(P!==true){L=P||Q}}if(!L){L=true}if(L!==O){(S||(S={}))[A]=L}}if(S){C.set(S)}}}});Ext.define("Ext.dom.Helper",function(){var m="afterbegin",p="afterend",o="beforebegin",r="beforeend",n=["BeforeBegin","previousSibling"],q=["AfterEnd","nextSibling"],s={beforebegin:n,afterend:q},l={beforebegin:n,afterend:q,afterbegin:["AfterBegin","firstChild"],beforeend:["BeforeEnd","lastChild"]};return{singleton:true,alternateClassName:["Ext.DomHelper","Ext.core.DomHelper"],emptyTags:/^(?:br|frame|hr|img|input|link|meta|range|spacer|wbr|area|param|col)$/i,confRe:/^(?:tag|children|cn|html|tpl|tplData)$/i,endRe:/end/i,attributeTransform:{cls:"class",htmlFor:"for"},closeTags:{},detachedDiv:document.createElement("div"),decamelizeName:function(){var c=/([a-z])([A-Z])/g,a={};function b(g,d,e){return d+"-"+e.toLowerCase()}return function(d){return a[d]||(a[d]=d.replace(c,b))}}(),generateMarkup:function(v,g){var a=this,b=typeof v,c,h,j,d,e;if(b==="string"||b==="number"){g.push(v)}else{if(Ext.isArray(v)){for(d=0;d<v.length;d++){if(v[d]){a.generateMarkup(v[d],g)}}}else{j=v.tag||"div";g.push("<",j);for(c in v){if(v.hasOwnProperty(c)){h=v[c];if(h!==undefined&&!a.confRe.test(c)){if(typeof h==="object"){g.push(" ",c,'="');a.generateStyles(h,g,true).push('"')}else{g.push(" ",a.attributeTransform[c]||c,'="',h,'"')}}}}if(a.emptyTags.test(j)){g.push("/>")}else{g.push(">");if((h=v.tpl)){h.applyOut(v.tplData,g)}if((h=v.html)){g.push(h)}if((h=v.cn||v.children)){a.generateMarkup(h,g)}e=a.closeTags;g.push(e[j]||(e[j]="</"+j+">"))}}}return g},generateStyles:function(d,a,e){var b=a||[],g,c;for(g in d){if(d.hasOwnProperty(g)){c=d[g];g=this.decamelizeName(g);if(e&&Ext.String.hasHtmlCharacters(c)){c=Ext.String.htmlEncode(c)}b.push(g,":",c,";")}}return a||b.join("")},markup:function(b){if(typeof b==="string"){return b}var a=this.generateMarkup(b,[]);return a.join("")},applyStyles:function(b,a){Ext.fly(b).applyStyles(a)},createContextualFragment:function(a){var c=this.detachedDiv,b=document.createDocumentFragment(),e,d;c.innerHTML=a;d=c.childNodes;e=d.length;while(e--){b.appendChild(d[0])}return b},createDom:function(e,b){var g=this,a=g.markup(e),c=g.detachedDiv,d;c.innerHTML=a;d=c.firstChild;return Ext.supports.ChildContentClearedWhenSettingInnerHTML?d.cloneNode(true):d},insertHtml:function(d,h,c){var w=this,g,b,e,x,j;d=d.toLowerCase();if(h.insertAdjacentHTML){if(w.ieInsertHtml){j=w.ieInsertHtml(d,h,c);if(j){return j}}g=l[d];if(g){h.insertAdjacentHTML(g[0],c);return h[g[1]]}}else{if(h.nodeType===3){d=d===m?o:d;d=d===r?p:d}b=Ext.supports.CreateContextualFragment?h.ownerDocument.createRange():undefined;x="setStart"+(this.endRe.test(d)?"After":"Before");if(s[d]){if(b){b[x](h);j=b.createContextualFragment(c)}else{j=this.createContextualFragment(c)}h.parentNode.insertBefore(j,d===o?h:h.nextSibling);return h[(d===o?"previous":"next")+"Sibling"]}else{e=(d===m?"first":"last")+"Child";if(h.firstChild){if(b){try{b[x](h[e]);j=b.createContextualFragment(c)}catch(a){j=this.createContextualFragment(c)}}else{j=this.createContextualFragment(c)}if(d===m){h.insertBefore(j,h.firstChild)}else{h.appendChild(j)}}else{h.innerHTML=c}return h[e]}}},insertBefore:function(b,c,a){return this.doInsert(b,c,a,o)},insertAfter:function(b,c,a){return this.doInsert(b,c,a,p)},insertFirst:function(b,c,a){return this.doInsert(b,c,a,m)},append:function(b,c,a){return this.doInsert(b,c,a,r)},overwrite:function(e,a,c){var d=this,b;e=Ext.getDom(e);a=d.markup(a);if(d.ieOverwrite){b=d.ieOverwrite(e,a)}if(!b){e.innerHTML=a;b=e.firstChild}return c?Ext.get(b):b},doInsert:function(g,c,d,b){var e=this,a;g=g.dom||Ext.getDom(g);if("innerHTML" in g){a=e.insertHtml(b,g,e.markup(c))}else{a=e.createDom(c,null);if(g.nodeType===3){b=b===m?o:b;b=b===r?p:b}if(s[b]){g.parentNode.insertBefore(a,b===o?g:g.nextSibling)}else{if(g.firstChild&&b===m){g.insertBefore(a,g.firstChild)}else{g.appendChild(a)}}}return d?Ext.get(a):a},createTemplate:function(a){var b=this.markup(a);return new Ext.Template(b)},createHtml:function(a){return this.markup(a)}}});Ext.define("Ext.overrides.dom.Helper",(function(){var s=/^(?:table|thead|tbody|tr|td)$/i,o=/td|tr|tbody|thead/i,p="<table>",n="</table>",l=p+"<tbody>",q="</tbody>"+n,m=l+"<tr>",r="</tr>"+q;return{override:"Ext.dom.Helper",ieInsertHtml:function(b,d,a){var c=null;if(Ext.isIE9m&&s.test(d.tagName)){c=this.insertIntoTable(d.tagName.toLowerCase(),b,d,a)}return c},ieOverwrite:function(a,b){if(Ext.isIE9m&&s.test(a.tagName)){while(a.firstChild){a.removeChild(a.firstChild)}if(b){return this.insertHtml("afterbegin",a,b)}}},ieTable:function(d,a,c,e){var j=-1,g=this.detachedDiv,h,b;g.innerHTML=[a,c,e].join("");while(++j<d){g=g.firstChild}h=g.nextSibling;if(h){h=g;g=document.createDocumentFragment();while(h){b=h.nextSibling;g.appendChild(h);h=b}}return g},insertIntoTable:function(j,e,g,d){var h,a,b=e==="beforebegin",w=e==="afterbegin",c=e==="beforeend",x=e==="afterend";if(j==="td"&&(w||c)||!o.test(j)&&(b||x)){return null}a=b?g:x?g.nextSibling:w?g.firstChild:null;if(b||x){g=g.parentNode}if(j==="td"||(j==="tr"&&(c||w))){h=this.ieTable(4,m,d,r)}else{if(((j==="tbody"||j==="thead")&&(c||w))||(j==="tr"&&(b||x))){h=this.ieTable(3,l,d,q)}else{h=this.ieTable(2,p,d,n)}}g.insertBefore(h,a);return h}}})());Ext.define("Ext.dom.Query",function(){var DQ,doc=document,cache,simpleCache,valueCache,useClassList=!!doc.documentElement.classList,useElementPointer=!!doc.documentElement.firstElementChild,useChildrenCollection=(function(){var d=doc.createElement("div");d.innerHTML="<!-- -->text<!-- -->";return d.children&&(d.children.length===0)})(),nonSpace=/\S/,trimRe=/^\s+|\s+$/g,tplRe=/\{(\d+)\}/g,modeRe=/^(\s?[\/>+~]\s?|\s|$)/,tagTokenRe=/^(#)?([\w\-\*\|\\]+)/,nthRe=/(\d*)n\+?(\d*)/,nthRe2=/\D/,startIdRe=/^\s*#/,isIE=window.ActiveXObject?true:false,key=30803,longHex=/\\([0-9a-fA-F]{6})/g,shortHex=/\\([0-9a-fA-F]{1,6})\s{0,1}/g,nonHex=/\\([^0-9a-fA-F]{1})/g,escapes=/\\/g,num,hasEscapes,supportsColonNsSeparator=(function(){var xmlDoc,xmlString='<r><a:b xmlns:a="n"></a:b></r>';if(window.DOMParser){xmlDoc=(new DOMParser()).parseFromString(xmlString,"application/xml")}else{xmlDoc=new ActiveXObject("Microsoft.XMLDOM");xmlDoc.loadXML(xmlString)}return !!xmlDoc.getElementsByTagName("a:b").length})(),longHexToChar=function($0,$1){return String.fromCharCode(parseInt($1,16))},shortToLongHex=function($0,$1){while($1.length<6){$1="0"+$1}return"\\"+$1},charToLongHex=function($0,$1){num=$1.charCodeAt(0).toString(16);if(num.length===1){num="0"+num}return"\\0000"+num},unescapeCssSelector=function(selector){return(hasEscapes)?selector.replace(longHex,longHexToChar):selector},setupEscapes=function(path){hasEscapes=(path.indexOf("\\")>-1);if(hasEscapes){path=path.replace(shortHex,shortToLongHex).replace(nonHex,charToLongHex).replace(escapes,"\\\\")}return path};eval("var batch = 30803, child, next, prev, byClassName;");child=useChildrenCollection?function child(parent,index){return parent.children[index]}:function child(parent,index){var i=0,n=parent.firstChild;while(n){if(n.nodeType==1){if(++i==index){return n}}n=n.nextSibling}return null};next=useElementPointer?function(n){return n.nextElementSibling}:function(n){while((n=n.nextSibling)&&n.nodeType!=1){}return n};prev=useElementPointer?function(n){return n.previousElementSibling}:function(n){while((n=n.previousSibling)&&n.nodeType!=1){}return n};function children(parent){var n=parent.firstChild,nodeIndex=-1,nextNode;while(n){nextNode=n.nextSibling;if(n.nodeType==3&&!nonSpace.test(n.nodeValue)){parent.removeChild(n)}else{n.nodeIndex=++nodeIndex}n=nextNode}return this}byClassName=useClassList?function(nodeSet,cls){cls=unescapeCssSelector(cls);if(!cls){return nodeSet}var result=[],ri=-1,i,ci,classList;for(i=0;ci=nodeSet[i];i++){classList=ci.classList;if(classList){if(classList.contains(cls)){result[++ri]=ci}}else{if((" "+ci.className+" ").indexOf(cls)!==-1){result[++ri]=ci}}}return result}:function(nodeSet,cls){cls=unescapeCssSelector(cls);if(!cls){return nodeSet}var result=[],ri=-1,i,ci;for(i=0;ci=nodeSet[i];i++){if((" "+ci.className+" ").indexOf(cls)!==-1){result[++ri]=ci}}return result};function attrValue(n,attr){if(!n.tagName&&typeof n.length!="undefined"){n=n[0]}if(!n){return null}if(attr=="for"){return n.htmlFor}if(attr=="class"||attr=="className"){return n.className}return n.getAttribute(attr)||n[attr]}function getNodes(ns,mode,tagName){var result=[],ri=-1,cs,i,ni,j,ci,cn,utag,n,cj;if(!ns){return result}tagName=tagName.replace("|",":")||"*";if(typeof ns.getElementsByTagName!="undefined"){ns=[ns]}if(!mode){tagName=unescapeCssSelector(tagName);if(!supportsColonNsSeparator&&DQ.isXml(ns[0])&&tagName.indexOf(":")!==-1){for(i=0;ni=ns[i];i++){cs=ni.getElementsByTagName(tagName.split(":").pop());for(j=0;ci=cs[j];j++){if(ci.tagName===tagName){result[++ri]=ci}}}}else{for(i=0;ni=ns[i];i++){cs=ni.getElementsByTagName(tagName);for(j=0;ci=cs[j];j++){result[++ri]=ci}}}}else{if(mode=="/"||mode==">"){utag=tagName.toUpperCase();for(i=0;ni=ns[i];i++){cn=ni.childNodes;for(j=0;cj=cn[j];j++){if(cj.nodeName==utag||cj.nodeName==tagName||tagName=="*"){result[++ri]=cj}}}}else{if(mode=="+"){utag=tagName.toUpperCase();for(i=0;n=ns[i];i++){while((n=n.nextSibling)&&n.nodeType!=1){}if(n&&(n.nodeName==utag||n.nodeName==tagName||tagName=="*")){result[++ri]=n}}}else{if(mode=="~"){utag=tagName.toUpperCase();for(i=0;n=ns[i];i++){while((n=n.nextSibling)){if(n.nodeName==utag||n.nodeName==tagName||tagName=="*"){result[++ri]=n}}}}}}}return result}function concat(a,b){a.push.apply(a,b);return a}function byTag(cs,tagName){if(cs.tagName||cs===doc){cs=[cs]}if(!tagName){return cs}var result=[],ri=-1,i,ci;tagName=tagName.toLowerCase();for(i=0;ci=cs[i];i++){if(ci.nodeType==1&&ci.tagName.toLowerCase()==tagName){result[++ri]=ci}}return result}function byId(cs,id){id=unescapeCssSelector(id);if(cs.tagName||cs===doc){cs=[cs]}if(!id){return cs}var result=[],ri=-1,i,ci;for(i=0;ci=cs[i];i++){if(ci&&ci.id==id){result[++ri]=ci;return result}}return result}function byAttribute(cs,attr,value,op,custom){var result=[],ri=-1,useGetStyle=custom=="{",fn=DQ.operators[op],a,xml,hasXml,i,ci;value=unescapeCssSelector(value);for(i=0;ci=cs[i];i++){if(ci.nodeType===1){if(!hasXml){xml=DQ.isXml(ci);hasXml=true}if(!xml){if(useGetStyle){a=DQ.getStyle(ci,attr)}else{if(attr=="class"||attr=="className"){a=ci.className}else{if(attr=="for"){a=ci.htmlFor}else{if(attr=="href"){a=ci.getAttribute("href",2)}else{a=ci.getAttribute(attr)}}}}}else{a=ci.getAttribute(attr)}if((fn&&fn(a,value))||(!fn&&a)){result[++ri]=ci}}}return result}function byPseudo(cs,name,value){value=unescapeCssSelector(value);return DQ.pseudos[name](cs,value)}function nodupIEXml(cs){var d=++key,r,i,len,c;cs[0].setAttribute("_nodup",d);r=[cs[0]];for(i=1,len=cs.length;i<len;i++){c=cs[i];if(!c.getAttribute("_nodup")!=d){c.setAttribute("_nodup",d);r[r.length]=c}}for(i=0,len=cs.length;i<len;i++){cs[i].removeAttribute("_nodup")}return r}function nodup(cs){if(!cs){return[]}var len=cs.length,c,i,r=cs,cj,ri=-1,d,j;if(!len||typeof cs.nodeType!="undefined"||len==1){return cs}if(isIE&&typeof cs[0].selectSingleNode!="undefined"){return nodupIEXml(cs)}d=++key;cs[0]._nodup=d;for(i=1;c=cs[i];i++){if(c._nodup!=d){c._nodup=d}else{r=[];for(j=0;j<i;j++){r[++ri]=cs[j]}for(j=i+1;cj=cs[j];j++){if(cj._nodup!=d){cj._nodup=d;r[++ri]=cj}}return r}}return r}function quickDiffIEXml(c1,c2){var d=++key,r=[],i,len;for(i=0,len=c1.length;i<len;i++){c1[i].setAttribute("_qdiff",d)}for(i=0,len=c2.length;i<len;i++){if(c2[i].getAttribute("_qdiff")!=d){r[r.length]=c2[i]}}for(i=0,len=c1.length;i<len;i++){c1[i].removeAttribute("_qdiff")}return r}function quickDiff(c1,c2){var len1=c1.length,d=++key,r=[],i,len;if(!len1){return c2}if(isIE&&typeof c1[0].selectSingleNode!="undefined"){return quickDiffIEXml(c1,c2)}for(i=0;i<len1;i++){c1[i]._qdiff=d}for(i=0,len=c2.length;i<len;i++){if(c2[i]._qdiff!=d){r[r.length]=c2[i]}}return r}function quickId(ns,mode,root,id){if(ns==root){id=unescapeCssSelector(id);var d=root.ownerDocument||root;return d.getElementById(id)}ns=getNodes(ns,mode,"*");return byId(ns,id)}return{singleton:true,alternateClassName:["Ext.core.DomQuery","Ext.DomQuery"],_init:function(){DQ=this;DQ.operators=Ext.Object.chain(Ext.util.Operators);DQ._cache=cache=new Ext.util.LruCache({maxSize:200});DQ._valueCache=valueCache=new Ext.util.LruCache({maxSize:200});DQ._simpleCache=simpleCache=new Ext.util.LruCache({maxSize:200})},clearCache:function(){cache.clear();valueCache.clear();simpleCache.clear()},getStyle:function(el,name){return Ext.fly(el,"_DomQuery").getStyle(name)},compile:function(path,type){type=type||"select";var fn=["var f = function(root) {\n var mode; ++batch; var n = root || document;\n"],lastPath,matchers=DQ.matchers,matchersLn=matchers.length,modeMatch,lmode=path.match(modeRe),tokenMatch,matched,j,t,m;path=setupEscapes(path);if(lmode&&lmode[1]){fn[fn.length]='mode="'+lmode[1].replace(trimRe,"")+'";';path=path.replace(lmode[1],"")}while(path.substr(0,1)=="/"){path=path.substr(1)}while(path&&lastPath!=path){lastPath=path;tokenMatch=path.match(tagTokenRe);if(type=="select"){if(tokenMatch){if(tokenMatch[1]=="#"){fn[fn.length]='n = quickId(n, mode, root, "'+tokenMatch[2]+'");'}else{fn[fn.length]='n = getNodes(n, mode, "'+tokenMatch[2]+'");'}path=path.replace(tokenMatch[0],"")}else{if(path.substr(0,1)!="@"){fn[fn.length]='n = getNodes(n, mode, "*");'}}}else{if(tokenMatch){if(tokenMatch[1]=="#"){fn[fn.length]='n = byId(n, "'+tokenMatch[2]+'");'}else{fn[fn.length]='n = byTag(n, "'+tokenMatch[2]+'");'}path=path.replace(tokenMatch[0],"")}}while(!(modeMatch=path.match(modeRe))){matched=false;for(j=0;j<matchersLn;j++){t=matchers[j];m=path.match(t.re);if(m){fn[fn.length]=t.select.replace(tplRe,function(x,i){return m[i]});path=path.replace(m[0],"");matched=true;break}}if(!matched){Ext.Error.raise({sourceClass:"Ext.DomQuery",sourceMethod:"compile",msg:'Error parsing selector. Parsing failed at "'+path+'"'})}}if(modeMatch[1]){fn[fn.length]='mode="'+modeMatch[1].replace(trimRe,"")+'";';path=path.replace(modeMatch[1],"")}}fn[fn.length]="return nodup(n);\n}";eval(fn.join(""));return f},jsSelect:function(path,root,type){root=root||doc;if(typeof root=="string"){root=doc.getElementById(root)}var paths=Ext.splitAndUnescape(path,","),results=[],query,i,len,subPath,result;for(i=0,len=paths.length;i<len;i++){subPath=paths[i].replace(trimRe,"");query=cache.get(subPath);if(!query){query=DQ.compile(subPath,type);if(!query){Ext.Error.raise({sourceClass:"Ext.DomQuery",sourceMethod:"jsSelect",msg:subPath+" is not a valid selector"})}cache.add(subPath,query)}else{setupEscapes(subPath)}result=query(root);if(result&&result!==doc){results=results.concat(result)}}if(paths.length>1){return nodup(results)}return results},isXml:function(el){var docEl=(el?el.ownerDocument||el:0).documentElement;return docEl?docEl.nodeName!=="HTML":false},select:doc.querySelectorAll?function(path,root,type,single){root=root||doc;if(!DQ.isXml(root)){try{if(root.parentNode&&(root.nodeType!==9)&&path.indexOf(",")===-1&&!startIdRe.test(path)){path=Ext.makeIdSelector(Ext.id(root))+" "+path;root=root.parentNode}return single?[root.querySelector(path)]:Ext.Array.toArray(root.querySelectorAll(path))}catch(e){}}return DQ.jsSelect.call(this,path,root,type)}:function(path,root,type){return DQ.jsSelect.call(this,path,root,type)},selectNode:function(path,root){return Ext.DomQuery.select(path,root,null,true)[0]},selectValue:function(path,root,defaultValue){path=path.replace(trimRe,"");var query=valueCache.get(path),n,v;if(!query){query=DQ.compile(path,"select");valueCache.add(path,query)}else{setupEscapes(path)}n=query(root);return DQ.getNodeValue(n[0]?n[0]:n)},getNodeValue:function(node,defaultValue){if(typeof node.normalize=="function"){node.normalize()}var v=(node&&node.firstChild?node.firstChild.nodeValue:null);return((v===null||v===undefined||v==="")?defaultValue:v)},selectNumber:function(path,root,defaultValue){var v=DQ.selectValue(path,root,defaultValue||0);return parseFloat(v)},is:function(el,ss){if(typeof el=="string"){el=doc.getElementById(el)}var isArray=Ext.isArray(el),result=DQ.filter(isArray?el:[el],ss);return isArray?(result.length==el.length):(result.length>0)},filter:function(els,ss,nonMatches){ss=ss.replace(trimRe,"");var query=simpleCache.get(ss),result;if(!query){query=DQ.compile(ss,"simple");simpleCache.add(ss,query)}else{setupEscapes(ss)}result=query(els);return nonMatches?quickDiff(result,els):result},matchers:[{re:/^\.([\w\-\\]+)/,select:useClassList?'n = byClassName(n, "{1}");':'n = byClassName(n, " {1} ");'},{re:/^\:([\w\-]+)(?:\(((?:[^\s>\/]*|.*?))\))?/,select:'n = byPseudo(n, "{1}", "{2}");'},{re:/^(?:([\[\{])(?:@)?([\w\-]+)\s?(?:(=|.=)\s?['"]?(.*?)["']?)?[\]\}])/,select:'n = byAttribute(n, "{2}", "{4}", "{3}", "{1}");'},{re:/^#([\w\-\\]+)/,select:'n = byId(n, "{1}");'},{re:/^@([\w\-\.]+)/,select:'return {firstChild:{nodeValue:attrValue(n, "{1}")}};'}],pseudos:{"first-child":function(c){var r=[],ri=-1,n,i,ci;for(i=0;(ci=n=c[i]);i++){while((n=n.previousSibling)&&n.nodeType!=1){}if(!n){r[++ri]=ci}}return r},"last-child":function(c){var r=[],ri=-1,n,i,ci;for(i=0;(ci=n=c[i]);i++){while((n=n.nextSibling)&&n.nodeType!=1){}if(!n){r[++ri]=ci}}return r},"nth-child":function(c,a){var r=[],ri=-1,m=nthRe.exec(a=="even"&&"2n"||a=="odd"&&"2n+1"||!nthRe2.test(a)&&"n+"+a||a),f=(m[1]||1)-0,l=m[2]-0,i,n,j,cn,pn;for(i=0;n=c[i];i++){pn=n.parentNode;if(batch!=pn._batch){j=0;for(cn=pn.firstChild;cn;cn=cn.nextSibling){if(cn.nodeType==1){cn.nodeIndex=++j}}pn._batch=batch}if(f==1){if(l===0||n.nodeIndex==l){r[++ri]=n}}else{if((n.nodeIndex+l)%f===0){r[++ri]=n}}}return r},"only-child":function(c){var r=[],ri=-1,i,ci;for(i=0;ci=c[i];i++){if(!prev(ci)&&!next(ci)){r[++ri]=ci}}return r},empty:function(c){var r=[],ri=-1,i,ci,cns,j,cn,empty;for(i=0;ci=c[i];i++){cns=ci.childNodes;j=0;empty=true;while(cn=cns[j]){++j;if(cn.nodeType==1||cn.nodeType==3){empty=false;break}}if(empty){r[++ri]=ci}}return r},contains:function(c,v){var r=[],ri=-1,i,ci;for(i=0;ci=c[i];i++){if((ci.textContent||ci.innerText||ci.text||"").indexOf(v)!=-1){r[++ri]=ci}}return r},nodeValue:function(c,v){var r=[],ri=-1,i,ci;for(i=0;ci=c[i];i++){if(ci.firstChild&&ci.firstChild.nodeValue==v){r[++ri]=ci}}return r},checked:function(c){var r=[],ri=-1,i,ci;for(i=0;ci=c[i];i++){if(ci.checked===true){r[++ri]=ci}}return r},not:function(c,ss){return DQ.filter(c,ss,true)},any:function(c,selectors){var ss=selectors.split("|"),r=[],ri=-1,s,i,ci,j;for(i=0;ci=c[i];i++){for(j=0;s=ss[j];j++){if(DQ.is(ci,s)){r[++ri]=ci;break}}}return r},odd:function(c){return this["nth-child"](c,"odd")},even:function(c){return this["nth-child"](c,"even")},nth:function(c,a){return c[a-1]||[]},first:function(c){return c[0]||[]},last:function(c){return c[c.length-1]||[]},has:function(c,ss){var s=DQ.select,r=[],ri=-1,i,ci;for(i=0;ci=c[i];i++){if(s(ss,ci).length>0){r[++ri]=ci}}return r},next:function(c,ss){var is=DQ.is,r=[],ri=-1,i,ci,n;for(i=0;ci=c[i];i++){n=next(ci);if(n&&is(n,ss)){r[++ri]=ci}}return r},prev:function(c,ss){var is=DQ.is,r=[],ri=-1,i,ci,n;for(i=0;ci=c[i];i++){n=prev(ci);if(n&&is(n,ss)){r[++ri]=ci}}return r},focusable:function(candidates){var len=candidates.length,results=[],i=0,c;for(;i<len;i++){c=candidates[i];if(Ext.fly(c,"_DomQuery").isFocusable()){results.push(c)}}return results},visible:function(candidates,deep){var len=candidates.length,results=[],i=0,c;for(;i<len;i++){c=candidates[i];if(Ext.fly(c,"_DomQuery").isVisible(deep)){results.push(c)}}return results},isScrolled:function(c){var r=[],ri=-1,i,ci,s;for(i=0;ci=c[i];i++){s=Ext.fly(ci,"_DomQuery").getScroll();if(s.top>0||s.left>0){r[++ri]=ci}}return r}}}},function(){this._init()});Ext.define("Ext.data.reader.Xml",{extend:Ext.data.reader.Reader,alternateClassName:"Ext.data.XmlReader",alias:"reader.xml",config:{record:"",namespace:""},createAccessor:function(c){var d=this;if(Ext.isEmpty(c)){return Ext.emptyFn}if(Ext.isFunction(c)){return c}return function(a){return d.getNodeValue(Ext.DomQuery.selectNode(c,a))}},getNodeValue:function(b){if(b){if(typeof b.normalize==="function"){b.normalize()}b=b.firstChild;if(b){return b.nodeValue}}return undefined},getResponseData:function(e){var g=e.responseXML,d="XML data not found in the response";if(!g){Ext.Logger.warn(d);return this.createReadError(d)}return g},getData:function(b){return b.documentElement||b},getRoot:function(d){var g=d.nodeName,e=this.getRootProperty();if(!e||(g&&g==e)){return d}else{if(Ext.DomQuery.isXml(d)){return Ext.DomQuery.selectNode(e,d)}}},extractData:function(e,d){var g=this.getRecord();if(g!==e.nodeName){e=Ext.DomQuery.select(g,e)}else{e=[e]}return this.callParent([e,d])},readRecords:function(c,d){if(Ext.isArray(c)){c=c[0]}this.xmlData=c;return this.callParent([c,d])},createFieldAccessor:function(j){var l=this,m=l.getNamespace(),g,h;g=j.mapping||((m?m+"|":"")+j.name);if(typeof g==="function"){h=function(a){return j.mapping(a,l)}}else{h=function(a){return l.getNodeValue(Ext.DomQuery.selectNode(g,a))}}return h}});Ext.define("E.xml.Ns",{alias:"xml_ns",singleton:true,ns:{"-":"",":":"http://www.w3.org/1999/xhtml11",svg:"http://www.w3.org/2000/svg",xsl:"http://www.w3.org/1999/XSL/Transform",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema",xf:"http://www.w3.org/2002/xforms",ev:"http://www.w3.org/2001/xml_events",ext:"http://www.sencha.com",sen:"http://www.sencha.com",reference:"http://www.sencha.com/reference",kml:"http://www.opengis.net/kml/2.2",err:"http://www.e-Smile.org/error",ed:"http://www.e-Smile.org/edge",xliff:"urn:oasis:names:tc:xliff:document:2.0",xml:"http://www.w3.org/XML/1998/namespace"}});Ext.define("E.xforms.Xpath",{alias:"xforms_xpath",expression:".",constructor:function(d){var c=this;Ext.apply(c,d);if(!c.expression){c.expression="."}if(c.expression.substring(0,2)==".["){c.expression="self::node()"+c.expression.substring(1)}if(!c.ctx){c.ctx=document}if(!c.doc){c.doc=c instanceof Document?c:document}},evalMapping:{1:"numberValue",2:"stringValue",3:"booleanValue"},evaluate:function(){var e,g,j=this;try{g=j.doc.evaluate(j.expression,j.ctx,j.ns?function(a){return j.ns[a?a:":"]||null}:j.doc.createNSResolver?j.doc.createNSResolver(j.ctx):null,XPathResult.ANY_TYPE,null)}catch(h){Ext.Error.raise({parseError:h,xpath:j,msg:"xpath expression is invalid: "+j.expression})}switch(g.resultType){case XPathResult.NUMBER_TYPE:case XPathResult.STRING_TYPE:case XPathResult.BOOLEAN_TYPE:j.value=g[j.evalMapping[g.resultType]];break;case XPathResult.UNORDERED_NODE_ITERATOR_TYPE:case XPathResult.ORDERED_NODE_ITERATOR_TYPE:j.value=[];while(!!(e=g.iterateNext())){j.value.push(e)}break;case XPathResult.UNORDERED_NODE_SNAPSHOT_TYPE:case XPathResult.ORDERED_NODE_SNAPSHOT_TYPE:j.value=[];for(e=0;e<g.snapshotLength;++e){j.value.push(g.snapshotItem(i))}break;case XPathResult.ANY_UNORDERED_NODE_TYPE:case XPathResult.FIRST_ORDERED_NODE_TYPE:j.value=g.singleNodeValue;break}return j.value},evaluateIE:function(){var b=this;b.setDocIE();return b.value=b.ctx.selectNodes(b.expression)},setDocIE:function(){var e="",g=this;if(g.doc instanceof HTMLDocument){g.doc=new ActiveXObject("Msxml2.DOMDocument").appendChild(g.doc.cloneNode(true));Ext.apply(g.doc,{async:false,validateOnParse:false})}g.doc.setProperty("SelectionLanguage","XPath");for(var d in g.ns){e+="xmlns"+(d==":"?"'":":'")+this.ns[d]+"' "}g.doc.setProperty("SelectionNamespaces",e)}},function(){var c=this,d=c.prototype;d.ns=E.xml.Ns.ns;if(Ext.isIE){Element.prototype.xpath=function(a,b){return new c({expression:a,ns:b||c.prototype.ns,ctx:this,doc:this.ownerDocument||this.elementDocument}).evaluateIE()}}else{Node.prototype.xpath=function(a,b){return new c({expression:a,ns:b||c.prototype.ns,ctx:this,doc:this.ownerDocument?this.ownerDocument:this}).evaluate()}}});Ext.define("E.xml.overrideDomQuery",{},function(){if(document.xpath){Ext.dom.Query.select=function(g,e,d){e=e||document;if(Ext.DomQuery.isXml(e)){return e.xpath(g)}return Ext.DomQuery.jsSelect.call(this,g,e,d)}}});Ext.define("E.xml.overrideXmlReader",{override:"Ext.data.XmlReader",config:{selector:null},setUseSimpleAccessors:Ext.emptyFn,createFieldAccessor:function(l){var m=this,n=m.getNamespace(),h=l.name,o=l.accessorType,j=l.xpath||l.mapping||h;return typeof j==="function"?function(a){return l.mapping(a,m)}:o?function(a){var b=a.xpath(j,n||"");if(!b.length){return}return o=="node"?b[0]:o=="serializeWithName"?"<"+h+">"+Ext.map(b,function(c){return c.innerHTML})+"</"+h+">":Ext.map(b,function(c){return c.innerHTML})}:n==""?function(a){return a.xpath(j).getValue(0)}:function(a){return a.xpath(j,n).getValue(0)}},extractData:function(h,m){if(h instanceof Node){var n=this,o=n.getModel().prototype,l=n.getRecord()||o.record,j=n.getSelector()||o.selector;if(!l){Ext.Error.raise("Record is a required parameter")}if((l!=h.nodeName)||j){h=Ext.DomQuery.select(j?j:(".//"+l),h)}else{h=[h]}return !h.length?[]:this.callSuper([h,m])}if(Ext.isArray(h)){return this.callSuper([h,m])}return[]}});Ext.define("Ext.data.writer.Xml",{extend:Ext.data.writer.Writer,alternateClassName:"Ext.data.XmlWriter",alias:"writer.xml",config:{documentRoot:"xmlData",defaultDocumentRoot:"xmlData",header:"",record:"record"},selectorRe:/[^>\s]+/g,writeRecords:function(A,z){var u=this,w=[],y=0,v=z.length,r=u.getDocumentRoot(),s=u.getRecord(),x=s.match(this.selectorRe),q=x.length,p=z.length!==1&&q===1,B;B=this.getTransform();if(B){z=B(z,A)}w.push(u.getHeader()||"");if(!r&&p){r=u.getDefaultDocumentRoot()}if(r){w.push("<",r,">")}for(y=0;y<q-1;y++){w.push("<",x[y],">")}s=x[y];for(y=0;y<v;++y){this.objectToElement(s,z[y],w)}for(y=q-2;y>-1;y--){w.push("</",x[y],">")}if(r){w.push("</",r,">")}A.setXmlData(w.join(""));return A},objectToElement:function(C,z,y){var o,s,x=[],A,B,v,w,u,D,r;if(!y){y=[]}y.push("<",C);for(o in z){s=z[o];if(o[0]==="@"){y.push(" ",o.substr(1),'="',s,'"')}else{if(typeof s==="object"){this.objectToElement(o,s,x)}else{A=o.match(this.selectorRe);if((B=A.length)>1){u=u||{};for(w=u,v=0;v<B;v++){D=w;r=A[v];w=w[r]||(w[r]={})}D[r]=s}else{x.push("<",o,">",s,"</",o,">")}}}}y.push(">");y.push.apply(y,x);if(u){for(o in u){s=u[o];this.objectToElement(o,s,y)}}y.push("</",C,">");return y}});Ext.define("Ext.data.identifier.Uuid",{extend:Ext.data.identifier.Generator,alias:"data.identifier.uuid",isUnique:true,config:{id:null},constructor:function(b){this.callParent([b]);this.reconfigure(b)},reconfigure:function(c){var d=this.self;this.generate=(c&&c.version===1)?d.createSequential(c.salt,c.timestamp,c.clockSeq):d.createRandom()},clone:null,statics:{createRandom:function(){var j="xxxxxxxx-xxxx-4xxx-Rxxx-xMxxxxxxxxxx".split(""),e="0123456789abcdef".split(""),g=j.length,h=[];return function(){for(var b,a,c=0;c<g;++c){a=j[c];if(a!=="-"&&a!=="4"){b=Math.random()*16;b=(a==="R")?(b&3|8):(b|((a==="M")?1:0));a=e[b]}h[c]=a}return h.join("")}},createSequential:function(q,w,s){var r=[],n=Math.pow(2,32),p=q.lo,v=q.hi,o=w.lo,u=w.hi,x=function(a,b){var c=a.toString(16).toLowerCase();if(c.length>b){c=c.substring(c.length-b)}else{if(c.length<b){c=Ext.String.leftPad(c,b,"0")}}return c};if(typeof q==="number"){v=Math.floor(q/n);p=Math.floor(q-v*n)}if(typeof w==="number"){u=Math.floor(w/n);o=Math.floor(w-u*n)}v|=256;r[3]=x(128|((s>>>8)&63),2)+x(s&255,2);r[4]=x(v,4)+x(p,8);return function(){r[0]=x(o,8);r[1]=x(u&65535,4);r[2]=x(((u>>>16)&4095)|(1<<12),4);++o;if(o>=n){o=0;++u}return r.join("-")}}}},function(){this.Global=new this({id:"uuid"})});Ext.define("Ext.data.proxy.WebStorage",{extend:Ext.data.proxy.Client,alternateClassName:"Ext.data.WebStorageProxy",config:{id:undefined},constructor:function(b){this.callParent(arguments);this.cache={};this.initialize()},create:function(q){var m=this,r=q.getRecords(),s=r.length,v=m.getIds(),u,o,p,n;if(m.isHierarchical===undefined){m.isHierarchical=!!r[0].isNode;if(m.isHierarchical){m.getStorageObject().setItem(m.getTreeKey(),true)}}for(p=0;p<s;p++){o=r[p];if(o.phantom){o.phantom=false;n=o.identifier;if(n&&n.isUnique){u=o.getId()}else{u=m.getNextId()}}else{u=o.getId()}m.setRecord(o,u);o.commit();v.push(u)}m.setIds(v);q.setSuccessful(true)},read:function(L){var z=this,A,D=[],P=true,M=z.getModel(),O=0,B=L.getRecordCreator(),N,S,C,I,J,R,H,Q,j,K,F,G;if(z.isHierarchical){D=z.getTreeData()}else{H=z.getIds();Q=H.length;K=L.getId();if(K){j=z.getRecord(K);if(j!==null){R=B?B(j,M):new M(j)}if(R){D.push(R)}else{P=false}}else{S=L.getSorters();N=L.getFilters();C=L.getLimit();A=[];for(F=0;F<Q;F++){j=z.getRecord(H[F]);R=B?B(j,M):new M(j);A.push(R)}if(S){Ext.Array.sort(A,Ext.util.Sorter.createComparator(S))}for(F=L.getStart()||0;F<Q;F++){R=A[F];J=true;if(N){for(G=0,I=N.length;G<I;G++){J=N[G].filter(R)}}if(J){D.push(R);O++}if(C&&O===C){break}}}}if(P){L.setResultSet(new Ext.data.ResultSet({records:D,total:D.length,loaded:true}));L.setSuccessful(true)}else{L.setException("Unable to load records")}},update:function(q){var j=q.getRecords(),n=j.length,o=this.getIds(),l,m,p;for(p=0;p<n;p++){l=j[p];this.setRecord(l);l.commit();m=l.getId();if(m!==undefined&&Ext.Array.indexOf(o,m)===-1){o.push(m)}}this.setIds(o);q.setSuccessful(true)},erase:function(r){var p=this,s=r.getRecords(),v=p.getIds(),o=v.length,m=[],n={},q=s.length,u;for(;q--;){Ext.apply(n,p.removeRecord(s[q]))}for(q=0;q<o;q++){u=v[q];if(!n[u]){m.push(u)}}p.setIds(m);r.setSuccessful(true)},getRecord:function(h){var e=this,g=e.cache,j=!g[h]?Ext.decode(e.getStorageObject().getItem(e.getRecordKey(h))):g[h];if(!j){return null}g[h]=j;j[e.getModel().prototype.idProperty]=h;return Ext.merge({},j)},setRecord:function(v,B){if(B){v.set("id",B,{commit:true})}else{B=v.getId()}var s=this,D=v.getData(),x={},w=s.getModel(),u=w.getFields(),A=u.length,y=0,r,C,z,q;for(;y<A;y++){r=u[y];C=r.name;if(r.persist){x[C]=D[C]}}delete x[w.prototype.idProperty];if(v.isNode&&v.get("depth")===1){delete x.parentId}z=s.getStorageObject();q=s.getRecordKey(B);s.cache[B]=x;z.removeItem(q);z.setItem(q,Ext.encode(x))},removeRecord:function(j){var n=this,l=j.getId(),h={},o,m;h[l]=j;n.getStorageObject().removeItem(n.getRecordKey(l));delete n.cache[l];if(j.childNodes){m=j.childNodes;for(o=m.length;o--;){Ext.apply(h,n.removeRecord(m[o]))}}return h},getRecordKey:function(b){if(b.isModel){b=b.getId()}return Ext.String.format("{0}-{1}",this.getId(),b)},getRecordCounterKey:function(){return Ext.String.format("{0}-counter",this.getId())},getTreeKey:function(){return Ext.String.format("{0}-tree",this.getId())},getIds:function(){var j=this,m=(j.getStorageObject().getItem(j.getId())||"").split(","),l=m.length,h=this.getIdField().isStringField,g;if(l===1&&m[0]===""){m=[]}else{for(g=0;g<l;g++){m[g]=h?m[g]:+m[g]}}return m},getIdField:function(){return this.getModel().prototype.idField},setIds:function(g){var e=this.getStorageObject(),j=g.join(","),h=this.getId();e.removeItem(h);if(!Ext.isEmpty(j)){e.setItem(h,j)}},getNextId:function(){var m=this,l=m.getStorageObject(),g=m.getRecordCounterKey(),h=m.getIdField().isStringField,j;j=m.idGenerator.generate();l.setItem(g,j);if(h){j=j+""}return j},getTreeData:function(){var w=this,I=w.getIds(),D=I.length,A=[],H={},v=[],z=0,B=w.getModel(),s=B.prototype.idProperty,C,x,u,y,F,G;for(;z<D;z++){G=I[z];x=w.getRecord(G);A.push(x);H[G]=x;if(!x.parentId){v.push(x)}}C=v.length;Ext.Array.sort(A,w.sortByParentId);for(z=C;z<D;z++){x=A[z];y=x.parentId;if(!u||u[s]!==y){u=H[y];u.children=F=[]}F.push(x)}for(z=D;z--;){x=A[z];if(!x.children&&!x.leaf){x.loaded=true}}for(z=C;z--;){x=v[z];v[z]=new B(x)}return v},sortByParentId:function(c,d){return(c.parentId||0)-(d.parentId||0)},initialize:function(){var e=this,g=e.getStorageObject(),j=+g.getItem(e.getRecordCounterKey()),h=e.getId();g.setItem(h,g.getItem(h)||"");if(g.getItem(e.getTreeKey())){e.isHierarchical=true}e.idGenerator=new Ext.data.identifier.Sequential({seed:j?j+1:1})},clear:function(){var l=this,j=l.getStorageObject(),m=l.getIds(),h=m.length,g;for(g=0;g<h;g++){j.removeItem(l.getRecordKey(m[g]))}j.removeItem(l.getRecordCounterKey());j.removeItem(l.getTreeKey());j.removeItem(l.getId());l.cache={}},getStorageObject:function(){}});Ext.define("Ext.data.proxy.LocalStorage",{extend:Ext.data.proxy.WebStorage,alias:"proxy.localstorage",alternateClassName:"Ext.data.LocalStorageProxy",getStorageObject:function(){return window.localStorage}});Ext.define("Ext.dom.GarbageCollector",{singleton:true,interval:30000,constructor:function(){var b=this;b.collect=Ext.Function.bind(b.collect,b);b.lastTime=Ext.now();b.resume()},collect:function(){var n=this,v=Ext.cache,u,q,s,e,p,r;for(u in v){if(!v.hasOwnProperty(u)){continue}s=v[u];if(s.skipGarbageCollection){continue}q=s.dom;try{p=Ext.isGarbage(q)}catch(o){delete v[u];continue}if(p){if(s&&s.dom){s.collect()}}}if(Ext.isIE9m){e={};for(u in v){if(v.hasOwnProperty(u)){e[u]=v[u]}}Ext.cache=e}n.lastTime=Ext.now()},pause:function(){clearTimeout(this.timerId)},resume:function(){var d=this,c=d.lastTime;if(Ext.enableGarbageCollector&&(Ext.now()-c>d.interval)){d.collect()}d.timerId=Ext.interval(d.collect,d.interval)}});Ext.define("Ext.event.gesture.Recognizer",{mixins:[Ext.mixin.Identifiable],priority:0,handledEvents:[],config:{onRecognized:Ext.emptyFn,callbackScope:null},constructor:function(b){this.initConfig(b);Ext.event.publisher.Gesture.instance.registerRecognizer(this)},onStart:Ext.emptyFn,onEnd:Ext.emptyFn,onTouchStart:Ext.emptyFn,onTouchMove:Ext.emptyFn,onTouchEnd:Ext.emptyFn,onTouchCancel:Ext.emptyFn,fail:function(){return false},fire:function(){this.getOnRecognized().apply(this.getCallbackScope(),arguments)},reset:Ext.emptyFn});Ext.define("Ext.event.gesture.SingleTouch",{extend:Ext.event.gesture.Recognizer,inheritableStatics:{NOT_SINGLE_TOUCH:"Not Single Touch",TOUCH_MOVED:"Touch Moved",EVENT_CANCELED:"Event Canceled"},onTouchStart:function(b){if(b.touches.length>1){return this.fail(this.self.NOT_SINGLE_TOUCH)}},onTouchCancel:function(){return false}});Ext.define("Ext.event.gesture.DoubleTap",{extend:Ext.event.gesture.SingleTouch,priority:300,inheritableStatics:{DIFFERENT_TARGET:"Different Target"},config:{moveDistance:8,tapDistance:24,maxDuration:300},handledEvents:["singletap","doubletap"],singleTapTimer:null,startTime:0,lastTapTime:0,onTouchStart:function(g){var d=this,e;if(d.callParent(arguments)===false){return false}e=d.lastStartPoint=g.changedTouches[0].point;d.startPoint=d.startPoint||e;d.startTime=g.time;clearTimeout(d.singleTapTimer)},onTouchMove:function(g){var d=this,e=g.changedTouches[0].point;if(Math.abs(e.getDistanceTo(d.lastStartPoint))>=d.getMoveDistance()){d.startPoint=null;return d.fail(d.self.TOUCH_MOVED)}},onTouchEnd:function(q){var o=this,r=o.getMaxDuration(),v=q.time,p=q.target,n=o.lastTapTime,u=o.lastTarget,e=q.changedTouches[0].point,s;o.lastTapTime=v;o.lastTarget=p;if(n){s=v-n;if(s<=r&&Math.abs(e.getDistanceTo(o.startPoint))<=o.getTapDistance()){if(p!==u){return o.fail(o.self.DIFFERENT_TARGET)}o.lastTarget=null;o.lastTapTime=0;o.fire("doubletap",q,{touch:q.changedTouches[0],duration:s});o.startPoint=null;return}}if(v-o.startTime>r){o.fireSingleTap(q)}else{o.setSingleTapTimer(q)}},setSingleTapTimer:function(c){var d=this;d.singleTapTimer=Ext.defer(function(){d.fireSingleTap(c)},d.getMaxDuration())},fireSingleTap:function(d,c){this.fire("singletap",d,{touch:c});this.startPoint=null},reset:function(){var b=this;b.startTime=b.lastTapTime=0;b.lastStartPoint=b.startPoint=b.singleTapTimer=null}},function(d){var c=Ext.manifest.gestures;d.instance=new d(c&&c.doubleTap)});Ext.define("Ext.event.gesture.Drag",{extend:Ext.event.gesture.SingleTouch,priority:100,isStarted:false,startPoint:null,previousPoint:null,lastPoint:null,handledEvents:["dragstart","drag","dragend","dragcancel"],config:{minDistance:8},constructor:function(){this.callParent(arguments);this.initInfo()},initInfo:function(){this.info={touch:null,previous:{x:0,y:0},x:0,y:0,delta:{x:0,y:0},absDelta:{x:0,y:0},flick:{velocity:{x:0,y:0}},direction:{x:0,y:0},time:0,previousTime:{x:0,y:0}}},onTouchStart:function(b){if(this.callParent(arguments)===false){if(this.isStarted&&this.lastMoveEvent!==null){this.lastMoveEvent.isStopped=false;this.onTouchEnd(this.lastMoveEvent)}return false}this.startTime=b.time;this.startPoint=b.changedTouches[0].point},tryDragStart:function(n){var e=this.startPoint,l=n.changedTouches[0],j=l.point,m=this.getMinDistance(),o=this.info;if(Math.abs(j.getDistanceTo(e))>=m){this.isStarted=true;this.previousPoint=this.lastPoint=j;this.resetInfo("x",n,l);this.resetInfo("y",n,l);o.time=n.time;this.fire("dragstart",n,o)}},onTouchMove:function(d){if(!this.isStarted){this.tryDragStart(d)}if(!this.isStarted){return}var g=d.changedTouches[0],e=g.point;if(this.lastPoint){this.previousPoint=this.lastPoint}this.lastPoint=e;this.lastMoveEvent=d;this.updateInfo("x",d,g);this.updateInfo("y",d,g);this.info.time=d.time;this.fire("drag",d,this.info)},onAxisDragEnd:function(e,g){var d=g.time-g.previousTime[e];if(d>0){g.flick.velocity[e]=(g[e]-g.previous[e])/d}},resetInfo:function(s,p,n){var r=this.lastPoint[s],e=this.startPoint[s],o=r-e,m=s.toUpperCase(),q=this.info;q.touch=n;q.delta[s]=o;q.absDelta[s]=Math.abs(o);q.previousTime[s]=this.startTime;q.previous[s]=e;q[s]=r;q.direction[s]=0;q["start"+m]=this.startPoint[s];q["previous"+m]=q.previous[s];q["page"+m]=q[s];q["delta"+m]=q.delta[s];q["absDelta"+m]=q.absDelta[s];q["previousDelta"+m]=0;q.startTime=this.startTime},updateInfo:function(y,u,v){var s=this,q=s.lastPoint[y],x=s.previousPoint[y],B=s.startPoint[y],e=q-B,z=s.info,r=z.direction,w=y.toUpperCase(),A=z.previous[y];z.touch=v;z.delta[y]=e;z.absDelta[y]=Math.abs(e);if(q!==A&&q!==z[y]){z.previous[y]=z[y];z.previousTime[y]=z.time}z[y]=q;if(q>x){r[y]=1}else{if(q<x){r[y]=-1}}z["start"+w]=B;z["previous"+w]=z.previous[y];z["page"+w]=z[y];z["delta"+w]=z.delta[y];z["absDelta"+w]=z.absDelta[y];z["previousDelta"+w]=z.previous[y]-B;z.startTime=s.startTime},onTouchEnd:function(b){this.doEnd(b)},onTouchCancel:function(b){this.doEnd(b,true);return false},doEnd:function(l,e){if(!this.isStarted){this.tryDragStart(l)}if(this.isStarted){var j=l.changedTouches[0],h=j.point,m=this.info;this.isStarted=false;this.lastPoint=h;this.updateInfo("x",l,j);this.updateInfo("y",l,j);m.time=l.time;this.onAxisDragEnd("x",m);this.onAxisDragEnd("y",m);this.fire(e?"dragcancel":"dragend",l,m);this.startPoint=null;this.previousPoint=null;this.lastPoint=null;this.lastMoveEvent=null}},reset:function(){var b=this;b.isStarted=b.lastPoint=b.startPoint=b.previousPoint=b.lastPoint=b.lastMoveEvent=null;b.initInfo()}},function(d){var c=Ext.manifest.gestures;d.instance=new d(c&&c.drag)});Ext.define("Ext.event.gesture.Swipe",{extend:Ext.event.gesture.SingleTouch,priority:500,handledEvents:["swipestart","swipe","swipecancel"],inheritableStatics:{MAX_OFFSET_EXCEEDED:"Max Offset Exceeded",MAX_DURATION_EXCEEDED:"Max Duration Exceeded",DISTANCE_NOT_ENOUGH:"Distance Not Enough"},config:{minDistance:80,maxOffset:35,maxDuration:1000},onTouchStart:function(d){if(this.callParent(arguments)===false){return false}var c=d.changedTouches[0];this.startTime=d.time;this.isHorizontal=true;this.isVertical=true;this.startX=c.pageX;this.startY=c.pageY},onTouchMove:function(v){var w=v.changedTouches[0],r=w.pageX,u=w.pageY,x=r-this.startX,y=u-this.startY,A=Math.abs(r-this.startX),B=Math.abs(u-this.startY),z=v.time-this.startTime,e=this.getMinDistance(),C=v.time,s,D;if(C-this.startTime>this.getMaxDuration()){return this.fail(this.self.MAX_DURATION_EXCEEDED)}if(this.isHorizontal&&B>this.getMaxOffset()){this.isHorizontal=false}if(this.isVertical&&A>this.getMaxOffset()){this.isVertical=false}if(!this.isVertical||!this.isHorizontal){if(this.isHorizontal&&A<e){s=(x<0)?"left":"right";D=A}else{if(this.isVertical&&B<e){s=(y<0)?"up":"down";D=B}}}if(s&&!this.started){this.started=true;this.fire("swipestart",v,{touch:w,direction:s,distance:D,duration:z})}if(!this.isHorizontal&&!this.isVertical){return this.fail(this.self.MAX_OFFSET_EXCEEDED)}},onTouchEnd:function(u){if(this.onTouchMove(u)===false){return false}var v=u.changedTouches[0],q=v.pageX,s=v.pageY,w=q-this.startX,x=s-this.startY,z=Math.abs(w),A=Math.abs(x),e=this.getMinDistance(),y=u.time-this.startTime,r,B;if(this.isVertical&&A<e){this.isVertical=false}if(this.isHorizontal&&z<e){this.isHorizontal=false}if(this.isHorizontal){r=(w<0)?"left":"right";B=z}else{if(this.isVertical){r=(x<0)?"up":"down";B=A}else{return this.fail(this.self.DISTANCE_NOT_ENOUGH)}}this.started=false;this.fire("swipe",u,{touch:v,direction:r,distance:B,duration:y})},onTouchCancel:function(b){this.fire("swipecancel",b);return false},reset:function(){var b=this;b.startTime=b.isHorizontal=b.isVertical=b.startX=b.startY=null}},function(d){var c=Ext.manifest.gestures;d.instance=new d(c&&c.swipe)});Ext.define("Ext.event.gesture.EdgeSwipe",{extend:Ext.event.gesture.Swipe,priority:800,handledEvents:["edgeswipe","edgeswipestart","edgeswipeend","edgeswipecancel"],inheritableStatics:{NOT_NEAR_EDGE:"Not Near Edge"},config:{minDistance:60},onTouchStart:function(d){if(this.callParent(arguments)===false){return false}var c=d.changedTouches[0];this.started=false;this.direction=null;this.isHorizontal=true;this.isVertical=true;this.startX=c.pageX;this.startY=c.pageY},onTouchMove:function(x){var z=x.changedTouches[0],e=z.pageX,w=z.pageY,A=e-this.startX,B=w-this.startY,G=Math.abs(w-this.startY),F=Math.abs(e-this.startX),I=this.getMinDistance(),C=this.getMaxOffset(),D=x.time-this.startTime,u=Ext.Viewport&&Ext.Element.getViewportWidth(),y=Ext.Viewport&&Ext.Element.getViewportHeight(),v,H;if(this.isVertical&&F>C){this.isVertical=false}if(this.isHorizontal&&G>C){this.isHorizontal=false}if(this.isVertical&&this.isHorizontal){if(G>F){this.isHorizontal=false}else{this.isVertical=false}}if(this.isHorizontal){v=(A<0)?"left":"right";H=A}else{if(this.isVertical){v=(B<0)?"up":"down";H=B}}this.direction=this.direction||v;if(this.direction=="up"){H=B*-1}else{if(this.direction=="left"){H=A*-1}}this.distance=H;if(H==0){return this.fail(this.self.DISTANCE_NOT_ENOUGH)}if(!this.started){if(this.direction=="right"&&this.startX>I){return this.fail(this.self.NOT_NEAR_EDGE)}else{if(this.direction=="down"&&this.startY>I){return this.fail(this.self.NOT_NEAR_EDGE)}else{if(this.direction=="left"&&(u-this.startX)>I){return this.fail(this.self.NOT_NEAR_EDGE)}else{if(this.direction=="up"&&(y-this.startY)>I){return this.fail(this.self.NOT_NEAR_EDGE)}}}}this.started=true;this.startTime=x.time;this.fire("edgeswipestart",x,{touch:z,direction:this.direction,distance:this.distance,duration:D})}else{this.fire("edgeswipe",x,{touch:z,direction:this.direction,distance:this.distance,duration:D})}},onTouchEnd:function(c){var d;if(this.onTouchMove(c)!==false){d=c.time-this.startTime;this.fire("edgeswipeend",c,{touch:c.changedTouches[0],direction:this.direction,distance:this.distance,duration:d})}},onTouchCancel:function(b){this.fire("edgeswipecancel",b,{touch:b.changedTouches[0]});return false},reset:function(){var b=this;b.started=b.direction=b.isHorizontal=b.isVertical=b.startX=b.startY=b.startTime=b.distance=null}},function(d){var c=Ext.manifest.gestures;d.instance=new d(c&&c.edgeSwipe)});Ext.define("Ext.event.gesture.LongPress",{extend:Ext.event.gesture.SingleTouch,priority:400,inheritableStatics:{DURATION_NOT_ENOUGH:"Duration Not Enough"},config:{moveDistance:8,minDuration:1000},handledEvents:["longpress","taphold"],fireLongPress:function(b){this.fire("longpress",b,{touch:b.changedTouches[0],duration:this.getMinDuration()});this.isLongPress=true},onTouchStart:function(b){if(this.callParent(arguments)===false){return false}this.startPoint=b.changedTouches[0].point;this.isLongPress=false;this.setLongPressTimer(b)},setLongPressTimer:function(c){var d=this;d.timer=Ext.defer(function(){d.fireLongPress(c)},d.getMinDuration())},onTouchMove:function(c){var d=c.changedTouches[0].point;if(Math.abs(d.getDistanceTo(this.startPoint))>=this.getMoveDistance()){return this.fail(this.self.TOUCH_MOVED)}},onTouchEnd:function(){if(!this.isLongPress){return this.fail(this.self.DURATION_NOT_ENOUGH)}},fail:function(){clearTimeout(this.timer);return this.callParent(arguments)},reset:function(){this.isLongPress=this.startPoint=null},fire:function(d){if(d==="longpress"){var c=Array.prototype.slice.call(arguments);c[0]="taphold";this.fire.apply(this,c)}return this.callParent(arguments)}},function(d){var c=Ext.manifest.gestures;d.instance=new d(c&&c.longPress)});Ext.define("Ext.event.gesture.MultiTouch",{extend:Ext.event.gesture.Recognizer,requiredTouchesCount:2,isTracking:false,isStarted:false,onTouchStart:function(h){var g=this.requiredTouchesCount,j=h.touches,e=j.length;if(e===g){this.start(h)}else{if(e>g){this.end(h)}}},onTouchEnd:function(b){this.end(b)},onTouchCancel:function(b){this.end(b,true);return false},start:function(){if(!this.isTracking){this.isTracking=true;this.isStarted=false}},end:function(c,d){if(this.isTracking){this.isTracking=false;if(this.isStarted){this.isStarted=false;this[d?"fireCancel":"fireEnd"](c)}}},reset:function(){this.isTracking=this.isStarted=false}});Ext.define("Ext.event.gesture.Pinch",{extend:Ext.event.gesture.MultiTouch,priority:600,handledEvents:["pinchstart","pinch","pinchend","pinchcancel"],startDistance:0,lastTouches:null,onTouchMove:function(m){if(!this.isTracking){return}var e=m.touches,l,h,j;l=e[0].point;h=e[1].point;j=l.getDistanceTo(h);if(j===0){return}if(!this.isStarted){this.isStarted=true;this.startDistance=j;this.fire("pinchstart",m,{touches:e,distance:j,scale:1})}else{this.fire("pinch",m,{touches:e,distance:j,scale:j/this.startDistance})}},fireEnd:function(b){this.fire("pinchend",b)},fireCancel:function(b){this.fire("pinchcancel",b)},fail:function(){return this.callParent(arguments)},reset:function(){this.lastTouches=null;this.startDistance=0;this.callParent()}},function(d){var c=Ext.manifest.gestures;d.instance=new d(c&&c.pinch)});Ext.define("Ext.event.gesture.Rotate",{extend:Ext.event.gesture.MultiTouch,priority:700,handledEvents:["rotatestart","rotate","rotateend","rotatecancel"],startAngle:0,lastTouches:null,lastAngle:null,onTouchMove:function(o){if(!this.isTracking){return}var p=o.touches,u=this.lastAngle,r,q,s,v,n,e;r=p[0].point;q=p[1].point;s=r.getAngleTo(q);if(u!==null){e=Math.abs(u-s);v=s+360;n=s-360;if(Math.abs(v-u)<e){s=v}else{if(Math.abs(n-u)<e){s=n}}}this.lastAngle=s;if(!this.isStarted){this.isStarted=true;this.startAngle=s;this.fire("rotatestart",o,{touches:p,angle:s,rotation:0})}else{this.fire("rotate",o,{touches:p,angle:s,rotation:s-this.startAngle})}this.lastTouches=Ext.Array.clone(p)},fireEnd:function(b){this.lastAngle=null;this.fire("rotateend",b)},fireCancel:function(b){this.lastAngle=null;this.fire("rotatecancel",b)},reset:function(){var b=this;b.lastTouches=b.lastAngle=b.startAngle=null;this.callParent()}},function(d){var c=Ext.manifest.gestures;d.instance=new d(c&&c.rotate)});Ext.define("Ext.event.gesture.Tap",{extend:Ext.event.gesture.SingleTouch,priority:200,handledEvents:["tap","tapcancel"],config:{moveDistance:8},onTouchStart:function(b){if(this.callParent([b])===false){return false}this.startPoint=b.changedTouches[0].point},onTouchMove:function(d){var g=d.changedTouches[0],e=g.point;if(Math.abs(e.getDistanceTo(this.startPoint))>=this.getMoveDistance()){this.fire("tapcancel",d,{touch:g});return this.fail(this.self.TOUCH_MOVED)}},onTouchEnd:function(b){this.fire("tap",b,{touch:b.changedTouches[0]})},onTouchCancel:function(b){this.fire("tapcancel",b,{touch:b.changedTouches[0]});return false},reset:function(){this.startPoint=null}},function(c){var d=Ext.manifest.gestures;c.instance=new c(d&&d.tap)});Ext.define("Ext.fx.State",{isAnimatable:{"background-color":true,"background-image":true,"background-position":true,"border-bottom-color":true,"border-bottom-width":true,"border-color":true,"border-left-color":true,"border-left-width":true,"border-right-color":true,"border-right-width":true,"border-spacing":true,"border-top-color":true,"border-top-width":true,"border-width":true,bottom:true,color:true,crop:true,"font-size":true,"font-weight":true,height:true,left:true,"letter-spacing":true,"line-height":true,"margin-bottom":true,"margin-left":true,"margin-right":true,"margin-top":true,"max-height":true,"max-width":true,"min-height":true,"min-width":true,opacity:true,"outline-color":true,"outline-offset":true,"outline-width":true,"padding-bottom":true,"padding-left":true,"padding-right":true,"padding-top":true,right:true,"text-indent":true,"text-shadow":true,top:true,"vertical-align":true,visibility:true,width:true,"word-spacing":true,"z-index":true,zoom:true,transform:true},constructor:function(b){this.data={};this.set(b)},setConfig:function(b){this.set(b);return this},setRaw:function(b){this.data=b;return this},clear:function(){return this.setRaw({})},setTransform:function(q,m){var n=this.data,l=Ext.isArray(m),j=n.transform,o,p;if(!j){j=n.transform={translateX:0,translateY:0,translateZ:0,scaleX:1,scaleY:1,scaleZ:1,rotate:0,rotateX:0,rotateY:0,rotateZ:0,skewX:0,skewY:0}}if(typeof q=="string"){switch(q){case"translate":if(l){o=m.length;if(o==0){break}j.translateX=m[0];if(o==1){break}j.translateY=m[1];if(o==2){break}j.translateZ=m[2]}else{j.translateX=m}break;case"rotate":if(l){o=m.length;if(o==0){break}j.rotateX=m[0];if(o==1){break}j.rotateY=m[1];if(o==2){break}j.rotateZ=m[2]}else{j.rotate=m}break;case"scale":if(l){o=m.length;if(o==0){break}j.scaleX=m[0];if(o==1){break}j.scaleY=m[1];if(o==2){break}j.scaleZ=m[2]}else{j.scaleX=m;j.scaleY=m}break;case"skew":if(l){o=m.length;if(o==0){break}j.skewX=m[0];if(o==1){break}j.skewY=m[1]}else{j.skewX=m}break;default:j[q]=m}}else{for(p in q){if(q.hasOwnProperty(p)){m=q[p];this.setTransform(p,m)}}}},set:function(g,h){var j=this.data,e;if(typeof g!="string"){for(e in g){h=g[e];if(e==="transform"){this.setTransform(h)}else{j[e]=h}}}else{if(g==="transform"){this.setTransform(h)}else{j[g]=h}}return this},unset:function(d){var c=this.data;if(c.hasOwnProperty(d)){delete c[d]}return this},getData:function(){return this.data}});Ext.define("Ext.fx.animation.Abstract",{extend:Ext.Evented,isAnimation:true,config:{name:"",element:null,before:null,from:{},to:{},after:null,states:{},duration:300,easing:"linear",iteration:1,direction:"normal",delay:0,onBeforeStart:null,onEnd:null,onBeforeEnd:null,scope:null,reverse:null,preserveEndState:false,replacePrevious:true},STATE_FROM:"0%",STATE_TO:"100%",DIRECTION_UP:"up",DIRECTION_DOWN:"down",DIRECTION_LEFT:"left",DIRECTION_RIGHT:"right",stateNameRegex:/^(?:[\d\.]+)%$/,constructor:function(){this.states={};this.callParent(arguments);return this},applyElement:function(b){return Ext.get(b)},applyBefore:function(d,c){if(d){return Ext.factory(d,Ext.fx.State,c)}},applyAfter:function(c,d){if(c){return Ext.factory(c,Ext.fx.State,d)}},setFrom:function(b){return this.setState(this.STATE_FROM,b)},setTo:function(b){return this.setState(this.STATE_TO,b)},getFrom:function(){return this.getState(this.STATE_FROM)},getTo:function(){return this.getState(this.STATE_TO)},setStates:function(e){var g=this.stateNameRegex,d;for(d in e){if(g.test(d)){this.setState(d,e[d])}}return this},getStates:function(){return this.states},end:function(){this.stop()},stop:function(){this.fireEvent("stop",this)},destroy:function(){this.stop();this.callParent()},setState:function(e,h){var g=this.getStates(),j;j=Ext.factory(h,Ext.fx.State,g[e]);if(j){g[e]=j}return this},getState:function(b){return this.getStates()[b]},getData:function(){var o=this.getStates(),v={},s=this.getBefore(),x=this.getAfter(),r=o[this.STATE_FROM],q=o[this.STATE_TO],p=r.getData(),u=q.getData(),w,y,z;for(y in o){if(o.hasOwnProperty(y)){z=o[y];w=z.getData();v[y]=w}}if(Ext.browser.is.AndroidStock2){v["0.0001%"]=p}return{before:s?s.getData():{},after:x?x.getData():{},states:v,from:p,to:u,duration:this.getDuration(),iteration:this.getIteration(),direction:this.getDirection(),easing:this.getEasing(),delay:this.getDelay(),onEnd:this.getOnEnd(),onBeforeEnd:this.getOnBeforeEnd(),onBeforeStart:this.getOnBeforeStart(),scope:this.getScope(),preserveEndState:this.getPreserveEndState(),replacePrevious:this.getReplacePrevious()}}});Ext.define("Ext.fx.animation.Slide",{extend:Ext.fx.animation.Abstract,alternateClassName:"Ext.fx.animation.SlideIn",alias:["animation.slide","animation.slideIn"],config:{direction:"left",out:false,offset:0,easing:"auto",containerBox:"auto",elementBox:"auto",isElementBoxFit:true,useCssTransform:true},reverseDirectionMap:{up:"down",down:"up",left:"right",right:"left"},applyEasing:function(b){if(b==="auto"){return"ease-"+((this.getOut())?"in":"out")}return b},getContainerBox:function(){var b=this._containerBox;if(b==="auto"){b=this.getElement().getParent().getBox()}return b},getElementBox:function(){var b=this._elementBox;if(this.getIsElementBoxFit()){return this.getContainerBox()}if(b==="auto"){b=this.getElement().getBox()}return b},getData:function(){var K=this.getElementBox(),H=this.getContainerBox(),C=K?K:H,v=this.getFrom(),u=this.getTo(),D=this.getOut(),F=this.getOffset(),w=this.getDirection(),I=this.getUseCssTransform(),B=this.getReverse(),G=0,J=0,x,z,y,A;if(B){w=this.reverseDirectionMap[w]}switch(w){case this.DIRECTION_UP:if(D){J=H.top-C.top-C.height-F}else{J=H.bottom-C.bottom+C.height+F}break;case this.DIRECTION_DOWN:if(D){J=H.bottom-C.bottom+C.height+F}else{J=H.top-C.height-C.top-F}break;case this.DIRECTION_RIGHT:if(D){G=H.right-C.right+C.width+F}else{G=H.left-C.left-C.width-F}break;case this.DIRECTION_LEFT:if(D){G=H.left-C.left-C.width-F}else{G=H.right-C.right+C.width+F}break}x=(D)?0:G;z=(D)?0:J;if(I){v.setTransform({translateX:x,translateY:z})}else{v.set("left",x);v.set("top",z)}y=(D)?G:0;A=(D)?J:0;if(I){u.setTransform({translateX:y,translateY:A})}else{u.set("left",y);u.set("top",A)}return this.callParent(arguments)}});Ext.define("Ext.fx.animation.SlideOut",{extend:Ext.fx.animation.Slide,alias:["animation.slideOut"],config:{out:true}});Ext.define("Ext.fx.animation.Fade",{extend:Ext.fx.animation.Abstract,alternateClassName:"Ext.fx.animation.FadeIn",alias:["animation.fade","animation.fadeIn"],config:{out:false,before:{display:null,opacity:0},after:{opacity:null},reverse:null},updateOut:function(e){var g=this.getTo(),d=this.getFrom();if(e){d.set("opacity",1);g.set("opacity",0)}else{d.set("opacity",0);g.set("opacity",1)}}});Ext.define("Ext.fx.animation.FadeOut",{extend:Ext.fx.animation.Fade,alias:"animation.fadeOut",config:{out:true,before:{}}});Ext.define("Ext.fx.animation.Flip",{extend:Ext.fx.animation.Abstract,alias:"animation.flip",config:{easing:"ease-in",direction:"right",half:false,out:null},getData:function(){var u=this.getFrom(),s=this.getTo(),v=this.getDirection(),A=this.getOut(),p=this.getHalf(),z=(p)?90:180,x=1,B=1,q=0,r=0,w=0,y=0;if(A){B=0.8}else{x=0.8}switch(v){case this.DIRECTION_UP:if(A){w=z}else{q=-z}break;case this.DIRECTION_DOWN:if(A){w=-z}else{q=z}break;case this.DIRECTION_RIGHT:if(A){y=z}else{r=-z}break;case this.DIRECTION_LEFT:if(A){y=-z}else{r=z}break}u.setTransform({rotateX:q,rotateY:r,scale:x});s.setTransform({rotateX:w,rotateY:y,scale:B});return this.callParent(arguments)}});Ext.define("Ext.fx.animation.Pop",{extend:Ext.fx.animation.Abstract,alias:["animation.pop","animation.popIn"],alternateClassName:"Ext.fx.animation.PopIn",config:{out:false,before:{display:null,opacity:0},after:{opacity:null}},getData:function(){var g=this.getTo(),d=this.getFrom(),e=this.getOut();if(e){d.set("opacity",1);d.setTransform({scale:1});g.set("opacity",0);g.setTransform({scale:0})}else{d.set("opacity",0);d.setTransform({scale:0});g.set("opacity",1);g.setTransform({scale:1})}return this.callParent(arguments)}});Ext.define("Ext.fx.animation.PopOut",{extend:Ext.fx.animation.Pop,alias:"animation.popOut",config:{out:true,before:{}}});Ext.define("Ext.fx.Animation",{constructor:function(d){var e=Ext.fx.animation.Abstract,g;if(typeof d=="string"){g=d;d={}}else{if(d&&d.type){g=d.type}}if(g){if(Ext.browser.is.AndroidStock2){if(g=="pop"){g="fade"}if(g=="popIn"){g="fadeIn"}if(g=="popOut"){g="fadeOut"}}e=Ext.ClassManager.getByAlias("animation."+g)}return Ext.factory(d,e)}});Ext.define("Ext.fx.runner.Css",{extend:Ext.Evented,prefixedProperties:{transform:true,"transform-origin":true,perspective:true,"transform-style":true,transition:true,"transition-property":true,"transition-duration":true,"transition-timing-function":true,"transition-delay":true,animation:true,"animation-name":true,"animation-duration":true,"animation-iteration-count":true,"animation-direction":true,"animation-timing-function":true,"animation-delay":true},lengthProperties:{top:true,right:true,bottom:true,left:true,width:true,height:true,"max-height":true,"max-width":true,"min-height":true,"min-width":true,"margin-bottom":true,"margin-left":true,"margin-right":true,"margin-top":true,"padding-bottom":true,"padding-left":true,"padding-right":true,"padding-top":true,"border-bottom-width":true,"border-left-width":true,"border-right-width":true,"border-spacing":true,"border-top-width":true,"border-width":true,"outline-width":true,"letter-spacing":true,"line-height":true,"text-indent":true,"word-spacing":true,"font-size":true,translate:true,translateX:true,translateY:true,translateZ:true,translate3d:true},durationProperties:{"transition-duration":true,"transition-delay":true,"animation-duration":true,"animation-delay":true},angleProperties:{rotate:true,rotateX:true,rotateY:true,rotateZ:true,skew:true,skewX:true,skewY:true},lengthUnitRegex:/([a-z%]*)$/,DEFAULT_UNIT_LENGTH:"px",DEFAULT_UNIT_ANGLE:"deg",DEFAULT_UNIT_DURATION:"ms",formattedNameCache:{},constructor:function(){var b=Ext.feature.has.Css3dTransforms;if(b){this.transformMethods=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","skewX","skewY","scaleX","scaleY","scaleZ"]}else{this.transformMethods=["translateX","translateY","rotate","skewX","skewY","scaleX","scaleY"]}this.vendorPrefix=Ext.browser.getStyleDashPrefix();this.ruleStylesCache={};this.callParent()},getStyleSheet:function(){var g=this.styleSheet,e,d;if(!g){e=document.createElement("style");e.type="text/css";(document.head||document.getElementsByTagName("head")[0]).appendChild(e);d=document.styleSheets;this.styleSheet=g=d[d.length-1]}return g},applyRules:function(q){var s=this.getStyleSheet(),o=this.ruleStylesCache,p=s.cssRules,x,v,r,y,w,z,u;for(x in q){v=q[x];r=o[x];if(r===undefined){w=p.length;s.insertRule(x+"{}",w);r=o[x]=p.item(w).style}y=r.$cache;if(!y){y=r.$cache={}}for(z in v){u=this.formatValue(v[z],z);z=this.formatName(z);if(y[z]!==u){y[z]=u;if(u===null){r.removeProperty(z)}else{r.setProperty(z,u,"important")}}}}return this},applyStyles:function(p){var m,q,n,j,l,o;for(m in p){if(p.hasOwnProperty(m)){q=document.getElementById(m);if(!q){return this}n=q.style;j=p[m];for(l in j){if(j.hasOwnProperty(l)){o=this.formatValue(j[l],l);l=this.formatName(l);if(o===null){n.removeProperty(l)}else{n.setProperty(l,o,"important")}}}}}return this},formatName:function(d){var e=this.formattedNameCache,g=e[d];if(!g){if((Ext.os.is.Tizen||!Ext.feature.has.CssTransformNoPrefix)&&this.prefixedProperties[d]){g=this.vendorPrefix+d}else{g=d}e[d]=g}return g},formatValue:function(q,y){var s=typeof q,o=this.DEFAULT_UNIT_LENGTH,v,z,w,u,x,p,r;if(q===null){return""}if(s=="string"){if(this.lengthProperties[y]){r=q.match(this.lengthUnitRegex)[1];if(r.length>0){}else{return q+o}}return q}else{if(s=="number"){if(q==0){return"0"}if(this.lengthProperties[y]){return q+o}if(this.angleProperties[y]){return q+this.DEFAULT_UNIT_ANGLE}if(this.durationProperties[y]){return q+this.DEFAULT_UNIT_DURATION}}else{if(y==="transform"){v=this.transformMethods;x=[];for(w=0,u=v.length;w<u;w++){z=v[w];x.push(z+"("+this.formatValue(q[z],z)+")")}return x.join(" ")}else{if(Ext.isArray(q)){p=[];for(w=0,u=q.length;w<u;w++){p.push(this.formatValue(q[w],y))}return(p.length>0)?p.join(", "):"none"}}}}return q}});Ext.define("Ext.fx.runner.CssTransition",{extend:Ext.fx.runner.Css,alternateClassName:"Ext.Animator",singleton:true,listenersAttached:false,constructor:function(){this.runningAnimationsData={};return this.callParent(arguments)},attachListeners:function(){this.listenersAttached=true;Ext.getWin().on("transitionend","onTransitionEnd",this)},onTransitionEnd:function(d){var e=d.target,g=e.id;if(g&&this.runningAnimationsData.hasOwnProperty(g)){this.refreshRunningAnimationsData(Ext.get(e),[d.browserEvent.propertyName])}},onAnimationEnd:function(z,A,C,x,s){var D=z.getId(),w=this.runningAnimationsData[D],r={},u={},F,y,B,v,G;C.un("stop","onAnimationStop",this);if(w){F=w.nameMap}r[D]=u;if(A.onBeforeEnd){A.onBeforeEnd.call(A.scope||this,z,x)}C.fireEvent("animationbeforeend",C,z,x);this.fireEvent("animationbeforeend",this,C,z,x);if(s||(!x&&!A.preserveEndState)){y=A.toPropertyNames;for(B=0,v=y.length;B<v;B++){G=y[B];if(F&&!F.hasOwnProperty(G)){u[G]=null}}}if(A.after){Ext.merge(u,A.after)}this.applyStyles(r);if(A.onEnd){A.onEnd.call(A.scope||this,z,x)}C.fireEvent("animationend",C,z,x);this.fireEvent("animationend",this,C,z,x);Ext.AnimationQueue.stop(Ext.emptyFn,C)},onAllAnimationsEnd:function(d){var g=d.getId(),e={};delete this.runningAnimationsData[g];e[g]={"transition-property":null,"transition-duration":null,"transition-timing-function":null,"transition-delay":null};this.applyStyles(e);this.fireEvent("animationallend",this,d)},hasRunningAnimations:function(e){var g=e.getId(),d=this.runningAnimationsData;return d.hasOwnProperty(g)&&d[g].sessions.length>0},refreshRunningAnimationsData:function(N,I,y,C){var K=N.getId(),B=this.runningAnimationsData,Q=B[K];if(!Q){return}var G=Q.nameMap,z=Q.nameList,P=Q.sessions,L,J,M,j,H,O,A,D,F=false;y=Boolean(y);C=Boolean(C);if(!P){return this}L=P.length;if(L===0){return this}if(C){Q.nameMap={};z.length=0;for(H=0;H<L;H++){O=P[H];this.onAnimationEnd(N,O.data,O.animation,y,C)}P.length=0}else{for(H=0;H<L;H++){O=P[H];A=O.map;D=O.list;for(J=0,M=I.length;J<M;J++){j=I[J];if(A[j]){delete A[j];Ext.Array.remove(D,j);O.length--;if(--G[j]==0){delete G[j];Ext.Array.remove(z,j)}}}if(O.length==0){P.splice(H,1);H--;L--;F=true;this.onAnimationEnd(N,O.data,O.animation,y)}}}if(!C&&!y&&P.length==0&&F){this.onAllAnimationsEnd(N)}},getRunningData:function(c){var d=this.runningAnimationsData;if(!d.hasOwnProperty(c)){d[c]={nameMap:{},nameList:[],sessions:[]}}return d[c]},getTestElement:function(){var j=this.testElement,e,h,g;if(!j){e=document.createElement("iframe");e.setAttribute("tabindex",-1);g=e.style;g.setProperty("visibility","hidden","important");g.setProperty("width","0px","important");g.setProperty("height","0px","important");g.setProperty("position","absolute","important");g.setProperty("border","0px","important");g.setProperty("zIndex","-1000","important");document.body.appendChild(e);h=e.contentDocument;h.open();h.writeln("</body>");h.close();this.testElement=j=h.createElement("div");j.style.setProperty("position","absolute","important");h.body.appendChild(j);this.testElementComputedStyle=window.getComputedStyle(j)}return j},getCssStyleValue:function(g,j){var l=this.getTestElement(),h=this.testElementComputedStyle,m=l.style;m.setProperty(g,j);if(Ext.browser.is.Firefox){l.offsetHeight}j=h.getPropertyValue(g);m.removeProperty(g);return j},run:function(ad){var Q=this,an=this.lengthProperties,ah={},S={},P={},ar,X,af,aq,T,j,R,ab,Z,av,aj,aa,ac,ae,Y,al,V,ao,W,O,am,ap,ai,ag,at,U,au,ak;if(!this.listenersAttached){this.attachListeners()}ad=Ext.Array.from(ad);for(aa=0,ae=ad.length;aa<ae;aa++){Y=ad[aa];Y=Ext.factory(Y,Ext.fx.Animation);ar=Y.getElement();Ext.AnimationQueue.start(Ext.emptyFn,Y);ao=window.getComputedStyle(ar.dom);X=ar.getId();P=Ext.merge({},Y.getData());if(Y.onBeforeStart){Y.onBeforeStart.call(Y.scope||this,ar)}Y.fireEvent("animationstart",Y);this.fireEvent("animationstart",this,Y);P[X]=P;T=P.before;af=P.from;aq=P.to;P.fromPropertyNames=j=[];P.toPropertyNames=R=[];for(O in aq){if(aq.hasOwnProperty(O)){aq[O]=am=this.formatValue(aq[O],O);W=this.formatName(O);ag=an.hasOwnProperty(O);if(!ag){am=this.getCssStyleValue(W,am)}if(af.hasOwnProperty(O)){af[O]=ai=this.formatValue(af[O],O);if(!ag){ai=this.getCssStyleValue(W,ai)}if(am!==ai){j.push(W);R.push(W)}}else{ap=ao.getPropertyValue(W);if(am!==ap){R.push(W)}}}}al=R.length;if(al===0){this.onAnimationEnd(ar,P,Y);continue}av=this.getRunningData(X);au=av.sessions;if(au.length>0){this.refreshRunningAnimationsData(ar,Ext.Array.merge(j,R),true,P.replacePrevious)}at=av.nameMap;U=av.nameList;V={};for(ac=0;ac<al;ac++){O=R[ac];V[O]=true;if(!at.hasOwnProperty(O)){at[O]=1;U.push(O)}else{at[O]++}}ak={element:ar,map:V,list:R.slice(),length:al,data:P,animation:Y};au.push(ak);Y.on("stop","onAnimationStop",this);aj=Ext.apply({},T);Ext.apply(aj,af);if(U.length>0){j=Ext.Array.difference(U,j);R=Ext.Array.merge(j,R);aj["transition-property"]=j}ah[X]=aj;S[X]=Ext.apply({},aq);S[X]["transition-property"]=R;S[X]["transition-duration"]=P.duration;S[X]["transition-timing-function"]=P.easing;S[X]["transition-delay"]=P.delay;Y.startTime=Date.now()}Z=this.$className;this.applyStyles(ah);ab=function(a){if(a.data===Z&&a.source===window){window.removeEventListener("message",ab,false);Q.applyStyles(S)}};if(Ext.browser.is.IE){Ext.Function.requestAnimationFrame(function(){window.addEventListener("message",ab,false);window.postMessage(Z,"*")})}else{window.addEventListener("message",ab,false);window.postMessage(Z,"*")}},onAnimationStop:function(r){var p=this.runningAnimationsData,n,m,o,l,s,q;for(n in p){if(p.hasOwnProperty(n)){m=p[n];o=m.sessions;for(l=0,s=o.length;l<s;l++){q=o[l];if(q.animation===r){this.refreshRunningAnimationsData(q.element,q.list.slice(),false)}}}}}});Ext.define("Ext.mixin.Responsive",function(b){return{extend:Ext.Mixin,mixinConfig:{id:"responsive",after:{destroy:"destroy"}},config:{responsiveConfig:{$value:undefined,merge:function(j,o,l,m){if(!j){return o}var a=o?Ext.Object.chain(o):{},n;for(n in j){if(!m||!(n in a)){a[n]={fn:null,config:j[n]}}}return a}},responsiveFormulas:{$value:0,merge:function(g,a,h,j){return this.mergeNew(g,a,h,j)}}},destroy:function(){b.unregister(this);this.callParent()},privates:{statics:{active:false,all:{},context:Ext.Object.chain(Ext.platformTags),count:0,nextId:0,activate:function(){b.active=true;b.updateContext();Ext.on("resize",b.onResize,b)},deactivate:function(){b.active=false;Ext.un("resize",b.onResize,b)},notify:function(){var l=b.all,m=b.context,a=Ext.GlobalEvents,h=b.timer,j;if(h){b.timer=null;Ext.Function.cancelAnimationFrame(h)}b.updateContext();Ext.suspendLayouts();a.fireEvent("beforeresponsiveupdate",m);for(j in l){l[j].setupResponsiveContext()}a.fireEvent("beginresponsiveupdate",m);for(j in l){l[j].updateResponsiveState()}a.fireEvent("responsiveupdate",m);Ext.resumeLayouts(true)},onResize:function(){if(!b.timer){b.timer=Ext.Function.requestAnimationFrame(b.onTimer)}},onTimer:function(){b.timer=null;b.notify()},processConfig:function(a,l,n){var m=l&&l[n],o=a.config,q,p;if(m){p=a.getConfigurator();q=p.configs[n];o[n]=q.merge(m,o[n],a)}},register:function(a){var d=a.$responsiveId;if(!d){a.$responsiveId=d=++b.nextId;b.all[d]=a;if(++b.count===1){b.activate()}}},unregister:function(a){var d=a.$responsiveId;if(d in b.all){a.$responsiveId=null;delete b.all[d];if(--b.count===0){b.deactivate()}}},updateContext:function(){var g=Ext.Element,h=g.getViewportWidth(),a=g.getViewportHeight(),j=b.context;j.width=h;j.height=a;j.tall=h<a;j.wide=!j.tall;j.landscape=j.portrait=false;if(!j.platform){j.platform=Ext.platformTags}j[Ext.dom.Element.getOrientation()]=true}},afterClassMixedIn:function(h){var j=h.prototype,a=j.responsiveConfig,l=j.responsiveFormulas,m;if(a||l){m={};if(a){delete j.responsiveConfig;m.responsiveConfig=a}if(l){delete j.responsiveFormulas;m.responsiveFormulas=l}h.getConfigurator().add(m)}},applyResponsiveConfig:function(d){for(var a in d){d[a].fn=Ext.createRuleFn(a)}return d},applyResponsiveFormulas:function(h){var j={},g,a;if(h){for(a in h){if(Ext.isString(g=h[a])){g=Ext.createRuleFn(g)}j[a]=g}}return j},getResponsiveState:function(){var m=b.context,h=this.getResponsiveConfig(),a={},l,j;if(h){for(j in h){l=h[j];if(l.fn.call(this,m)){Ext.merge(a,l.config)}}}return a},setupResponsiveContext:function(){var g=this.getResponsiveFormulas(),e=b.context,a;if(g){for(a in g){e[a]=g[a].call(this,e)}}},transformInstanceConfig:function(e){var g=this,a;b.register(g);if(e){b.processConfig(g,e,"responsiveConfig");b.processConfig(g,e,"responsiveFormulas")}g.setupResponsiveContext();a=g.getResponsiveState();if(e){a=Ext.merge({},e,a);delete a.responsiveConfig;delete a.responsiveFormulas}return a},updateResponsiveState:function(){var a=this.getResponsiveState();this.setConfig(a)}}}});Ext.define("Ext.perf.Accumulator",function(){var v=null,q=Ext.global.chrome,u,w=function(){w=Ext.now;var c,b;if(Ext.isChrome&&q&&q.Interval){c=new q.Interval();c.start();w=function(){return c.microseconds()/1000}}else{if(window.ActiveXObject){try{b=new ActiveXObject("SenchaToolbox.Toolbox");Ext.senchaToolbox=b;w=function(){return b.milliseconds}}catch(a){}}}Ext.perf.getTimestamp=Ext.perf.Accumulator.getTimestamp=w;return w()};function p(a,b){a.sum+=b;a.min=Math.min(a.min,b);a.max=Math.max(a.max,b)}function s(a){var c=a?a:(w()-this.time),b=this,d=b.accum;++d.count;if(!--d.depth){p(d.total,c)}p(d.pure,c-b.childTime);v=b.parent;if(v){++v.accum.childCount;v.childTime+=c}}function x(){return{min:Number.MAX_VALUE,max:0,sum:0}}function o(a,b){return function(){var c=a.enter(),d=b.apply(this,arguments);c.leave();return d}}function n(a){return Math.round(a*100)/100}function r(c,d,e,a){var b={avg:0,min:a.min,max:a.max,sum:0};if(c){e=e||0;b.sum=a.sum-d*e;b.avg=b.sum/c}return b}return{constructor:function(b){var a=this;a.count=a.childCount=a.depth=a.maxDepth=0;a.pure=x();a.total=x();a.name=b},statics:{getTimestamp:w},format:function(b){if(!u){u=new Ext.XTemplate(["{name} - {count} call(s)",'<tpl if="count">','<tpl if="childCount">'," ({childCount} children)","</tpl>",'<tpl if="depth - 1">'," ({depth} deep)","</tpl>",'<tpl for="times">',", {type}: {[this.time(values.sum)]} msec (","avg={[this.time(values.sum / parent.count)]}",")","</tpl>","</tpl>"].join(""),{time:function(c){return Math.round(c*100)/100}})}var a=this.getData(b);a.name=this.name;a.pure.type="Pure";a.total.type="Total";a.times=[a.pure,a.total];return u.apply(a)},getData:function(b){var a=this;return{count:a.count,childCount:a.childCount,depth:a.maxDepth,pure:r(a.count,a.childCount,b,a.pure),total:r(a.count,a.childCount,b,a.total)}},enter:function(){var b=this,a={accum:b,leave:s,childTime:0,parent:v};++b.depth;if(b.maxDepth<b.depth){b.maxDepth=b.depth}v=a;a.time=w();return a},monitor:function(b,c,d){var a=this.enter();if(d){b.apply(c,d)}else{b.call(c)}a.leave()},report:function(){Ext.log(this.format())},tap:function(l,h){var j=this,b=typeof h=="string"?[h]:h,m,g,B,a,c,d,e,A;A=function(){if(typeof l=="string"){m=Ext.global;a=l.split(".");for(B=0,c=a.length;B<c;++B){m=m[a[B]]}}else{m=l}for(B=0,c=b.length;B<c;++B){d=b[B];g=d.charAt(0)=="!";if(g){d=d.substring(1)}else{g=!(d in m.prototype)}e=g?m:m.prototype;e[d]=o(j,e[d])}};Ext.ClassManager.onCreated(A,j,l);return j}}},function(){Ext.perf.getTimestamp=this.getTimestamp});Ext.define("Ext.perf.Monitor",{singleton:true,alternateClassName:"Ext.Perf",constructor:function(){this.accumulators=[];this.accumulatorsByName={}},calibrate:function(){var j=new Ext.perf.Accumulator("$"),n=j.total,q=Ext.perf.Accumulator.getTimestamp,o=0,m,l,p;p=q();do{m=j.enter();m.leave();++o}while(n.sum<100);l=q();return(l-p)/o},get:function(d){var g=this,e=g.accumulatorsByName[d];if(!e){g.accumulatorsByName[d]=e=new Ext.perf.Accumulator(d);g.accumulators.push(e)}return e},enter:function(b){return this.get(b).enter()},monitor:function(e,g,d){this.get(e).monitor(g,d)},report:function(){var g=this,d=g.accumulators,e=g.calibrate();d.sort(function(a,b){return(a.name<b.name)?-1:((b.name<a.name)?1:0)});g.updateGC();Ext.log("Calibration: "+Math.round(e*100)/100+" msec/sample");Ext.each(d,function(a){Ext.log(a.format(e))})},getData:function(g){var d={},e=this.accumulators;Ext.each(e,function(a){if(g||a.count){d[a.name]=a.getData()}});return d},reset:function(){Ext.each(this.accumulators,function(d){var c=d;c.count=c.childCount=c.depth=c.maxDepth=0;c.pure={min:Number.MAX_VALUE,max:0,sum:0};c.total={min:Number.MAX_VALUE,max:0,sum:0}})},updateGC:function(){var e=this.accumulatorsByName.GC,d=Ext.senchaToolbox,g;if(e){e.count=d.garbageCollectionCounter||0;if(e.count){g=e.pure;e.total.sum=g.sum=d.garbageCollectionMilliseconds;g.min=g.max=g.sum/e.count;g=e.total;g.min=g.max=g.sum/e.count}}},watchGC:function(){Ext.perf.getTimestamp();var b=Ext.senchaToolbox;if(b){this.get("GC");b.watchGarbageCollector(false)}},setup:function(o){if(!o){o={render:{"Ext.Component":"render"},layout:{"Ext.layout.Context":"run"}}}this.currentConfig=o;var n,l,h,m,j;for(n in o){if(o.hasOwnProperty(n)){l=o[n];h=Ext.Perf.get(n);for(m in l){if(l.hasOwnProperty(m)){j=l[m];h.tap(m,j)}}}}this.watchGC()}});Ext.define("Ext.plugin.Abstract",{alternateClassName:"Ext.AbstractPlugin",isPlugin:true,constructor:function(b){if(b){this.pluginConfig=b;this.initConfig(b)}},clonePlugin:function(b){return new this.self(Ext.apply({},b,this.pluginConfig))},setCmp:function(b){this.cmp=b},getCmp:function(){return this.cmp},init:Ext.emptyFn,onClassExtended:function(e,h,g){var j=h.alias;if(j&&!h.ptype){if(Ext.isArray(j)){j=j[0]}e.prototype.ptype=j.split("plugin.")[1]}}});Ext.define("Ext.overrides.plugin.Abstract",{override:"Ext.plugin.Abstract",$configStrict:false,$configPrefixed:false,disabled:false,getState:null,applyState:null,enable:function(){this.disabled=false},disable:function(){this.disabled=true}});Ext.define("Ext.util.TaskManager",{extend:Ext.util.TaskRunner,alternateClassName:["Ext.TaskManager"],singleton:true});Ext.define("Ext.util.TextMetrics",{statics:{shared:null,measure:function(h,l,j){var g=this,m=g.shared;if(!m){m=g.shared=new g(h,j)}m.bind(h);m.setFixedWidth(j||"auto");return m.getSize(l)},destroy:function(){var b=this;Ext.destroy(b.shared);b.shared=null}},constructor:function(g,h){var j=this,e=Ext.getBody().createChild({role:"presentation",cls:Ext.baseCSSPrefix+"textmetrics"});j.measure=e;if(g){j.bind(g)}e.position("absolute");e.setLocalXY(-1000,-1000);e.hide();if(h){e.setWidth(h)}},getSize:function(g){var d=this.measure,e;d.setHtml(g);e=d.getSize();d.setHtml("");return e},bind:function(d){var c=this;c.el=Ext.get(d);c.measure.setStyle(c.el.getStyle(["font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing","word-break"]))},setFixedWidth:function(b){this.measure.setWidth(b)},getWidth:function(b){this.measure.dom.style.width="auto";return this.getSize(b).width},getHeight:function(b){return this.getSize(b).height},destroy:function(){var b=this;b.measure.destroy();delete b.el;delete b.measure}},function(){Ext.Element.override({getTextWidth:function(g,d,e){return Ext.Number.constrain(Ext.util.TextMetrics.measure(this.dom,Ext.valueFrom(g,this.dom.innerHTML,true)).width,d||0,e||1000000)}})});Ext.define("Ext.ElementLoader",{mixins:{observable:Ext.util.Observable},statics:{Renderer:{Html:function(e,d,g){e.getTarget().setHtml(d.responseText,g.scripts===true);return true}}},url:null,params:null,baseParams:null,autoLoad:false,target:null,loadMask:false,ajaxOptions:null,scripts:false,isLoader:true,constructor:function(d){var g=this,e;d=d||{};Ext.apply(g,d);g.mixins.observable.constructor.call(g);g.setTarget(g.target);if(g.autoLoad){e=g.autoLoad;if(e===true){e=null}g.load(e)}},setTarget:function(c){var d=this;c=Ext.get(c);if(d.target&&d.target!=c){d.abort()}d.target=c},getTarget:function(){return this.target||null},abort:function(){var b=this.active;if(b!==undefined){Ext.Ajax.abort(b.request);if(b.mask){this.removeMask()}delete this.active}},removeMask:function(){this.target.unmask()},addMask:function(b){this.target.mask(b===true?null:b)},load:function(s){s=Ext.apply({},s);var q=this,m=Ext.isDefined(s.loadMask)?s.loadMask:q.loadMask,p=Ext.apply({},s.params),l=Ext.apply({},s.ajaxOptions),n=s.callback||q.callback,r=s.scope||q.scope||q,o=s.rendererScope||q.rendererScope||q;Ext.applyIf(l,q.ajaxOptions);Ext.applyIf(s,l);Ext.applyIf(p,q.params);Ext.apply(p,q.baseParams);Ext.applyIf(s,{url:q.url});Ext.apply(s,{scope:q,params:p,callback:q.onComplete});if(q.fireEvent("beforeload",q,s)===false){return}if(m){q.addMask(m)}q.active={options:s,mask:m,scope:r,rendererScope:o,callback:n,success:s.success||q.success,failure:s.failure||q.failure,renderer:s.renderer||q.renderer,scripts:Ext.isDefined(s.scripts)?s.scripts:q.scripts};q.active.request=Ext.Ajax.request(s);q.setOptions(q.active,s)},setOptions:Ext.emptyFn,onComplete:function(j,n,l){var p=this,o=p.active,m,q;if(o){q=o.scope;m=o.rendererScope;if(n){n=p.getRenderer(o.renderer).call(m,p,l,o)!==false}if(n){Ext.callback(o.success,q,[p,l,j]);p.fireEvent("load",p,l,j)}else{Ext.callback(o.failure,q,[p,l,j]);p.fireEvent("exception",p,l,j)}Ext.callback(o.callback,q,[p,n,l,j]);if(o.mask){p.removeMask()}}delete p.active},getRenderer:function(b){if(Ext.isFunction(b)){return b}return this.statics().Renderer.Html},startAutoRefresh:function(e,d){var g=this;g.stopAutoRefresh();g.autoRefresh=Ext.interval(function(){g.load(d)},e)},stopAutoRefresh:function(){clearInterval(this.autoRefresh);delete this.autoRefresh},isAutoRefreshing:function(){return Ext.isDefined(this.autoRefresh)},destroy:function(){var b=this;b.stopAutoRefresh();delete b.target;b.abort();b.clearListeners()}});Ext.define("Ext.ComponentLoader",{extend:Ext.ElementLoader,statics:{Renderer:{Data:function(h,e,l){var j=true;try{h.getTarget().update(Ext.decode(e.responseText))}catch(m){j=false}return j},Component:function(l,q,n){var m=true,o=l.getTarget(),e=[];try{e=Ext.decode(q.responseText)}catch(p){m=false}if(m){o.suspendLayouts();if(n.removeAll){o.removeAll()}o.add(e);o.resumeLayouts(true)}return m}}},target:null,loadOnRender:false,loadMask:false,renderer:"html",setTarget:function(c){var d=this;if(Ext.isString(c)){c=Ext.getCmp(c)}if(d.target&&d.target!=c){d.abort()}d.target=c;if(c&&d.loadOnRender){if(c.rendered){d.doLoadOnRender()}else{d.mon(c,"render",d.doLoadOnRender,d)}}},doLoadOnRender:function(){var b=this.loadOnRender;this.load(Ext.isObject(b)?b:null)},removeMask:function(){this.target.setLoading(false)},addMask:function(b){this.target.setLoading(b)},setOptions:function(c,d){c.removeAll=Ext.isDefined(d.removeAll)?d.removeAll:this.removeAll},getRenderer:function(c){if(Ext.isFunction(c)){return c}var d=this.statics().Renderer;switch(c){case"component":return d.Component;case"data":return d.Data;default:return Ext.ElementLoader.Renderer.Html}}});Ext.define("Ext.layout.component.ProgressBar",{alias:["layout.progressbar"],extend:Ext.layout.component.Auto,type:"progressbar",beginLayout:function(h){var e=this,g,j;e.callParent(arguments);if(!h.textEls){j=e.owner.textEl;if(j.isComposite){h.textEls=[];j=j.elements;for(g=j.length;g--;){h.textEls[g]=h.getEl(Ext.get(j[g]))}}else{h.textEls=[h.getEl("textEl")]}}},calculate:function(j){var m=this,h,l,g;m.callParent(arguments);if(Ext.isNumber(g=j.getProp("width"))){g-=j.getBorderInfo().width;l=j.textEls;for(h=l.length;h--;){l[h].setWidth(g)}}else{m.done=false}}});Ext.define("Ext.ProgressBar",{extend:Ext.Component,alias:"widget.progressbar",config:{value:0,textTpl:null},baseCls:Ext.baseCSSPrefix+"progress",animate:false,text:"",waitTimer:null,childEls:["bar"],defaultBindProperty:"value",renderTpl:['<tpl if="internalText">','<div class="{baseCls}-text {baseCls}-text-back">{text}</div>',"</tpl>",'<div id="{id}-bar" data-ref="bar" class="{baseCls}-bar {baseCls}-bar-{ui}" role="presentation" style="width:{percentage}%">','<tpl if="internalText">','<div class="{baseCls}-text">',"<div>{text}</div>","</div>","</tpl>","</div>"],componentLayout:"progressbar",ariaRole:"progressbar",initRenderData:function(){var b=this;return Ext.apply(b.callParent(),{internalText:!b.hasOwnProperty("textEl"),text:b.text||"&#160;",percentage:b.value?b.value*100:0})},onRender:function(){var b=this;b.callParent(arguments);if(b.textEl){b.textEl=Ext.get(b.textEl);b.updateText(b.text)}else{b.textEl=b.el.select("."+b.baseCls+"-text")}},updateValue:function(b){this.updateProgress(b,Math.round(b*100)+"%")},updateProgress:function(m,l,j){var n=this,h=n.value,o=n.getTextTpl();n.value=m||(m=0);if(l!=null){n.updateText(l)}else{if(o){n.updateText(o.apply({value:m,percent:m*100}))}}if(n.rendered&&!n.isDestroyed){if(j===true||(j!==false&&n.animate)){n.bar.stopAnimation();n.bar.animate(Ext.apply({from:{width:(h*100)+"%"},to:{width:(m*100)+"%"}},n.animate))}else{n.bar.setStyle("width",(m*100)+"%")}}n.fireEvent("update",n,m,l);return n},updateText:function(c){var d=this;d.text=c;if(d.rendered){d.textEl.setHtml(d.text)}return d},applyTextTpl:function(b){if(!b.isTemplate){b=new Ext.XTemplate(b)}return b},applyText:function(b){this.updateText(b)},getText:function(){return this.text},wait:function(g){var d=this,e;if(!d.waitTimer){e=d;g=g||{};d.updateText(g.text);d.waitTimer=Ext.TaskManager.start({run:function(b){var a=g.increment||10;b-=1;d.updateProgress(((((b+a)%a)+1)*(100/a))*0.01,null,g.animate)},interval:g.interval||1000,duration:g.duration,onStop:function(){if(g.fn){g.fn.apply(g.scope||d)}d.reset()},scope:e})}return d},isWaiting:function(){return this.waitTimer!==null},reset:function(d){var c=this;c.updateProgress(0);c.clearTimer();if(d===true){c.hide()}return c},clearTimer:function(){var b=this;if(b.waitTimer){b.waitTimer.onStop=null;Ext.TaskManager.stop(b.waitTimer);b.waitTimer=null}},onDestroy:function(){var c=this,d=c.bar;c.clearTimer();if(c.rendered){if(c.textEl.isComposite){c.textEl.clear()}Ext.destroyMembers(c,"textEl","progressBar");if(d&&c.animate){d.stopAnimation()}}c.callParent()}});Ext.define("Ext.form.Labelable",{extend:Ext.Mixin,isLabelable:true,mixinConfig:{id:"labelable",on:{beforeRender:"beforeLabelRender",onRender:"onLabelRender"}},config:{childEls:["labelEl","bodyEl","errorEl","errorWrapEl"]},labelableRenderTpl:["{beforeLabelTpl}",'<label id="{id}-labelEl" data-ref="labelEl" class="{labelCls} {labelCls}-{ui} {labelClsExtra} ','{unselectableCls}" style="{labelStyle}"<tpl if="inputId">',' for="{inputId}"</tpl> {labelAttrTpl}>','<span class="{labelInnerCls} {labelInnerCls}-{ui}" style="{labelInnerStyle}">',"{beforeLabelTextTpl}",'<tpl if="fieldLabel">{fieldLabel}','<tpl if="labelSeparator">{labelSeparator}</tpl>',"</tpl>","{afterLabelTextTpl}","</span>","</label>","{afterLabelTpl}",'<div id="{id}-bodyEl" data-ref="bodyEl" class="{baseBodyCls} {baseBodyCls}-{ui}<tpl if="fieldBodyCls">',' {fieldBodyCls} {fieldBodyCls}-{ui}</tpl> {growCls} {extraFieldBodyCls}"','<tpl if="bodyStyle"> style="{bodyStyle}"</tpl>>',"{beforeBodyEl}","{beforeSubTpl}","{[values.$comp.getSubTplMarkup(values)]}","{afterSubTpl}","{afterBodyEl}","</div>",'<tpl if="renderError">','<div id="{id}-errorWrapEl" data-ref="errorWrapEl" class="{errorWrapCls} {errorWrapCls}-{ui}',' {errorWrapExtraCls}" style="{errorWrapStyle}">','<div role="alert" aria-live="polite" id="{id}-errorEl" data-ref="errorEl" ','class="{errorMsgCls} {invalidMsgCls} {invalidMsgCls}-{ui}" ','data-anchorTarget="{id}-inputEl">',"</div>","</div>","</tpl>",{disableFormats:true}],activeErrorsTpl:undefined,htmlActiveErrorsTpl:['<tpl if="errors && errors.length">','<ul class="{listCls}">','<tpl if="Ext.enableAria">','<tpl if="fieldLabel"><div>{fieldLabel}</div></tpl>',"</tpl>",'<tpl for="errors"><li>{.}</li></tpl>',"</ul>","</tpl>"],plaintextActiveErrorsTpl:['<tpl if="errors && errors.length">','<tpl if="Ext.enableAria">','<tpl if="fieldLabel">{fieldLabel}\n</tpl>',"</tpl>",'<tpl for="errors"><tpl if="xindex &gt; 1">\n</tpl>{.}</tpl>',"</tpl>"],isFieldLabelable:true,formItemCls:Ext.baseCSSPrefix+"form-item",labelCls:Ext.baseCSSPrefix+"form-item-label",topLabelCls:Ext.baseCSSPrefix+"form-item-label-top",rightLabelCls:Ext.baseCSSPrefix+"form-item-label-right",labelInnerCls:Ext.baseCSSPrefix+"form-item-label-inner",topLabelSideErrorCls:Ext.baseCSSPrefix+"form-item-label-top-side-error",errorMsgCls:Ext.baseCSSPrefix+"form-error-msg",errorWrapCls:Ext.baseCSSPrefix+"form-error-wrap",errorWrapSideCls:Ext.baseCSSPrefix+"form-error-wrap-side",errorWrapUnderCls:Ext.baseCSSPrefix+"form-error-wrap-under",errorWrapUnderSideLabelCls:Ext.baseCSSPrefix+"form-error-wrap-under-side-label",baseBodyCls:Ext.baseCSSPrefix+"form-item-body",invalidIconCls:Ext.baseCSSPrefix+"form-invalid-icon",invalidUnderCls:Ext.baseCSSPrefix+"form-invalid-under",noLabelCls:Ext.baseCSSPrefix+"form-item-no-label",fieldBodyCls:"",invalidCls:Ext.baseCSSPrefix+"form-invalid",fieldLabel:undefined,labelAlign:"left",labelWidth:100,labelPad:5,labelSeparator:":",hideLabel:false,hideEmptyLabel:true,preventMark:false,autoFitErrors:true,msgTarget:"qtip",msgTargets:{qtip:1,title:1,under:1,side:1,none:1},noWrap:true,labelableInsertions:["beforeBodyEl","afterBodyEl","beforeLabelTpl","afterLabelTpl","beforeSubTpl","afterSubTpl","beforeLabelTextTpl","afterLabelTextTpl","labelAttrTpl"],statics:{initTip:function(){var d=this.tip,e,g;if(d){return}e={id:"ext-form-error-tip",ui:"form-invalid"};if(Ext.supports.Touch){e.dismissDelay=0;e.anchor="top";e.showDelay=0;e.listeners={beforeshow:function(){this.minWidth=Ext.fly(this.anchorTarget).getWidth()}}}d=this.tip=Ext.create("Ext.tip.QuickTip",e);g=Ext.apply({},d.tagConfig);g.attribute="errorqtip";d.setTagConfig(g)},destroyTip:function(){this.tip=Ext.destroy(this.tip)}},initLabelable:function(){var d=this,c=d.padding;if(c){d.padding=undefined;d.extraMargins=Ext.Element.parseBox(c)}if(!d.activeErrorsTpl){if(d.msgTarget=="title"){d.activeErrorsTpl=d.plaintextActiveErrorsTpl}else{d.activeErrorsTpl=d.htmlActiveErrorsTpl}}d.addCls([d.formItemCls,d.formItemCls+"-"+d.ui]);d.lastActiveError="";d.enableBubble("errorchange")},trimLabelSeparator:function(){var j=this,h=j.labelSeparator,g=j.fieldLabel||"",e=g.substr(g.length-1);return e===h?g.slice(0,-1):g},getFieldLabel:function(){return this.trimLabelSeparator()},setFieldLabel:function(r){r=r||"";var q=this,p=q.labelSeparator,s=q.labelEl,l=q.errorWrapEl,n=(q.labelAlign!=="top"),m=q.noLabelCls,o=q.errorWrapUnderSideLabelCls;q.fieldLabel=r;if(q.rendered){if(Ext.isEmpty(r)&&q.hideEmptyLabel){q.addCls(m);if(n&&l){l.removeCls(o)}}else{if(p){r=q.trimLabelSeparator()+p}s.dom.firstChild.innerHTML=r;q.removeCls(m);if(n&&l){l.addCls(o)}}q.updateLayout()}},setHideLabel:function(d){var c=this;if(d!==c.hideLabel){c.hideLabel=d;if(c.rendered){c[d?"addCls":"removeCls"](c.noLabelCls);c.updateLayout()}}},setHideEmptyLabel:function(e){var g=this,d;if(e!==g.hideEmptyLabel){g.hideEmptyLabel=e;if(g.rendered&&!g.hideLabel){d=e&&!g.getFieldLabel();g[d?"addCls":"removeCls"](g.noLabelCls);g.updateLayout()}}},getInsertionRenderData:function(l,j){var g=j.length,h,m;while(g--){h=j[g];m=this[h];if(m){if(typeof m!="string"){if(!m.isTemplate){m=Ext.XTemplate.getTpl(this,h)}m=m.apply(l)}}l[h]=m||""}return l},getLabelableRenderData:function(){var z=this,w=z.labelAlign,K=(w==="top"),C=(w==="right"),G=(z.msgTarget==="side"),J=(z.msgTarget==="under"),x=z.errorMsgCls,I=z.labelPad,A=z.labelWidth,N=z.labelClsExtra||"",H=G?z.errorWrapSideCls:z.errorWrapUnderCls,O="",D="",L=z.hasVisibleLabel(),B=z.autoFitErrors,F=z.defaultBodyWidth,M,y;if(K){N+=" "+z.topLabelCls;if(I){D="padding-bottom:"+I+"px;"}if(G&&!B){N+=" "+z.topLabelSideErrorCls}}else{if(C){N+=" "+z.rightLabelCls}if(I){O+=z.getHorizontalPaddingStyle()+I+"px;"}O+="width:"+(A+(I?I:0))+"px;";D="width:"+A+"px"}if(L){if(!K&&J){H+=" "+z.errorWrapUnderSideLabelCls}}if(F){M="min-width:"+F+"px;max-width:"+F+"px;"}y={id:z.id,inputId:z.getInputId(),labelCls:z.labelCls,labelClsExtra:N,labelStyle:O+(z.labelStyle||""),labelInnerStyle:D,labelInnerCls:z.labelInnerCls,unselectableCls:Ext.Element.unselectableCls,bodyStyle:M,baseBodyCls:z.baseBodyCls,fieldBodyCls:z.fieldBodyCls,extraFieldBodyCls:z.extraFieldBodyCls,errorWrapCls:z.errorWrapCls,errorWrapExtraCls:H,renderError:G||J,invalidMsgCls:G?z.invalidIconCls:J?z.invalidUnderCls:"",errorMsgCls:x,growCls:z.grow?z.growCls:"",errorWrapStyle:(G&&!B)?"visibility:hidden":"display:none",fieldLabel:z.getFieldLabel(),labelSeparator:z.labelSeparator};z.getInsertionRenderData(y,z.labelableInsertions);return y},getHorizontalPaddingStyle:function(){return"padding-right:"},beforeLabelRender:function(){var b=this;b.setFieldDefaults(b.getInherited().fieldDefaults);if(b.ownerLayout){b.addCls(Ext.baseCSSPrefix+b.ownerLayout.type+"-form-item")}if(!b.hasVisibleLabel()){b.addCls(b.noLabelCls)}},onLabelRender:function(){var n=this,o={},l=Ext.Element,j=n.errorWrapEl,m,h;if(j){j.setVisibilityMode((n.msgTarget==="side"&&!n.autoFitErrors)?l.VISIBILITY:l.DISPLAY)}if(n.extraMargins){m=n.el.getMargin();for(h in m){if(m.hasOwnProperty(h)){o["margin-"+h]=(m[h]+n.extraMargins[h])+"px"}}n.el.setStyle(o)}},hasVisibleLabel:function(){if(this.hideLabel){return false}return !(this.hideEmptyLabel&&!this.getFieldLabel())},getSubTplMarkup:function(){return""},getInputId:function(){return""},getActiveError:function(){return this.activeError||""},hasActiveError:function(){return !!this.getActiveError()},setActiveError:function(b){this.setActiveErrors(b)},getActiveErrors:function(){return this.activeErrors||[]},setActiveErrors:function(o){var q=this,p=q.errorWrapEl,s=q.msgTarget,u=s==="side",m=s==="qtip",v,r,n;o=Ext.Array.from(o);r=q.getTpl("activeErrorsTpl");q.activeErrors=o;v=q.activeError=r.apply({fieldLabel:q.fieldLabel,errors:o,listCls:Ext.baseCSSPrefix+"list-plain"});q.renderActiveError();if(q.rendered){if(u){q.errorEl.dom.setAttribute("data-errorqtip",v)}else{if(m){q.getActionEl().dom.setAttribute("data-errorqtip",v)}else{if(s==="title"){q.getActionEl().dom.setAttribute("title",v)}}}if(u||m){Ext.form.Labelable.initTip()}if(!q.msgTargets[s]){n=Ext.get(s);if(n){n.dom.innerHTML=v}}}if(p){p.setVisible(o.length>0);if(u&&q.autoFitErrors){q.labelEl.addCls(q.topLabelSideErrorCls)}q.updateLayout()}},unsetActiveError:function(){var j=this,g=j.errorWrapEl,e=j.msgTarget,h;delete j.activeError;delete j.activeErrors;j.renderActiveError();if(j.rendered){if(e==="qtip"){j.getActionEl().dom.removeAttribute("data-errorqtip")}else{if(e==="title"){j.getActionEl().dom.removeAttribute("title")}}if(!j.msgTargets[e]){h=Ext.get(e);if(h){h.dom.innerHTML=""}}if(g){g.hide();if(e==="side"&&j.autoFitErrors){j.labelEl.removeCls(j.topLabelSideErrorCls)}j.updateLayout()}}},renderActiveError:function(){var g=this,d=g.getActiveError(),e=!!d;if(d!==g.lastActiveError){g.lastActiveError=d;g.fireEvent("errorchange",g,d)}if(g.rendered&&!g.isDestroyed&&!g.preventMark){g.toggleInvalidCls(e);if(g.errorEl){g.errorEl.dom.innerHTML=d}}},toggleInvalidCls:function(b){this.el[b?"addCls":"removeCls"](this.invalidCls)},setFieldDefaults:function(c){var d;for(d in c){if(!this.hasOwnProperty(d)){this[d]=c[d]}}}},function(){if(Ext.supports.Touch){this.prototype.msgTarget="side"}});Ext.define("Ext.form.field.Field",{mixinId:"field",isFormField:true,config:{validation:null,validationField:null},disabled:false,submitValue:true,validateOnChange:true,valuePublishEvent:"change",suspendCheckChange:0,dirty:false,initField:function(){var h=this,j=h.valuePublishEvent,g,e;h.initValue();if(Ext.isString(j)){h.on(j,h.publishValue,h)}else{for(e=0,g=j.length;e<g;++e){h.on(j[e],h.publishValue,h)}}},initValue:function(){var b=this;b.suspendCheckChange++;b.setValue(b.value);b.suspendCheckChange--;b.originalValue=b.lastValue=b.getValue()},getFieldIdentifier:function(){return this.isEditorComponent?this.dataIndex:this.name},getName:function(){return this.name},getValue:function(){return this.value},setValue:function(c){var d=this;d.value=c;d.checkChange();return d},isEqual:function(c,d){return String(c)===String(d)},isEqualAsString:function(c,d){return String(Ext.valueFrom(c,""))===String(Ext.valueFrom(d,""))},getSubmitData:function(){var d=this,c=null;if(!d.disabled&&d.submitValue){c={};c[d.getName()]=""+d.getValue()}return c},getModelData:function(g,e){var j=this,h=null;if(!j.disabled&&(j.submitValue||!e)){h={};h[j.getFieldIdentifier()]=j.getValue()}return h},reset:function(){var b=this;b.beforeReset();b.setValue(b.originalValue);b.clearInvalid();delete b.wasValid},beforeReset:Ext.emptyFn,resetOriginalValue:function(){this.originalValue=this.getValue();this.checkDirty()},checkChange:function(){var g=this,d,e;if(!g.suspendCheckChange){d=g.getValue();e=g.lastValue;if(!g.isDestroyed&&g.didValueChange(d,e)){g.lastValue=d;g.fireEvent("change",g,d,e);g.onChange(d,e)}}},didValueChange:function(c,d){return !this.isEqual(c,d)},onChange:function(d){var c=this;if(c.validateOnChange){c.validate()}c.checkDirty()},publishValue:function(){var b=this;if(b.rendered&&!b.getErrors().length){b.publishState("value",b.getValue())}},isDirty:function(){var b=this;return !b.disabled&&!b.isEqual(b.getValue(),b.originalValue)},checkDirty:function(){var d=this,c=d.isDirty();if(c!==d.wasDirty){d.dirty=c;d.fireEvent("dirtychange",d,c);d.onDirtyChange(c);d.wasDirty=c}},onDirtyChange:Ext.emptyFn,getErrors:function(l){var j=[],m=this.getValidationField(),g=this.getValidation(),h;if(m){h=m.validate(l);if(h!==true){j.push(h)}}if(g&&g!==true){j.push(g)}return j},isValid:function(){var b=this;return b.disabled||Ext.isEmpty(b.getErrors())},validate:function(){var d=this,c=d.isValid();if(c!==d.wasValid){d.wasValid=c;d.fireEvent("validitychange",d,c)}return c},batchChanges:function(d){try{this.suspendCheckChange++;d()}catch(c){throw c}finally{this.suspendCheckChange--}this.checkChange()},isFileUpload:function(){return false},extractFileInput:function(){return null},markInvalid:Ext.emptyFn,clearInvalid:Ext.emptyFn,updateValidation:function(d,c){if(c){this.validate()}}});Ext.define("E.overrides.form.Field",{override:"Ext.form.field.Field",getErrors:function(n){var m=[],p=this.getValidationField(),q=this.getValidation(),l,j,o;if(p){if(this.bind&&this.bind.value&&(j=this.bind.value.stub.getParentValue())){o=j.validationSeparator}l=p.validate(n,o,m,j);if(l!==true){m.push(l)}}if(q&&q!==true){m.push(q)}return m}},function(){var b={getErrors:this.prototype.getErrors};Ext.forEach(["Ext.form.CheckboxGroup","Ext.form.field.Base","Ext.form.field.HtmlEditor","Ext.ux.form.MultiSelect"],function(a){if(a=Ext.ClassManager.get(a)){a.addMembers(b)}})});Ext.define("E.xforms.overrideFormField",{override:"Ext.form.field.Field"});Ext.define("Ext.form.field.Base",{extend:Ext.Component,mixins:[Ext.form.Labelable,Ext.form.field.Field],xtype:"field",alternateClassName:["Ext.form.Field","Ext.form.BaseField"],focusable:true,shrinkWrap:true,fieldSubTpl:['<input id="{id}" data-ref="inputEl" type="{type}" role="{role}" {inputAttrTpl}',' size="1"','<tpl if="name"> name="{name}"</tpl>','<tpl if="value"> value="{[Ext.util.Format.htmlEncode(values.value)]}"</tpl>','<tpl if="placeholder"> placeholder="{placeholder}"</tpl>','{%if (values.maxLength !== undefined){%} maxlength="{maxLength}"{%}%}','<tpl if="readOnly"> readonly="readonly"</tpl>','<tpl if="disabled"> disabled="disabled"</tpl>','<tpl if="tabIdx != null"> tabindex="{tabIdx}"</tpl>','<tpl if="fieldStyle"> style="{fieldStyle}"</tpl>',' class="{fieldCls} {typeCls} {typeCls}-{ui} {editableCls} {inputCls}" autocomplete="off"/>',{disableFormats:true}],defaultBindProperty:"value",subTplInsertions:["inputAttrTpl"],childEls:["inputEl"],inputType:"text",isTextInput:true,invalidText:"The value in this field is invalid",fieldCls:Ext.baseCSSPrefix+"form-field",focusCls:"form-focus",dirtyCls:Ext.baseCSSPrefix+"form-dirty",checkChangeEvents:Ext.isIE&&(!document.documentMode||document.documentMode<=9)?["change","propertychange","keyup"]:["change","input","textInput","keyup","dragdrop"],ignoreChangeRe:/data\-errorqtip|style\.|className/,checkChangeBuffer:50,liquidLayout:true,readOnly:false,readOnlyCls:Ext.baseCSSPrefix+"form-readonly",validateOnBlur:true,hasFocus:false,baseCls:Ext.baseCSSPrefix+"field",fieldBodyCls:Ext.baseCSSPrefix+"field-body",maskOnDisable:false,stretchInputElFixed:true,initComponent:function(){var b=this;b.callParent();b.subTplData=b.subTplData||{};b.initLabelable();b.initField();if(!b.name){b.name=b.getInputId()}if(b.readOnly){b.addCls(b.readOnlyCls)}b.addCls(Ext.baseCSSPrefix+"form-type-"+b.inputType)},getInputId:function(){return this.inputId||(this.inputId=this.id+"-inputEl")},getSubTplData:function(g){var l=this,m=l.inputType,h=l.getInputId(),j;j=Ext.apply({ui:l.ui,id:h,cmpId:l.id,name:l.name||h,disabled:l.disabled,readOnly:l.readOnly,value:l.getRawValue(),type:m,fieldCls:l.fieldCls,fieldStyle:l.getFieldStyle(),childElCls:g.childElCls,tabIdx:l.tabIndex,inputCls:l.inputCls,typeCls:Ext.baseCSSPrefix+"form-"+(l.isTextInput?"text":m),role:l.ariaRole},l.subTplData);l.getInsertionRenderData(j,l.subTplInsertions);return j},getSubTplMarkup:function(h){var o=this,n=o.getSubTplData(h),m=o.getTpl("preSubTpl"),l=o.getTpl("postSubTpl"),j="";if(m){j+=m.apply(n)}j+=o.getTpl("fieldSubTpl").apply(n);if(l){j+=l.apply(n)}return j},initRenderData:function(){return Ext.applyIf(this.callParent(),this.getLabelableRenderData())},setFieldStyle:function(e){var d=this,g=d.inputEl;if(g){g.applyStyles(e)}d.fieldStyle=e},getFieldStyle:function(){var b=this.fieldStyle;return Ext.isObject(b)?Ext.DomHelper.generateStyles(b,null,true):b||""},onRender:function(){this.callParent(arguments);this.mixins.labelable.self.initTip();this.renderActiveError()},onFocusLeave:function(b){this.callParent([b]);this.completeEdit()},completeEdit:Ext.emptyFn,isFileUpload:function(){return this.inputType==="file"},getSubmitData:function(){var e=this,d=null,g;if(!e.disabled&&e.submitValue){g=e.getSubmitValue();if(g!==null){d={};d[e.getName()]=g}}return d},getSubmitValue:function(){return this.processRawValue(this.getRawValue())},getRawValue:function(){var c=this,d=(c.inputEl?c.inputEl.getValue():Ext.valueFrom(c.rawValue,""));c.rawValue=d;return d},setRawValue:function(g){var e=this,d=e.rawValue;if(!e.transformRawValue.$nullFn){g=e.transformRawValue(g)}g=Ext.valueFrom(g,"");if(d===undefined||d!==g){e.rawValue=g;if(e.inputEl){e.bindPropertyChange(false);e.inputEl.dom.value=g;e.bindPropertyChange(true)}if(e.rendered&&e.reference){e.publishState("rawValue",g)}}return g},transformRawValue:Ext.identityFn,valueToRaw:function(b){return""+Ext.valueFrom(b,"")},rawToValue:Ext.identityFn,processRawValue:Ext.identityFn,getValue:function(){var d=this,c=d.rawToValue(d.processRawValue(d.getRawValue()));d.value=c;return c},setValue:function(c){var d=this;d.setRawValue(d.valueToRaw(c));return d.mixins.field.setValue.call(d,c)},onBoxReady:function(){var b=this;b.callParent(arguments);if(b.setReadOnlyOnBoxReady){b.setReadOnly(b.readOnly)}},onDisable:function(){var d=this,c=d.inputEl;d.callParent();if(c){c.dom.disabled=true;if(d.hasActiveError()){d.clearInvalid();d.needsValidateOnEnable=true}}},onEnable:function(){var d=this,c=d.inputEl;d.callParent();if(c){c.dom.disabled=false;if(d.needsValidateOnEnable){delete d.needsValidateOnEnable;d.forceValidation=true;d.isValid();delete d.forceValidation}}},setReadOnly:function(g){var e=this,d=e.inputEl;g=!!g;e[g?"addCls":"removeCls"](e.readOnlyCls);e.readOnly=g;if(d){d.dom.readOnly=g}else{if(e.rendering){e.setReadOnlyOnBoxReady=true}}e.fireEvent("writeablechange",e,g)},fireKey:function(b){if(b.isSpecialKey()){this.fireEvent("specialkey",this,b)}},initEvents:function(){var o=this,m=o.inputEl,n=o.onFieldMutation,q=o.checkChangeEvents,l=q.length,j,p;if(m){o.mon(m,Ext.supports.SpecialKeyDownRepeat?"keydown":"keypress",o.fireKey,o);for(j=0;j<l;++j){p=q[j];if(p==="propertychange"){o.usesPropertychange=true}o.mon(m,p,n,o)}}o.callParent()},onFieldMutation:function(g){var d=this,e=d.checkChangeTask;if(!(g.type=="propertychange"&&d.ignoreChangeRe.test(g.browserEvent.propertyName))){if(!e){d.checkChangeTask=e=new Ext.util.DelayedTask(d.doCheckChangeTask,d)}if(!d.bindNotifyListener){d.bindNotifyListener=Ext.on("beforebindnotify",d.onBeforeNotify,d,{destroyable:true})}e.delay(d.checkChangeBuffer)}},doCheckChangeTask:function(){var b=this.bindNotifyListener;if(b){b.destroy();this.bindNotifyListener=null}this.checkChange()},publishValue:function(){var b=this;if(b.rendered&&!b.getErrors().length){b.publishState("value",b.getValue())}},bindPropertyChange:function(g){var d=this,e=d.usesPropertychange;if(e){d[g?"mon":"mun"](d.inputEl,"propertychange",d.onFieldMutation)}},onDirtyChange:function(c){var d=this;d[c?"addCls":"removeCls"](d.dirtyCls);if(d.rendered&&d.reference){d.publishState("dirty",c)}},isValid:function(){var d=this,e=d.disabled,g=d.forceValidation||!e;return g?d.validateValue(d.processRawValue(d.getRawValue())):e},validateValue:function(e){var g=this,h=g.getErrors(e),j=Ext.isEmpty(h);if(!g.preventMark){if(j){g.clearInvalid()}else{g.markInvalid(h)}}return j},markInvalid:function(h){var e=this,g=e.getActiveError(),j;e.setActiveErrors(Ext.Array.from(h));j=e.getActiveError();if(g!==j){e.setError(j)}},clearInvalid:function(){var c=this,d=c.hasActiveError();delete c.needsValidateOnEnable;c.unsetActiveError();if(d){c.setError("")}},setError:function(g){var j=this,e=j.msgTarget,h;if(j.rendered){if(e=="title"||e=="qtip"){h=e=="qtip"?"data-errorqtip":"title";j.getActionEl().dom.setAttribute(h,g||"")}else{j.updateLayout()}}},renderActiveError:function(){var g=this,d=g.hasActiveError(),e=g.invalidCls+"-field";if(g.inputEl){g.inputEl[d?"addCls":"removeCls"]([e,e+"-"+g.ui])}g.mixins.labelable.renderActiveError.call(g)},beforeDestroy:function(){var c=this,d=c.checkChangeTask;if(d){d.cancel()}c.checkChangeTask=c.bindNotifyListener=Ext.destroy(c.bindNotifyListener);c.callParent()},privates:{applyBind:function(l,o){var h=this,j=o&&o.value,m,n;m=h.callParent([l,o]);n=m.value;h.hasBindingValue=!!n;if(n!==j&&h.getInherited().modelValidation){h.updateValueBinding(m)}return m},applyRenderSelectors:function(){var b=this;b.callParent();if(!b.inputEl){b.inputEl=b.el.getById(b.getInputId())}},getActionEl:function(){return this.inputEl||this.el},getFocusEl:function(){return this.inputEl},initRenderTpl:function(){var b=this;if(!b.hasOwnProperty("renderTpl")){b.renderTpl=b.getTpl("labelableRenderTpl")}return b.callParent()},onBeforeNotify:function(){this.checkChangeTask.cancel();this.checkChange()},updateValueBinding:function(h){var j=this,e=h.value,g=h.$fieldBinding;if(g){g.destroy();h.$fieldBinding=null}if(e&&e.bindValidationField){j.fieldBinding=e.bindValidationField("setValidationField",j)}}},deprecated:{"5":{methods:{doComponentLayout:function(){this.bindPropertyChange(false);this.callParent(arguments);this.bindPropertyChange(true)}}}}});Ext.define("Ext.tip.QuickTip",{extend:Ext.tip.ToolTip,alias:"widget.quicktip",alternateClassName:"Ext.QuickTip",interceptTitles:false,title:"&#160;",tagConfig:{namespace:"data-",attribute:"qtip",width:"qwidth",target:"target",title:"qtitle",hide:"hide",cls:"qclass",align:"qalign",anchor:"anchor",showDelay:"qshowDelay",hideAction:"hideAction",anchorTarget:"anchorTarget"},shrinkWrapDock:true,initComponent:function(){var b=this;b.target=b.target||Ext.getDoc();b.targets=b.targets||{};b.callParent()},setTagConfig:function(b){this.tagConfig=Ext.apply({},b);delete this.tagConfig.attr},register:function(q){var m=Ext.isArray(q)?q:arguments,p=0,l=m.length,n,j,o;for(;p<l;p++){q=m[p];n=q.target;if(n){if(Ext.isArray(n)){for(j=0,o=n.length;j<o;j++){this.targets[Ext.id(n[j])]=q}}else{this.targets[Ext.id(n)]=q}}}},unregister:function(b){delete this.targets[Ext.id(b)]},cancelShow:function(e){var d=this,g=d.activeTarget;e=Ext.get(e).dom;if(d.isVisible()){if(g&&g.el===e){d.hide()}}else{if(g&&g.el===e){d.clearTimer("show")}}},getTipCfg:function(m,n){var o=m.title,h=this.tagConfig,j=h.attr||(h.attr=h.namespace+h.attribute),l;if(this.interceptTitles&&o&&Ext.isString(o)){m.setAttribute(j,o);m.removeAttribute("title");return{text:o}}else{m=Ext.fly(m).findParent(function(a){return(l=a.getAttribute(j))});if(m){return{target:m,text:l}}}},onTargetOver:function(b){this.doTargetOver(b.getTarget(this.delegate),null,b)},doTargetOver:function(A,K,I){var z=this,J,F,D,H,B,y,G,w,C,u,x,v;if(z.disabled){return}if(typeof A==="string"){A=Ext.getDom(A)}z.targetXY=K||(I?I.getXY():Ext.fly(A).getXY());if(!A||A.nodeType!==1||A==document.documentElement||A==document.body){return}if(z.activeTarget&&((A===z.activeTarget.el)||Ext.fly(z.activeTarget.el).contains(A))){if(z.targetTextEmpty()){z.onShowVeto();delete z.activeTarget}else{z.clearTimer("hide");z.show()}return}if(A){C=z.targets;for(v in C){if(C.hasOwnProperty(v)){x=C[v];u=Ext.fly(x.target);if(u&&(u.dom===A||u.contains(A))){H=u.dom;break}}}if(H){z.activeTarget=z.targets[H.id];z.activeTarget.el=A;z.anchor=z.activeTarget.anchor;if(z.anchor){z.anchorTarget=A}J=parseInt(z.activeTarget.showDelay,10);if(J){D=z.showDelay;z.showDelay=J}z.delayShow();if(J){z.showDelay=D}if(!(F=z.activeTarget.hideAction)){delete z.hideAction}else{z.hideAction=F}return}}H=Ext.fly(A,"_quicktip-target");B=z.tagConfig;y=B.namespace;G=z.getTipCfg(A,I);if(G){if(G.target){A=G.target;H=Ext.fly(A,"_quicktip-target")}w=H.getAttribute(y+B.hide);z.activeTarget={el:A,text:G.text,width:+H.getAttribute(y+B.width)||null,autoHide:w!="user"&&w!=="false",title:H.getAttribute(y+B.title),cls:H.getAttribute(y+B.cls),align:H.getAttribute(y+B.align),showDelay:parseInt(H.getAttribute(y+B.showDelay)||0,10),hideAction:H.getAttribute(y+B.hideAction),anchorTarget:H.getAttribute(y+B.anchorTarget)};if(!z.initialConfig.hasOwnProperty("anchor")){z.anchor=H.getAttribute(y+B.anchor)}if(z.anchor&&!z.initialConfig.hasOwnProperty("anchorTarget")){z.anchorTarget=z.activeTarget.anchorTarget||A}J=parseInt(z.activeTarget.showDelay,10);if(J){D=z.showDelay;z.showDelay=J}z.delayShow();if(J){z.showDelay=D}}},onTargetOut:function(j){var m=this,l=m.activeTarget,h,e;if(l&&j.within(m.activeTarget.el)&&!m.getTipCfg(j.getTarget(),j)){return}m.clearTimer("show");delete m.activeTarget;if(m.autoHide!==false){h=l&&parseInt(l.hideDelay,10);if(h){e=m.hideDelay;m.hideDelay=h}m.delayHide();if(h){m.hideDelay=e}}},targetTextEmpty:function(){var m=this,l=m.activeTarget,h=m.tagConfig,g,j;if(l){g=l.el;if(g){j=g.getAttribute(h.namespace+h.attribute);if(!j&&!m.targets[Ext.id(l.target)]){return true}}}return false},show:function(){var c=this,d=c.fromDelayShow;if(d&&c.targetTextEmpty()){c.onShowVeto();delete c.activeTarget;return}c.callParent(arguments)},showAt:function(m){var o=this,n=o.activeTarget,l=o.header,h,j;if(n){if(!o.rendered){o.render(Ext.getBody());o.activeTarget=n}o.suspendLayouts();if(n.title){o.setTitle(n.title);l.show()}else{if(l){l.hide()}}o.update(n.text);o.autoHide=n.autoHide;h=n.dismissDelay;o.dismissDelay=Ext.isNumber(h)?h:o.dismissDelay;if(n.mouseOffset){m[0]+=n.mouseOffset[0];m[1]+=n.mouseOffset[1]}j=o.lastCls;if(j){o.removeCls(j);delete o.lastCls}j=n.cls;if(j){o.addCls(j);o.lastCls=j}o.setWidth(n.width);if(o.anchor){o.constrainPosition=false}else{if(n.align){m=o.getAlignToXY(n.el,n.align);o.constrainPosition=false}else{o.constrainPosition=true}}o.resumeLayouts(true)}o.callParent([m])},hide:function(){delete this.activeTarget;this.callParent()}});Ext.define("E.xforms.overrideQuickTip",{override:"Ext.tip.QuickTip",targetTextEmpty:function(){var m=this,l=m.activeTarget,h=m.tagConfig,g,j;if(l){g=l.el;if(g){j=g.getAttribute(h.namespace+h.attribute);if(!j&&!m.targets[l.target.id]){return true}}}return false}});Ext.define("Ext.tip.QuickTipManager",{singleton:true,alternateClassName:"Ext.QuickTips",disabled:false,init:function(m,h){var n=this;if(!n.tip){if(!Ext.isReady){Ext.onReady(function(){Ext.tip.QuickTipManager.init(m,h)});return false}var j=Ext.apply({disabled:n.disabled,id:"ext-quicktips-tip"},h),o=j.className,l=j.xtype;if(o){delete j.className}else{if(l){o="widget."+l;delete j.xtype}}if(m!==false){j.renderTo=document.body}n.tip=Ext.create(o||"Ext.tip.QuickTip",j);Ext.quickTipsActive=true}},destroy:function(){Ext.destroy(this.tip);this.tip=undefined},ddDisable:function(){var d=this,c=d.tip;if(c&&!d.disabled){c.disable()}},ddEnable:function(){var d=this,c=d.tip;if(c&&!d.disabled){c.enable()}},enable:function(){var d=this,c=d.tip;if(c){c.enable()}d.disabled=false},disable:function(){var d=this,c=d.tip;if(c){c.disable()}d.disabled=true},isEnabled:function(){var b=this.tip;return b!==undefined&&!b.disabled},getQuickTip:function(){return this.tip},register:function(){var b=this.tip;b.register.apply(b,arguments)},unregister:function(){var b=this.tip;b.unregister.apply(b,arguments)},tips:function(){var b=this.tip;b.register.apply(b,arguments)}});Ext.define("E.xforms.overrideBaseField",{override:"Ext.form.BaseField"},function(){var b=this.prototype;b.afterRender=Ext.Function.createSequence(b.afterRender,function(){var a=this.qtip?this.qtip:this.description;if(a){Ext.tip.QuickTipManager.register({target:this.bodyEl,title:this.qtipTitle?this.qtipTitle:"",text:a})}})});Ext.define("Ext.form.field.Display",{extend:Ext.form.field.Base,alias:"widget.displayfield",alternateClassName:["Ext.form.DisplayField","Ext.form.Display"],ariaRole:"textbox",fieldSubTpl:['<div id="{id}" role="{role}" {inputAttrTpl}','<tpl if="fieldStyle"> style="{fieldStyle}"</tpl>',' class="{fieldCls} {fieldCls}-{ui}">{value}</div>',{compiled:true,disableFormats:true}],focusable:false,readOnly:true,fieldCls:Ext.baseCSSPrefix+"form-display-field",fieldBodyCls:Ext.baseCSSPrefix+"form-display-field-body",htmlEncode:false,noWrap:false,validateOnChange:false,initEvents:Ext.emptyFn,submitValue:false,getValue:function(){return this.value},valueToRaw:function(b){if(b||b===0||b===false){return b}else{return""}},isDirty:function(){return false},isValid:Ext.returnTrue,validate:Ext.returnTrue,getRawValue:function(){return this.rawValue},setRawValue:function(c){var d=this;c=Ext.valueFrom(c,"");d.rawValue=c;if(d.rendered){d.inputEl.dom.innerHTML=d.getDisplayValue();d.updateLayout()}return c},getDisplayValue:function(){var e=this,d=this.getRawValue(),g;if(e.renderer){g=e.renderer.call(e.scope||e,d,e)}else{g=e.htmlEncode?Ext.util.Format.htmlEncode(d):d}return g},getSubTplData:function(c){var d=this.callParent(arguments);d.value=this.getDisplayValue();return d}});Ext.define("Ext.layout.container.Fit",{extend:Ext.layout.container.Container,alternateClassName:"Ext.layout.FitLayout",alias:"layout.fit",itemCls:Ext.baseCSSPrefix+"fit-item",targetCls:Ext.baseCSSPrefix+"layout-fit",type:"fit",manageMargins:true,sizePolicies:{0:{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},1:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},2:{readsWidth:1,readsHeight:0,setsWidth:0,setsHeight:1},3:{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:1}},getItemSizePolicy:function(e,j){var g=j||this.owner.getSizeModel(),h=(g.width.shrinkWrap?0:1)|(g.height.shrinkWrap?0:2);return this.sizePolicies[h]},beginLayoutCycle:function(H,K){var x=this,c=x.lastHeightModel&&x.lastHeightModel.calculated,J=x.lastWidthModel&&x.lastWidthModel.calculated,C=J||c,G=0,F=0,y,N,B,z,L,O,I,D,A,M;x.callParent(arguments);if(C&&H.targetContext.el.dom.tagName.toUpperCase()!="TD"){C=J=c=false}N=H.childItems;L=N.length;for(B=0;B<L;++B){z=N[B];if(K){y=z.target;I=y.minHeight;D=y.minWidth;if(D||I){O=z.marginInfo||z.getMarginInfo();I+=O.height;D+=O.height;if(G<I){G=I}if(F<D){F=D}}}if(C){A=z.el.dom.style;if(c){A.height=""}if(J){A.width=""}}}if(K){H.maxChildMinHeight=G;H.maxChildMinWidth=F}y=H.target;H.overflowX=(!H.widthModel.shrinkWrap&&H.maxChildMinWidth&&y.scrollFlags.x)||M;H.overflowY=(!H.heightModel.shrinkWrap&&H.maxChildMinHeight&&y.scrollFlags.y)||M},calculate:function(D){var w=this,z=D.childItems,G=z.length,H=w.getContainerSize(D),F={length:G,ownerContext:D,targetSize:H},K=D.widthModel.shrinkWrap,y=D.heightModel.shrinkWrap,A=D.overflowX,C=D.overflowY,x,I,v,B,J,u;if(A||C){x=w.getScrollbarsNeeded(A&&H.width,C&&H.height,D.maxChildMinWidth,D.maxChildMinHeight);if(x){I=Ext.getScrollbarSize();if(x&1){H.height-=I.height}if(x&2){H.width-=I.width}}}if(G>0){for(B=0;B<G;++B){F.index=B;w.fitItem(z[B],F)}}else{F.contentWidth=F.contentHeight=0}if(y||K){v=D.targetContext.getPaddingInfo();if(K){if(C&&!H.gotHeight){w.done=false}else{J=F.contentWidth+v.width;if(x&2){J+=I.width}if(!D.setContentWidth(J)){w.done=false}}}if(y){if(A&&!H.gotWidth){w.done=false}else{u=F.contentHeight+v.height;if(x&1){u+=I.height}if(!D.setContentHeight(u)){w.done=false}}}}},fitItem:function(d,g){var e=this;if(d.invalid){e.done=false;return}g.margins=d.getMarginInfo();g.needed=g.got=0;e.fitItemWidth(d,g);e.fitItemHeight(d,g);if(g.got!=g.needed){e.done=false}},fitItemWidth:function(j,h){var g,e;if(h.ownerContext.widthModel.shrinkWrap){e=j.getProp("width")+h.margins.width;g=h.contentWidth;if(g===undefined){h.contentWidth=e}else{h.contentWidth=Math.max(g,e)}}else{if(j.widthModel.calculated){++h.needed;if(h.targetSize.gotWidth){++h.got;this.setItemWidth(j,h)}else{return}}}this.positionItemX(j,h)},fitItemHeight:function(j,h){var e,g;if(h.ownerContext.heightModel.shrinkWrap){g=j.getProp("height")+h.margins.height;e=h.contentHeight;if(e===undefined){h.contentHeight=g}else{h.contentHeight=Math.max(e,g)}}else{if(j.heightModel.calculated){++h.needed;if(h.targetSize.gotHeight){++h.got;this.setItemHeight(j,h)}else{return}}}this.positionItemY(j,h)},positionItemX:function(e,g){var d=g.margins;if(g.index||d.left){e.setProp("x",d.left)}if(d.width){e.setProp("margin-right",d.width)}},positionItemY:function(e,g){var d=g.margins;if(g.index||d.top){e.setProp("y",d.top)}if(d.height){e.setProp("margin-bottom",d.height)}},setItemHeight:function(d,c){d.setHeight(c.targetSize.height-c.margins.height)},setItemWidth:function(d,c){d.setWidth(c.targetSize.width-c.margins.width)}});Ext.define("Ext.dd.DragTracker",{mixins:{observable:Ext.util.Observable},active:false,trackOver:false,tolerance:5,autoStart:false,constructor:function(d){var c=this;Ext.apply(c,d);c.dragRegion=new Ext.util.Region(0,0,0,0);if(c.el){c.initEl(c.el)}c.mixins.observable.constructor.call(c);if(c.disabled){c.disable()}},initEl:function(d){var g=this,e=g.delegate;g.el=d=Ext.get(d);if(e&&e.isElement){g.handle=e}g.delegate=g.handle?undefined:g.delegate;if(!g.handle){g.handle=d}g.handleListeners={scope:g,delegate:g.delegate,mousedown:g.onMouseDown,dragstart:g.onDragStart};if(!Ext.supports.TouchEvents&&(g.trackOver||g.overCls)){Ext.apply(g.handleListeners,{mouseover:g.onMouseOver,mouseout:g.onMouseOut})}g.mon(g.handle,g.handleListeners)},disable:function(){this.disabled=true},enable:function(){this.disabled=false},destroy:function(){var b=this;b.endDrag({});b.clearListeners();b.el=b.handle=null},onMouseOver:function(n,o){var q=this,p,r,s,m,e;if(!q.disabled){if(n.within(n.target,true,true)||q.delegate){p=q.handleCls;q.mouseIsOut=false;if(p){for(s=0,m=q.handleEls.length;s<m;s++){r=q.handleEls[s];e=r.delegateCls;if(!e){e=r.delegateCls=[p,"-",r.region,"-over"].join("")}r.addCls([e,q.overCls])}}q.fireEvent("mouseover",q,n,q.delegate?n.getTarget(q.delegate,o):q.handle)}}},onMouseOut:function(j){var l=this,m,e,h;if(l.mouseIsDown){l.mouseIsOut=true}else{if(l.handleCls){for(e=0,h=l.handleEls.length;e<h;e++){m=l.handleEls[e];m.removeCls([m.delegateCls,l.overCls])}}l.fireEvent("mouseout",l,j)}},onMouseDown:function(g,d){var e=this;if(e.disabled||g.dragTracked){return}e.dragTarget=e.delegate?d:e.handle.dom;e.startXY=e.lastXY=g.getXY();e.startRegion=Ext.fly(e.dragTarget).getRegion();if(e.fireEvent("mousedown",e,g)===false||e.fireEvent("beforedragstart",e,g)===false||e.onBeforeStart(g)===false){return}e.mouseIsDown=true;g.dragTracked=true;e.el.setCapture();g.stopPropagation();if(e.preventDefault!==false){g.preventDefault()}Ext.getDoc().on({scope:e,capture:true,mouseup:e.onMouseUp,mousemove:e.onMouseMove,selectstart:e.stopSelect});e.dragEnded=false;if(!e.tolerance){e.triggerStart()}else{if(e.autoStart){e.timer=Ext.defer(e.triggerStart,e.autoStart===true?1000:e.autoStart,e,[g])}}},onMouseMove:function(j,l){var e=this,m=j.getXY(),h=e.startXY;j.stopPropagation();if(e.preventDefault!==false){j.preventDefault()}if(e.dragEnded){return}e.lastXY=m;if(!e.active){if(Math.max(Math.abs(h[0]-m[0]),Math.abs(h[1]-m[1]))>e.tolerance){e.triggerStart(j)}else{return}}if(e.fireEvent("mousemove",e,j)===false){e.onMouseUp(j)}else{e.onDrag(j);e.fireEvent("drag",e,j)}},onMouseUp:function(c){var d=this;d.mouseIsDown=false;if(d.mouseIsOut){d.mouseIsOut=false;d.onMouseOut(c)}if(d.preventDefault!==false){c.preventDefault()}if(Ext.isIE&&document.releaseCapture){document.releaseCapture()}d.fireEvent("mouseup",d,c);d.endDrag(c)},endDrag:function(g){var d=this,e=d.active;Ext.getDoc().un({mousemove:d.onMouseMove,mouseup:d.onMouseUp,selectstart:d.stopSelect,capture:true,scope:d});d.clearStart();d.active=false;if(e){d.dragEnded=true;d.onEnd(g);d.fireEvent("dragend",d,g)}d._constrainRegion=null},triggerStart:function(c){var d=this;d.clearStart();d.active=true;d.onStart(c);d.fireEvent("dragstart",d,c)},clearStart:function(){var b=this.timer;if(b){clearTimeout(b);this.timer=null}},stopSelect:function(b){b.stopEvent();return false},onBeforeStart:function(b){},onStart:function(b){},onDrag:function(b){},onEnd:function(b){},getDragTarget:function(){return this.dragTarget},getDragCt:function(){return this.el},getConstrainRegion:function(){var b=this;if(b.constrainTo){if(b.constrainTo instanceof Ext.util.Region){return b.constrainTo}if(!b._constrainRegion){b._constrainRegion=Ext.fly(b.constrainTo).getViewRegion()}}else{if(!b._constrainRegion){b._constrainRegion=b.getDragCt().getViewRegion()}}return b._constrainRegion},getXY:function(b){return b?this.constrainModes[b](this,this.lastXY):this.lastXY},getOffset:function(g){var d=this.getXY(g),e=this.startXY;return[d[0]-e[0],d[1]-e[1]]},onDragStart:function(b){b.stopPropagation()},constrainModes:{point:function(e,h){var j=e.dragRegion,g=e.getConstrainRegion();if(!g){return h}j.x=j.left=j[0]=j.right=h[0];j.y=j.top=j[1]=j.bottom=h[1];j.constrainTo(g);return[j.left,j.top]},dragTarget:function(o,l){var h=o.startXY,m=o.startRegion.copy(),j=o.getConstrainRegion(),n;if(!j){return l}m.translateBy(l[0]-h[0],l[1]-h[1]);if(m.right>j.right){l[0]+=n=(j.right-m.right);m.left+=n}if(m.left<j.left){l[0]+=(j.left-m.left)}if(m.bottom>j.bottom){l[1]+=n=(j.bottom-m.bottom);m.top+=n}if(m.top<j.top){l[1]+=(j.top-m.top)}return l}}});Ext.define("Ext.dd.DDTarget",{extend:Ext.dd.DragDrop,constructor:function(g,e,d){if(g){this.initTarget(g,e,d)}},getDragEl:Ext.emptyFn,isValidHandleChild:Ext.emptyFn,startDrag:Ext.emptyFn,endDrag:Ext.emptyFn,onDrag:Ext.emptyFn,onDragDrop:Ext.emptyFn,onDragEnter:Ext.emptyFn,onDragOut:Ext.emptyFn,onDragOver:Ext.emptyFn,onInvalidDrop:Ext.emptyFn,onMouseDown:Ext.emptyFn,onMouseUp:Ext.emptyFn,setXConstraint:Ext.emptyFn,setYConstraint:Ext.emptyFn,resetConstraints:Ext.emptyFn,clearConstraints:Ext.emptyFn,clearTicks:Ext.emptyFn,setInitPosition:Ext.emptyFn,setDragElId:Ext.emptyFn,setHandleElId:Ext.emptyFn,setOuterHandleElId:Ext.emptyFn,addInvalidHandleClass:Ext.emptyFn,addInvalidHandleId:Ext.emptyFn,addInvalidHandleType:Ext.emptyFn,removeInvalidHandleClass:Ext.emptyFn,removeInvalidHandleId:Ext.emptyFn,removeInvalidHandleType:Ext.emptyFn,toString:function(){return("DDTarget "+this.id)}});Ext.define("Ext.form.field.VTypes",(function(){var j=/^[a-zA-Z_]+$/,h=/^[a-zA-Z0-9_]+$/,e=/^(")?(?:[^\."])(?:(?:[\.])?(?:[\w\-!#$%&'*+/=?^_`{|}~]))*\1@(\w[\-\w]*\.){1,5}([A-Za-z]){2,6}$/,g=/(((^https?)|(^ftp)):\/\/((([\-\w]+\.)+\w{2,3}(\/[%\-\w]+(\.\w{2,})?)*(([\w\-\.\?\\\/+@&#;`~=%!]*)(\.\w{2,})?)*)|(localhost|LOCALHOST))\/?)/i;return{singleton:true,alternateClassName:"Ext.form.VTypes",email:function(a){return e.test(a)},emailText:'This field should be an e-mail address in the format "user@example.com"',emailMask:/[\w.\-@'"!#$%&'*+/=?^_`{|}~]/i,url:function(a){return g.test(a)},urlText:'This field should be a URL in the format "http://www.example.com"',alpha:function(a){return j.test(a)},alphaText:"This field should only contain letters and _",alphaMask:/[a-z_]/i,alphanum:function(a){return h.test(a)},alphanumText:"This field should only contain letters, numbers and _",alphanumMask:/[a-z0-9_]/i}}()));Ext.define("Ext.form.trigger.Trigger",{alias:"trigger.trigger",mixins:[Ext.mixin.Factoryable],factoryConfig:{defaultType:"trigger"},repeatClick:false,hidden:false,hideOnReadOnly:undefined,weight:0,preventMouseDown:true,baseCls:Ext.baseCSSPrefix+"form-trigger",focusCls:Ext.baseCSSPrefix+"form-trigger-focus",overCls:Ext.baseCSSPrefix+"form-trigger-over",clickCls:Ext.baseCSSPrefix+"form-trigger-click",validIdRe:Ext.validIdRe,renderTpl:['<div id="{triggerId}" class="{baseCls} {baseCls}-{ui} {cls} {cls}-{ui} {extraCls} ','{childElCls}"<tpl if="triggerStyle"> style="{triggerStyle}"</tpl>>',"{[values.$trigger.renderBody(values)]}","</div>"],statics:{weightComparator:function(d,c){return d.weight-c.weight}},constructor:function(d){var g=this,e;Ext.apply(g,d);if(g.compat4Mode){e=g.cls;g.focusCls=[g.focusCls,e+"-focus"];g.overCls=[g.overCls,e+"-over"];g.clickCls=[g.clickCls,e+"-click"]}},afterFieldRender:function(){this.initEvents()},destroy:function(){var d=this,c=d.clickRepeater;if(c){c.destroy()}if(d.el){d.el.destroy()}d.el=null;d.isDestroyed=true},getBodyRenderData:Ext.emptyFn,getEl:function(){return this.el||null},getStateEl:function(){return this.el},hide:function(){var c=this,d=c.el;c.hidden=true;if(d){d.hide()}},initEvents:function(){var h=this,g=h.isFieldEnabled,j=h.getStateEl(),e=h.el;j.addClsOnOver(h.overCls,g,h);j.addClsOnClick(h.clickCls,g,h);if(h.repeatClick){h.clickRepeater=new Ext.util.ClickRepeater(e,{preventDefault:true,handler:h.onClick,listeners:{mousedown:h.onClickRepeaterMouseDown,scope:h},scope:h})}else{h.field.mon(e,{click:h.onClick,mousedown:h.onMouseDown,scope:h})}},isFieldEnabled:function(){return !this.field.disabled},isVisible:function(){var e=this,g=e.field,d=false;if(e.hidden||!g||!e.rendered||e.isDestroyed){d=true}return !d},onClick:function(){var m=this,h=arguments,j=m.clickRepeater?h[1]:h[0],e=m.handler,l=m.field;if(e&&!l.readOnly&&m.isFieldEnabled()){Ext.callback(m.handler,m.scope,[l,m,j],0,l)}},resolveListenerScope:function(b){return this.field.resolveListenerScope(b)},onMouseDown:function(b){if(b.pointerType!=="touch"&&!this.field.owns(Ext.Element.getActiveElement())){this.field.inputEl.focus()}if(this.preventMouseDown){b.preventDefault()}},onClickRepeaterMouseDown:function(c,d){if(!d.parentEvent||d.parentEvent.type==="mousedown"){this.field.inputEl.focus()}d.preventDefault()},onFieldBlur:function(){this.getStateEl().removeCls(this.focusCls)},onFieldFocus:function(){this.getStateEl().addCls(this.focusCls)},onFieldRender:function(){var c=this,d=c.el=c.field.triggerWrap.selectNode("#"+c.domId,false);d.setVisibilityMode(Ext.Element.DISPLAY);c.rendered=true},renderBody:function(d){var e=this,g=e.bodyTpl;Ext.apply(d,e.getBodyRenderData());return g?Ext.XTemplate.getTpl(e,"bodyTpl").apply(d):""},renderTrigger:function(g){var j=this,e=j.width,h=j.hidden?"display:none;":"";if(e){h+="width:"+e}return Ext.XTemplate.getTpl(j,"renderTpl").apply({$trigger:j,fieldData:g,ui:g.ui,childElCls:g.childElCls,triggerId:j.domId=j.field.id+"-trigger-"+j.id,cls:j.cls,triggerStyle:h,extraCls:j.extraCls,baseCls:j.baseCls})},setHidden:function(b){if(b!==this.hidden){this[b?"hide":"show"]()}},setVisible:function(b){this.setHidden(!b)},show:function(){var c=this,d=c.el;c.hidden=false;if(d){d.show()}}});Ext.define("Ext.form.field.Text",{extend:Ext.form.field.Base,alias:"widget.textfield",alternateClassName:["Ext.form.TextField","Ext.form.Text"],config:{hideTrigger:false,triggers:undefined},growMin:30,growMax:800,growAppend:"W",allowBlank:true,validateBlank:false,allowOnlyWhitespace:true,minLength:0,maxLength:Number.MAX_VALUE,minLengthText:"The minimum length for this field is {0}",maxLengthText:"The maximum length for this field is {0}",blankText:"This field is required",regexText:"",emptyCls:Ext.baseCSSPrefix+"form-empty-field",requiredCls:Ext.baseCSSPrefix+"form-required-field",valueContainsPlaceholder:false,ariaRole:"textbox",editable:true,repeatTriggerClick:false,triggerWrapCls:Ext.baseCSSPrefix+"form-trigger-wrap",triggerWrapFocusCls:Ext.baseCSSPrefix+"form-trigger-wrap-focus",triggerWrapInvalidCls:Ext.baseCSSPrefix+"form-trigger-wrap-invalid",fieldBodyCls:Ext.baseCSSPrefix+"form-text-field-body",inputWrapCls:Ext.baseCSSPrefix+"form-text-wrap",inputWrapFocusCls:Ext.baseCSSPrefix+"form-text-wrap-focus",inputWrapInvalidCls:Ext.baseCSSPrefix+"form-text-wrap-invalid",growCls:Ext.baseCSSPrefix+"form-text-grow",monitorTab:true,mimicing:false,needArrowKeys:true,childEls:["triggerWrap","inputWrap"],preSubTpl:['<div id="{cmpId}-triggerWrap" data-ref="triggerWrap" class="{triggerWrapCls} {triggerWrapCls}-{ui}">','<div id={cmpId}-inputWrap data-ref="inputWrap" class="{inputWrapCls} {inputWrapCls}-{ui}">'],postSubTpl:["</div>",'<tpl for="triggers">{[values.renderTrigger(parent)]}</tpl>',"</div>"],initComponent:function(){var c=this,d=c.emptyCls;if(c.allowOnlyWhitespace===false){c.allowBlank=false}if(c.size){c.defaultBodyWidth=c.size*6.5+20}if(!c.onTrigger1Click){c.onTrigger1Click=c.onTriggerClick}c.callParent();c.setReadOnly(c.readOnly);c.fieldFocusCls=c.baseCls+"-focus";c.emptyUICls=d+" "+d+"-"+c.ui;c.addStateEvents("change")},initEvents:function(){var c=this,d=c.inputEl;c.callParent();if(c.selectOnFocus||c.emptyText){c.mon(d,"mousedown",c.onMouseDown,c)}if(c.maskRe||(c.vtype&&c.disableKeyFilter!==true&&(c.maskRe=Ext.form.field.VTypes[c.vtype+"Mask"]))){c.mon(d,"keypress",c.filterKeys,c)}if(c.enableKeyEvents){c.mon(d,{scope:c,keyup:c.onKeyUp,keydown:c.onKeyDown,keypress:c.onKeyPress})}},isEqual:function(c,d){return this.isEqualAsString(c,d)},onChange:function(c,d){this.callParent(arguments);this.autoSize()},getSubTplData:function(h){var o=this,n=o.getRawValue(),l=o.emptyText&&n.length<1,j=o.maxLength,m;if(o.enforceMaxLength){if(j===Number.MAX_VALUE){j=undefined}}else{j=undefined}if(l){if(Ext.supports.Placeholder){m=o.emptyText}else{n=o.emptyText;o.valueContainsPlaceholder=true}}return Ext.apply(o.callParent(arguments),{triggerWrapCls:o.triggerWrapCls,inputWrapCls:o.inputWrapCls,triggers:o.orderedTriggers,maxLength:j,readOnly:!o.editable||o.readOnly,placeholder:m,value:n,fieldCls:o.fieldCls+((l&&(m||n))?" "+o.emptyUICls:"")+(o.allowBlank?"":" "+o.requiredCls)})},onRender:function(){var m=this,g=m.getTriggers(),l=[],j,h;if(Ext.supports.FixedTableWidthBug){m.el._needsTableWidthFix=true}m.callParent();if(g){this.invokeTriggers("onFieldRender");for(j in g){l.push(g[j].el)}h=m.triggerEl=m.triggerCell=new Ext.CompositeElement(l,true)}m.inputCell=m.inputWrap},afterRender:function(){var b=this;b.autoSize();b.callParent();b.invokeTriggers("afterFieldRender")},onMouseDown:function(){var b=this;if(!b.hasFocus){b.mon(b.inputEl,"mouseup",Ext.emptyFn,b,{single:true,preventDefault:true})}},applyTriggers:function(s){var r=this,x=r.getHideTrigger(),p=r.readOnly,o=r.orderedTriggers=[],q=r.repeatTriggerClick,y,u,w,z,v;if(!s){s={};if(r.triggerCls&&!r.trigger1Cls){r.trigger1Cls=r.triggerCls}for(v=1;z=r["trigger"+v+"Cls"];v++){s["trigger"+v]={cls:z,extraCls:Ext.baseCSSPrefix+"trigger-index-"+v,handler:"onTrigger"+v+"Click",compat4Mode:true,scope:r}}}for(y in s){if(s.hasOwnProperty(y)){u=s[y];u.field=r;u.id=y;if((p&&u.hideOnReadOnly!==false)||(x&&u.hidden!==false)){u.hidden=true}if(q&&(u.repeatClick!==false)){u.repeatClick=true}w=s[y]=Ext.form.trigger.Trigger.create(u);o.push(w)}}Ext.Array.sort(o,Ext.form.trigger.Trigger.weightComparator);return s},invokeTriggers:function(j,o){var m=this,n=m.getTriggers(),l,h;if(n){for(l in n){if(n.hasOwnProperty(l)){h=n[l];h[j].apply(h,o||[])}}}},getTrigger:function(b){return this.getTriggers()[b]},updateHideTrigger:function(b){if(this.rendered){this.invokeTriggers(b?"hide":"show")}},setEditable:function(d){var c=this;c.editable=d;if(c.rendered){c.setReadOnlyAttr(!d||c.readOnly)}},setReadOnly:function(l){var n=this,o=n.getTriggers(),h=n.getHideTrigger(),j,m;l=!!l;n.callParent([l]);if(n.rendered){n.setReadOnlyAttr(l||!n.editable);if(o){for(m in o){j=o[m];if(j.hideOnReadOnly===true||(j.hideOnReadOnly!==false&&!h)){j[l?"hide":"show"].call(j)}}}}},setReadOnlyAttr:function(h){var e=this,g="readonly",j=e.inputEl.dom;if(h){j.setAttribute(g,g)}else{j.removeAttribute(g)}},processRawValue:function(e){var g=this,h=g.stripCharsRe,j;if(h){j=e.replace(h,"");if(j!==e){g.setRawValue(j);e=j}}return e},onDisable:function(){this.callParent();if(Ext.isIE){this.inputEl.dom.unselectable="on"}},onEnable:function(){this.callParent();if(Ext.isIE){this.inputEl.dom.unselectable=""}},onKeyDown:function(b){this.fireEvent("keydown",this,b)},onKeyUp:function(b){this.fireEvent("keyup",this,b)},onKeyPress:function(b){this.fireEvent("keypress",this,b)},reset:function(){this.callParent();this.applyEmptyText()},applyEmptyText:function(){var d=this,e=d.emptyText,g;if(d.rendered&&e){g=d.getRawValue().length<1&&!d.hasFocus;if(Ext.supports.Placeholder){d.inputEl.dom.placeholder=e}else{if(g){d.setRawValue(e);d.valueContainsPlaceholder=true}}if(g){d.inputEl.addCls(d.emptyUICls)}else{d.inputEl.removeCls(d.emptyUICls)}d.autoSize()}},afterFirstLayout:function(){this.callParent();if(Ext.isIE&&this.disabled){var b=this.inputEl;if(b){b.dom.unselectable="on"}}},toggleInvalidCls:function(d){var c=d?"addCls":"removeCls";this.callParent();this.triggerWrap[c](this.triggerWrapInvalidCls);this.inputWrap[c](this.inputWrapInvalidCls)},beforeFocus:function(){var e=this,j=e.inputEl,g=e.emptyText,h;e.callParent(arguments);if((g&&!Ext.supports.Placeholder)&&(j.dom.value===e.emptyText&&e.valueContainsPlaceholder)){e.setRawValue("");h=true;j.removeCls(e.emptyUICls);e.valueContainsPlaceholder=false}else{if(Ext.supports.Placeholder){j.removeCls(e.emptyUICls)}}if(e.selectOnFocus||h){if(Ext.isWebKit){if(!e.inputFocusTask){e.inputFocusTask=new Ext.util.DelayedTask(e.focusInput,e)}e.inputFocusTask.delay(1)}else{e.focusInput()}}},focusInput:function(){var b=this.inputEl;if(b){b=b.dom;if(b){b.select()}}},onFocus:function(c){var d=this;d.callParent(arguments);if(d.emptyText){d.autoSize()}d.addCls(d.fieldFocusCls);d.triggerWrap.addCls(d.triggerWrapFocusCls);d.inputWrap.addCls(d.inputWrapFocusCls);d.invokeTriggers("onFieldFocus",[c])},onBlur:function(c){var d=this;d.callParent(arguments);d.removeCls(d.fieldFocusCls);d.triggerWrap.removeCls(d.triggerWrapFocusCls);d.inputWrap.removeCls(d.inputWrapFocusCls);d.invokeTriggers("onFieldBlur",[c])},completeEdit:function(){var b=this.inputFocusTask;this.callParent(arguments);this.applyEmptyText();if(b){b.cancel()}},filterKeys:function(g){if(g.ctrlKey&&!g.altKey){return}var d=g.getKey(),e=String.fromCharCode(g.getCharCode());if((Ext.isGecko||Ext.isOpera)&&(g.isNavKeyPress()||d===g.BACKSPACE||(d===g.DELETE&&g.button===-1))){return}if((!Ext.isGecko&&!Ext.isOpera)&&g.isSpecialKey()&&!e){return}if(!this.maskRe.test(e)){g.stopEvent()}},getState:function(){return this.addPropertyToState(this.callParent(),"value")},applyState:function(b){this.callParent(arguments);if(b.hasOwnProperty("value")){this.setValue(b.value)}},getRawValue:function(){var c=this,d=c.callParent();if(d===c.emptyText&&c.valueContainsPlaceholder){d=""}return d},setValue:function(d){var e=this,g=e.inputEl;if(g&&e.emptyText&&!Ext.isEmpty(d)){g.removeCls(e.emptyUICls);e.valueContainsPlaceholder=false}e.callParent(arguments);e.applyEmptyText();return e},getErrors:function(o){o=arguments.length?(o==null?"":o):this.processRawValue(this.getRawValue());var u=this,q=u.callParent([o]),z=u.validator,w=u.vtype,s=Ext.form.field.VTypes,r=u.regex,p=Ext.String.format,y,v,x;if(Ext.isFunction(z)){y=z.call(u,o);if(y!==true){q.push(y)}}v=u.allowOnlyWhitespace?o:Ext.String.trim(o);if(v.length<1||(o===u.emptyText&&u.valueContainsPlaceholder)){if(!u.allowBlank){q.push(u.blankText)}if(!u.validateBlank){return q}x=true}if(!x&&o.length<u.minLength){q.push(p(u.minLengthText,u.minLength))}if(o.length>u.maxLength){q.push(p(u.maxLengthText,u.maxLength))}if(w){if(!s[w](o,u)){q.push(u.vtypeText||s[w+"Text"])}}if(r&&!r.test(o)){q.push(u.regexText||u.invalidText)}return q},selectText:function(n,l){var o=this,r=o.getRawValue(),m=r.length,q=true,p=o.inputEl.dom,s;if(m>0){n=n===undefined?0:Math.min(n,m);l=l===undefined?m:Math.min(l,m);if(p.setSelectionRange){p.setSelectionRange(n,l)}else{if(p.createTextRange){s=p.createTextRange();s.moveStart("character",n);s.moveEnd("character",l-m);s.select()}}}},getGrowWidth:function(){return this.inputEl.dom.value},autoSize:function(){var q=this,r,m,u,o,n,s,v,p;if(q.grow&&q.rendered&&q.getSizeModel().width.auto){n=q.inputEl;r=q.getTriggers();o=0;p=Ext.util.Format.htmlEncode(q.getGrowWidth()||(q.hasFocus?"":q.emptyText)||"");p+=q.growAppend;for(m in r){o+=r[m].el.getWidth()}v=n.getTextWidth(p)+o+q.inputWrap.getBorderWidth("lr")+q.triggerWrap.getBorderWidth("lr");v=Math.min(Math.max(v,q.growMin),q.growMax);q.bodyEl.setWidth(v);q.updateLayout();q.fireEvent("autosize",q,v)}},onDestroy:function(){var b=this;b.invokeTriggers("destroy");Ext.destroy(b.triggerRepeater);b.callParent();if(b.inputFocusTask){b.inputFocusTask.cancel();b.inputFocusTask=null}},onTriggerClick:Ext.emptyFn,privates:{getTdType:function(){return"textfield"}},deprecated:{5:{methods:{getTriggerWidth:function(){var d=this.getTriggers(),e=0,g;if(d&&this.rendered){for(g in d){if(d.hasOwnProperty(g)){e+=d[g].el.getWidth()}}}return e}}}}});Ext.define("Ext.resizer.BorderSplitter",{extend:Ext.resizer.Splitter,alias:"widget.bordersplitter",collapseTarget:null,getTrackerConfig:function(){var b=this.callParent();b.xclass="Ext.resizer.BorderSplitterTracker";return b}});Ext.define("Ext.layout.container.Border",{extend:Ext.layout.container.Container,alias:"layout.border",alternateClassName:"Ext.layout.BorderLayout",targetCls:Ext.baseCSSPrefix+"border-layout-ct",itemCls:[Ext.baseCSSPrefix+"border-item",Ext.baseCSSPrefix+"box-item"],type:"border",isBorderLayout:true,padding:undefined,percentageRe:/(\d+)%/,horzPositionProp:"left",padOnContainerProp:"left",padNotOnContainerProp:"right",axisProps:{horz:{borderBegin:"west",borderEnd:"east",horizontal:true,posProp:"x",sizeProp:"width",sizePropCap:"Width"},vert:{borderBegin:"north",borderEnd:"south",horizontal:false,posProp:"y",sizeProp:"height",sizePropCap:"Height"}},centerRegion:null,manageMargins:true,panelCollapseAnimate:true,panelCollapseMode:"placeholder",regionWeights:{north:20,south:10,center:0,west:-10,east:-20},beginAxis:function(K,T,z){var B=this,S=B.axisProps[z],F=!S.horizontal,L=S.sizeProp,H=0,U=K.childItems,P=U.length,C,G,I,O,D,Q,M,J,R,A,N;for(G=0;G<P;++G){I=U[G];D=I.target;I.layoutPos={};if(D.region){I.region=Q=D.region;I.isCenter=D.isCenter;I.isHorz=D.isHorz;I.isVert=D.isVert;I.weight=D.weight||B.regionWeights[Q]||0;D.weight=I.weight;T[D.id]=I;if(D.isCenter){C=I;O=D.flex;K.centerRegion=C;continue}if(F!==I.isVert){continue}I.reverseWeighting=(Q==S.borderEnd);J=D[L];R=typeof J;if(!D.collapsed){if(R=="string"&&(M=B.percentageRe.exec(J))){I.percentage=parseInt(M[1],10)}else{if(D.flex){H+=I.flex=D.flex}}}}}if(C){A=C.target;if((N=A.placeholderFor)){if(!O&&F===N.collapsedVertical()){O=0;C.collapseAxis=z}}else{if(A.collapsed&&(F===A.collapsedVertical())){O=0;C.collapseAxis=z}}}if(O==null){O=1}H+=O;return Ext.apply({before:F?"top":"left",totalFlex:H},S)},beginLayout:function(F){var y=this,z=y.getLayoutItems(),D=y.padding,x=typeof D,u=false,s,v,H,B,C,I,G,A,w;if(D){if(x=="string"||x=="number"){D=Ext.util.Format.parseBox(D)}}else{D=F.getEl("getTargetEl").getPaddingInfo();u=true}F.outerPad=D;F.padOnContainer=u;for(B=0,H=z.length;B<H;++B){v=z[B];I=y.getSplitterTarget(v);if(I){G=undefined;A=!!v.hidden;if(!I.split){if(I.isCollapsingOrExpanding){G=!!I.collapsed}}else{if(A!==I.hidden){G=!I.hidden}}if(G){v.show()}else{if(G===false){v.hide()}}}}y.callParent(arguments);z=F.childItems;H=z.length;C={};F.borderAxisHorz=y.beginAxis(F,C,"horz");F.borderAxisVert=y.beginAxis(F,C,"vert");for(B=0;B<H;++B){s=z[B];I=y.getSplitterTarget(s.target);if(I){w=C[I.id];if(!w){w=F.getEl(I.el,y);w.region=I.region}s.collapseTarget=I=w;s.weight=I.weight;s.reverseWeighting=I.reverseWeighting;I.splitter=s;s.isHorz=I.isHorz;s.isVert=I.isVert}}y.sortWeightedItems(z,"reverseWeighting");y.setupSplitterNeighbors(z)},calculate:function(F){var x=this,I=x.getContainerSize(F),A=F.childItems,G=A.length,H=F.borderAxisHorz,z=F.borderAxisVert,D=F.outerPad,v=F.padOnContainer,B,s,y,u,w,C;H.begin=D[x.padOnContainerProp];z.begin=D.top;w=H.end=H.flexSpace=I.width+(v?D[x.padOnContainerProp]:-D[x.padNotOnContainerProp]);C=z.end=z.flexSpace=I.height+(v?D.top:-D.bottom);for(B=0;B<G;++B){s=A[B];y=s.getMarginInfo();if(s.isHorz||s.isCenter){H.addUnflexed(y.width);w-=y.width}if(s.isVert||s.isCenter){z.addUnflexed(y.height);C-=y.height}if(!s.flex&&!s.percentage){if(s.isHorz||(s.isCenter&&s.collapseAxis==="horz")){u=s.getProp("width");H.addUnflexed(u);if(s.collapseTarget){w-=u}}else{if(s.isVert||(s.isCenter&&s.collapseAxis==="vert")){u=s.getProp("height");z.addUnflexed(u);if(s.collapseTarget){C-=u}}}}}for(B=0;B<G;++B){s=A[B];y=s.getMarginInfo();if(s.percentage){if(s.isHorz){u=Math.ceil(w*s.percentage/100);u=s.setWidth(u);H.addUnflexed(u)}else{if(s.isVert){u=Math.ceil(C*s.percentage/100);u=s.setHeight(u);z.addUnflexed(u)}}}}for(B=0;B<G;++B){s=A[B];if(!s.isCenter){x.calculateChildAxis(s,H);x.calculateChildAxis(s,z)}}if(x.finishAxis(F,z)+x.finishAxis(F,H)<2){x.done=false}else{x.finishPositions(A)}},calculateChildAxis:function(o,x){var z=o.collapseTarget,s="set"+x.sizePropCap,v=x.sizeProp,w=o.getMarginInfo()[v],q,y,u,r,p;if(z){q=z.region}else{q=o.region;u=o.flex}y=q==x.borderBegin;if(!y&&q!=x.borderEnd){o[s](x.end-x.begin-w);r=x.begin}else{if(u){p=Math.ceil(x.flexSpace*(u/x.totalFlex));p=o[s](p)}else{if(o.percentage){p=o.peek(v)}else{p=o.getProp(v)}}p+=w;if(y){r=x.begin;x.begin+=p}else{x.end=r=x.end-p}}o.layoutPos[x.posProp]=r},eachItem:function(m,p,q){var n=this,l=n.getLayoutItems(),j=0,o;if(Ext.isFunction(m)){p=m;q=p}for(j;j<l.length;j++){o=l[j];if(!m||o.region===m){if(p.call(q,o)===false){break}}}},finishAxis:function(h,j){var e=j.end-j.begin,g=h.centerRegion;if(g){g["set"+j.sizePropCap](e-g.getMarginInfo()[j.sizeProp]);g.layoutPos[j.posProp]=j.begin}return Ext.isNumber(e)?1:0},finishPositions:function(j){var m=j.length,g,h,l=this.horzPositionProp;for(g=0;g<m;++g){h=j[g];h.setProp("x",h.layoutPos.x+h.marginInfo[l]);h.setProp("y",h.layoutPos.y+h.marginInfo.top)}},getLayoutItems:function(){var l=this.owner,o=(l&&l.items&&l.items.items)||[],p=o.length,j=[],q=0,n,m;for(;q<p;q++){n=o[q];m=n.placeholderFor;if(n.hidden||((!n.floated||n.isCollapsingOrExpanding===2)&&!(m&&m.isCollapsingOrExpanding===2))){j.push(n)}}return j},getPlaceholder:function(b){return b.getPlaceholder&&b.getPlaceholder()},getMaxWeight:function(b){return this.getMinMaxWeight(b)},getMinWeight:function(b){return this.getMinMaxWeight(b,true)},getMinMaxWeight:function(h,g){var e=this,j=null;e.eachItem(h,function(a){if(a.hasOwnProperty("weight")){if(j===null){j=a.weight;return}if((g&&a.weight<j)||a.weight>j){j=a.weight}}},this);return j},getSplitterTarget:function(c){var d=c.collapseTarget;if(d&&d.collapsed){return d.placeholder||d}return d},isItemBoxParent:function(b){return true},isItemShrinkWrap:function(b){return true},insertSplitter:function(p,q,n,j){var m=p.region,o=Ext.apply({xtype:"bordersplitter",collapseTarget:p,id:p.id+"-splitter",hidden:n,canResize:p.splitterResize!==false,splitterFor:p,synthetic:true},j),l=q+((m==="south"||m==="east")?0:1);if(p.collapseMode==="mini"){o.collapsedCls=p.collapsedCls}p.splitter=this.owner.add(l,o)},getMoveAfterIndex:function(c){var d=this.callParent(arguments);if(c.splitter){d++}return d},moveItemBefore:function(e,h){var g=this.owner,j;if(h&&h.splitter){j=h.region;if(j==="south"||j==="east"){h=h.splitter}}return this.callParent([e,h])},onAdd:function(m,r){var p=this,s=m.placeholderFor,n=m.region,q,o,v,u;p.callParent(arguments);if(n){Ext.apply(m,p.regionFlags[n]);if(m.initBorderRegion){m.initBorderRegion()}q=n==="center";if(q){p.centerRegion=m}else{o=m.split;v=!!m.hidden;if(typeof o==="object"){u=o;o=true}if((m.isHorz||m.isVert)&&(o||m.collapseMode=="mini")){p.insertSplitter(m,r,v||!o,u)}}if(!q&&!m.hasOwnProperty("collapseMode")){m.collapseMode=p.panelCollapseMode}if(!m.hasOwnProperty("animCollapse")){if(m.collapseMode!=="placeholder"){m.animCollapse=false}else{m.animCollapse=p.panelCollapseAnimate}}}else{if(s){Ext.apply(m,p.regionFlags[s.region]);m.region=s.region;m.weight=s.weight}}},onDestroy:function(){this.centerRegion=null;this.callParent()},onRemove:function(l,r){var q=this,n=l.region,p=l.splitter,m=q.owner,o=m.destroying,s;if(n){if(l.isCenter){q.centerRegion=null}delete l.isCenter;delete l.isHorz;delete l.isVert;if(p&&!m.destroying){m.doRemove(p,true)}delete l.splitter}q.callParent(arguments);if(!o&&!r&&l.rendered){s=l.getEl();if(s){s.setStyle("top","");s.setStyle(q.horzPositionProp,"")}}},regionMeta:{center:{splitterDelta:0},north:{splitterDelta:1},south:{splitterDelta:-1},west:{splitterDelta:1},east:{splitterDelta:-1}},regionFlags:{center:{isCenter:true,isHorz:false,isVert:false},north:{isCenter:false,isHorz:false,isVert:true,collapseDirection:"top"},south:{isCenter:false,isHorz:false,isVert:true,collapseDirection:"bottom"},west:{isCenter:false,isHorz:true,isVert:false,collapseDirection:"left"},east:{isCenter:false,isHorz:true,isVert:false,collapseDirection:"right"}},setupSplitterNeighbors:function(u){var j={},z=u.length,r=this.touchedRegions,x,y,D,v,A,w,s,C,B;for(x=0;x<z;++x){w=u[x].target;s=w.region;if(w.isCenter){D=w}else{if(s){B=r[s];for(y=0,v=B.length;y<v;++y){A=j[B[y]];if(A){A.neighbors.push(w)}}if(w.placeholderFor){C=w.placeholderFor.splitter}else{C=w.splitter}if(C){C.neighbors=[]}j[s]=C}}}if(D){B=r.center;for(y=0,v=B.length;y<v;++y){A=j[B[y]];if(A){A.neighbors.push(D)}}}},touchedRegions:{center:["north","south","east","west"],north:["north","east","west"],south:["south","east","west"],east:["east","north","south"],west:["west","north","south"]},sizePolicies:{vert:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},horz:{readsWidth:1,readsHeight:0,setsWidth:0,setsHeight:1},flexAll:{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:1}},getItemSizePolicy:function(o){var p=this,l=this.sizePolicies,q,j,n,m;if(o.isCenter){m=o.placeholderFor;if(m){if(m.collapsedVertical()){return l.vert}return l.horz}if(o.collapsed){if(o.collapsedVertical()){return l.vert}return l.horz}return l.flexAll}q=o.collapseTarget;if(q){return q.isVert?l.vert:l.horz}if(o.region){if(o.isVert){j=o.height;n=l.vert}else{j=o.width;n=l.horz}if(o.flex||(typeof j=="string"&&p.percentageRe.test(j))){return l.flexAll}return n}return p.autoSizePolicy}},function(){var d={addUnflexed:function(a){this.flexSpace=Math.max(this.flexSpace-a,0)}},c=this.prototype.axisProps;Ext.apply(c.horz,d);Ext.apply(c.vert,d)});Ext.define("Ext.layout.container.Card",{extend:Ext.layout.container.Fit,alternateClassName:"Ext.layout.CardLayout",alias:"layout.card",type:"card",hideInactive:true,deferredRender:false,getRenderTree:function(){var d=this,c=d.getActiveItem();if(c){if(c.hasListeners.beforeactivate&&c.fireEvent("beforeactivate",c)===false){c=d.activeItem=d.owner.activeItem=null}else{if(c.hasListeners.activate){c.on({boxready:function(){c.fireEvent("activate",c)},single:true})}}if(d.deferredRender){if(c){return d.getItemsRenderTree([c])}}else{return d.callParent(arguments)}}},renderChildren:function(){var d=this,c=d.getActiveItem();if(!d.deferredRender){d.callParent()}else{if(c){d.renderItems([c],d.getRenderTarget())}}},isValidParent:function(j,h,g){var e=j.el?j.el.dom:Ext.getDom(j);return(e&&e.parentNode===(h.dom||h))||false},getActiveItem:function(){var g=this,d=g.activeItem===undefined?(g.owner&&g.owner.activeItem):g.activeItem,e=g.parseActiveItem(d);if(e&&g.owner.items.indexOf(e)!==-1){g.activeItem=e}return e==null?null:(g.activeItem||g.owner.activeItem)},parseActiveItem:function(d){var c;if(d&&d.isComponent){c=d}else{if(typeof d==="number"||d===undefined){c=this.getLayoutItems()[d||0]}else{if(d===null){c=null}else{c=this.owner.getComponent(d)}}}return c},configureItem:function(b){b.setHiddenState(b!==this.getActiveItem());this.callParent(arguments)},onRemove:function(b){this.callParent([b]);if(b===this.activeItem){this.activeItem=undefined}},getAnimation:function(d,e){var g=(d||{}).cardSwitchAnimation;if(g===false){return false}return g||e.cardSwitchAnimation},getNext:function(){var g=arguments[0],e=this.getLayoutItems(),d=Ext.Array.indexOf(e,this.activeItem);return e[d+1]||(g?e[0]:false)},next:function(){var c=arguments[0],d=arguments[1];return this.setActiveItem(this.getNext(d),c)},getPrev:function(){var g=arguments[0],e=this.getLayoutItems(),d=Ext.Array.indexOf(e,this.activeItem);return e[d-1]||(g?e[e.length-1]:false)},prev:function(){var c=arguments[0],d=arguments[1];return this.setActiveItem(this.getPrev(d),c)},setActiveItem:function(j){var o=this,l=o.owner,p=o.activeItem,m=l.rendered,q,n;j=o.parseActiveItem(j);q=l.items.indexOf(j);if(q===-1){q=l.items.items.length;Ext.suspendLayouts();j=l.add(j);Ext.resumeLayouts()}if(j&&p!==j){if(j.fireEvent("beforeactivate",j,p)===false){return false}if(p&&p.fireEvent("beforedeactivate",p,j)===false){return false}if(m){Ext.suspendLayouts();if(!j.rendered){o.renderItem(j,o.getRenderTarget(),l.items.length)}if(p){if(o.hideInactive){n=p.el.contains(Ext.Element.getActiveElement());p.hide();if(p.hidden){p.hiddenByLayout=true;p.fireEvent("deactivate",p,j)}else{return false}}}if(j.hidden){j.show()}if(j.hidden){o.activeItem=j=null}else{o.activeItem=j;if(n){if(!j.defaultFocus){j.defaultFocus=":focusable"}j.focus()}}Ext.resumeLayouts(true)}else{o.activeItem=j}j.fireEvent("activate",j,p);return o.activeItem}return false}});Ext.define("Ext.dom.ButtonElement",{extend:Ext.dom.Element,setSize:function(l,h,g){var j=this,m=j.component;j.callParent([l,h,g]);m.btnWrap.setStyle("table-layout",(!l||l==="auto")?"":"fixed");m.btnEl.setStyle("height",(!h||h==="auto")?"":"auto");return j},setStyle:function(l,m){var n=this,h=n.component,o,j;n.callParent([l,m]);if(l){if(l==="width"||(typeof l!=="string"&&"width" in l)){o=m||l.width;h.btnWrap.setStyle("table-layout",(!o||o==="auto")?"":"fixed")}if(l==="height"||(typeof l!=="string"&&"height" in l)){j=m||l.height;h.btnEl.setStyle("height",(!j||j==="auto")?"":"auto")}}return n},setHeight:function(d,c){this.callParent([d,c]);this.component.btnEl.setStyle("height",(!d||d==="auto")?"":"auto");return this},setWidth:function(c,d){this.callParent([c,d]);this.component.btnWrap.setStyle("table-layout",(!c||c==="auto")?"":"fixed");return this}});Ext.define("Ext.button.Manager",{singleton:true,alternateClassName:"Ext.ButtonToggleManager",groups:{},pressedButton:null,buttonSelector:"."+Ext.baseCSSPrefix+"btn",init:function(){var b=this;if(!b.initialized){Ext.getDoc().on({keydown:b.onDocumentKeyDown,mouseup:b.onDocumentMouseUp,scope:b});b.initialized=true}},onDocumentKeyDown:function(g){var e=g.getKey(),d;if(e===g.SPACE||e===g.ENTER){d=g.getTarget(this.buttonSelector);if(d){Ext.getCmp(d.id).onClick(g)}}},onButtonMousedown:function(e,g){var d=this.pressedButton;if(d){d.onMouseUp(g)}this.pressedButton=e},onDocumentMouseUp:function(c){var d=this.pressedButton;if(d){d.onMouseUp(c);this.pressedButton=null}},toggleGroup:function(g,j){if(j){var l=this.groups[g.toggleGroup],m=l.length,h;for(h=0;h<m;h++){if(l[h]!==g){l[h].toggle(false)}}}},register:function(e){var j=this,g=this.groups,h=g[e.toggleGroup];j.init();if(!e.toggleGroup){return}if(!h){h=g[e.toggleGroup]=[]}h.push(e);e.on("toggle",j.toggleGroup,j)},unregister:function(e){if(!e.toggleGroup){return}var d=this,g=d.groups[e.toggleGroup];if(g){Ext.Array.remove(g,e);e.un("toggle",d.toggleGroup,d)}},getPressed:function(h){var j=this.groups[h],e=0,g;if(j){for(g=j.length;e<g;e++){if(j[e].pressed===true){return j[e]}}}return null}});Ext.define("Ext.menu.Manager",{singleton:true,alternateClassName:"Ext.menu.MenuMgr",groups:{},hideAll:function(){var h=Ext.ComponentQuery.query("menu[floating]:not([hidden])"),e=h.length,j,g=false;for(j=0;j<e;j++){h[j].hide();g=true}return g},get:function(g,d){var e;if(typeof g==="string"){e=Ext.getCmp(g);if(e instanceof Ext.menu.Menu){g=e}}else{if(Ext.isArray(g)){d=Ext.apply({items:g},d);g=new Ext.menu.Menu(d)}else{if(!g.isComponent){d=Ext.apply({},g,d);g=Ext.ComponentManager.create(d,"menu")}}}return g},registerCheckable:function(g){var e=this.groups,d=g.group;if(d){if(!e[d]){e[d]=[]}e[d].push(g)}},unregisterCheckable:function(g){var e=this.groups,d=g.group;if(d){Ext.Array.remove(e[d],g)}},onCheckChange:function(r,p){var m=this.groups,s=r.group,l=0,n,q,o;if(s&&p){n=m[s];q=n.length;for(;l<q;l++){o=n[l];if(o!==r){o.setChecked(false)}}}}});Ext.define("Ext.button.Button",{alias:"widget.button",extend:Ext.Component,mixins:[Ext.mixin.Queryable],alternateClassName:"Ext.Button",config:{iconAlign:"left",text:null,textAlign:"center",arrowVisible:true},isButton:true,_syncFrameHeight:true,liquidLayout:true,hidden:false,disabled:false,pressed:false,tabIndex:0,enableToggle:false,menuAlign:"tl-bl?",showEmptyMenu:false,clickEvent:"click",preventDefault:true,handleMouseEvents:true,tooltipType:"qtip",baseCls:Ext.baseCSSPrefix+"btn",hrefTarget:"_blank",destroyMenu:true,focusable:true,ariaRole:"button",defaultBindProperty:"text",childEls:["btnEl","btnWrap","btnInnerEl","btnIconEl"],publishes:{pressed:1},menuClickBuffer:250,_btnWrapCls:Ext.baseCSSPrefix+"btn-wrap",_btnCls:Ext.baseCSSPrefix+"btn-button",_baseIconCls:Ext.baseCSSPrefix+"btn-icon-el",_glyphCls:Ext.baseCSSPrefix+"btn-glyph",_innerCls:Ext.baseCSSPrefix+"btn-inner",_textCls:Ext.baseCSSPrefix+"btn-text",_noTextCls:Ext.baseCSSPrefix+"btn-no-text",_hasIconCls:Ext.baseCSSPrefix+"btn-icon",_pressedCls:Ext.baseCSSPrefix+"btn-pressed",overCls:Ext.baseCSSPrefix+"btn-over",_disabledCls:Ext.baseCSSPrefix+"btn-disabled",_menuActiveCls:Ext.baseCSSPrefix+"btn-menu-active",_operaArrowCls:Ext.baseCSSPrefix+"opera12m-btn-arrow",renderTpl:'<span id="{id}-btnWrap" data-ref="btnWrap" role="presentation" unselectable="on" style="{btnWrapStyle}" class="{btnWrapCls} {btnWrapCls}-{ui} {splitCls}{childElCls}"><span id="{id}-btnEl" data-ref="btnEl" role="presentation" unselectable="on" style="{btnElStyle}" class="{btnCls} {btnCls}-{ui} {textCls} {noTextCls} {hasIconCls} {iconAlignCls} {textAlignCls} {btnElAutoHeightCls}{childElCls}"><tpl if="iconBeforeText">{[values.$comp.renderIcon(values)]}</tpl><span id="{id}-btnInnerEl" data-ref="btnInnerEl" unselectable="on" class="{innerCls} {innerCls}-{ui}{childElCls}">{text}</span><tpl if="!iconBeforeText">{[values.$comp.renderIcon(values)]}</tpl></span></span>{[values.$comp.getAfterMarkup ? values.$comp.getAfterMarkup(values) : ""]}<tpl if="closable"><span id="{id}-closeEl" data-ref="closeEl" class="{baseCls}-close-btn"><tpl if="closeText"> {closeText}</tpl></span></tpl>',iconTpl:'<span id="{id}-btnIconEl" data-ref="btnIconEl" role="presentation" unselectable="on" class="{baseIconCls} {baseIconCls}-{ui} {iconCls} {glyphCls}{childElCls}" style="<tpl if="iconUrl">background-image:url({iconUrl});</tpl><tpl if="glyph && glyphFontFamily">font-family:{glyphFontFamily};</tpl>"><tpl if="glyph">&#{glyph};</tpl><tpl if="iconCls || iconUrl">&#160;</tpl></span>',scale:"small",allowedScales:["small","medium","large"],arrowAlign:"right",arrowCls:"arrow",maskOnDisable:false,shrinkWrap:3,frame:true,autoEl:{tag:"a",hidefocus:"on",unselectable:"on"},hasFrameTable:function(){return this.href&&this.frameTable},frameTableListener:function(){if(!this.disabled){this.doNavigate()}},doNavigate:function(){if(this.hrefTarget==="_blank"){window.open(this.getHref(),this.hrefTarget)}else{location.href=this.getHref()}},_triggerRegion:{},initComponent:function(){var b=this;b.addCls(Ext.baseCSSPrefix+"unselectable");if(Ext.isOpera12m&&(b.split||b.menu)&&b.getArrowVisible()){b.addCls(b._operaArrowCls+"-"+b.arrowAlign)}b.callParent();if(b.menu){b.split=true;b.setMenu(b.menu,false,true)}if(b.url){b.href=b.url}b.configuredWithPreventDefault=b.hasOwnProperty("preventDefault");if(b.href&&!b.configuredWithPreventDefault){b.preventDefault=false}if(Ext.isString(b.toggleGroup)&&b.toggleGroup!==""){b.enableToggle=true}if(b.html&&!b.text){b.text=b.html;delete b.html}},getElConfig:function(){var j=this,e=j.callParent(),g=j.getHref(),h=j.hrefTarget;if(e.tag==="a"){if(!j.disabled){e.tabIndex=j.tabIndex}if(g){if(!j.disabled){e.href=g;if(h){e.target=h}}}}return e},beforeRender:function(){this.callParent();if(this.pressed){this.addCls(this._pressedCls)}},initRenderData:function(){return Ext.apply(this.callParent(),this.getTemplateArgs())},getMenu:function(){return this.menu||null},setMenu:function(j,l,g){var m=this,h=m.menu;if(h&&!g){if(l!==false&&m.destroyMenu){h.destroy()}h.ownerCmp=null}if(j){j=Ext.menu.Manager.get(j,{ownerCmp:m});j.ownerCmp=m;m.mon(j,{scope:m,show:m.onMenuShow,hide:m.onMenuHide});if(!h&&m.getArrowVisible()){m.split=true;if(m.rendered){m._addSplitCls();m.updateLayout()}}m.menu=j}else{if(m.rendered){m._removeSplitCls();m.updateLayout()}m.split=false;m.menu=null}},onRender:function(){var j=this,h,g,e;j.callParent(arguments);g=j.el;if(j.tooltip){j.setTooltip(j.tooltip,true)}if(j.handleMouseEvents){e={scope:j,mouseover:j.onMouseOver,mouseout:j.onMouseOut,mousedown:j.onMouseDown};if(j.split){e.mousemove=j.onMouseMove}}else{e={scope:j}}if(Ext.supports.Touch){e.touchstart=j.onTouchStart}if(j.menu){j.keyMap=new Ext.util.KeyMap({target:j.el,key:Ext.event.Event.prototype.DOWN,handler:j.onDownKey,scope:j})}if(j.repeat){j.mon(new Ext.util.ClickRepeater(g,Ext.isObject(j.repeat)?j.repeat:{}),"click",j.onRepeatClick,j)}else{if(e[j.clickEvent]){h=true}else{e[j.clickEvent]=j.onClick}}j.mon(g,e);if(j.hasFrameTable()){j.mon(j.frameTable,"click",j.frameTableListener,j)}if(h){j.mon(g,j.clickEvent,j.onClick,j)}Ext.button.Manager.register(j)},onFocusLeave:function(b){this.callParent([b]);if(this.menu){this.menu.hide()}},getTemplateArgs:function(){var p=this,v=p._btnCls,s=p._baseIconCls,x=p.getIconAlign(),o=p.glyph,q=Ext._glyphFontFamily,n=p.text,u=p._hasIcon(),r=p._hasIconCls,w;if(typeof o==="string"){w=o.split("@");o=w[0];q=w[1]}return{innerCls:p._innerCls,splitCls:p.getArrowVisible()?p.getSplitCls():"",iconUrl:p.icon,iconCls:p.iconCls,glyph:o,glyphCls:o?p._glyphCls:"",glyphFontFamily:q,text:n||"&#160;",closeText:p.closeText,textCls:n?p._textCls:"",noTextCls:n?"":p._noTextCls,hasIconCls:u?r:"",btnWrapCls:p._btnWrapCls,btnWrapStyle:p.width?"table-layout:fixed;":"",btnElStyle:p.height?"height:auto;":"",btnCls:v,baseIconCls:s,iconBeforeText:x==="left"||x==="top",iconAlignCls:u?(r+"-"+x):"",textAlignCls:v+"-"+p.getTextAlign()}},renderIcon:function(b){return this.getTpl("iconTpl").apply(b)},setHref:function(g){var e=this,h=e.hrefTarget,j;e.href=g;if(!e.configuredWithPreventDefault){e.preventDefault=!g}if(e.rendered){j=e.el.dom;if(!g||e.disabled){j.removeAttribute("href");j.removeAttribute("hrefTarget")}else{j.href=e.getHref();if(h){j.target=h}}}},getHref:function(){var c=this,d=c.href;return d?Ext.urlAppend(d,Ext.Object.toQueryString(Ext.apply({},c.params,c.baseParams))):false},setParams:function(g){var e=this,d;e.params=g;if(e.rendered){d=e.el.dom;if(e.disabled){d.removeAttribute("href")}else{d.href=e.getHref()||""}}},getSplitCls:function(){var b=this;return b.split?(b.baseCls+"-"+b.arrowCls)+" "+(b.baseCls+"-"+b.arrowCls+"-"+b.arrowAlign):""},setIcon:function(e){e=e||"";var j=this,g=j.btnIconEl,h=j.icon||"";j.icon=e;if(e!==h){if(g){g.setStyle("background-image",e?"url("+e+")":"");j._syncHasIconCls();if(j.didIconStateChange(h,e)){j.updateLayout()}}j.fireEvent("iconchange",j,h,e)}return j},setIconCls:function(e){e=e||"";var h=this,g=h.btnIconEl,j=h.iconCls||"";h.iconCls=e;if(j!==e){if(g){g.removeCls(j);g.addCls(e);h._syncHasIconCls();if(h.didIconStateChange(j,e)){h.updateLayout()}}h.fireEvent("iconchange",h,j,e)}return h},setGlyph:function(n){n=n||0;var o=this,j=o.btnIconEl,q=o.glyph,m=o._glyphCls,l,p;o.glyph=n;if(j){if(typeof n==="string"){p=n.split("@");n=p[0];l=p[1]||Ext._glyphFontFamily}if(!n){j.dom.innerHTML="";j.removeCls(m)}else{if(q!==n){j.dom.innerHTML="&#"+n+";";j.addCls(m)}}if(l){j.setStyle("font-family",l)}o._syncHasIconCls();if(o.didIconStateChange(q,n)){o.updateLayout()}}o.fireEvent("glyphchange",o,o.glyph,q);return o},setTooltip:function(g,e){var d=this;if(d.rendered){if(!e||!g){d.clearTip()}if(g){if(Ext.quickTipsActive&&Ext.isObject(g)){Ext.tip.QuickTipManager.register(Ext.apply({target:d.el.id},g));d.tooltip=g}else{d.el.dom.setAttribute(d.getTipAttr(),g)}}}else{d.tooltip=g}return d},updateIconAlign:function(l,n){var o=this,h,j,m;if(o.rendered){h=o.btnEl;j=o.btnIconEl;m=o._hasIconCls;if(n){h.removeCls(m+"-"+n)}h.addCls(m+"-"+l);if(l==="top"||l==="left"){h.insertFirst(j)}else{h.appendChild(j)}o.updateLayout()}},updateTextAlign:function(j,l){var m=this,g=m.btnEl,h=m._btnCls;if(m.rendered){g.removeCls(h+"-"+l);g.addCls(h+"-"+j)}},getTipAttr:function(){return this.tooltipType==="qtip"?"data-qtip":"title"},getRefItems:function(e){var g=this.menu,d;if(g){d=g.getRefItems(e);d.unshift(g)}return d||[]},clearTip:function(){var c=this,d=c.el;if(Ext.quickTipsActive&&Ext.isObject(c.tooltip)){Ext.tip.QuickTipManager.unregister(d)}else{d.dom.removeAttribute(c.getTipAttr())}},beforeDestroy:function(){var b=this;if(b.rendered){b.clearTip()}Ext.destroy(b.repeater);b.callParent()},onDestroy:function(){var d=this,c=d.menu;if(d.rendered){Ext.destroy(d.keyMap);delete d.keyMap}if(c&&d.destroyMenu){d.menu=Ext.destroy(c)}Ext.button.Manager.unregister(d);d.callParent()},setHandler:function(c,d){this.handler=c;if(arguments.length>1){this.scope=d}return this},applyText:function(l){l=l==null?"":String(l);var m=this,j=m.btnInnerEl,g=m.btnEl,h=m.text||"";if(l!==h){m.text=l;if(m.rendered){j.setHtml(l||"&#160;");g[l?"addCls":"removeCls"](m._textCls);g[l?"removeCls":"addCls"](m._noTextCls);m.updateLayout()}m.fireEvent("textchange",m,h,l)}},didIconStateChange:function(e,g){var d=Ext.isEmpty(g);return Ext.isEmpty(e)?!d:d},setPressed:function(b){return this.toggle(b!==false)},toggle:function(g,e){var d=this;g=g===undefined?!d.pressed:!!g;if(g!==d.pressed){d[g?"addCls":"removeCls"](d._pressedCls);d.pressed=g;if(!e){d.fireEvent("toggle",d,g);Ext.callback(d.toggleHandler,d.scope,[d,g],0,d);if(d.reference&&d.publishState){d.publishState("pressed",g)}}}return d},maybeShowMenu:function(c){var d=this;if(d.menu&&!d.ignoreNextClick){d.showMenu(c)}},showMenu:function(g){var j=this,h=j.menu,e=!g||g.pointerType;if(h&&j.rendered){if(j.tooltip&&Ext.quickTipsActive&&j.getTipAttr()!=="title"){Ext.tip.QuickTipManager.getQuickTip().cancelShow(j.el)}if(h.isVisible()){if(e){h.hide()}else{h.focus()}}else{if(!g||j.showEmptyMenu||h.items.getCount()>0){h.autoFocus=!e;h.showBy(j.el,j.menuAlign)}}}return j},hideMenu:function(){if(this.hasVisibleMenu()){this.menu.hide()}return this},hasVisibleMenu:function(){var b=this.menu;return b&&b.rendered&&b.isVisible()},onRepeatClick:function(d,c){this.onClick(c)},onTouchStart:function(b){this.doPreventDefault(b)},onClick:function(c){var d=this;d.doPreventDefault(c);if(c.type!=="keydown"&&c.button){return}if(!d.disabled){d.doToggle();d.maybeShowMenu(c);d.fireHandler(c)}},doPreventDefault:function(b){if(b&&(this.preventDefault||(this.disabled&&this.getHref()))){b.preventDefault()}},fireHandler:function(c){var d=this;if(d.fireEvent("click",d,c)!==false&&!d.isDestroyed){Ext.callback(d.handler,d.scope,[d,c],0,d)}},doToggle:function(){var b=this;if(b.enableToggle&&(b.allowDepress!==false||!b.pressed)){b.toggle()}},onMouseOver:function(c){var d=this;if(!d.disabled&&!c.within(d.el,true,true)){d.onMouseEnter(c)}},onMouseOut:function(c){var d=this;if(!c.within(d.el,true,true)){if(d.overMenuTrigger){d.onMenuTriggerOut(c)}d.onMouseLeave(c)}},onMouseMove:function(g){var e=this,d=e.overMenuTrigger;if(e.split){if(e.isWithinTrigger(g)){if(!d){e.onMenuTriggerOver(g)}}else{if(d){e.onMenuTriggerOut(g)}}}},isWithinTrigger:function(l){var m=this,e=m.el,j,h;j=(m.arrowAlign==="right")?l.getX()-m.getX():l.getY()-e.getY();h=m.getTriggerRegion();return j>h.begin&&j<h.end},getTriggerRegion:function(){var l=this,j=l._triggerRegion,m=l.arrowAlign==="right",g=m?"getRight":"getBottom",h=m?l.getWidth():l.getHeight();j.begin=h-(l.el[g]()-l.btnEl[g]());j.end=h;return j},onMouseEnter:function(b){this.fireEvent("mouseover",this,b)},onMouseLeave:function(b){this.fireEvent("mouseout",this,b)},onMenuTriggerOver:function(g){var d=this,e=d.arrowTooltip;d.overMenuTrigger=true;if(d.split&&e){d.btnWrap.dom.setAttribute(d.getTipAttr(),e)}d.fireEvent("menutriggerover",d,d.menu,g)},onMenuTriggerOut:function(c){var d=this;delete d.overMenuTrigger;if(d.split&&d.arrowTooltip){d.btnWrap.dom.setAttribute(d.getTipAttr(),"")}d.fireEvent("menutriggerout",d,d.menu,c)},enable:function(g){var m=this,h=m.href,j=m.hrefTarget,l;m.callParent(arguments);m.removeCls(m._disabledCls);if(m.rendered){l=m.el.dom;l.setAttribute("tabindex",m.tabIndex);if(h){l.href=h}if(j){l.target=j}}return m},disable:function(e){var d=this,g;d.callParent(arguments);d.addCls(d._disabledCls);d.removeCls(d.overCls);if(d.rendered){g=d.el.dom;g.removeAttribute("tabindex");if(d.href){g.removeAttribute("href")}if(d.hrefTarget){g.removeAttribute("target")}}return d},setScale:function(g){var e=this,d=e.ui.replace("-"+e.scale,"");if(!Ext.Array.contains(e.allowedScales,g)){throw ("#setScale: scale must be an allowed scale ("+e.allowedScales.join(", ")+")")}e.scale=g;e.setUI(d)},setUI:function(c){var d=this;if(d.scale&&!c.match(d.scale)){c=c+"-"+d.scale}d.callParent([c])},onMouseDown:function(c){var d=this;if(Ext.isIE||c.pointerType==="touch"){d.getFocusEl().focus()}if(!d.disabled&&c.button===0){Ext.button.Manager.onButtonMousedown(d,c);d.addCls(d._pressedCls)}},onMouseUp:function(c){var d=this;if(!d.isDestroyed&&c.button===0){if(!d.pressed){d.removeCls(d._pressedCls)}}},onMenuShow:function(){var b=this;b.ignoreNextClick=0;b.addCls(b._menuActiveCls);b.fireEvent("menushow",b,b.menu)},onMenuHide:function(d){var e=this,g=e.menuClickBuffer;e.removeCls(e._menuActiveCls);if(g){e.ignoreNextClick=Ext.defer(e.restoreClick,g,e)}e.fireEvent("menuhide",e,e.menu)},restoreClick:function(){this.ignoreNextClick=0},onDownKey:function(e,g){var d=this;if(d.menu&&!d.disabled){d.showMenu(g);g.stopEvent();return false}},updateArrowVisible:function(c){var d=this;if(d.rendered){if(c){if(d.menu||d.isSplitButton){d.split=true;d._addSplitCls()}}else{d._removeSplitCls();d.split=false}}return c},privates:{addOverCls:function(){if(!this.disabled){this.addCls(this.overCls)}},_addSplitCls:function(){var b=this;b.btnWrap.addCls(b.getSplitCls());if(Ext.isOpera12m){b.addCls(b._operaArrowCls+"-"+b.arrowAlign)}},getFocusEl:function(){return this.el},getTdCls:function(){return Ext.baseCSSPrefix+"button-"+this.ui+"-"+this.scale+"-cell"},removeOverCls:function(){this.removeCls(this.overCls)},_removeSplitCls:function(){var b=this;b.btnWrap.removeCls(b.getSplitCls());if(Ext.isOpera12m){b.removeCls(b._operaArrowCls+"-"+b.arrowAlign)}},_syncHasIconCls:function(){var d=this,e=d.btnEl,g=d._hasIconCls;if(e){e[d._hasIcon()?"addCls":"removeCls"]([g,g+"-"+d.iconAlign])}},_hasIcon:function(){return !!(this.icon||this.iconCls||this.glyph)},wrapPrimaryEl:function(b){this.el=new Ext.dom.ButtonElement(b);this.callParent([b])}}});Ext.define("E.xforms.overrideButton",{override:"Ext.button.Button",initComponent:function(){var d=this,b;d.callParent();if((b=d.baseAction)&&b.xfa){Ext.apply(d,{xfa:b.xfa,entityName:b.entityName,modelInstance:b.modelInstance},b.buttonCfg)}}},function(){var b=this.prototype;Ext.apply(b,E.xforms.ct);Ext.applyIf(b,E.xforms.ctIf);Ext.apply(b,{relevantFn:"setDisabled",readonlyFn:"setDisabled",labelTarget:"text",qtipTarget:"tooltip"})});Ext.define("Ext.tab.Tab",{extend:Ext.button.Button,alias:"widget.tab",isTab:true,tabIndex:-1,baseCls:Ext.baseCSSPrefix+"tab",closeElOverCls:Ext.baseCSSPrefix+"tab-close-btn-over",closeElPressedCls:Ext.baseCSSPrefix+"tab-close-btn-pressed",config:{rotation:"default",tabPosition:"top"},closable:true,closeText:"Close Tab",active:false,childEls:["closeEl"],scale:false,ariaRole:"tab",_btnWrapCls:Ext.baseCSSPrefix+"tab-wrap",_btnCls:Ext.baseCSSPrefix+"tab-button",_baseIconCls:Ext.baseCSSPrefix+"tab-icon-el",_glyphCls:Ext.baseCSSPrefix+"tab-glyph",_innerCls:Ext.baseCSSPrefix+"tab-inner",_textCls:Ext.baseCSSPrefix+"tab-text",_noTextCls:Ext.baseCSSPrefix+"tab-no-text",_hasIconCls:Ext.baseCSSPrefix+"tab-icon",_activeCls:Ext.baseCSSPrefix+"tab-active",_closableCls:Ext.baseCSSPrefix+"tab-closable",overCls:Ext.baseCSSPrefix+"tab-over",_pressedCls:Ext.baseCSSPrefix+"tab-pressed",_disabledCls:Ext.baseCSSPrefix+"tab-disabled",_rotateClasses:{1:Ext.baseCSSPrefix+"tab-rotate-right",2:Ext.baseCSSPrefix+"tab-rotate-left"},_positions:{top:{"default":"top",0:"top",1:"left",2:"right"},right:{"default":"top",0:"right",1:"top",2:"bottom"},bottom:{"default":"bottom",0:"bottom",1:"right",2:"left"},left:{"default":"top",0:"left",1:"bottom",2:"top"}},_defaultRotations:{top:0,right:1,bottom:0,left:2},initComponent:function(){var b=this;if(b.card){b.setCard(b.card)}b.callParent(arguments)},getActualRotation:function(){var b=this.getRotation();return(b!=="default")?b:this._defaultRotations[this.getTabPosition()]},updateRotation:function(){this.syncRotationAndPosition()},updateTabPosition:function(){this.syncRotationAndPosition()},syncRotationAndPosition:function(){var p=this,u=p._positions,v=p._rotateClasses,s=p.getTabPosition(),m=p.getActualRotation(),n=p._rotateCls,r=p._rotateCls=v[m],q=p._positionCls,o=p._positionCls=p._positions[s][m];if(n!==r){if(n){p.removeCls(n)}if(r){p.addCls(r)}}if(q!==o){if(q){p.removeClsWithUI(q)}if(o){p.addClsWithUI(o)}if(p.rendered){p.updateFrame()}}if(p.rendered){p.setElOrientation()}},onAdded:function(d,g,e){this.callParent([d,g,e]);this.syncRotationAndPosition()},getTemplateArgs:function(){var c=this,d=c.callParent();d.closable=c.closable;d.closeText=c.closeText;return d},beforeRender:function(){var d=this,e=d.up("tabbar"),g=d.up("tabpanel");d.callParent();if(d.active){d.addCls(d._activeCls)}d.syncClosableCls();if(!d.minWidth){d.minWidth=(e)?e.minTabWidth:d.minWidth;if(!d.minWidth&&g){d.minWidth=g.minTabWidth}if(d.minWidth&&d.iconCls){d.minWidth+=25}}if(!d.maxWidth){d.maxWidth=(e)?e.maxTabWidth:d.maxWidth;if(!d.maxWidth&&g){d.maxWidth=g.maxTabWidth}}},onRender:function(){var b=this;b.setElOrientation();b.callParent(arguments);if(b.closable){b.closeEl.addClsOnOver(b.closeElOverCls);b.closeEl.addClsOnClick(b.closeElPressedCls)}b.initKeyNav()},initKeyNav:function(){var b=this;b.keyNav=new Ext.util.KeyNav(b.el,{enter:b.onEnterKey,del:b.onDeleteKey,scope:b})},setElOrientation:function(){var g=this,e=g.getActualRotation(),d=g.el;if(e){d.setVertical(e===1?90:270)}else{d.setHorizontal()}},enable:function(d){var c=this;c.callParent(arguments);c.removeCls(c._disabledCls);return c},disable:function(d){var c=this;c.callParent(arguments);c.addCls(c._disabledCls);return c},onDestroy:function(){var b=this;Ext.destroy(b.keyNav);delete b.keyNav;b.callParent(arguments)},setClosable:function(d){var c=this;d=(!arguments.length||!!d);if(c.closable!=d){c.closable=d;if(c.card){c.card.closable=d}c.syncClosableCls();if(c.rendered){c.syncClosableElements();c.updateLayout()}}},syncClosableElements:function(){var d=this,c=d.closeEl;if(d.closable){if(!c){c=d.closeEl=d.btnWrap.insertSibling({tag:"a",role:"presentation",cls:d.baseCls+"-close-btn",href:"#",title:d.closeText},"after")}c.addClsOnOver(d.closeElOverCls);c.addClsOnClick(d.closeElPressedCls)}else{if(c){c.destroy();delete d.closeEl}}},syncClosableCls:function(){var c=this,d=c._closableCls;if(c.closable){c.addCls(d)}else{c.removeCls(d)}},setCard:function(d){var c=this;c.card=d;if(d.iconAlign){c.setIconAlign(d.iconAlign)}if(d.textAlign){c.setTextAlign(d.textAlign)}c.setText(c.title||d.title);c.setIconCls(c.iconCls||d.iconCls);c.setIcon(c.icon||d.icon);c.setGlyph(c.glyph||d.glyph)},onCloseClick:function(){var b=this;if(b.fireEvent("beforeclose",b)!==false){if(b.tabBar){if(b.tabBar.closeTab(b)===false){return}}else{b.fireClose()}}},fireClose:function(){this.fireEvent("close",this)},onEnterKey:function(c){var d=this;if(d.tabBar){d.tabBar.onClick(c,d.el)}},onDeleteKey:function(b){if(this.closable){this.onCloseClick()}},beforeClick:function(b){if(!b){this.focus()}},activate:function(c){var d=this;d.active=true;d.addCls(d._activeCls);if(c!==true){d.fireEvent("activate",d)}},deactivate:function(c){var d=this;d.active=false;d.removeCls(d._activeCls);if(c!==true){d.fireEvent("deactivate",d)}},privates:{getFramingInfoCls:function(){return this.baseCls+"-"+this.ui+"-"+this._positionCls},wrapPrimaryEl:function(b){Ext.Button.superclass.wrapPrimaryEl.call(this,b)}}});Ext.define("Ext.layout.component.Body",{alias:["layout.body"],extend:Ext.layout.component.Auto,type:"body",beginLayout:function(b){this.callParent(arguments);b.bodyContext=b.getEl("body")},beginLayoutCycle:function(n,h){var o=this,l=o.lastWidthModel,m=o.lastHeightModel,j=o.owner.body;o.callParent(arguments);if(l&&l.fixed&&n.widthModel.shrinkWrap){j.setWidth(null)}if(m&&m.fixed&&n.heightModel.shrinkWrap){j.setHeight(null)}},calculateOwnerHeightFromContentHeight:function(g,d){var e=this.callParent(arguments);if(g.targetContext!=g){e+=g.getPaddingInfo().height}return e},calculateOwnerWidthFromContentWidth:function(g,e){var d=this.callParent(arguments);if(g.targetContext!=g){d+=g.getPaddingInfo().width}return d},measureContentWidth:function(b){return b.bodyContext.setWidth(b.bodyContext.el.dom.offsetWidth,false)},measureContentHeight:function(b){return b.bodyContext.setHeight(b.bodyContext.el.dom.offsetHeight,false)},publishInnerHeight:function(j,g){var h=g-j.getFrameInfo().height,e=j.targetContext;if(e!=j){h-=j.getPaddingInfo().height}return j.bodyContext.setHeight(h,!j.heightModel.natural)},publishInnerWidth:function(h,j){var g=j-h.getFrameInfo().width,e=h.targetContext;if(e!=h){g-=h.getPaddingInfo().width}h.bodyContext.setWidth(g,!h.widthModel.natural)}});Ext.define("Ext.tab.Bar",{extend:Ext.panel.Bar,xtype:"tabbar",baseCls:Ext.baseCSSPrefix+"tab-bar",mixins:[Ext.util.FocusableContainer],componentLayout:"body",isTabBar:true,config:{tabRotation:"default",tabStretchMax:true,activateOnFocus:true},defaultType:"tab",plain:false,ariaRole:"tablist",childEls:["body","strip"],_stripCls:Ext.baseCSSPrefix+"tab-bar-strip",_baseBodyCls:Ext.baseCSSPrefix+"tab-bar-body",renderTpl:'<div id="{id}-body" data-ref="body" role="presentation" class="{baseBodyCls} {baseBodyCls}-{ui} {bodyCls} {bodyTargetCls}{childElCls}"<tpl if="bodyStyle"> style="{bodyStyle}"</tpl>>{%this.renderContainer(out,values)%}</div><div id="{id}-strip" data-ref="strip" role="presentation" class="{stripCls} {stripCls}-{ui}{childElCls}"></div>',_reverseDockNames:{left:"right",right:"left"},_layoutAlign:{top:"end",right:"begin",bottom:"begin",left:"end"},initComponent:function(){var j=this,h=j.initialConfig.layout,m=h&&h.align,g=h&&h.overflowHandler,l;if(j.plain){j.addCls(j.baseCls+"-plain")}j.callParent();j.setLayout({align:m||(j.getTabStretchMax()?"stretchmax":j._layoutAlign[j.dock]),overflowHandler:g||"scroller"});j.on({click:j.onClick,element:"el",scope:j})},initRenderData:function(){var b=this;return Ext.apply(b.callParent(),{bodyCls:b.bodyCls,baseBodyCls:b._baseBodyCls,bodyTargetCls:b.bodyTargetCls,stripCls:b._stripCls,dock:b.dock})},setDock:function(m){var n=this,l=n.items,q=n.ownerCt,o,j,p;l=l&&l.items;if(l){for(j=0,p=l.length;j<p;j++){o=l[j];if(o.isTab){o.setTabPosition(m)}}}if(n.rendered){n.resetItemMargins();if(q&&q.isHeader){q.resetItemMargins()}n.needsScroll=true}n.callParent([m])},updateTabRotation:function(l){var m=this,j=m.items,h,n,o;j=j&&j.items;if(j){for(h=0,n=j.length;h<n;h++){o=j[h];if(o.isTab){o.setRotation(l)}}}if(m.rendered){m.resetItemMargins();m.needsScroll=true;m.updateLayout()}},onRender:function(){var b=this;b.callParent();if(Ext.isIE8&&b.vertical){b.el.on({mousemove:b.onMouseMove,scope:b})}},afterLayout:function(){this.adjustTabPositions();this.callParent(arguments)},onAdded:function(d,g,e){if(d.isHeader){this.addCls(d.baseCls+"-"+d.ui+"-tab-bar")}this.callParent([d,g,e])},onRemove:function(d){var c=this;if(d===c.previousTab){c.previousTab=null}c.callParent(arguments)},onRemoved:function(c){var d=this.ownerCt;if(d.isHeader){this.removeCls(d.baseCls+"-"+d.ui+"-tab-bar")}this.callParent([c])},afterComponentLayout:function(j){var h=this,e=h.needsScroll,g=h.layout.overflowHandler;h.callParent(arguments);if(g&&e&&h.tooNarrow&&g.scrollToItem){g.scrollToItem(h.activeTab)}delete h.needsScroll},onMouseMove:function(j){var l=this,e=l._overTab,h,m;if(j.getTarget("."+Ext.baseCSSPrefix+"box-scroller")){return}h=l.getTabInfoFromPoint(j.getXY());m=h.tab;if(m!==e){if(e&&e.rendered){e.onMouseLeave(j);l._overTab=null}if(m){m.onMouseEnter(j);l._overTab=m;if(!m.disabled){l.el.setStyle("cursor","pointer")}}else{l.el.setStyle("cursor","default")}}},onMouseLeave:function(c){var d=this._overTab;if(d&&d.rendered){d.onMouseLeave(c)}},getTabInfoFromPoint:function(X){var M=this,F=M.items.items,Y=F.length,Q=M.layout.innerCt,H=Q.getXY(),I=new Ext.util.Point(X[0],X[1]),G=0,D,ab,ac,O,P,V,W,Z,K,T,U,R,S,J,L,N,aa;for(;G<Y;G++){aa=F[G];D=aa.lastBox;if(!D||!aa.isTab){continue}T=H[0]+D.x;U=H[1]-Q.dom.scrollTop+D.y;R=D.width;S=D.height;ab=new Ext.util.Region(U,T+R,U+S,T);if(ab.contains(I)){ac=aa.closeEl;if(ac){if(M._isTabReversed===undefined){M._isTabReversed=L=(aa.btnWrap.dom.currentStyle.filter.indexOf("rotation=2")!==-1)}N=L?this._reverseDockNames[M.dock]:M.dock;Z=ac.getWidth();K=ac.getHeight();P=M.getCloseXY(ac,T,U,R,S,Z,K,N);V=P[0];W=P[1];J=new Ext.util.Region(W,V+Z,W+K,V);O=J.contains(I)}break}}return{tab:aa,close:O}},getCloseXY:function(x,p,r,u,o,q,w,s){var v=x.getXY(),y,z;if(s==="right"){y=p+u-((v[1]-r)+w);z=r+(v[0]-p)}else{y=p+(v[1]-r);z=r+p+o-v[0]-q}return[y,z]},closeTab:function(m){var l=this,g=m.card,j=l.tabPanel,h;if(g&&g.fireEvent("beforeclose",g)===false){return false}h=l.findNextActivatable(m);Ext.suspendLayouts();if(j&&g){delete m.ownerCt;g.fireEvent("close",g);j.remove(g);if(!j.getComponent(g)){m.fireClose();l.remove(m)}else{m.ownerCt=l;Ext.resumeLayouts(true);return false}}if(h){if(j){j.setActiveTab(h.card)}else{l.setActiveTab(h)}h.focus()}Ext.resumeLayouts(true)},findNextActivatable:function(d){var c=this;if(d.active&&c.items.getCount()>1){return(c.previousTab&&c.previousTab!==d&&!c.previousTab.disabled)?c.previousTab:(d.next("tab[disabled=false]")||d.prev("tab[disabled=false]"))}},setActiveTab:function(d,e){var g=this;if(!d.disabled&&d!==g.activeTab){if(g.activeTab){if(g.activeTab.isDestroyed){g.previousTab=null}else{g.previousTab=g.activeTab;g.activeTab.deactivate();g.deactivateFocusable(g.activeTab)}}d.activate();g.activateFocusable(d);g.activeTab=d;g.needsScroll=true;if(!e){g.fireEvent("change",g,d,d.card);g.updateLayout()}}},privates:{adjustTabPositions:function(){var o=this,m=o.items.items,r=m.length,p,l,q,s,n;if(!Ext.isIE8){n=o._getTabAdjustProp();while(r--){p=m[r];q=p.el;l=p.lastBox;s=p.isTab?p.getActualRotation():0;if(s===1&&p.isVisible()){q.setStyle(n,(l.x+l.width)+"px")}else{if(s===2&&p.isVisible()){q.setStyle(n,(l.x-l.height)+"px")}}}}},applyTargetCls:function(b){this.bodyTargetCls=b},_getTabAdjustProp:function(){return"left"},getTargetEl:function(){return this.body||this.frameBody||this.el},onClick:function(p,q){var r=this,n=r.tabPanel,o,s,e,m;if(p.getTarget("."+Ext.baseCSSPrefix+"box-scroller")){return}if(Ext.isIE8&&r.vertical){m=r.getTabInfoFromPoint(p.getXY());s=m.tab;e=m.close}else{o=p.getTarget("."+Ext.tab.Tab.prototype.baseCls);s=o&&Ext.getCmp(o.id);e=s&&s.closeEl&&(q===s.closeEl.dom)}if(e){p.preventDefault()}if(s&&s.isDisabled&&!s.isDisabled()){s.beforeClick(e);if(s.closable&&e){s.onCloseClick()}else{r.doActivateTab(s)}}},doActivateTab:function(d){var c=this.tabPanel;if(c){if(!d.disabled){c.setActiveTab(d.card)}}else{this.setActiveTab(d)}},onFocusableContainerFocus:function(j){var e=this,g=e.mixins.focusablecontainer,h;h=g.onFocusableContainerFocus.call(e,j);if(h&&h.isTab){e.doActivateTab(h)}},onFocusableContainerFocusEnter:function(j){var e=this,g=e.mixins.focusablecontainer,h;h=g.onFocusableContainerFocusEnter.call(e,j);if(h&&h.isTab){e.doActivateTab(h)}},focusChild:function(j,g){var m=this,h=m.mixins.focusablecontainer,l;l=h.focusChild.call(m,j,g);if(m.activateOnFocus&&l&&l.isTab){m.doActivateTab(l)}}}});Ext.define("Ext.tab.Panel",{extend:Ext.panel.Panel,alias:"widget.tabpanel",alternateClassName:["Ext.TabPanel"],config:{tabBar:undefined,tabPosition:"top",tabRotation:"default",tabStretchMax:true},removePanelHeader:true,plain:false,itemCls:Ext.baseCSSPrefix+"tabpanel-child",minTabWidth:undefined,maxTabWidth:undefined,deferredRender:true,_defaultTabRotation:{top:0,right:1,bottom:0,left:2},initComponent:function(){var o=this,v=o.activeTab!==null?(o.activeTab||0):null,m=o.getTabPosition(),p=o.getTabRotation(),n=o.dockedItems,q=o.header,u=o.tabBarHeaderPosition,s=o.getTabBar(),r;o.layout=new Ext.layout.container.Card(Ext.apply({owner:o,deferredRender:o.deferredRender,itemCls:o.itemCls,activeItem:v},o.layout));if(u!=null){q=o.header=Ext.apply({},q);r=q.items=(q.items?q.items.slice():[]);q.itemPosition=u;r.push(s);q.hasTabBar=true}else{n=[].concat(o.dockedItems||[]);n.push(s);o.dockedItems=n}o.callParent(arguments);v=o.activeTab=o.getComponent(v);if(v){s.setActiveTab(v.tab,true)}},onRender:function(){var d=this.items.items,e=d.length,g;this.callParent(arguments);for(g=0;g<e;++g){d[g].getBind()}},setActiveTab:function(e){var g=this,d;if(!Ext.isObject(e)||e.isComponent){e=g.getComponent(e)}d=g.getActiveTab();if(e){Ext.suspendLayouts();if(!e.isComponent){e=g.add(e)}if(d===e||g.fireEvent("beforetabchange",g,e,d)===false){Ext.resumeLayouts();return d}g.activeTab=e;g.layout.setActiveItem(e);e=g.activeTab=g.layout.getActiveItem();if(e&&e!==d){g.tabBar.setActiveTab(e.tab);Ext.resumeLayouts(true);if(d!==e){g.fireEvent("tabchange",g,e,d)}}else{Ext.resumeLayouts(true)}return e}return d},setActiveItem:function(b){return this.setActiveTab(b)},getActiveTab:function(){var c=this,d=c.getComponent(c.activeTab);if(d&&c.items.indexOf(d)!==-1){c.activeTab=d}else{c.activeTab=null}return c.activeTab},applyTabBar:function(e){var g=this,d=(g.tabBarHeaderPosition!=null)?g.getHeaderPosition():g.getTabPosition();return new Ext.tab.Bar(Ext.apply({ui:g.ui,dock:d,tabRotation:g.getTabRotation(),vertical:(d=="left"||d=="right"),plain:g.plain,tabStretchMax:g.getTabStretchMax(),tabPanel:g},e))},updateHeaderPosition:function(g,d){var e=this.getTabBar();if(e&&(this.tabBarHeaderPosition!=null)){e.setDock(g)}this.callParent([g,d])},updateTabPosition:function(c){var d=this.getTabBar();if(d&&(this.tabBarHeaderPosition==null)){d.setDock(c)}},updateTabRotation:function(c){var d=this.getTabBar();if(d){d.setTabRotation(c)}},onAdd:function(l,n){var m=this,o=Ext.apply({},l.tabConfig),h=m.getTabBar(),j={xtype:"tab",title:l.title,icon:l.icon,iconCls:l.iconCls,glyph:l.glyph,ui:h.ui,card:l,disabled:l.disabled,closable:l.closable,hidden:l.hidden&&!l.hiddenByLayout,tooltip:l.tooltip,tabBar:h,tabPosition:h.dock,rotation:h.getTabRotation()};if(l.closeText!==undefined){j.closeText=l.closeText}o=Ext.applyIf(o,j);l.tab=m.tabBar.insert(n,o);l.on({scope:m,enable:m.onItemEnable,disable:m.onItemDisable,beforeshow:m.onItemBeforeShow,iconchange:m.onItemIconChange,iconclschange:m.onItemIconClsChange,glyphchange:m.onItemGlyphChange,titlechange:m.onItemTitleChange});if(l.isPanel){if(m.removePanelHeader){if(l.rendered){if(l.header){l.header.hide()}}else{l.header=false}}if(l.isPanel&&m.border){l.setBorder(false)}}if(m.rendered){l.getBind()}if(m.rendered&&m.loader&&m.activeTab===undefined&&m.layout.activeItem!==null){m.setActiveTab(0)}},onItemEnable:function(b){b.tab.enable()},onItemDisable:function(b){b.tab.disable()},onItemBeforeShow:function(b){if(b!==this.activeTab){this.setActiveTab(b);return false}},onItemGlyphChange:function(d,c){d.tab.setGlyph(c)},onItemIconChange:function(c,d){c.tab.setIcon(d)},onItemIconClsChange:function(c,d){c.tab.setIconCls(d)},onItemTitleChange:function(d,c){d.tab.setText(c)},onRemove:function(d,g){var e=this;d.un({scope:e,enable:e.onItemEnable,disable:e.onItemDisable,beforeshow:e.onItemBeforeShow,iconchange:e.onItemIconChange,iconclschange:e.onItemIconClsChange,glyphchange:e.onItemGlyphChange,titlechange:e.onItemTitleChange});if(d.tab&&!e.destroying&&d.tab.ownerCt===e.tabBar){e.tabBar.remove(d.tab)}},privates:{doRemove:function(h,e){var j=this,g;if(j.removingAll||j.destroying||j.items.getCount()===1){j.activeTab=null}else{if(h.tab&&(g=j.tabBar.items.indexOf(j.tabBar.findNextActivatable(h.tab)))!==-1){j.setActiveTab(g)}}this.callParent(arguments);if(h.tab){delete h.tab.card;delete h.tab}}}});Ext.define("Ext.util.ComponentDragger",{extend:Ext.dd.DragTracker,autoStart:500,constructor:function(d,c){this.comp=d;this.initialConstrainTo=c.constrainTo;this.callParent([c])},onStart:function(g){var d=this,e=d.comp;d.startPosition=e.getXY();if(e.ghost&&!e.liveDrag){d.proxy=e.ghost();d.dragTarget=d.proxy.header.el}if(d.constrain||d.constrainDelegate){d.constrainTo=d.calculateConstrainRegion()}if(e.beginDrag){e.beginDrag()}},calculateConstrainRegion:function(){var p=this,r=p.comp,q=p.initialConstrainTo,s=r.constraintInsets,n,w,u,v=p.proxy?p.proxy.el:r.el,o=v.shadow,x=(o&&!p.constrainDelegate&&r.constrainShadow&&!o.disabled)?o.getShadowSize():0;if(!(q instanceof Ext.util.Region)){n=Ext.fly(q);q=n.getViewRegion();q.right=q.left+n.dom.clientWidth}else{q=q.copy()}if(s){s=Ext.isObject(s)?s:Ext.Element.parseBox(s);q.adjust(s.top,s.right,s.bottom,s.length)}if(x){q.adjust(x[0],-x[1],-x[2],x[3])}if(!p.constrainDelegate){w=Ext.fly(p.dragTarget).getRegion();u=v.getRegion();q.adjust(w.top-u.top,w.right-u.right,w.bottom-u.bottom,w.left-u.left)}return q},onDrag:function(j){var e=this,g=(e.proxy&&!e.comp.liveDrag)?e.proxy:e.comp,h=e.getOffset(e.constrain||e.constrainDelegate?"dragTarget":null);g.setPagePosition(e.startPosition[0]+h[0],e.startPosition[1]+h[1])},onEnd:function(c){var d=this.comp;if(d.isDestroyed||d.destroying){return}if(this.proxy&&!d.liveDrag){d.unghost()}if(d.endDrag){d.endDrag()}}});Ext.define("Ext.window.Window",{extend:Ext.panel.Panel,alternateClassName:"Ext.Window",alias:"widget.window",baseCls:Ext.baseCSSPrefix+"window",resizable:true,draggable:true,constrain:false,constrainHeader:false,plain:false,minimizable:false,maximizable:false,minHeight:50,minWidth:50,expandOnShow:true,collapsible:false,closable:true,hidden:true,autoRender:true,hideMode:"offsets",floating:true,itemCls:Ext.baseCSSPrefix+"window-item",overlapHeader:true,ignoreHeaderBorderManagement:true,alwaysFramed:true,isRootCfg:{isRoot:true},isWindow:true,ariaRole:"dialog",initComponent:function(){var b=this;b.frame=false;b.callParent();if(b.plain){b.addClsWithUI("plain")}b.addStateEvents(["maximize","restore","resize","dragend"])},getElConfig:function(){var c=this,d;d=c.callParent();d.tabIndex=-1;return d},getState:function(){var g=this,l=g.callParent()||{},h=!!g.maximized,m=g.ghostBox,j;l.maximized=h;if(h){j=g.restorePos}else{if(m){j=[m.x,m.y]}else{j=g.getPosition()}}Ext.apply(l,{size:h?g.restoreSize:g.getSize(),pos:j});return l},applyState:function(c){var d=this;if(c){d.maximized=c.maximized;if(d.maximized){d.hasSavedRestore=true;d.restoreSize=c.size;d.restorePos=c.pos}else{Ext.apply(d,{width:c.size.width,height:c.size.height,x:c.pos[0],y:c.pos[1]})}}},onRender:function(d,e){var g=this;g.callParent(arguments);if(g.header){g.header.on({scope:g,click:g.onHeaderClick})}if(g.maximizable){g.header.on({scope:g,dblclick:g.toggleMaximize})}},afterRender:function(){var e=this,g=e.header,d;if(e.maximized){e.maximized=false;e.maximize();if(g){g.removeCls(g.indicateDragCls)}}e.callParent();if(e.closable){d=e.getKeyMap();d.on(27,e.onEsc,e)}else{d=e.keyMap}if(d&&e.hidden){d.disable()}},onEsc:function(e,g){var d=Ext.FocusManager;if(!Ext.enableFocusManager||d.focusedCmp===this){g.stopEvent();this.close()}},beforeDestroy:function(){var b=this;if(b.rendered){Ext.un("resize",b.onWindowResize,b);delete b.animateTarget;b.hide();Ext.destroy(b.keyMap)}b.callParent()},addTools:function(){var e=this,g=[],d=[];e.callParent();if(e.minimizable){g.push({type:"minimize",handler:"minimize",scope:e})}if(e.maximizable){g.push({type:e.maximized?"restore":"maximize",handler:"toggleMaximize",scope:e})}if(g.length){e.addTool(g)}},onShow:function(){var b=this;b.callParent(arguments);if(b.expandOnShow){b.expand(false)}b.syncMonitorWindowResize();if(b.keyMap){b.keyMap.enable()}},doClose:function(){var b=this;if(b.hidden){b.fireEvent("close",b);if(b.closeAction=="destroy"){b.destroy()}}else{b.hide(b.animateTarget,b.doClose,b)}},afterHide:function(){var b=this;b.syncMonitorWindowResize();if(b.keyMap){b.keyMap.disable()}b.callParent(arguments)},onWindowResize:function(){var c=this,d;if(!c.isDestroyed){if(c.maximized){c.fitContainer()}else{d=c.getSizeModel();if(d.width.natural||d.height.natural){c.updateLayout()}c.doConstrain()}}},minimize:function(){this.fireEvent("minimize",this);return this},resumeHeaderLayout:function(b){this.header.resumeLayouts(b?this.isRootCfg:null)},afterCollapse:function(){var e=this,g=e.header,d=e.tools;if(g&&e.maximizable){g.suspendLayouts();d.maximize.hide();this.resumeHeaderLayout(true)}if(e.resizer){e.resizer.disable()}e.callParent(arguments)},afterExpand:function(){var g=this,h=g.header,e=g.tools,j;if(h){h.suspendLayouts();if(g.maximizable){e.maximize.show();j=true}this.resumeHeaderLayout(j)}if(g.resizer){g.resizer.enable()}g.callParent(arguments)},maximize:function(l){var q=this,n=q.header,p=q.tools,r=q.width,m=q.height,s,o;if(!q.maximized){q.expand(false);if(!q.hasSavedRestore){s=q.restoreSize={width:Ext.isNumber(r)?r:null,height:Ext.isNumber(m)?m:null};q.restorePos=q.getPosition(true)}if(n){n.suspendLayouts();if(p.maximize){p.maximize.setType("restore")}if(q.collapseTool){q.collapseTool.hide();o=true}q.resumeHeaderLayout(o)}q.el.disableShadow();if(q.dd){q.dd.disable();if(n){n.removeCls(n.indicateDragCls)}}if(q.resizer){q.resizer.disable()}q.el.addCls(Ext.baseCSSPrefix+"window-maximized");q.container.addCls(Ext.baseCSSPrefix+"window-maximized-ct");q.syncMonitorWindowResize();q.fitContainer(l=(l||!!q.animateTarget)?{callback:function(){q.maximized=true;q.fireEvent("maximize",q)}}:null);if(!l){q.maximized=true;q.fireEvent("maximize",q)}}return q},restore:function(h){var o=this,n=o.tools,l=o.header,j=o.restoreSize,m;if(o.maximized){o.hasSavedRestore=null;o.removeCls(Ext.baseCSSPrefix+"window-maximized");if(l){l.suspendLayouts();if(n.maximize){n.maximize.setType("maximize")}if(o.collapseTool){o.collapseTool.show();m=true}o.resumeHeaderLayout(m)}j.x=o.restorePos[0];j.y=o.restorePos[1];o.setBox(j,h=(h||!!o.animateTarget)?{callback:function(){o.el.enableShadow(null,true);o.maximized=false;o.fireEvent("restore",o)}}:null);o.restorePos=o.restoreSize=null;if(o.dd){o.dd.enable();if(l){l.addCls(l.indicateDragCls)}}if(o.resizer){o.resizer.enable()}o.container.removeCls(Ext.baseCSSPrefix+"window-maximized-ct");o.syncMonitorWindowResize();if(!h){o.el.enableShadow(null,true);o.maximized=false;o.fireEvent("restore",o)}}return o},syncMonitorWindowResize:function(){var e=this,j=e._monitoringResize,h=e.monitorResize||e.constrain||e.constrainHeader||e.maximized,g=e.hidden||e.destroying||e.isDestroyed;if(h&&!g){if(!j){Ext.on("resize",e.onWindowResize,e,{buffer:1});e._monitoringResize=true}}else{if(j){Ext.un("resize",e.onWindowResize,e);e._monitoringResize=false}}},toggleMaximize:function(){return this[this.maximized?"restore":"maximize"]()},createGhost:function(){var b=this.callParent(arguments);b.xtype="window";return b},getDefaultFocus:function(){var j=this,e,h=j.defaultButton||j.defaultFocus,g;if(h!==undefined){if(Ext.isNumber(h)){e=j.query("button")[h]}else{if(Ext.isString(h)){g=h;if(Ext.validIdRe.test(g)){e=j.down(Ext.makeIdSelector(g))}if(!e){e=j.down(g)}}else{if(h.focus){e=h}}}}return e},privates:{getFocusEl:function(){var b=this;return Ext.enableFocusManager?b.el:(b.getDefaultFocus()||b.el)},initDraggable:function(){this.initSimpleDraggable()},onHeaderClick:function(g,d){var e;if(g.el.contains(d.getTarget())){e=this.getDefaultFocus();if(e){e.focus()}}},initResizable:function(){this.callParent(arguments);if(this.maximized){this.resizer.disable()}}}});Ext.define("Ext.button.Split",{alias:"widget.splitbutton",extend:Ext.button.Button,alternateClassName:"Ext.SplitButton",isSplitButton:true,arrowCls:"split",split:true,setArrowHandler:function(c,d){this.arrowHandler=c;this.scope=d},onClick:function(c){var d=this;d.doPreventDefault(c);if(!d.disabled){if(d.isWithinTrigger(c)){c.preventDefault();d.maybeShowMenu(c);d.fireEvent("arrowclick",d,c);if(d.arrowHandler){d.arrowHandler.call(d.scope||d,d,c)}}else{d.doToggle();d.fireHandler(c)}}}});Ext.define("Ext.container.Monitor",{target:null,selector:"",scope:null,addHandler:null,removeHandler:null,invalidateHandler:null,disabled:0,constructor:function(b){Ext.apply(this,b)},bind:function(c){var d=this;d.target=c;c.on("beforedestroy",d.disable,d);d.onContainerAdd(c)},unbind:function(){var d=this,c=d.target;if(c){c.un("beforedestroy",d.disable,d)}d.items=null},disable:function(){++this.disabled},enable:function(){if(this.disabled>0){--this.disabled}},handleAdd:function(c,d){if(!this.disabled){if(d.is(this.selector)){this.onItemAdd(d.ownerCt,d)}if(d.isQueryable){this.onContainerAdd(d)}}},onItemAdd:function(m,g){var j=this,h=j.items,l=j.addHandler;if(!j.disabled){if(l){l.call(j.scope||g,g)}if(h){h.add(g)}}},onItemRemove:function(m,g){var j=this,h=j.items,l=j.removeHandler;if(!j.disabled){if(l){l.call(j.scope||g,g)}if(h){h.remove(g)}}},onContainerAdd:function(p,u){var m=this,n,o,s=m.handleAdd,v=m.handleRemove,r,q;if(p.isContainer){p.on("add",s,m);p.on("dockedadd",s,m);p.on("remove",v,m);p.on("dockedremove",v,m)}if(u!==true){n=p.query(m.selector);for(r=0,o=n.length;r<o;++r){q=n[r];m.onItemAdd(q.ownerCt,q)}}n=p.query(">container");for(r=0,o=n.length;r<o;++r){m.onContainerAdd(n[r],true)}},handleRemove:function(d,e){var g=this;if(!g.disabled){if(e.is(g.selector)){g.onItemRemove(d,e)}if(e.isQueryable){g.onContainerRemove(d,e)}}},onContainerRemove:function(o,q){var m=this,j,p,l,n;if(!q.isDestroyed&&!q.destroying&&q.isContainer){m.removeCtListeners(q);j=q.query(m.selector);for(p=0,l=j.length;p<l;++p){n=j[p];m.onItemRemove(n.ownerCt,n)}j=q.query("container");for(p=0,l=j.length;p<l;++p){m.removeCtListeners(j[p])}}else{m.invalidateItems(true)}},removeCtListeners:function(d){var c=this;d.un("add",c.handleAdd,c);d.un("dockedadd",c.handleAdd,c);d.un("remove",c.handleRemove,c);d.un("dockedremove",c.handleRemove,c)},getItems:function(){var c=this,d=c.items;if(!d){d=c.items=new Ext.util.MixedCollection();d.addAll(c.target.query(c.selector))}return d},invalidateItems:function(g){var d=this,e=d.invalidateHandler;if(g&&e){e.call(d.scope||d,d)}d.items=null}});Ext.define("Ext.plugin.Responsive",{extend:Ext.mixin.Responsive,alias:"plugin.responsive",pluginId:"responsive",isPlugin:true,constructor:function(g){var j=this,c=g.cmp,h=Ext.apply({responsiveConfig:c.responsiveConfig,responsiveFormulas:c.responsiveFormulas},g);delete h.cmp;j.cmp=c;j.initConfig(h);if(j.transformed){c.setConfig(j.transformed);j.transformed=null}},init:Ext.emptyFn,privates:{transformInstanceConfig:function(g){var d=this.callParent([g]);if(d.ptype){d=Ext.apply({},d);delete d.ptype}this.transformed=d;var e=Ext.apply({},g);delete e.ptype;delete e.responsiveConfig;delete e.responsiveFormulas;return e},updateResponsiveState:function(){var b=this.getResponsiveState();this.cmp.setConfig(b)}}});Ext.define("Ext.plugin.Viewport",{extend:Ext.plugin.Responsive,alias:"plugin.viewport",setCmp:function(b){this.cmp=b;if(b&&!b.isViewport){this.decorate(b);if(b.renderConfigs){b.flushRenderConfigs()}b.setupViewport()}},statics:{decorate:function(b){Ext.applyIf(b.prototype||b,{ariaRole:"application",viewportCls:Ext.baseCSSPrefix+"viewport"});Ext.override(b,{isViewport:true,preserveElOnDestroy:true,initComponent:function(){this.callParent();this.setupViewport()},handleViewportResize:function(){var g=this,j=Ext.dom.Element,h=j.getViewportWidth(),a=j.getViewportHeight();if(h!=g.width||a!=g.height){g.setSize(h,a)}},setupViewport:function(){var d=this,a=d.el=Ext.getBody();Ext.getScrollbarSize();d.width=d.height=undefined;Ext.fly(document.documentElement).addCls(d.viewportCls);a.setHeight=a.setWidth=Ext.emptyFn;a.dom.scroll="no";d.allowDomMove=false;d.renderTo=d.el;if(Ext.supports.Touch){d.initMeta()}},afterLayout:function(a){if(Ext.supports.Touch){document.body.scrollTop=0}this.callParent([a])},onRender:function(){var a=this;a.callParent(arguments);a.width=Ext.Element.getViewportWidth();a.height=Ext.Element.getViewportHeight();if(Ext.supports.TouchEvents){a.mon(Ext.getDoc(),{touchmove:function(d){d.preventDefault()},translate:false,delegated:false})}},initInheritedState:function(h,j){var g=this,a=Ext.rootInheritedState;if(h!==a){g.initInheritedState(g.inheritedState=a,g.inheritedStateInner=Ext.Object.chain(a))}else{g.callParent([h,j])}},beforeDestroy:function(){var e=this,a=Ext.rootInheritedState,g;for(g in a){if(g!=="rtl"){delete a[g]}}e.removeUIFromElement();e.el.removeCls(e.baseCls);Ext.fly(document.body.parentNode).removeCls(e.viewportCls);e.callParent()},addMeta:function(a,g){var e=document.createElement("meta");e.setAttribute("name",a);e.setAttribute("content",g);Ext.getHead().appendChild(e)},initMeta:function(){var a=this,d=a.maxUserScale||1;a.addMeta("viewport","width=device-width, initial-scale=1, maximum-scale="+d+", user-scalable="+(d!==1?"yes":"no"));a.addMeta("apple-mobile-web-app-capable","yes")},privates:{applyTargetCls:function(a){this.el.addCls(a)},disableTabbing:function(){var a=this.el;if(a){a.saveChildrenTabbableState()}},enableTabbing:function(){var a=this.el;if(a){a.restoreChildrenTabbableState()}},getOverflowEl:function(){return Ext.get(document.documentElement)}}})}},privates:{updateResponsiveState:function(){this.cmp.handleViewportResize();this.callParent()}}},function(b){b.prototype.decorate=b.decorate});Ext.define("Ext.container.Viewport",{extend:Ext.container.Container,mixins:[Ext.mixin.Responsive],alias:"widget.viewport",alternateClassName:"Ext.Viewport",privates:{updateResponsiveState:function(){this.handleViewportResize();this.mixins.responsive.updateResponsiveState.call(this)}}},function(){Ext.plugin.Viewport.decorate(this)});Ext.define("Ext.layout.container.Anchor",{alias:"layout.anchor",extend:Ext.layout.container.Auto,alternateClassName:"Ext.layout.AnchorLayout",type:"anchor",defaultAnchor:"100%",parseAnchorRE:/^(r|right|b|bottom)$/i,manageOverflow:true,setsItemSize:true,beginLayoutCycle:function(s){var n=this,v=0,p,m,q,r,u,o;n.callParent(arguments);q=s.childItems;u=q.length;for(r=0;r<u;++r){m=q[r];p=m.target.anchorSpec;if(p){if(m.widthModel.calculated&&p.right){v|=1}if(m.heightModel.calculated&&p.bottom){v|=2}if(v==3){break}}}s.anchorDimensions=v},calculateItems:function(D,K){var v=this,A=D.childItems,F=A.length,x=K.gotHeight,C=K.gotWidth,G=K.height,I=K.width,J=(C?1:0)|(x?2:0),w=D.anchorDimensions,z,L,y,M,B,H;if(!w){return true}for(B=0;B<F;B++){L=A[B];y=L.getMarginInfo();z=L.target.anchorSpec;if(C&&L.widthModel.calculated){H=z.right(I)-y.width;H=v.adjustWidthAnchor(H,L);L.setWidth(H)}if(x&&L.heightModel.calculated){M=z.bottom(G)-y.height;M=v.adjustHeightAnchor(M,L);L.setHeight(M)}}return(J&w)===w},anchorFactory:{offset:function(b){return function(a){return a+b}},ratio:function(b){return function(a){return Math.floor(a*b)}},standard:function(b){return function(a){return a-b}}},parseAnchor:function(m,h,a){if(m&&m!="none"){var l=this.anchorFactory,j;if(this.parseAnchorRE.test(m)){return l.standard(a-h)}if(m.indexOf("%")!=-1){return l.ratio(parseFloat(m.replace("%",""))*0.01)}j=parseInt(m,10);if(!isNaN(j)){return l.offset(j)}}return null},adjustWidthAnchor:function(c,d){return c},adjustHeightAnchor:function(c,d){return c},configureItem:function(n){var o=this,l=o.owner,p=n.anchor,j,q,m;o.callParent(arguments);if(!n.anchor&&n.items&&!Ext.isNumber(n.width)){n.anchor=p=o.defaultAnchor}if(l.anchorSize){if(typeof l.anchorSize=="number"){q=l.anchorSize}else{q=l.anchorSize.width;m=l.anchorSize.height}}else{q=l.initialConfig.width;m=l.initialConfig.height}if(p){j=p.split(" ");n.anchorSpec={right:o.parseAnchor(j[0],n.initialConfig.width,q),bottom:o.parseAnchor(j[1],n.initialConfig.height,m)}}},sizePolicy:{$:{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},b:{readsWidth:1,readsHeight:0,setsWidth:0,setsHeight:1},r:{$:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},b:{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:1}}},getItemSizePolicy:function(m){var j=m.anchorSpec,h="$",l=this.sizePolicy,g;if(j){g=this.owner.getSizeModel();if(j.right&&!g.width.shrinkWrap){l=l.r}if(j.bottom&&!g.height.shrinkWrap){h="b"}}return l[h]}});Ext.define("Ext.resizer.SplitterTracker",{extend:Ext.dd.DragTracker,enabled:true,overlayCls:Ext.baseCSSPrefix+"resizable-overlay",createDragOverlay:function(){var d,c=Ext.dom.Element;d=this.overlay=Ext.getBody().createChild({role:"presentation",cls:this.overlayCls,html:"&#160;"});d.unselectable();d.setSize(c.getDocumentWidth(),c.getDocumentHeight());d.show()},getPrevCmp:function(){var b=this.getSplitter();return b.previousSibling(":not([hidden])")},getNextCmp:function(){var b=this.getSplitter();return b.nextSibling(":not([hidden])")},onBeforeStart:function(m){var p=this,o=p.getPrevCmp(),l=p.getNextCmp(),q=p.getSplitter().collapseEl,n=m.getTarget(),e;if(!o||!l){return false}if(q&&n===q.dom){return false}if(l.collapsed||o.collapsed){return false}p.prevBox=o.getEl().getBox();p.nextBox=l.getEl().getBox();p.constrainTo=e=p.calculateConstrainRegion();if(!e){return false}return e},onStart:function(c){var d=this.getSplitter();this.createDragOverlay();d.addCls(d.baseCls+"-active")},calculateConstrainRegion:function(){var v=this,B=v.getSplitter(),u=B.getWidth(),s=B.defaultSplitMin,A=B.orientation,x=v.prevBox,r=v.getPrevCmp(),z=v.nextBox,w=v.getNextCmp(),p,q,y;if(A==="vertical"){y={prevCmp:r,nextCmp:w,prevBox:x,nextBox:z,defaultMin:s,splitWidth:u};p=new Ext.util.Region(x.y,v.getVertPrevConstrainRight(y),x.bottom,v.getVertPrevConstrainLeft(y));q=new Ext.util.Region(z.y,v.getVertNextConstrainRight(y),z.bottom,v.getVertNextConstrainLeft(y))}else{p=new Ext.util.Region(x.y+(r.minHeight||s),x.right,(r.maxHeight?x.y+r.maxHeight:z.bottom-(w.minHeight||s))+u,x.x);q=new Ext.util.Region((w.maxHeight?z.bottom-w.maxHeight:x.y+(r.minHeight||s))-u,z.right,z.bottom-(w.minHeight||s),z.x)}return p.intersect(q)},performResize:function(x,C){var v=this,I=v.getSplitter(),B=I.orientation,e=v.getPrevCmp(),w=v.getNextCmp(),H=I.ownerCt,z=H.query(">[flex]"),y=z.length,G=B==="vertical",A=0,D=G?"width":"height",F=0,K,J;for(;A<y;A++){K=z[A];J=G?K.getWidth():K.getHeight();F+=J;K.flex=J}C=G?C[0]:C[1];if(e){J=v.prevBox[D]+C;if(e.flex){e.flex=J}else{e[D]=J}}if(w){J=v.nextBox[D]-C;if(w.flex){w.flex=J}else{w[D]=J}}H.updateLayout()},endDrag:function(){var b=this;if(b.overlay){b.overlay.destroy();delete b.overlay}b.callParent(arguments)},onEnd:function(g){var e=this,d=e.getSplitter();d.removeCls(d.baseCls+"-active");e.performResize(g,e.getResizeOffset())},onDrag:function(m){var o=this,l=o.getOffset("dragTarget"),n=o.getSplitter(),e=n.getEl(),j=n.orientation;if(j==="vertical"){e.setX(o.startRegion.left+l[0])}else{e.setY(o.startRegion.top+l[1])}},getSplitter:function(){return this.splitter},getVertPrevConstrainRight:function(b){return(b.prevCmp.maxWidth?b.prevBox.x+b.prevCmp.maxWidth:b.nextBox.right-(b.nextCmp.minWidth||b.defaultMin))+b.splitWidth},getVertPrevConstrainLeft:function(b){return b.prevBox.x+(b.prevCmp.minWidth||b.defaultMin)},getVertNextConstrainRight:function(b){return b.nextBox.right-(b.nextCmp.minWidth||b.defaultMin)},getVertNextConstrainLeft:function(b){return(b.nextCmp.maxWidth?b.nextBox.right-b.nextCmp.maxWidth:b.prevBox.x+(b.prevBox.minWidth||b.defaultMin))-b.splitWidth},getResizeOffset:function(){return this.getOffset("dragTarget")}});Ext.define("Ext.event.publisher.MouseEnterLeave",{extend:Ext.event.publisher.Dom,type:"mouseEnterLeave"},function(d){var c={mouseover:"mouseenter",mouseout:"mouseleave"};if(!Ext.supports.MouseEnterLeave){d.override({handledDomEvents:["mouseover","mouseout"],handledEvents:["mouseenter","mouseleave"],doDelegatedEvent:function(b){var e,q,a,o,p,n;b=this.callParent([b]);e=b.getTarget();q=b.getRelatedTarget();if(q&&Ext.fly(e).contains(q)){return}a=e.id;if(a){o=Ext.cache[a];if(o){p=c[b.type];b=b.chain({type:p});if(o.hasListeners[p]){n=o.events[p];if(n){n=n.directs;if(n){b.setCurrentTarget(o.dom);n.fire(b,b.target)}}}}}}})}d.instance=new d()});Ext.define("Ext.form.action.Action",{alternateClassName:"Ext.form.Action",submitEmptyText:true,constructor:function(d){if(d){Ext.apply(this,d)}var c=d.params;if(Ext.isString(c)){this.params=Ext.Object.fromQueryString(c)}},run:Ext.emptyFn,onFailure:function(e){var g=this.form,d=g&&!g.destroying&&!g.isDestroyed;this.response=e;this.failureType=Ext.form.action.Action.CONNECT_FAILURE;if(d){g.afterAction(this,false)}},processResponse:function(b){this.response=b;if(!b.responseText&&!b.responseXML){return true}return(this.result=this.handleResponse(b))},getUrl:function(){return this.url||this.form.url},getMethod:function(){return(this.method||this.form.method||"POST").toUpperCase()},getParams:function(){return Ext.apply({},this.params,this.form.baseParams)},createCallback:function(){var g=this,e,d=g.form;return{success:g.onSuccess,failure:g.onFailure,scope:g,timeout:(this.timeout*1000)||(d.timeout*1000),upload:d.fileUpload?g.onSuccess:e}},statics:{CLIENT_INVALID:"client",SERVER_INVALID:"server",CONNECT_FAILURE:"connect",LOAD_FAILURE:"load"}});Ext.define("Ext.form.action.Load",{extend:Ext.form.action.Action,alternateClassName:"Ext.form.Action.Load",alias:"formaction.load",type:"load",run:function(){Ext.Ajax.request(Ext.apply(this.createCallback(),{method:this.getMethod(),url:this.getUrl(),headers:this.headers,params:this.getParams()}))},onSuccess:function(e){var g=this.processResponse(e),h=this.form,j=h&&!h.destroying&&!h.isDestroyed;if(g===true||!g.success||!g.data){this.failureType=Ext.form.action.Action.LOAD_FAILURE;if(j){h.afterAction(this,false)}return}if(j){h.clearInvalid();h.setValues(g.data);h.afterAction(this,true)}},handleResponse:function(j){var g=this.form.reader,e,h;if(g){e=g.read(j);h=e.records&&e.records[0]?e.records[0].data:null;return{success:e.success,data:h}}return Ext.decode(j.responseText)}});Ext.define("Ext.form.action.Submit",{extend:Ext.form.action.Action,alternateClassName:"Ext.form.Action.Submit",alias:"formaction.submit",type:"submit",run:function(){var c=this,d=c.form;if(c.clientValidation===false||d.isValid()){c.doSubmit()}else{c.failureType=Ext.form.action.Action.CLIENT_INVALID;d.afterAction(c,false)}},doSubmit:function(){var n=this,h=Ext.apply(n.createCallback(),{url:n.getUrl(),method:n.getMethod(),headers:n.headers}),o=n.form,m=n.jsonSubmit||o.jsonSubmit,j=m?"jsonData":"params",l;if(o.hasUpload()){l=n.buildForm();h.form=l.formEl;h.isUpload=true}else{h[j]=n.getParams(m)}Ext.Ajax.request(h);if(l){n.cleanup(l)}},cleanup:function(m){var o=m.formEl,p=m.uploadEls,j=m.uploadFields,l=j.length,q,n;for(q=0;q<l;++q){n=j[q];if(!n.clearOnSubmit){n.restoreInput(p[q])}}if(o){Ext.removeNode(o)}},getParams:function(h){var j=false,e=this.callParent(),g=this.form.getValues(j,j,this.submitEmptyText!==j,h,true);return Ext.apply({},g,e)},buildForm:function(){var B=this,y=[],A,L,D=B.form,H=B.getParams(),I=[],K=[],F=D.getFields().items,G,C=F.length,z,M,w,v,x,J;for(G=0;G<C;++G){z=F[G];if(z.isFileUpload()){I.push(z)}}for(M in H){if(H.hasOwnProperty(M)){w=H[M];if(Ext.isArray(w)){x=w.length;for(v=0;v<x;v++){y.push(B.getFieldConfig(M,w[v]))}}else{y.push(B.getFieldConfig(M,w))}}}A={tag:"form",role:"presentation",action:B.getUrl(),method:B.getMethod(),target:B.target?(Ext.isString(B.target)?B.target:Ext.fly(B.target).dom.name):"_self",style:"display:none",cn:y};if(I.length){A.encoding=A.enctype="multipart/form-data"}L=Ext.DomHelper.append(Ext.getBody(),A);C=I.length;for(G=0;G<C;++G){J=I[G].extractFileInput();L.appendChild(J);K.push(J)}return{formEl:L,uploadFields:I,uploadEls:K}},getFieldConfig:function(d,c){return{tag:"input",type:"hidden",name:d,value:Ext.String.htmlEncode(c)}},onSuccess:function(g){var l=this.form,m=l&&!l.destroying&&!l.isDestroyed,j=true,h=this.processResponse(g);if(h!==true&&!h.success){if(h.errors&&m){l.markInvalid(h.errors)}this.failureType=Ext.form.action.Action.SERVER_INVALID;j=false}if(m){l.afterAction(this,j)}},handleResponse:function(u){var x=this.form,v=x.errorReader,s,o,r,q,w,e;if(v){s=v.read(u);w=s.records;o=[];if(w){for(r=0,q=w.length;r<q;r++){o[r]=w[r].data}}if(o.length<1){o=null}e={success:s.success,errors:o}}else{try{e=Ext.decode(u.responseText)}catch(p){e={success:false,errors:[]}}}return e}});Ext.define("Ext.form.field.TextArea",{extend:Ext.form.field.Text,alias:["widget.textareafield","widget.textarea"],alternateClassName:"Ext.form.TextArea",fieldSubTpl:['<textarea id="{id}" role="{role}" {inputAttrTpl}','<tpl if="name"> name="{name}"</tpl>','<tpl if="placeholder"> placeholder="{placeholder}"</tpl>','<tpl if="maxLength !== undefined"> maxlength="{maxLength}"</tpl>','<tpl if="readOnly"> readonly="readonly"</tpl>','<tpl if="disabled"> disabled="disabled"</tpl>','<tpl if="tabIdx != null"> tabindex="{tabIdx}"</tpl>',' class="{fieldCls} {typeCls} {typeCls}-{ui} {inputCls}" ','<tpl if="fieldStyle"> style="{fieldStyle}"</tpl>',' autocomplete="off">\n','<tpl if="value">{[Ext.util.Format.htmlEncode(values.value)]}</tpl>',"</textarea>",{disableFormats:true}],growMin:60,growMax:1000,growAppend:"\n-",enterIsSpecial:false,preventScrollbars:false,returnRe:/\r/g,inputCls:Ext.baseCSSPrefix+"form-textarea",extraFieldBodyCls:Ext.baseCSSPrefix+"form-textarea-body",getSubTplData:function(e){var h=this,j=h.getFieldStyle(),g=h.callParent(arguments);if(h.grow){if(h.preventScrollbars){g.fieldStyle=(j||"")+";overflow:hidden;height:"+h.growMin+"px"}}return g},afterRender:function(){var b=this;b.callParent(arguments);b.needsMaxCheck=b.enforceMaxLength&&b.maxLength!==Number.MAX_VALUE&&!Ext.supports.TextAreaMaxLength;if(b.needsMaxCheck){b.inputEl.on("paste",b.onPaste,b)}},transformRawValue:function(b){return this.stripReturns(b)},getValue:function(){return this.stripReturns(this.callParent())},valueToRaw:function(b){b=this.stripReturns(b);return this.callParent([b])},stripReturns:function(b){if(b&&typeof b==="string"){b=b.replace(this.returnRe,"")}return b},onPaste:function(){var b=this;if(!b.pasteTask){b.pasteTask=new Ext.util.DelayedTask(b.pasteCheck,b)}b.pasteTask.delay(1)},pasteCheck:function(){var d=this,g=d.getValue(),e=d.maxLength;if(g.length>e){g=g.substr(0,e);d.setValue(g)}},fireKey:function(h){var e=this,g=h.getKey(),j;if(h.isSpecialKey()&&(e.enterIsSpecial||(g!==h.ENTER||h.hasModifier()))){e.fireEvent("specialkey",e,h)}if(e.needsMaxCheck&&g!==h.BACKSPACE&&g!==h.DELETE&&!h.isNavKeyPress()&&!e.isCutCopyPasteSelectAll(h,g)){j=e.getValue();if(j.length>=e.maxLength){h.stopEvent()}}},isCutCopyPasteSelectAll:function(c,d){if(c.ctrlKey){return d===c.A||d===c.C||d===c.V||d===c.X}return false},autoSize:function(){var n=this,l,o,j,h,m;if(n.grow&&n.rendered&&n.getSizeModel().height.auto){l=n.inputEl;h=l.getWidth(true);m=Ext.util.Format.htmlEncode(l.dom.value)||"&#160;";m+=n.growAppend;m=m.replace(/\n/g,"<br/>");j=Ext.util.TextMetrics.measure(l,m,h).height+l.getPadding("tb")+n.inputWrap.getBorderWidth("tb")+n.triggerWrap.getBorderWidth("tb");j=Math.min(Math.max(j,n.growMin),n.growMax);n.bodyEl.setHeight(j);n.updateLayout();n.fireEvent("autosize",n,j)}},beforeDestroy:function(){var b=this.pasteTask;if(b){b.cancel();this.pasteTask=null}this.callParent()}});Ext.define("Ext.window.MessageBox",{extend:Ext.window.Window,alias:"widget.messagebox",OK:1,YES:2,NO:4,CANCEL:8,OKCANCEL:9,YESNO:6,YESNOCANCEL:14,INFO:Ext.baseCSSPrefix+"message-box-info",WARNING:Ext.baseCSSPrefix+"message-box-warning",QUESTION:Ext.baseCSSPrefix+"message-box-question",ERROR:Ext.baseCSSPrefix+"message-box-error",hideMode:"offsets",closeAction:"hide",resizable:false,scrollable:true,title:"&#160;",defaultMinWidth:250,defaultMaxWidth:600,defaultMinHeight:110,defaultMaxHeight:500,minWidth:null,maxWidth:null,minHeight:null,maxHeight:null,constrain:true,cls:[Ext.baseCSSPrefix+"message-box",Ext.baseCSSPrefix+"hidden-offsets"],layout:{type:"vbox",align:"stretch"},shrinkWrapDock:true,defaultTextHeight:75,minProgressWidth:250,minPromptWidth:250,buttonText:{ok:"OK",yes:"Yes",no:"No",cancel:"Cancel"},buttonIds:["ok","yes","no","cancel"],titleText:{confirm:"Confirm",prompt:"Prompt",wait:"Loading...",alert:"Attention"},baseIconCls:Ext.baseCSSPrefix+"message-box-icon",ariaRole:"alertdialog",makeButton:function(d){var c=this.buttonIds[d];return new Ext.button.Button({handler:this.btnCallback,itemId:c,scope:this,text:this.buttonText[c],minWidth:75})},btnCallback:function(h,m){var g=this,l,j;if(m&&m.type==="keydown"&&!m.isSpecialKey()){m.getTarget(null,null,true).on({keyup:function(a){g.btnCallback(h,a)},single:true});return}if(g.cfg.prompt||g.cfg.multiline){if(g.cfg.multiline){j=g.textArea}else{j=g.textField}l=j.getValue();j.reset()}g.hide();g.userCallback(h.itemId,l,g.cfg)},hide:function(){var c=this,d=c.cfg?c.cfg.cls:"";c.progressBar.reset();if(d){c.removeCls(d)}c.callParent(arguments)},constructor:function(d){var c=this;c.callParent(arguments);c.minWidth=c.defaultMinWidth=(c.minWidth||c.defaultMinWidth);c.maxWidth=c.defaultMaxWidth=(c.maxWidth||c.defaultMaxWidth);c.minHeight=c.defaultMinHeight=(c.minHeight||c.defaultMinHeight);c.maxHeight=c.defaultMaxHeight=(c.maxHeight||c.defaultMaxHeight)},initComponent:function(h){var j=this,g=j.id,l,m;j.title=j.title||"&#160;";j.iconCls=j.iconCls||"";j.topContainer=new Ext.container.Container({layout:"hbox",padding:10,style:{overflow:"hidden"},items:[j.iconComponent=new Ext.Component({cls:j.baseIconCls}),j.promptContainer=new Ext.container.Container({flex:1,layout:{type:"vbox",align:"stretch"},items:[j.msg=new Ext.Component({id:g+"-msg",cls:j.baseCls+"-text"}),j.textField=new Ext.form.field.Text({id:g+"-textfield",enableKeyEvents:true,listeners:{keydown:j.onPromptKey,scope:j}}),j.textArea=new Ext.form.field.TextArea({id:g+"-textarea",height:75})]})]});j.progressBar=new Ext.ProgressBar({id:g+"-progressbar",margin:"0 10 10 10"});j.items=[j.topContainer,j.progressBar];j.msgButtons=[];for(l=0;l<4;l++){m=j.makeButton(l);j.msgButtons[m.itemId]=m;j.msgButtons.push(m)}j.bottomTb=new Ext.toolbar.Toolbar({id:g+"-toolbar",ui:"footer",dock:"bottom",layout:{pack:"center"},items:[j.msgButtons[0],j.msgButtons[1],j.msgButtons[2],j.msgButtons[3]]});j.dockedItems=[j.bottomTb];j.on("close",j.onClose,j);j.callParent()},onClose:function(){var b=this.header.child("[type=close]");b.itemId="cancel";this.btnCallback(b);delete b.itemId},onPromptKey:function(e,g){var d=this;if(g.keyCode===g.RETURN||g.keyCode===10){if(d.msgButtons.ok.isVisible()){d.msgButtons.ok.handler.call(d,d.msgButtons.ok)}else{if(d.msgButtons.yes.isVisible()){d.msgButtons.yes.handler.call(d,d.msgButtons.yes)}}}},reconfigure:function(N){var y=this,B=0,K=true,x=y.buttonText,L=y.resizer,D=y.header,z=D&&!D.isHeader,M=N&&(N.message||N.msg),w,G,I,C,A,J,O,H,F;y.updateButtonText();y.cfg=N=N||{};if(N.width){G=N.width}if(N.height){I=N.height}y.minWidth=N.minWidth||y.defaultMinWidth;y.maxWidth=N.maxWidth||y.defaultMaxWidth;y.minHeight=N.minHeight||y.defaultMinHeight;y.maxHeight=N.maxHeight||y.defaultMaxHeight;if(L){w=L.resizeTracker;L.minWidth=w.minWidth=y.minWidth;L.maxWidth=w.maxWidth=y.maxWidth;L.minHeight=w.minHeight=y.minHeight;L.maxHeight=w.maxHeight=y.maxHeight}delete y.defaultFocus;if(N.defaultFocus){y.defaultFocus=N.defaultFocus}y.animateTarget=N.animateTarget||undefined;y.modal=N.modal!==false;y.setTitle(N.title||(z&&D.title)||y.title);y.setIconCls(N.iconCls||(z&&D.iconCls)||y.iconCls);if(Ext.isObject(N.buttons)){y.buttonText=N.buttons;B=0}else{y.buttonText=N.buttonText||y.buttonText;B=Ext.isNumber(N.buttons)?N.buttons:0}B=B|y.updateButtonText();y.buttonText=x;Ext.suspendLayouts();y.width=y.height=null;if(G||I){if(G){y.setWidth(G)}if(I){y.setHeight(I)}}y.hidden=false;if(!y.rendered){y.render(Ext.getBody())}y.closable=N.closable!==false&&!N.wait;D=y.header;if(D){D.child("[type=close]").setVisible(y.closable);if(!N.title&&!y.closable&&!N.iconCls){D.hide()}else{D.show()}}y.liveDrag=!N.proxyDrag;y.userCallback=Ext.Function.bindCallback(N.callback||N.fn||Ext.emptyFn,N.scope||Ext.global);y.setIcon(N.icon);O=y.msg;if(M){O.setHtml(M);O.show()}else{O.hide()}A=y.textArea;J=y.textField;if(N.prompt||N.multiline){y.multiline=N.multiline;if(N.multiline){A.setValue(N.value);A.setHeight(N.defaultTextHeight||y.defaultTextHeight);A.show();J.hide();y.defaultFocus=A}else{J.setValue(N.value);A.hide();J.show();y.defaultFocus=J}}else{A.hide();J.hide()}H=y.progressBar;if(N.progress||N.wait){H.show();y.updateProgress(0,N.progressText);if(N.wait===true){H.wait(N.waitConfig)}}else{H.hide()}F=y.msgButtons;for(C=0;C<4;C++){if(B&Math.pow(2,C)){if(!y.defaultFocus){y.defaultFocus=F[C]}F[C].show();K=false}else{F[C].hide()}}if(K){y.bottomTb.hide()}else{y.bottomTb.show()}Ext.resumeLayouts(true)},updateButtonText:function(){var l=this,m=l.buttonText,g=0,j,h;for(j in m){if(m.hasOwnProperty(j)){h=l.msgButtons[j];if(h){if(l.cfg&&l.cfg.buttonText){g=g|Math.pow(2,Ext.Array.indexOf(l.buttonIds,j))}if(h.text!=m[j]){h.setText(m[j])}}}}return g},show:function(e){var g=this,d;e=e||{};if(Ext.Component.layoutSuspendCount){Ext.on({resumelayouts:function(){g.show(e)},single:true});return g}g.reconfigure(e);if(e.cls){g.addCls(e.cls)}d=g.query("textfield:not([hidden]),textarea:not([hidden]),button:not([hidden])");g.preventFocusOnActivate=!d.length;g.hidden=true;g.callParent();return g},onShow:function(){this.callParent(arguments);this.center()},updateText:function(b){this.msg.setHtml(b)},setIcon:function(n,o,j){var m=this,l=m.iconComponent,h=m.messageIconCls;if(h){l.removeCls(h)}if(n){l.show();if(o||j){l.setSize(o||l.getWidth(),j||l.getHeight())}l.addCls(Ext.baseCSSPrefix+"dlg-icon");l.addCls(m.messageIconCls=n)}else{l.removeCls(Ext.baseCSSPrefix+"dlg-icon");l.hide()}return m},updateProgress:function(g,e,d){this.progressBar.updateProgress(g,e);if(d){this.updateText(d)}return this},onEsc:function(){if(this.closable!==false){this.callParent(arguments)}},confirm:function(g,h,j,e){if(Ext.isString(g)){g={title:g,icon:this.QUESTION,message:h,buttons:this.YESNO,callback:j,scope:e}}return this.show(g)},prompt:function(l,n,o,h,j,m){if(Ext.isString(l)){l={prompt:true,title:l,minWidth:this.minPromptWidth,message:n,buttons:this.OKCANCEL,callback:o,scope:h,multiline:j,value:m}}return this.show(l)},wait:function(d,g,e){if(Ext.isString(d)){d={title:g,message:d,closable:false,wait:true,modal:true,minWidth:this.minProgressWidth,waitConfig:e}}return this.show(d)},alert:function(h,j,e,g){if(Ext.isString(h)){h={title:h,message:j,buttons:this.OK,fn:e,scope:g,minWidth:this.minWidth}}return this.show(h)},progress:function(g,d,e){if(Ext.isString(g)){g={title:g,message:d,progress:true,progressText:e}}return this.show(g)}},function(b){Ext.onReady(function(){Ext.MessageBox=Ext.Msg=new b()})});Ext.define("Ext.form.Basic",{extend:Ext.util.Observable,alternateClassName:"Ext.form.BasicForm",taskDelay:10,constructor:function(e,j){var h=this,g;h.owner=e;h.fieldMonitors={validitychange:h.checkValidityDelay,enable:h.checkValidityDelay,disable:h.checkValidityDelay,dirtychange:h.checkDirtyDelay,errorchange:h.checkErrorDelay,scope:h};h.checkValidityTask=new Ext.util.DelayedTask(h.checkValidity,h);h.checkDirtyTask=new Ext.util.DelayedTask(h.checkDirty,h);h.checkErrorTask=new Ext.util.DelayedTask(h.checkError,h);h.monitor=new Ext.container.Monitor({selector:"[isFormField]:not([excludeForm])",scope:h,addHandler:h.onFieldAdd,removeHandler:h.onFieldRemove,invalidateHandler:h.onMonitorInvalidate});h.monitor.bind(e);Ext.apply(h,j);if(Ext.isString(h.paramOrder)){h.paramOrder=h.paramOrder.split(/[\s,|]/)}g=h.reader;if(g&&!g.isReader){if(typeof g==="string"){g={type:g}}h.reader=Ext.createByAlias("reader."+g.type,g)}g=h.errorReader;if(g&&!g.isReader){if(typeof g==="string"){g={type:g}}h.errorReader=Ext.createByAlias("reader."+g.type,g)}h.callParent()},initialize:function(){this.initialized=true;this.onValidityChange(!this.hasInvalidField())},timeout:30,paramsAsHash:false,waitTitle:"Please Wait...",trackResetOnLoad:false,wasDirty:false,destroy:function(){var c=this,d=c.monitor;if(d){d.unbind();c.monitor=null}c.clearListeners();c.checkValidityTask.cancel();c.checkDirtyTask.cancel();c.checkErrorTask.cancel();c.checkValidityTask=c.checkDirtyTask=c.checkErrorTask=null;c.isDestroyed=true},onFieldAdd:function(b){b.on(this.fieldMonitors);this.onMonitorInvalidate()},onFieldRemove:function(b){b.un(this.fieldMonitors);this.onMonitorInvalidate()},onMonitorInvalidate:function(){if(this.initialized){this.checkValidityDelay()}},getFields:function(){return this.monitor.getItems()},getBoundItems:function(){var b=this._boundItems;if(!b||b.getCount()===0){b=this._boundItems=new Ext.util.MixedCollection();b.addAll(this.owner.query("[formBind]"))}return b},hasInvalidField:function(){return !!this.getFields().findBy(function(g){var e=g.preventMark,d;g.preventMark=true;d=g.isValid();g.preventMark=e;return !d})},isValid:function(){var d=this,c;Ext.suspendLayouts();c=d.getFields().filterBy(function(a){return !a.validate()});Ext.resumeLayouts(true);return c.length<1},checkValidity:function(){var c=this,d;if(c.isDestroyed){return}d=!c.hasInvalidField();if(d!==c.wasValid){c.onValidityChange(d);c.fireEvent("validitychange",c,d);c.wasValid=d}},checkValidityDelay:function(){var b=this.taskDelay;if(b){this.checkValidityTask.delay(b)}else{this.checkValidity()}},checkError:function(){this.fireEvent("errorchange",this)},checkErrorDelay:function(){var b=this.taskDelay;if(b){this.checkErrorTask.delay(b)}else{this.checkError()}},onValidityChange:function(l){var n=this.getBoundItems(),h,o,j,m;if(n){h=n.items;j=h.length;for(o=0;o<j;o++){m=h[o];if(m.disabled===l){m.setDisabled(!l)}}}},isDirty:function(){return !!this.getFields().findBy(function(b){return b.isDirty()})},checkDirtyDelay:function(){var b=this.taskDelay;if(b){this.checkDirtyTask.delay(b)}else{this.checkDirty()}},checkDirty:function(){var c=this,d;if(c.isDestroyed){return}d=this.isDirty();if(d!==this.wasDirty){this.fireEvent("dirtychange",this,d);this.wasDirty=d}},hasUpload:function(){return !!this.getFields().findBy(function(b){return b.isFileUpload()})},doAction:function(c,d){if(Ext.isString(c)){c=Ext.ClassManager.instantiateByAlias("formaction."+c,Ext.apply({},d,{form:this}))}if(this.fireEvent("beforeaction",this,c)!==false){this.beforeAction(c);Ext.defer(c.run,100,c)}return this},submit:function(e){e=e||{};var d=this,g;if(e.standardSubmit||d.standardSubmit){g="standardsubmit"}else{g=d.api?"directsubmit":"submit"}return d.doAction(g,e)},load:function(b){return this.doAction(this.api?"directload":"load",b)},updateRecord:function(q){q=q||this._record;if(!q){return this}var j=q.self.fields,p=this.getFieldValues(),m={},n=0,l=j.length,o;for(;n<l;++n){o=j[n].name;if(p.hasOwnProperty(o)){m[o]=p[o]}}q.beginEdit();q.set(m);q.endEdit();return this},loadRecord:function(b){this._record=b;return this.setValues(b.getData())},getRecord:function(){return this._record},beforeAction:function(s){var p=this,u=s.waitMsg,m=Ext.baseCSSPrefix+"mask-loading",r=p.getFields().items,q,n=r.length,o,v;for(q=0;q<n;q++){o=r[q];if(o.isFormField&&o.syncValue){o.syncValue()}}if(u){v=p.waitMsgTarget;if(v===true){p.owner.el.mask(u,m)}else{if(v){v=p.waitMsgTarget=Ext.get(v);v.mask(u,m)}else{p.floatingAncestor=p.owner.up("[floating]");if(p.floatingAncestor){p.savePreventFocusOnActivate=p.floatingAncestor.preventFocusOnActivate;p.floatingAncestor.preventFocusOnActivate=true}Ext.MessageBox.wait(u,s.waitTitle||p.waitTitle)}}}},afterAction:function(m,j){var h=this;if(m.waitMsg){var g=Ext.MessageBox,l=h.waitMsgTarget;if(l===true){h.owner.el.unmask()}else{if(l){l.unmask()}else{g.hide()}}}if(h.floatingAncestor){h.floatingAncestor.preventFocusOnActivate=h.savePreventFocusOnActivate}if(j){if(m.reset){h.reset()}Ext.callback(m.success,m.scope||m,[h,m]);h.fireEvent("actioncomplete",h,m)}else{Ext.callback(m.failure,m.scope||m,[h,m]);h.fireEvent("actionfailed",h,m)}},findField:function(b){return this.getFields().findBy(function(a){return a.id===b||a.name===b||a.dataIndex===b})},markInvalid:function(n){var r=this,p,m,e,q,s;function o(b,c){var a=r.findField(b);if(a){a.markInvalid(c)}}if(Ext.isArray(n)){m=n.length;for(p=0;p<m;p++){e=n[p];o(e.id,e.msg)}}else{if(n instanceof Ext.data.ErrorCollection){m=n.items.length;for(p=0;p<m;p++){e=n.items[p];o(e.field,e.message)}}else{for(s in n){if(n.hasOwnProperty(s)){q=n[s];o(s,q,n)}}}}return this},setValues:function(h){var n=this,j,o,l;function m(c,a){var b=n.findField(c);if(b){b.setValue(a);if(n.trackResetOnLoad){b.resetOriginalValue()}}}Ext.suspendLayouts();if(Ext.isArray(h)){o=h.length;for(j=0;j<o;j++){l=h[j];m(l.id,l.value)}}else{Ext.iterate(h,m)}Ext.resumeLayouts(true);return this},getValues:function(z,y,u,w,G){var v={},B=this.getFields().items,s=B.length,C=Ext.isArray,x,D,F,H,I,A;for(A=0;A<s;A++){x=B[A];if(!y||x.isDirty()){D=x[w?"getModelData":"getSubmitData"](u,G);if(Ext.isObject(D)){for(I in D){if(D.hasOwnProperty(I)){F=D[I];if(u&&F===""){F=x.emptyText||""}if(!x.isRadio){if(v.hasOwnProperty(I)){H=v[I];if(!C(H)){H=v[I]=[H]}if(C(F)){v[I]=H.concat(F)}else{H.push(F)}}else{v[I]=F}}else{v[I]=v[I]||F}}}}}}if(z){v=Ext.Object.toQueryString(v)}return v},getFieldValues:function(b){return this.getValues(false,b,false,true)},clearInvalid:function(){Ext.suspendLayouts();var e=this,g=e.getFields().items,j,h=g.length;for(j=0;j<h;j++){g[j].clearInvalid()}Ext.resumeLayouts(true);return e},reset:function(g){Ext.suspendLayouts();var m=this,h=m.getFields().items,l,j=h.length;for(l=0;l<j;l++){h[l].reset()}Ext.resumeLayouts(true);if(g===true){delete m._record}return m},applyToFields:function(j){var g=this.getFields().items,e,h=g.length;for(e=0;e<h;e++){Ext.apply(g[e],j)}return this},applyIfToFields:function(j){var g=this.getFields().items,e,h=g.length;for(e=0;e<h;e++){Ext.applyIf(g[e],j)}return this}});Ext.define("Ext.form.FieldAncestor",{extend:Ext.Mixin,mixinConfig:{id:"fieldAncestor",after:{initInheritedState:"initFieldInheritedState"},before:{destroy:"onBeforeDestroy"}},initFieldAncestor:function(){var b=this;b.monitor=new Ext.container.Monitor({scope:b,selector:"[isFormField]:not([excludeForm])",addHandler:b.onChildFieldAdd,removeHandler:b.onChildFieldRemove});b.initFieldDefaults()},initMonitor:function(){this.monitor.bind(this)},initFieldInheritedState:function(d){var e=d.fieldDefaults,g=this.fieldDefaults;if(g){if(e){d.fieldDefaults=Ext.apply(Ext.Object.chain(e),g)}else{d.fieldDefaults=g}}},onChildFieldAdd:function(c){var d=this;d.mon(c,"errorchange",d.handleFieldErrorChange,d);d.mon(c,"validitychange",d.handleFieldValidityChange,d)},onChildFieldRemove:function(c){var d=this;d.mun(c,"errorchange",d.handleFieldErrorChange,d);d.mun(c,"validitychange",d.handleFieldValidityChange,d)},initFieldDefaults:function(){if(!this.fieldDefaults){this.fieldDefaults={}}},handleFieldValidityChange:function(g,d){var e=this;if(g!==e){e.fireEvent("fieldvaliditychange",e,g,d);e.onFieldValidityChange(g,d)}},handleFieldErrorChange:function(d,e){var g=this;if(d!==g){g.fireEvent("fielderrorchange",g,d,e);g.onFieldErrorChange(d,e)}},onFieldValidityChange:Ext.emptyFn,onFieldErrorChange:Ext.emptyFn,onBeforeDestroy:function(){this.monitor.unbind()}});Ext.define("Ext.layout.component.field.FieldContainer",{extend:Ext.layout.component.Auto,alias:"layout.fieldcontainer",type:"fieldcontainer",waitForOuterHeightInDom:true,waitForOuterWidthInDom:true,beginLayout:function(c){var d=this.owner.containerEl;this.callParent(arguments);c.hasRawContent=true;d.setStyle("width","");d.setStyle("height","");c.containerElContext=c.getEl("containerEl")},measureContentHeight:function(b){return b.hasDomProp("containerLayoutDone")?this.callParent(arguments):NaN},measureContentWidth:function(b){return b.hasDomProp("containerLayoutDone")?this.callParent(arguments):NaN},publishInnerHeight:function(g,d){var e=this.owner;if(e.labelAlign==="top"&&e.hasVisibleLabel()){d-=e.labelEl.getHeight()}if(e.msgTarget==="under"&&e.hasActiveError()){d-=e.errorWrapEl.getHeight()}d-=e.bodyEl.getPadding("tb");g.containerElContext.setHeight(d)},publishInnerWidth:function(g,d){var e=this.owner;if(e.labelAlign!=="top"&&e.hasVisibleLabel()){d-=(e.labelWidth+(e.labelPad||0))}if(e.msgTarget==="side"&&e.hasActiveError()){d-=e.errorWrapEl.getWidth()}d-=e.bodyEl.getPadding("lr");g.containerElContext.setWidth(d)}});Ext.define("Ext.form.FieldContainer",{extend:Ext.container.Container,mixins:{labelable:Ext.form.Labelable,fieldAncestor:Ext.form.FieldAncestor},alias:"widget.fieldcontainer",componentLayout:"fieldcontainer",componentCls:Ext.baseCSSPrefix+"form-fieldcontainer",shrinkWrap:true,childEls:["containerEl"],combineLabels:false,labelConnector:", ",combineErrors:false,maskOnDisable:false,invalidCls:"",fieldSubTpl:['<div id="{id}-containerEl" data-ref="containerEl" class="{containerElCls}" role="presentation">',"{%this.renderContainer(out,values)%}","</div>"],initComponent:function(){var b=this;b.initLabelable();b.initFieldAncestor();b.callParent();b.initMonitor()},onAdd:function(d){var c=this;if(d.isLabelable&&Ext.isGecko&&c.layout.type==="absolute"&&!c.hideLabel&&c.labelAlign!=="top"){d.x+=(c.labelWidth+c.labelPad)}c.callParent(arguments);if(d.isLabelable&&c.combineLabels){d.oldHideLabel=d.hideLabel;d.hideLabel=true}c.updateLabel()},onRemove:function(e,d){var g=this;g.callParent(arguments);if(!d){if(e.isLabelable&&g.combineLabels){e.hideLabel=e.oldHideLabel}g.updateLabel()}},initRenderData:function(){var d=this,c=d.callParent();c.containerElCls=d.containerElCls;return Ext.applyIf(c,d.getLabelableRenderData())},getFieldLabel:function(){var b=this.fieldLabel||"";if(!b&&this.combineLabels){b=Ext.Array.map(this.query("[isFieldLabelable]"),function(a){return a.getFieldLabel()}).join(this.labelConnector)}return b},getSubTplData:function(){var b=this.initRenderData();Ext.apply(b,this.subTplData);return b},getSubTplMarkup:function(e){var h=this,g=h.getTpl("fieldSubTpl"),j;if(!g.renderContent){h.setupRenderTpl(g)}j=g.apply(h.getSubTplData(e));return j},updateLabel:function(){var c=this,d=c.labelEl;if(d){c.setFieldLabel(c.getFieldLabel())}},onFieldErrorChange:function(){if(this.combineErrors){var j=this,h=j.getActiveError(),e=Ext.Array.filter(j.query("[isFormField]"),function(a){return a.hasActiveError()}),g=j.getCombinedErrors(e);if(g){j.setActiveErrors(g)}else{j.unsetActiveError()}if(h!==j.getActiveError()){j.updateLayout()}}},getCombinedErrors:function(u){var o=[],w,a=u.length,q,v,p,x,s,r;for(w=0;w<a;w++){q=u[w];v=q.getActiveErrors();x=v.length;for(p=0;p<x;p++){s=v[p];r=q.getFieldLabel();o.push((r?r+": ":"")+s)}}return o},privates:{applyTargetCls:function(c){var d=this.containerElCls;this.containerElCls=d?d+" "+c:c},getTargetEl:function(){return this.containerEl},initRenderTpl:function(){var b=this;if(!b.hasOwnProperty("renderTpl")){b.renderTpl=b.getTpl("labelableRenderTpl")}return b.callParent()}}});Ext.define("Ext.form.Panel",{extend:Ext.panel.Panel,mixins:{fieldAncestor:Ext.form.FieldAncestor},alias:"widget.form",alternateClassName:["Ext.FormPanel","Ext.form.FormPanel"],layout:"anchor",ariaRole:"form",basicFormConfigs:["api","baseParams","errorReader","jsonSubmit","method","paramOrder","paramsAsHash","reader","standardSubmit","timeout","trackResetOnLoad","url","waitMsgTarget","waitTitle"],initComponent:function(){var b=this;if(b.frame){b.border=false}b.initFieldAncestor();b.callParent();b.relayEvents(b.form,["beforeaction","actionfailed","actioncomplete","validitychange","dirtychange"]);if(b.pollForChanges){b.startPolling(b.pollInterval||500)}},initItems:function(){this.callParent();this.initMonitor();this.form=this.createForm()},afterFirstLayout:function(){this.callParent(arguments);this.form.initialize()},createForm:function(){var g={},l=this.basicFormConfigs,h=l.length,m=0,j;for(;m<h;++m){j=l[m];g[j]=this[j]}return new Ext.form.Basic(this,g)},getForm:function(){return this.form},loadRecord:function(b){return this.getForm().loadRecord(b)},getRecord:function(){return this.getForm().getRecord()},updateRecord:function(b){return this.getForm().updateRecord(b)},getValues:function(h,e,j,g){return this.getForm().getValues(h,e,j,g)},isDirty:function(){return this.form.isDirty()},isValid:function(){return this.form.isValid()},reset:function(){this.form.reset()},hasInvalidField:function(){return this.form.hasInvalidField()},beforeDestroy:function(){this.stopPolling();this.form.destroy();this.callParent()},load:function(b){this.form.load(b)},submit:function(b){this.form.submit(b)},startPolling:function(c){this.stopPolling();var d=new Ext.util.TaskRunner(c);d.start({interval:0,run:this.checkChange,scope:this});this.pollTask=d},stopPolling:function(){var b=this.pollTask;if(b){b.stopAll();delete this.pollTask}},checkChange:function(){var e=this.form.getFields().items,d,g=e.length;for(d=0;d<g;d++){e[d].checkChange()}}});Ext.define("Ext.form.field.Picker",{extend:Ext.form.field.Text,alias:"widget.pickerfield",alternateClassName:"Ext.form.Picker",config:{triggers:{picker:{handler:"onTriggerClick",scope:"this"}}},isPickerField:true,matchFieldWidth:true,pickerAlign:"tl-bl?",openCls:Ext.baseCSSPrefix+"pickerfield-open",isExpanded:false,editable:true,applyTriggers:function(d){var g=this,e=d.picker;if(!e.cls){e.cls=g.triggerCls}return g.callParent([d])},initEvents:function(){var b=this;b.callParent();b.keyNav=new Ext.util.KeyNav(b.inputEl,{down:b.onDownArrow,esc:{handler:b.onEsc,scope:b,defaultEventAction:false},scope:b,forceKeyDown:true});if(!b.editable){b.mon(b.inputEl,"click",b.onTriggerClick,b)}if(Ext.isGecko){b.inputEl.dom.setAttribute("autocomplete","off")}},onEsc:function(b){if(Ext.isIE){b.preventDefault()}if(this.isExpanded){this.collapse();b.stopEvent()}},onDownArrow:function(b){if(!this.isExpanded){b.stopEvent();this.onTriggerClick()}},expand:function(){var m=this,h,g,l,j;if(m.rendered&&!m.isExpanded&&!m.isDestroyed){h=m.bodyEl;g=m.getPicker();l=Ext.getDoc();j=m.collapseIf;g.setMaxHeight(g.initialConfig.maxHeight);if(m.matchFieldWidth){g.width=m.bodyEl.getWidth()}g.show();m.isExpanded=true;m.alignPicker();h.addCls(m.openCls);m.hideListeners=l.on({mousewheel:m.collapseIf,touchstart:m.collapseIf,scope:m,delegated:false,destroyable:true});Ext.on("resize",m.alignPicker,m);m.fireEvent("expand",m);m.onExpand()}},onExpand:Ext.emptyFn,alignPicker:function(){var c=this,d=c.getPicker();if(d.isVisible()){if(d.isFloating()){c.doAlign()}}},doAlign:function(){var h=this,j=h.picker,g="-above",e;h.picker.alignTo(h.triggerWrap,h.pickerAlign,h.pickerOffset);e=j.el.getY()<h.inputEl.getY();h.bodyEl[e?"addCls":"removeCls"](h.openCls+g);j[e?"addCls":"removeCls"](j.baseCls+g)},collapse:function(){var h=this;if(h.isExpanded&&!h.isDestroyed&&!h.destroying){var j=h.openCls,e=h.picker,g="-above";e.hide();h.isExpanded=false;h.bodyEl.removeCls([j,j+g]);e.el.removeCls(e.baseCls+g);h.hideListeners.destroy();Ext.un("resize",h.alignPicker,h);h.fireEvent("collapse",h);h.onCollapse()}},onCollapse:Ext.emptyFn,collapseIf:function(c){var d=this;if(!d.isDestroyed&&!c.within(d.bodyEl,false,true)&&!d.owns(c.target)&&!Ext.fly(c.target).isFocusable()){d.collapse()}},getPicker:function(){var c=this,d=c.picker;if(!d){c.picker=d=c.createPicker();d.ownerCmp=c}return c.picker},onFocusLeave:function(c){var d=this;d.collapse();d.callParent([c])},getRefItems:function(){var b=[];if(this.picker){b[0]=this.picker}return b},createPicker:Ext.emptyFn,onTriggerClick:function(c){var d=this;if(!d.readOnly&&!d.disabled){if(d.isExpanded){d.collapse()}else{d.expand()}}},beforeDestroy:function(){var c=this,d=c.picker;c.callParent();Ext.un("resize",c.alignPicker,c);Ext.destroy(c.keyNav,d);if(d){c.picker=d.pickerField=null}}});Ext.define("Ext.view.BoundListKeyNav",{extend:Ext.view.NavigationModel,alias:"view.navigation.boundlist",navigateOnSpace:true,initKeyNav:function(e){var d=this,g=e.pickerField;if(!d.keyNav){d.callParent([e])}if(!g){return}if(!g.rendered){g.on("render",Ext.Function.bind(d.initKeyNav,d,[e],0),d,{single:true});return}d.fieldKeyNav=new Ext.util.KeyNav({disabled:true,target:g.inputEl,forceKeyDown:true,up:d.onKeyUp,down:d.onKeyDown,right:d.onKeyRight,left:d.onKeyLeft,pageDown:d.onKeyPageDown,pageUp:d.onKeyPageUp,home:d.onKeyHome,end:d.onKeyEnd,tab:d.onKeyTab,space:d.onKeySpace,enter:d.onKeyEnter,A:{ctrl:true,handler:d.onSelectAllKeyPress},scope:d})},enable:function(){this.fieldKeyNav.enable();this.callParent()},disable:function(){this.fieldKeyNav.disable();this.callParent()},onItemMouseDown:function(g,h,j,m,l){this.callParent([g,h,j,m,l]);l.preventDefault()},onKeyUp:function(){var m=this,h=m.view,n=h.all,l=h.highlightedItem,o=l?h.indexOf(l):-1,j=o>0?o-1:n.getCount()-1;m.setPosition(j)},onKeyDown:function(){var m=this,h=m.view,n=h.all,l=h.highlightedItem,o=l?h.indexOf(l):-1,j=o<n.getCount()-1?o+1:0;m.setPosition(j)},onKeyLeft:Ext.returnTrue,onKeyRight:Ext.returnTrue,onKeyTab:function(g){var e=this.view,d=e.pickerField;if(e.isVisible()){if(d.selectOnTab){this.selectHighlighted(g)}if(d.collapse){d.collapse()}}return true},onKeyEnter:function(j){var h=this.view,e=h.getSelectionModel(),l=h.pickerField,m=e.getCount();j.stopEvent();this.selectHighlighted(j);if(!l.multiSelect&&m===e.getCount()&&l.collapse){l.collapse()}},onKeySpace:function(){if(this.navigateOnSpace){this.callParent(arguments)}return true},focusItem:function(g){var d=this,e=d.view;if(typeof g==="number"){g=e.all.item(g)}if(g){g=g.dom;e.highlightItem(g);e.getOverflowEl().scrollChildIntoView(g,false)}},selectHighlighted:function(l){var m=this,e=m.view,j=e.getSelectionModel(),o,n=m.recordIndex;if(e.all.getCount()){o=m.getRecord();if(o){if(l.getKey()===l.ENTER||!j.isSelected(o)){j.selectWithEvent(o,l);if(!e.store.data.contains(o)){m.setPosition(Math.min(n,e.store.getCount()-1))}}}}},destroy:function(){Ext.destroy(this.fieldKeyNav);this.callParent()}});Ext.define("Ext.layout.component.BoundList",{extend:Ext.layout.component.Auto,alias:"layout.boundlist",type:"component",beginLayout:function(h){var j=this,g=j.owner,e=g.pagingToolbar;j.scrollPos=g.listWrap.getScroll();j.callParent(arguments);if(g.floating){h.savedXY=g.getXY();g.setXY([0,-9999])}if(e){h.toolbarContext=h.context.getCmp(e)}h.listContext=h.getEl("listWrap")},beginLayoutCycle:function(c){var d=this.owner;this.callParent(arguments);if(c.heightModel.auto){d.el.setHeight("auto");d.listWrap.setHeight("auto")}},getLayoutItems:function(){var b=this.owner.pagingToolbar;return b?[b]:[]},isValidParent:function(){return true},finishedLayout:function(n){var o=this,m=n.savedXY,j=o.owner,h=j.listWrap,l=o.scrollPos;o.callParent(arguments);if(m){o.owner.setXY(m)}h.setScrollLeft(l.left);h.setScrollTop(l.top)},measureContentWidth:function(b){return this.owner.listWrap.getWidth()},measureContentHeight:function(b){return this.owner.listWrap.getHeight()},publishInnerHeight:function(j,g){var e=j.toolbarContext,h=0;if(e){h=e.getProp("height")}if(h===undefined){this.done=false}else{j.listContext.setHeight(g-j.getFrameInfo().height-h)}},calculateOwnerHeightFromContentHeight:function(g){var e=this.callParent(arguments),d=g.toolbarContext;if(d){e+=d.getProp("height")}return e}});Ext.define("Ext.toolbar.Item",{extend:Ext.Component,alias:"widget.tbitem",alternateClassName:"Ext.Toolbar.Item",enable:Ext.emptyFn,disable:Ext.emptyFn,focus:Ext.emptyFn});Ext.define("Ext.toolbar.TextItem",{extend:Ext.toolbar.Item,alias:"widget.tbtext",alternateClassName:"Ext.Toolbar.TextItem",text:"",baseCls:Ext.baseCSSPrefix+"toolbar-text",ariaRole:null,beforeRender:function(){var b=this.text;this.callParent();if(b){this.html=b}},setText:function(b){this.update(b)}});Ext.define("Ext.form.trigger.Spinner",{extend:Ext.form.trigger.Trigger,alias:"trigger.spinner",cls:Ext.baseCSSPrefix+"form-trigger-spinner",spinnerCls:Ext.baseCSSPrefix+"form-spinner",spinnerUpCls:Ext.baseCSSPrefix+"form-spinner-up",spinnerDownCls:Ext.baseCSSPrefix+"form-spinner-down",focusCls:Ext.baseCSSPrefix+"form-spinner-focus",overCls:Ext.baseCSSPrefix+"form-spinner-over",clickCls:Ext.baseCSSPrefix+"form-spinner-click",focusFieldOnClick:true,vertical:true,bodyTpl:'<tpl if="vertical"><div class="{spinnerCls} {spinnerCls}-{ui} {spinnerUpCls} {spinnerUpCls}-{ui} {childElCls} {upDisabledCls}"></div></tpl><div class="{spinnerCls} {spinnerCls}-{ui} {spinnerDownCls} {spinnerDownCls}-{ui} {childElCls} {downDisabledCls}"></div><tpl if="!vertical"><div class="{spinnerCls} {spinnerCls}-{ui} {spinnerUpCls} {spinnerUpCls}-{ui} {childElCls} {upDisabledCls}"></div></tpl>',destroy:function(){var b=this;if(b.spinnerEl){b.spinnerEl.destroy();b.spinnerEl=b.upEl=b.downEl=null}b.callParent()},getBodyRenderData:function(){var b=this;return{vertical:b.vertical,upDisabledCls:b.upEnabled?"":(b.spinnerUpCls+"-disabled"),downDisabledCls:b.downEnabled?"":(b.spinnerDownCls+"-disabled"),spinnerCls:b.spinnerCls,spinnerUpCls:b.spinnerUpCls,spinnerDownCls:b.spinnerDownCls}},getStateEl:function(){return this.spinnerEl},onClick:function(h){var e=this,g=arguments,h=e.clickRepeater?g[1]:g[0],j=e.field;if(!j.readOnly&&!j.disabled){if(e.upEl.contains(h.target)){Ext.callback(e.upHandler,e.scope,[j,e,h],0,j)}else{if(e.downEl.contains(h.target)){Ext.callback(e.downHandler,e.scope,[j,e,h],0,j)}}}j.inputEl.focus()},onFieldRender:function(){var e=this,g=e.vertical,h,j;e.callParent();h=e.spinnerEl=e.el.select("."+e.spinnerCls,true);j=h.elements;e.upEl=g?j[0]:j[1];e.downEl=g?j[1]:j[0]},setUpEnabled:function(b){this.upEl[b?"removeCls":"addCls"](this.spinnerUpCls+"-disabled")},setDownEnabled:function(b){this.downEl[b?"removeCls":"addCls"](this.spinnerDownCls+"-disabled")}});Ext.define("Ext.form.field.Spinner",{extend:Ext.form.field.Text,alias:"widget.spinnerfield",alternateClassName:"Ext.form.Spinner",config:{triggers:{spinner:{type:"spinner",upHandler:"onSpinnerUpClick",downHandler:"onSpinnerDownClick",scope:"this"}}},spinUpEnabled:true,spinDownEnabled:true,keyNavEnabled:true,mouseWheelEnabled:true,repeatTriggerClick:true,onSpinUp:Ext.emptyFn,onSpinDown:Ext.emptyFn,ariaRole:"spinbutton",applyTriggers:function(d){var g=this,e=d.spinner;e.upEnabled=g.spinUpEnabled;e.downEnabled=g.spinDownEnabled;return g.callParent([d])},onRender:function(){var c=this,d=c.getTrigger("spinner");c.callParent();if(c.keyNavEnabled){c.spinnerKeyNav=new Ext.util.KeyNav(c.inputEl,{scope:c,up:c.spinUp,down:c.spinDown})}if(c.mouseWheelEnabled){c.mon(c.bodyEl,"mousewheel",c.onMouseWheel,c)}c.spinUpEl=d.upEl;c.spinDownEl=d.downEl},onSpinnerUpClick:function(){this.spinUp()},onSpinnerDownClick:function(){this.spinDown()},spinUp:function(){var b=this;if(b.spinUpEnabled&&!b.disabled){b.fireEvent("spin",b,"up");b.fireEvent("spinup",b);b.onSpinUp()}},spinDown:function(){var b=this;if(b.spinDownEnabled&&!b.disabled){b.fireEvent("spin",b,"down");b.fireEvent("spindown",b);b.onSpinDown()}},setSpinUpEnabled:function(e){var d=this,g=d.spinUpEnabled;d.spinUpEnabled=e;if(g!==e&&d.rendered){d.getTrigger("spinner").setUpEnabled(e)}},setSpinDownEnabled:function(e){var d=this,g=d.spinDownEnabled;d.spinDownEnabled=e;if(g!==e&&d.rendered){d.getTrigger("spinner").setDownEnabled(e)}},onMouseWheel:function(d){var e=this,g;if(e.hasFocus){g=d.getWheelDelta();if(g>0){e.spinUp()}else{if(g<0){e.spinDown()}}d.stopEvent()}},onDestroy:function(){Ext.destroyMembers(this,"spinnerKeyNav");this.callParent()}});Ext.define("Ext.form.field.Number",{extend:Ext.form.field.Spinner,alias:"widget.numberfield",alternateClassName:["Ext.form.NumberField","Ext.form.Number"],allowExponential:true,allowDecimals:true,decimalSeparator:null,submitLocaleSeparator:true,decimalPrecision:2,minValue:Number.NEGATIVE_INFINITY,maxValue:Number.MAX_VALUE,step:1,minText:"The minimum value for this field is {0}",maxText:"The maximum value for this field is {0}",nanText:"{0} is not a valid number",negativeText:"The value cannot be negative",baseChars:"0123456789",autoStripChars:false,initComponent:function(){var b=this;if(b.decimalSeparator===null){b.decimalSeparator=Ext.util.Format.decimalSeparator}b.callParent();b.setMinValue(b.minValue);b.setMaxValue(b.maxValue)},getErrors:function(m){m=arguments.length>0?m:this.processRawValue(this.getRawValue());var g=this,j=g.callParent([m]),l=Ext.String.format,h;if(m.length<1){return j}m=String(m).replace(g.decimalSeparator,".");if(isNaN(m)){j.push(l(g.nanText,m))}h=g.parseValue(m);if(g.minValue===0&&h<0){j.push(this.negativeText)}else{if(h<g.minValue){j.push(l(g.minText,g.minValue))}}if(h>g.maxValue){j.push(l(g.maxText,g.maxValue))}return j},rawToValue:function(c){var d=this.fixPrecision(this.parseValue(c));if(d===null){d=c||null}return d},valueToRaw:function(g){var d=this,e=d.decimalSeparator;g=d.parseValue(g);g=d.fixPrecision(g);g=Ext.isNumber(g)?g:parseFloat(String(g).replace(e,"."));g=isNaN(g)?"":String(g).replace(".",e);return g},getSubmitValue:function(){var d=this,c=d.callParent();if(!d.submitLocaleSeparator){c=c.replace(d.decimalSeparator,".")}return c},onChange:function(){this.toggleSpinners();this.callParent(arguments)},toggleSpinners:function(){var j=this,h=j.getValue(),e=h===null,g;if(j.spinUpEnabled||j.spinUpDisabledByToggle){g=e||h<j.maxValue;j.setSpinUpEnabled(g,true)}if(j.spinDownEnabled||j.spinDownDisabledByToggle){g=e||h>j.minValue;j.setSpinDownEnabled(g,true)}},setMinValue:function(d){var e=this,g;e.minValue=Ext.Number.from(d,Number.NEGATIVE_INFINITY);e.toggleSpinners();if(e.disableKeyFilter!==true){g=e.baseChars+"";if(e.allowExponential){g+=e.decimalSeparator+"e+-"}else{if(e.allowDecimals){g+=e.decimalSeparator}if(e.minValue<0){g+="-"}}g=Ext.String.escapeRegex(g);e.maskRe=new RegExp("["+g+"]");if(e.autoStripChars){e.stripCharsRe=new RegExp("[^"+g+"]","gi")}}},setMaxValue:function(b){this.maxValue=Ext.Number.from(b,Number.MAX_VALUE);this.toggleSpinners()},parseValue:function(b){b=parseFloat(String(b).replace(this.decimalSeparator,"."));return isNaN(b)?null:b},fixPrecision:function(h){var j=this,e=isNaN(h),g=j.decimalPrecision;if(e||!h){return e?"":h}else{if(!j.allowDecimals||g<=0){g=0}}return parseFloat(Ext.Number.toFixed(parseFloat(h),g))},onBlur:function(g){var d=this,e=d.rawToValue(d.getRawValue());if(!Ext.isEmpty(e)){d.setValue(e)}d.callParent([g])},setSpinUpEnabled:function(c,d){this.callParent(arguments);if(!d){delete this.spinUpDisabledByToggle}else{this.spinUpDisabledByToggle=!c}},onSpinUp:function(){var b=this;if(!b.readOnly){b.setSpinValue(Ext.Number.constrain(b.getValue()+b.step,b.minValue,b.maxValue))}},setSpinDownEnabled:function(c,d){this.callParent(arguments);if(!d){delete this.spinDownDisabledByToggle}else{this.spinDownDisabledByToggle=!c}},onSpinDown:function(){var b=this;if(!b.readOnly){b.setSpinValue(Ext.Number.constrain(b.getValue()-b.step,b.minValue,b.maxValue))}},setSpinValue:function(c){var d=this;if(d.enforceMaxLength){if(d.fixPrecision(c).toString().length>d.maxLength){return}}d.setValue(c)}});Ext.define("Ext.toolbar.Paging",{extend:Ext.toolbar.Toolbar,xtype:"pagingtoolbar",alternateClassName:"Ext.PagingToolbar",mixins:[Ext.util.StoreHolder],displayInfo:false,prependButtons:false,displayMsg:"Displaying {0} - {1} of {2}",emptyMsg:"No data to display",beforePageText:"Page",afterPageText:"of {0}",firstText:"First Page",prevText:"Previous Page",nextText:"Next Page",lastText:"Last Page",refreshText:"Refresh",inputItemWidth:30,emptyPageData:{total:0,currentPage:0,pageCount:0,toRecord:0,fromRecord:0},defaultBindProperty:"store",getPagingItems:function(){var c=this,d={scope:c,blur:c.onPagingBlur};d[Ext.supports.SpecialKeyDownRepeat?"keydown":"keypress"]=c.onPagingKeyDown;return[{itemId:"first",tooltip:c.firstText,overflowText:c.firstText,iconCls:Ext.baseCSSPrefix+"tbar-page-first",disabled:true,handler:c.moveFirst,scope:c},{itemId:"prev",tooltip:c.prevText,overflowText:c.prevText,iconCls:Ext.baseCSSPrefix+"tbar-page-prev",disabled:true,handler:c.movePrevious,scope:c},"-",c.beforePageText,{xtype:"numberfield",itemId:"inputItem",name:"inputItem",cls:Ext.baseCSSPrefix+"tbar-page-number",allowDecimals:false,minValue:1,hideTrigger:true,enableKeyEvents:true,keyNavEnabled:false,selectOnFocus:true,submitValue:false,isFormField:false,width:c.inputItemWidth,margin:"-1 2 3 2",listeners:d},{xtype:"tbtext",itemId:"afterTextItem",text:Ext.String.format(c.afterPageText,1)},"-",{itemId:"next",tooltip:c.nextText,overflowText:c.nextText,iconCls:Ext.baseCSSPrefix+"tbar-page-next",disabled:true,handler:c.moveNext,scope:c},{itemId:"last",tooltip:c.lastText,overflowText:c.lastText,iconCls:Ext.baseCSSPrefix+"tbar-page-last",disabled:true,handler:c.moveLast,scope:c},"-",{itemId:"refresh",tooltip:c.refreshText,overflowText:c.refreshText,iconCls:Ext.baseCSSPrefix+"tbar-loading",disabled:c.store.isLoading(),handler:c.doRefresh,scope:c}]},initComponent:function(){var d=this,e=d.items||d.buttons||[],g;d.bindStore(d.store||"ext-empty-store",true);g=d.getPagingItems();if(d.prependButtons){d.items=e.concat(g)}else{d.items=g.concat(e)}delete d.buttons;if(d.displayInfo){d.items.push("->");d.items.push({xtype:"tbtext",itemId:"displayItem"})}d.callParent()},beforeRender:function(){this.callParent(arguments);this.updateBarInfo()},updateBarInfo:function(){var b=this;if(!b.store.isLoading()){b.calledInternal=true;b.onLoad();b.calledInternal=false}},updateInfo:function(){var m=this,o=m.child("#displayItem"),j=m.store,h=m.getPageData(),n,l;if(o){n=j.getCount();if(n===0){l=m.emptyMsg}else{l=Ext.String.format(m.displayMsg,h.fromRecord,h.toRecord,h.total)}o.setText(l)}},onLoad:function(){var o=this,r,l,s,m,p,n,q;p=o.store.getCount();n=p===0;if(!n){r=o.getPageData();l=r.currentPage;s=r.pageCount;if(l>s){o.store.loadPage(s);return}m=Ext.String.format(o.afterPageText,isNaN(s)?1:s)}else{l=0;s=0;m=Ext.String.format(o.afterPageText,0)}Ext.suspendLayouts();q=o.child("#afterTextItem");if(q){q.setText(m)}q=o.getInputItem();if(q){q.setDisabled(n).setValue(l)}o.setChildDisabled("#first",l===1||n);o.setChildDisabled("#prev",l===1||n);o.setChildDisabled("#next",l===s||n);o.setChildDisabled("#last",l===s||n);o.setChildDisabled("#refresh",false);o.updateInfo();Ext.resumeLayouts(true);if(!o.calledInternal){o.fireEvent("change",o,r||o.emptyPageData)}},setChildDisabled:function(e,d){var g=this.child(e);if(g){g.setDisabled(d)}},getPageData:function(){var c=this.store,d=c.getTotalCount();return{total:d,currentPage:c.currentPage,pageCount:Math.ceil(d/c.pageSize),fromRecord:((c.currentPage-1)*c.pageSize)+1,toRecord:Math.min(c.currentPage*c.pageSize,d)}},onLoadError:function(){this.setChildDisabled("#refresh",false)},getInputItem:function(){return this.child("#inputItem")},readPageFromInput:function(e){var j=this.getInputItem(),h=false,g;if(j){g=j.getValue();h=parseInt(g,10);if(!g||isNaN(h)){j.setValue(e.currentPage);return false}}return h},onPagingBlur:function(g){var d=this.getInputItem(),e;if(d){e=this.getPageData().currentPage;d.setValue(e)}},onPagingKeyDown:function(c,d){this.processKeyEvent(c,d)},processKeyEvent:function(m,n){var p=this,e=n.getKey(),q=p.getPageData(),l=n.shiftKey?10:1,o;if(e==n.RETURN){n.stopEvent();o=p.readPageFromInput(q);if(o!==false){o=Math.min(Math.max(1,o),q.pageCount);if(o!==q.currentPage&&p.fireEvent("beforechange",p,o)!==false){p.store.loadPage(o)}}}else{if(e==n.HOME||e==n.END){n.stopEvent();o=e==n.HOME?1:q.pageCount;m.setValue(o)}else{if(e==n.UP||e==n.PAGE_UP||e==n.DOWN||e==n.PAGE_DOWN){n.stopEvent();o=p.readPageFromInput(q);if(o){if(e==n.DOWN||e==n.PAGE_DOWN){l*=-1}o+=l;if(o>=1&&o<=q.pageCount){m.setValue(o)}}}}}},beforeLoad:function(){this.setChildDisabled("#refresh",true)},moveFirst:function(){if(this.fireEvent("beforechange",this,1)!==false){this.store.loadPage(1);return true}return false},movePrevious:function(){var g=this,e=g.store,d=e.currentPage-1;if(d>0){if(g.fireEvent("beforechange",g,d)!==false){e.previousPage();return true}}return false},moveNext:function(){var h=this,g=h.store,j=h.getPageData().pageCount,e=g.currentPage+1;if(e<=j){if(h.fireEvent("beforechange",h,e)!==false){g.nextPage();return true}}return false},moveLast:function(){var c=this,d=c.getPageData().pageCount;if(c.fireEvent("beforechange",c,d)!==false){c.store.loadPage(d);return true}return false},doRefresh:function(){var d=this,e=d.store,g=e.currentPage;if(d.fireEvent("beforechange",d,g)!==false){e.loadPage(g);return true}return false},getStoreListeners:function(){return{beforeload:this.beforeLoad,load:this.onLoad,exception:this.onLoadError}},onBindStore:function(){if(this.rendered){this.updateBarInfo()}},onDestroy:function(){this.bindStore(null);this.callParent()}});Ext.define("ExtThemeNeptune.toolbar.Paging",{override:"Ext.toolbar.Paging",defaultButtonUI:"plain-toolbar",inputItemWidth:40});Ext.define("Ext.view.BoundList",{extend:Ext.view.View,alias:"widget.boundlist",alternateClassName:"Ext.BoundList",mixins:[Ext.mixin.Queryable],pageSize:0,baseCls:Ext.baseCSSPrefix+"boundlist",itemCls:Ext.baseCSSPrefix+"boundlist-item",listItemCls:"",shadow:false,trackOver:true,preserveScrollOnRefresh:true,enableInitialSelection:false,refreshSelmodelOnRefresh:true,componentLayout:"boundlist",navigationModel:"boundlist",scrollable:true,childEls:["listWrap","listEl"],renderTpl:['<div id="{id}-listWrap" data-ref="listWrap" role="presentation" class="{baseCls}-list-ct ',Ext.dom.Element.unselectableCls,'">','<ul id="{id}-listEl" data-ref="listEl" class="'+Ext.baseCSSPrefix+'list-plain">',"</ul>","</div>","{%","var pagingToolbar=values.$comp.pagingToolbar;","if (pagingToolbar) {","Ext.DomHelper.generateMarkup(pagingToolbar.getRenderTree(), out);","}","%}",{disableFormats:true}],focusOnToFront:false,initComponent:function(){var d=this,e=d.baseCls,g=d.itemCls;d.selectedItemCls=e+"-selected";if(d.trackOver){d.overItemCls=e+"-item-over"}d.itemSelector="."+g;d.scrollerSelector="ul."+Ext.baseCSSPrefix+"list-plain";if(d.floating){d.addCls(e+"-floating")}if(!d.tpl){d.tpl=new Ext.XTemplate('<tpl for=".">','<li role="option" unselectable="on" class="'+g+'">'+d.getInnerTpl(d.displayField)+"</li>","</tpl>")}else{if(!d.tpl.isTemplate){d.tpl=new Ext.XTemplate(d.tpl)}}if(d.pageSize){d.pagingToolbar=d.createPagingToolbar()}d.callParent()},getRefOwner:function(){return this.pickerField||this.callParent()},getRefItems:function(){var d=this.callParent(),c=this.pagingToolbar;if(c){d.push(c)}return d},createPagingToolbar:function(){return Ext.widget("pagingtoolbar",{id:this.id+"-paging-toolbar",pageSize:this.pageSize,store:this.dataSource,border:false,ownerCt:this,ownerLayout:this.getComponentLayout()})},getNodeContainer:function(){return this.listEl},refresh:function(){var j=this,g=j.tpl,e=j.pagingToolbar,h=j.rendered;g.field=j.pickerField;g.store=j.store;j.callParent();g.field=g.store=null;if(h&&e&&e.rendered&&!j.preserveScrollOnRefresh){j.el.appendChild(e.el,true)}},bindStore:function(e,d){var g=this.pagingToolbar;this.callParent(arguments);if(g){g.bindStore(e,d)}},getInnerTpl:function(b){return"{"+b+"}"},onShow:function(){this.callParent();if(Ext.Element.getActiveElement()!==this.pickerField.inputEl.dom){this.focus()}},onHide:function(){var b=this.pickerField.inputEl.dom;if(Ext.Element.getActiveElement()!==b&&Ext.EventObject.pointerType!=="touch"){b.focus()}this.callParent(arguments)},afterComponentLayout:function(l,h,g,j){var m=this.pickerField;this.callParent(arguments);if(m&&m.alignPicker){m.alignPicker()}},onItemClick:function(h){var l=this,j=l.pickerField,g=j.valueField,m=l.getSelectionModel().getSelection();if(!j.multiSelect&&m.length){m=m[0];if(m&&j.isEqual(h.get(g),m.get(g))&&j.collapse){j.collapse()}}},onDestroy:function(){this.callParent();Ext.destroyMembers(this,"pagingToolbar","listWrap","listEl")},privates:{getTargetEl:function(){return this.listEl},getOverflowEl:function(){return this.listWrap},finishRenderChildren:function(){var b=this.pagingToolbar;this.callParent(arguments);if(b){b.finishRender()}}}});Ext.define("E.overrides.BoundList",{override:"Ext.view.BoundList",collectData:function(o,l){var m=[],n=0,j=o.length,h;for(;n<j;n++){h=o[n];m[n]=h.data}return m}});Ext.define("Ext.form.field.ComboBox",{extend:Ext.form.field.Picker,alternateClassName:"Ext.form.ComboBox",alias:["widget.combobox","widget.combo"],mixins:[Ext.util.StoreHolder],config:{filters:null,selection:null,valueNotFoundText:null},publishes:["selection"],twoWayBindable:["selection"],triggerCls:Ext.baseCSSPrefix+"form-arrow-trigger",hiddenName:"",collapseOnSelect:false,hiddenDataCls:Ext.baseCSSPrefix+"hidden-display "+Ext.baseCSSPrefix+"form-data-hidden",ariaRole:"combobox",childEls:{hiddenDataEl:true},filtered:false,afterRender:function(){var b=this;b.callParent(arguments);b.setHiddenValue(b.value)},multiSelect:false,delimiter:", ",displayField:"text",triggerAction:"all",allQuery:"",queryParam:"query",queryMode:"remote",queryCaching:true,autoLoadOnValue:false,pageSize:0,anyMatch:false,caseSensitive:false,autoSelect:true,typeAhead:false,typeAheadDelay:250,selectOnTab:true,forceSelection:false,growToLongestValue:true,clearFilterOnBlur:true,defaultListConfig:{loadingHeight:70,minWidth:70,maxHeight:300,shadow:"sides"},transformInPlace:true,getGrowWidth:function(){var r=this,p=r.inputEl.dom.value,q,o,n,s,u,m,v;if(r.growToLongestValue){q=r.displayField;o=r.store;n=o.data.length;s=0;for(u=0;u<n;u++){m=o.getAt(u).data[q];v=m.length;if(v>s){s=v;p=m}}}return p},initComponent:function(){var o=this,q=Ext.isDefined,j=o.store,p=o.transform,m=o.displayTpl,l,n;if("pinList" in o){o.collapseOnSelect=!o.pinList}if(p){l=Ext.getDom(p);if(l){if(!o.store){j=Ext.Array.map(Ext.Array.from(l.options),function(a){return[a.value,a.text]})}if(!o.name){o.name=l.name}if(!("value" in o)){o.value=l.value}}}o.bindStore(j||"ext-empty-store",true,true);if(!m){o.displayTpl=new Ext.XTemplate('<tpl for=".">{[typeof values === "string" ? values : values["'+o.displayField+'"]]}<tpl if="xindex < xcount">'+o.delimiter+"</tpl></tpl>")}else{if(!m.isTemplate){o.displayTpl=new Ext.XTemplate(m)}}n=o.queryMode==="local";if(!q(o.queryDelay)){o.queryDelay=n?10:500}if(!q(o.minChars)){o.minChars=n?0:4}o.callParent();o.doQueryTask=new Ext.util.DelayedTask(o.doRawQuery,o);if(l){if(o.transformInPlace){o.render(l.parentNode,l);delete o.renderTo}Ext.removeNode(l)}},getSubTplMarkup:function(j){var h=this,g="",e=h.callParent(arguments);if(h.hiddenName){g='<div id="'+j.id+'-hiddenDataEl" data-ref="hiddenDataEl" class="'+h.hiddenDataCls+'" role="presentation"></div>'}return g+e},applyFilters:function(d,g){var e=this;if(d===null||d.isFilterCollection){return d}if(d){if(!g){g=this.getFilters()}g.beginUpdate();g.splice(0,g.length,d);g.each(function(a){a.ownerId=e.id});g.endUpdate()}return g},applyValueNotFoundText:function(e){var d=this,g=d.valueNotFoundRecord||(d.valueNotFoundRecord=new Ext.data.Model());g.set(d.displayField,e);if(d.valueField&&d.displayField!==d.valueField){g.set(d.valueField,e)}return e},getFilters:function(c){var d=this.filters;if(!d&&c!==false){d=new Ext.util.FilterCollection();this.setFilters(d)}return d},updateFilters:function(e,d){var g=this;if(d){d.un("endupdate","onEndUpdateFilters",g)}if(e){e.on("endupdate","onEndUpdateFilters",g)}g.onEndUpdateFilters(e)},onEndUpdateFilters:function(m){var n=this,l=n.filtered,o=!!m&&(m.length>0),j,h;if(l||o){n.filtered=o;j=[];h=n.store.getFilters();h.each(function(a){if(a.ownerId===n.id&&!m.contains(a)){j.push(a)}});h.splice(0,j,m.items)}},getStore:function(){return this.store},completeEdit:function(g){var d=this,e=d.queryFilter;d.doQueryTask.cancel();d.assertValue();if(e&&d.queryMode==="local"&&d.clearFilterOnBlur){d.getStore().getFilters().remove(e)}},onFocus:function(c){var d=this;d.callParent([c]);if(d.triggerAction!=="all"&&d.queryFilter&&d.queryMode==="local"&&d.clearFilterOnBlur){delete d.lastQuery;d.doRawQuery()}},assertValue:function(){var m=this,l=m.getRawValue(),j,g,h=m.getDisplayValue();if(m.forceSelection){if(m.multiSelect){if(l!==h){m.setRawValue(h)}}else{j=m.findRecordByDisplay(l);if(j){g=m.value;if(!m.findRecordByValue(g)){m.select(j,true)}}else{if(m.lastSelection){m.setRawValue(h)}}}}m.collapse()},onTypeAhead:function(){var o=this,p=o.displayField,j=o.store.findRecord(p,o.getRawValue()),q=o.getPicker(),n,l,m;if(j){n=j.get(p);l=n.length;m=o.getRawValue().length;q.highlightItem(q.getNode(j));if(m!==0&&m!==l){o.setRawValue(n);o.selectText(m,n.length)}}},resetToDefault:Ext.emptyFn,beforeReset:function(){var b=this.queryFilter;this.callParent();if(b){this.getStore().getFilters().remove(b)}},onUnbindStore:function(){var g=this,e=g.picker,d=g.queryFilter;if(d&&!g.store.isDestroyed){g.changingFilters=true;g.getStore().getFilters().remove(d);g.changingFilters=false}g.pickerSelectionModel.destroy();if(e){e.bindStore(null)}},onBindStore:function(j,o){var m=this,h=m.picker,n,l;if(j){if(j.autoCreated){m.queryMode="local";m.valueField=m.displayField="field1";if(!j.expanded){m.displayField="field2"}}if(!Ext.isDefined(m.valueField)){m.valueField=m.displayField}n={byValue:{rootProperty:"data",unique:false}};n.byValue.property=m.valueField;j.setExtraKeys(n);if(m.displayField===m.valueField){j.byText=j.byValue}else{n.byText={rootProperty:"data",unique:false};n.byText.property=m.displayField;j.setExtraKeys(n)}l={rootProperty:"data",extraKeys:{byInternalId:{property:"internalId"},byValue:{property:"",rootProperty:"data"}},listeners:{beginupdate:m.onValueCollectionBeginUpdate,endupdate:m.onValueCollectionEndUpdate,scope:m}};l.extraKeys.byValue.property=m.valueField;m.valueCollection=new Ext.util.Collection(l);m.pickerSelectionModel=new Ext.selection.DataViewModel({mode:m.multiSelect?"SIMPLE":"SINGLE",enableInitialSelection:false,pruneRemoved:false,selected:m.valueCollection,store:j});if(!o){m.resetToDefault()}if(h){h.setSelectionModel(m.pickerSelectionModel);if(h.getStore()!==j){h.bindStore(j)}}}},bindStore:function(h,j,g){var l=this,m=l.queryFilter;l.mixins.storeholder.bindStore.call(l,h,g);h=l.getStore();if(h&&m&&!j){h.getFilters().add(m)}if(!g&&h){l.setValueOnData()}},getStoreListeners:function(){var b=this;return{datachanged:b.onDataChanged,load:b.onLoad,exception:b.onException,update:b.onStoreUpdate,remove:b.checkValueOnChange,filterchange:b.checkValueOnChange}},onDataChanged:function(){var b=this;if(b.grow&&b.growToLongestValue){b.autoSize()}},checkValueOnChange:function(){var b=this;if(b.multiSelect){}else{if(b.forceSelection&&!b.changingFilters&&!b.findRecordByValue(b.value)){b.setValue(null)}}},onStoreUpdate:function(c,d){if(d.get(this.valueField)===this.value){this.setValue(d)}},onException:function(){this.collapse()},onLoad:function(d,e,g){if(g&&!(d.lastOptions&&"rawQuery" in d.lastOptions)){this.setValueOnData()}},setValueOnData:function(){var b=this;if(b.value==null){if(b.getStore().getCount()){b.doAutoSelect()}else{b.setValue(b.value)}}else{b.setValue(b.value)}},doRawQuery:function(){var d=this,c=d.inputEl.dom.value;if(d.multiSelect){c=c.split(d.delimiter).pop()}d.doQuery(c,false,true)},doQuery:function(j,g,l){var m=this,h=m.beforeQuery({query:j||"",rawQuery:l,forceAll:g,combo:m,cancel:false});if(h!==false&&!h.cancel){if(m.queryCaching&&h.query===m.lastQuery){m.expand();if(m.queryMode==="local"){m.doAutoSelect()}}else{m.lastQuery=h.query;if(m.queryMode==="local"){m.doLocalQuery(h)}else{m.doRemoteQuery(h)}}}return true},beforeQuery:function(d){var c=this;if(c.fireEvent("beforequery",d)===false){d.cancel=true}else{if(!d.cancel){if(d.query.length<c.minChars&&!d.forceAll){d.cancel=true}}}return d},doLocalQuery:function(h){var l=this,j=h.query,m=l.getStore().getFilters(),g=l.queryFilter;l.queryFilter=null;l.changingFilters=true;m.beginUpdate();if(g){m.remove(g)}if(j){g=l.queryFilter=new Ext.util.Filter({id:l.id+"-filter",anyMatch:l.anyMatch,caseSensitive:l.caseSensitive,root:"data",property:l.displayField,value:l.enableRegEx?new RegExp(j):j});m.add(g)}m.endUpdate();l.changingFilters=false;if(l.store.getCount()||l.getPicker().emptyText){l.expand()}else{l.collapse()}l.afterQuery(h)},doRemoteQuery:function(d){var g=this,e=function(){if(!g.isDestroyed){g.afterQuery(d)}};g.expand();if(g.pageSize){g.loadPage(1,{rawQuery:d.rawQuery,callback:e})}else{g.store.load({params:g.getParams(d.query),rawQuery:d.rawQuery,callback:e})}},afterQuery:function(d){var c=this;if(c.store.getCount()){if(c.typeAhead){c.doTypeAhead()}if(d.rawQuery){if(c.picker&&!c.picker.getSelectionModel().hasSelection()){c.doAutoSelect()}}else{c.doAutoSelect()}}c.checkChange()},loadPage:function(c,d){this.store.loadPage(c,Ext.apply({params:this.getParams(this.lastQuery)},d))},onPageChange:function(c,d){this.loadPage(d);return false},getParams:function(g){var d={},e=this.queryParam;if(e){d[e]=g}return d},doAutoSelect:function(){var c=this,d=c.picker;if(d&&c.autoSelect&&c.store.getCount()>0){d.getNavigationModel().setPosition(c.picker.getSelectionModel().lastSelected||0)}},doTypeAhead:function(){var c=this,d=Ext.event.Event;if(!c.typeAheadTask){c.typeAheadTask=new Ext.util.DelayedTask(c.onTypeAhead,c)}if(c.lastKey!==d.BACKSPACE&&c.lastKey!==d.DELETE){c.typeAheadTask.delay(c.typeAheadDelay)}},onTriggerClick:function(){var b=this;if(!b.readOnly&&!b.disabled){if(b.isExpanded){b.collapse()}else{if(b.triggerAction==="all"){b.doQuery(b.allQuery,true)}else{if(b.triggerAction==="last"){b.doQuery(b.lastQuery,true)}else{b.doQuery(b.getRawValue(),false,true)}}}}},onFieldMutation:function(l){var n=this,e=l.getKey(),o=e===l.BACKSPACE||e===l.DELETE,m=n.inputEl.dom.value,j=m.length;if((m!==n.lastMutatedValue||o)&&e!==l.TAB){n.lastMutatedValue=m;n.lastKey=e;if(j&&(l.type!=="keyup"||(!l.isSpecialKey()||o))){n.doQueryTask.delay(n.queryDelay)}else{if(!j&&(!e||o)){if(!n.multiSelect){n.value=null;n.displayTplData=undefined}n.collapse();if(n.queryFilter){n.changingFilters=true;n.store.removeFilter(n.queryFilter,true);n.changingFilters=false}}n.callParent([l])}}},onDestroy:function(){var b=this;b.doQueryTask.cancel();if(b.typeAheadTask){b.typeAheadTask.cancel();b.typeAheadTask=null}b.bindStore(null);b.valueCollection=Ext.destroy(b.valueCollection);b.callParent()},onAdded:function(){var b=this;b.callParent(arguments);if(b.picker){b.picker.ownerCt=b.up("[floating]");b.picker.registerWithOwnerCt()}},createPicker:function(){var g=this,d,e=Ext.apply({xtype:"boundlist",pickerField:g,selectionModel:g.pickerSelectionModel,floating:true,hidden:true,store:g.getPickerStore(),displayField:g.displayField,preserveScrollOnRefresh:true,pageSize:g.pageSize,tpl:g.tpl},g.listConfig,g.defaultListConfig);d=g.picker=Ext.widget(e);if(g.pageSize){d.pagingToolbar.on("beforechange",g.onPageChange,g)}if(!d.initialConfig.maxHeight){d.on({beforeshow:g.onBeforePickerShow,scope:g})}d.getSelectionModel().on({beforeselect:g.onBeforeSelect,beforedeselect:g.onBeforeDeselect,scope:g});d.getNavigationModel().navigateOnSpace=false;return d},getPickerStore:function(){return this.store},onBeforePickerShow:function(g){var e=this,h=e.getPosition()[1]-Ext.getBody().getScroll().top,j=Ext.Element.getViewportHeight()-h-e.getHeight();g.maxHeight=Math.max(h,j)-5},onBeforeSelect:function(g,e,d){return this.fireEvent("beforeselect",this,e,d)},onBeforeDeselect:function(g,e,d){return this.fireEvent("beforedeselect",this,e,d)},getSelection:function(){var d=this.getPicker().getSelectionModel(),c=d.getSelection();return c.length?d.getLastSelected():null},updateSelection:function(e){var d=this,g;if(!d.ignoreNextSelection){d.ignoreNextSelection=true;g=d.getPicker().getSelectionModel();if(e){g.select(e)}else{g.deselectAll()}d.ignoreNextSelection=false}},updateBindSelection:function(g,j){var h=this,e=null;if(!h.ignoreNextSelection){h.ignoreNextSelection=true;if(j.length){e=g.getLastSelected();h.hasHadSelection=true}if(h.hasHadSelection){h.setSelection(e)}h.ignoreNextSelection=false}},onValueCollectionBeginUpdate:Ext.emptyFn,onValueCollectionEndUpdate:function(){var l=this,m=l.store,j=l.valueCollection.getRange(),g=j[0],h=j.length;l.updateBindSelection(l.pickerSelectionModel,j);if(l.isSelectionUpdating()){return}Ext.suspendLayouts();l.updateValue();if(h&&((!l.multiSelect&&m.contains(g))||l.collapseOnSelect||!m.getCount())){l.updatingValue=true;l.collapse();l.updatingValue=false}Ext.resumeLayouts(true);if(h&&!l.suspendCheckChange){if(!l.multiSelect){j=g}l.fireEvent("select",l,j)}},isSelectionUpdating:function(){var b=this.pickerSelectionModel;return b.deselectingDuringSelect||b.refreshing},onExpand:function(){var b=this.getPicker().getNavigationModel();if(b){b.enable()}},onCollapse:function(){var b=this.getPicker().getNavigationModel();if(b){b.disable()}if(this.updatingValue){this.doQueryTask.cancel()}},select:function(l,h){var m=this,g=m.picker,j;if(l&&l.isModel&&h===true&&g){j=!g.getSelectionModel().isSelected(l)}if(!j){m.suspendEvent("select")}m.setValue(l);m.resumeEvent("select")},findRecord:function(h,j){var e=this.store,g=e.findExact(h,j);return g!==-1?e.getAt(g):false},getSelectedRecord:function(){return this.findRecordByValue(this.value)||null},findRecordByValue:function(c){var d=this.store.byValue.get(c);if(d){return d[0]||d}},findRecordByDisplay:function(c){var d=this.store.byText.get(c);if(d){return d[0]||d}},addValue:function(b){return this.doSetValue(b,true)},setValue:function(b){return this.doSetValue(b)},doSetValue:function(H,K){var A=this,P=A.getStore(),N=P.getModel(),D=[],Q=[],z,F=A.autoLoadOnValue,R=P.getCount()>0||P.isLoaded(),U=P.hasPendingLoad(),J=F&&!R&&!U,M=A.forceSelection,I=A.pickerSelectionModel,O=A.displayTplData||(A.displayTplData=[]),T=A.displayField===A.valueField,C,B,S,G,L;if(H!=null&&!T&&(U||J||!R||P.isEmptyStore)){if(H.isModel){O.length=0;O.push(H.data);L=A.getDisplayValue()}if(K){A.value=Ext.Array.from(A.value).concat(H)}else{if(H.isModel){H=H.get(A.valueField)}A.value=H}A.setHiddenValue(A.value);A.setRawValue(L||"");if(J&&P.getProxy().isRemote){P.load()}return A}H=K?Ext.Array.from(A.value).concat(H):Ext.Array.from(H);for(C=0,B=H.length;C<B;C++){S=H[C];if(!S||!S.isModel){S=A.findRecordByValue(z=S);if(!S){S=A.valueCollection.find(A.valueField,z)}}if(!S){if(!M){if(!S){G={};G[A.displayField]=H[C];if(A.valueField&&A.displayField!==A.valueField){G[A.valueField]=H[C]}S=new N(G)}}else{if(A.valueNotFoundRecord){S=A.valueNotFoundRecord}}}if(S){D.push(S);Q.push(S.get(A.valueField))}}A.lastSelection=D;A.suspendEvent("select");A.valueCollection.beginUpdate();if(D.length){I.select(D,false)}else{I.deselectAll()}A.valueCollection.endUpdate();A.resumeEvent("select");return A},updateValue:function(){var q=this,n=q.valueCollection.getRange(),m=n.length,r=[],p=q.displayTplData||(q.displayTplData=[]),o=q.inputEl,s,l;p.length=0;for(s=0;s<m;s++){l=n[s];p.push(l.data);if(l!==q.valueNotFoundRecord){r.push(l.get(q.valueField))}}q.setHiddenValue(r);q.value=q.multiSelect?r:r[0];if(!Ext.isDefined(q.value)){q.value=undefined}q.displayTplData=p;if(o&&q.emptyText&&!Ext.isEmpty(q.value)){o.removeCls(q.emptyCls)}q.setRawValue(q.getDisplayValue());q.checkChange();q.applyEmptyText()},setHiddenValue:function(n){var q=this,v=q.hiddenName,r,u,m,o,p,s;if(!q.hiddenDataEl||!v){return}n=Ext.Array.from(n);u=q.hiddenDataEl.dom;m=u.childNodes;o=m[0];p=n.length;s=m.length;if(!o&&p>0){q.hiddenDataEl.setHtml(Ext.DomHelper.markup({tag:"input",type:"hidden",name:v}));s=1;o=u.firstChild}while(s>p){u.removeChild(m[0]);--s}while(s<p){u.appendChild(o.cloneNode(true));++s}for(r=0;r<p;r++){m[r].value=n[r]}},getDisplayValue:function(){return this.displayTpl.apply(this.displayTplData)},getValue:function(){var e=this,g=e.picker,h=e.getRawValue(),j=e.value;if(e.getDisplayValue()!==h){e.displayTplData=undefined;if(g){e.valueCollection.suspendEvents();g.getSelectionModel().deselectAll();e.valueCollection.resumeEvents()}if(e.multiSelect||e.forceSelection){j=e.value=undefined}else{j=e.value=h}}e.value=j==null?null:j;return e.value},getSubmitValue:function(){var b=this.getValue();if(Ext.isEmpty(b)){b=""}return b},isEqual:function(j,l){var g=Ext.Array.from,m,h;j=g(j);l=g(l);h=j.length;if(h!==l.length){return false}for(m=0;m<h;m++){if(l[m]!==j[m]){return false}}return true},clearValue:function(){this.setValue([])},onEditorTab:function(c){var d=this.getPicker().getNavigationModel();if(this.selectOnTab&&d&&this.isExpanded){d.selectHighlighted(c)}}});Ext.define("Ext.picker.Month",{extend:Ext.Component,alias:"widget.monthpicker",alternateClassName:"Ext.MonthPicker",isMonthPicker:true,focusable:true,childEls:["bodyEl","prevEl","nextEl","monthEl","yearEl"],renderTpl:['<div id="{id}-bodyEl" data-ref="bodyEl" class="{baseCls}-body">','<div id="{id}-monthEl" data-ref="monthEl" class="{baseCls}-months">','<tpl for="months">','<div class="{parent.baseCls}-item {parent.baseCls}-month">','<a style="{parent.monthStyle}" role="button" hidefocus="on" class="{parent.baseCls}-item-inner">{.}</a>',"</div>","</tpl>","</div>",'<div id="{id}-yearEl" data-ref="yearEl" class="{baseCls}-years">','<div class="{baseCls}-yearnav">','<div class="{baseCls}-yearnav-button-ct">','<a id="{id}-prevEl" data-ref="prevEl" class="{baseCls}-yearnav-button {baseCls}-yearnav-prev" hidefocus="on" role="button"></a>',"</div>",'<div class="{baseCls}-yearnav-button-ct">','<a id="{id}-nextEl" data-ref="nextEl" class="{baseCls}-yearnav-button {baseCls}-yearnav-next" hidefocus="on" role="button"></a>',"</div>","</div>",'<tpl for="years">','<div class="{parent.baseCls}-item {parent.baseCls}-year">','<a hidefocus="on" class="{parent.baseCls}-item-inner" role="button">{.}</a>',"</div>","</tpl>","</div>",'<div class="'+Ext.baseCSSPrefix+'clear"></div>','<tpl if="showButtons">','<div class="{baseCls}-buttons">{%',"var me=values.$comp, okBtn=me.okBtn, cancelBtn=me.cancelBtn;","okBtn.ownerLayout = cancelBtn.ownerLayout = me.componentLayout;","okBtn.ownerCt = cancelBtn.ownerCt = me;","Ext.DomHelper.generateMarkup(okBtn.getRenderTree(), out);","Ext.DomHelper.generateMarkup(cancelBtn.getRenderTree(), out);","%}</div>","</tpl>","</div>"],okText:"OK",cancelText:"Cancel",baseCls:Ext.baseCSSPrefix+"monthpicker",showButtons:true,measureWidth:35,measureMaxHeight:20,smallCls:Ext.baseCSSPrefix+"monthpicker-small",totalYears:10,yearOffset:5,monthOffset:6,initComponent:function(){var b=this;b.selectedCls=b.baseCls+"-selected";if(b.small){b.addCls(b.smallCls)}b.setValue(b.value);b.activeYear=b.getYear(new Date().getFullYear()-4,-4);if(b.showButtons){b.okBtn=new Ext.button.Button({text:b.okText,handler:b.onOkClick,scope:b});b.cancelBtn=new Ext.button.Button({text:b.cancelText,handler:b.onCancelClick,scope:b})}this.callParent()},beforeRender:function(){var n=this,q=0,j=[],l=Ext.Date.getShortMonthName,o=n.monthOffset,m=n.monthMargin,p="";if(n.padding&&!n.width){n.cacheWidth()}n.callParent();for(;q<o;++q){j.push(l(q),l(q+o))}if(Ext.isDefined(m)){p="margin: 0 "+m+"px;"}Ext.apply(n.renderData,{months:j,years:n.getYears(),showButtons:n.showButtons,monthStyle:p})},cacheWidth:function(){var e=this,d=e.parseBox(e.padding),g=Ext.getBody().createChild({cls:e.baseCls+" "+e.borderBoxCls,style:"position:absolute;top:-1000px;left:-1000px;",html:"&nbsp;"});e.self.prototype.width=g.getWidth()+d.left+d.right;g.destroy()},afterRender:function(){var c=this,d=c.bodyEl;c.callParent();c.mon(d,"click",c.onBodyClick,c);c.mon(d,"dblclick",c.onBodyClick,c);c.years=d.select("."+c.baseCls+"-year a");c.months=d.select("."+c.baseCls+"-month a");c.backRepeater=new Ext.util.ClickRepeater(c.prevEl,{handler:Ext.Function.bind(c.adjustYear,c,[-c.totalYears])});c.prevEl.addClsOnOver(c.baseCls+"-yearnav-prev-over");c.nextRepeater=new Ext.util.ClickRepeater(c.nextEl,{handler:Ext.Function.bind(c.adjustYear,c,[c.totalYears])});c.nextEl.addClsOnOver(c.baseCls+"-yearnav-next-over");c.updateBody();if(!Ext.isDefined(c.monthMargin)){Ext.picker.Month.prototype.monthMargin=c.calculateMonthMargin()}},calculateMonthMargin:function(){var l=this,g=l.monthEl,h=l.months,j=h.first(),m=j.getMargin("l");while(m&&l.getLargest()>l.measureMaxHeight){--m;h.setStyle("margin","0 "+m+"px")}return m},getLargest:function(d){var c=0;this.months.each(function(a){var b=a.getHeight();if(b>c){c=b}});return c},setValue:function(n){var o=this,m=o.activeYear,l=o.monthOffset,h,j;if(!n){o.value=[null,null]}else{if(Ext.isDate(n)){o.value=[n.getMonth(),n.getFullYear()]}else{o.value=[n[0],n[1]]}}if(o.rendered){h=o.value[1];if(h!==null){if((h<m||h>m+o.yearOffset)){o.activeYear=h-o.yearOffset+1}}o.updateBody()}return o},getValue:function(){return this.value},hasSelection:function(){var b=this.value;return b[0]!==null&&b[1]!==null},getYears:function(){var n=this,m=n.yearOffset,l=n.activeYear,j=l+m,o=l,h=[];for(;o<j;++o){h.push(o,o+m)}return h},updateBody:function(){var w=this,z=w.years,C=w.months,r=w.getYears(),q=w.selectedCls,u=w.getYear(null),y=w.value[0],s=w.monthOffset,x,A,v,D,B;if(w.rendered){z.removeCls(q);C.removeCls(q);A=z.elements;D=A.length;for(v=0;v<D;v++){B=Ext.fly(A[v]);x=r[v];B.dom.innerHTML=x;if(x==u){B.addCls(q)}}if(y!==null){if(y<s){y=y*2}else{y=(y-s)*2+1}C.item(y).addCls(q)}}},getYear:function(e,g){var d=this.value[1];g=g||0;return d===null?e:d+g},onBodyClick:function(h,e){var j=this,g=h.type=="dblclick";if(h.getTarget("."+j.baseCls+"-month")){h.stopEvent();j.onMonthClick(e,g)}else{if(h.getTarget("."+j.baseCls+"-year")){h.stopEvent();j.onYearClick(e,g)}}},adjustYear:function(b){if(typeof b!="number"){b=this.totalYears}this.activeYear+=b;this.updateBody()},onOkClick:function(){this.fireEvent("okclick",this,this.value)},onCancelClick:function(){this.fireEvent("cancelclick",this)},onMonthClick:function(g,e){var d=this;d.value[0]=d.resolveOffset(d.months.indexOf(g),d.monthOffset);d.updateBody();d.fireEvent("month"+(e?"dbl":"")+"click",d,d.value);d.fireEvent("select",d,d.value)},onYearClick:function(g,e){var d=this;d.value[1]=d.activeYear+d.resolveOffset(d.years.indexOf(g),d.yearOffset);d.updateBody();d.fireEvent("year"+(e?"dbl":"")+"click",d,d.value);d.fireEvent("select",d,d.value)},resolveOffset:function(d,c){if(d%2===0){return(d/2)}else{return c+Math.floor(d/2)}},beforeDestroy:function(){var b=this;b.years=b.months=null;Ext.destroyMembers(b,"backRepeater","nextRepeater","okBtn","cancelBtn");b.callParent()},onDestroy:function(){Ext.destroyMembers(this,"okBtn","cancelBtn");this.callParent()},privates:{finishRenderChildren:function(){var b=this;this.callParent(arguments);if(this.showButtons){b.okBtn.finishRender();b.cancelBtn.finishRender()}}}});Ext.define("ExtThemeNeptune.picker.Month",{override:"Ext.picker.Month",measureMaxHeight:36});Ext.define("Ext.picker.Date",{extend:Ext.Component,alias:"widget.datepicker",alternateClassName:"Ext.DatePicker",isDatePicker:true,focusable:true,childEls:["innerEl","eventEl","prevEl","nextEl","middleBtnEl","footerEl"],border:true,renderTpl:['<div id="{id}-innerEl" data-ref="innerEl">','<div class="{baseCls}-header">','<div id="{id}-prevEl" data-ref="prevEl" class="{baseCls}-prev {baseCls}-arrow" role="button" title="{prevText}"></div>','<div id="{id}-middleBtnEl" data-ref="middleBtnEl" class="{baseCls}-month" role="heading">{%this.renderMonthBtn(values, out)%}</div>','<div id="{id}-nextEl" data-ref="nextEl" class="{baseCls}-next {baseCls}-arrow" role="button" title="{nextText}"></div>',"</div>",'<table role="grid" id="{id}-eventEl" data-ref="eventEl" class="{baseCls}-inner" {%','if (values.$comp.focusable) {out.push("tabindex=\\"0\\"");}','%} cellspacing="0">','<thead><tr role="row">','<tpl for="dayNames">','<th role="columnheader" class="{parent.baseCls}-column-header" aria-label="{.}">','<div role="presentation" class="{parent.baseCls}-column-header-inner">{.:this.firstInitial}</div>',"</th>","</tpl>","</tr></thead>",'<tbody><tr role="row">','<tpl for="days">',"{#:this.isEndOfWeek}",'<td role="gridcell">','<div hidefocus="on" class="{parent.baseCls}-date"></div>',"</td>","</tpl>","</tr></tbody>","</table>",'<tpl if="showToday">','<div id="{id}-footerEl" data-ref="footerEl" role="presentation" class="{baseCls}-footer">{%this.renderTodayBtn(values, out)%}</div>',"</tpl>","</div>",{firstInitial:function(b){return Ext.picker.Date.prototype.getDayInitial(b)},isEndOfWeek:function(c){c--;var d=c%7===0&&c!==0;return d?'</tr><tr role="row">':""},renderTodayBtn:function(d,c){Ext.DomHelper.generateMarkup(d.$comp.todayBtn.getRenderTree(),c)},renderMonthBtn:function(d,c){Ext.DomHelper.generateMarkup(d.$comp.monthBtn.getRenderTree(),c)}}],todayText:"Today",ariaTitle:"Date Picker: {0}",ariaTitleDateFormat:"F d",todayTip:"{0} (Spacebar)",minText:"This date is before the minimum date",maxText:"This date is after the maximum date",disabledDaysText:"Disabled",disabledDatesText:"Disabled",nextText:"Next Month (Control+Right)",prevText:"Previous Month (Control+Left)",monthYearText:"Choose a month (Control+Up/Down to move years)",monthYearFormat:"F Y",startDay:0,showToday:true,disableAnim:false,baseCls:Ext.baseCSSPrefix+"datepicker",longDayFormat:"F d, Y",initHour:12,numDays:42,initComponent:function(){var c=this,d=Ext.Date.clearTime;c.selectedCls=c.baseCls+"-selected";c.disabledCellCls=c.baseCls+"-disabled";c.prevCls=c.baseCls+"-prevday";c.activeCls=c.baseCls+"-active";c.cellCls=c.baseCls+"-cell";c.nextCls=c.baseCls+"-prevday";c.todayCls=c.baseCls+"-today";if(!c.format){c.format=Ext.Date.defaultFormat}if(!c.dayNames){c.dayNames=Ext.Date.dayNames}c.dayNames=c.dayNames.slice(c.startDay).concat(c.dayNames.slice(0,c.startDay));c.callParent();c.value=c.value?d(c.value,true):d(new Date());c.initDisabledDays()},getRefOwner:function(){return this.pickerField||this.callParent()},getRefItems:function(){var e=[],g=this.monthBtn,d=this.todayBtn;if(g){e.push(g)}if(d){e.push(d)}return e},beforeRender:function(){var d=this,g=new Array(d.numDays),e=Ext.Date.format(new Date(),d.format);if(d.padding&&!d.width){d.cacheWidth()}d.monthBtn=new Ext.button.Split({ownerCt:d,ownerLayout:d.getComponentLayout(),text:"",tooltip:d.monthYearText,listeners:{click:d.doShowMonthPicker,arrowclick:d.doShowMonthPicker,scope:d}});if(d.showToday){d.todayBtn=new Ext.button.Button({ownerCt:d,ownerLayout:d.getComponentLayout(),text:Ext.String.format(d.todayText,e),tooltip:Ext.String.format(d.todayTip,e),tooltipType:"title",handler:d.selectToday,scope:d})}d.callParent();Ext.applyIf(d,{renderData:{}});Ext.apply(d.renderData,{dayNames:d.dayNames,showToday:d.showToday,prevText:d.prevText,nextText:d.nextText,days:g});d.protoEl.unselectable()},cacheWidth:function(){var e=this,d=e.parseBox(e.padding),g=Ext.getBody().createChild({cls:e.baseCls+" "+e.borderBoxCls,style:"position:absolute;top:-1000px;left:-1000px;"});e.self.prototype.width=g.getWidth()+d.left+d.right;g.destroy()},onRender:function(d,e){var g=this;g.callParent(arguments);g.cells=g.eventEl.select("tbody td");g.textNodes=g.eventEl.query("tbody td div");g.eventEl.set({"aria-labelledby":g.monthBtn.id});g.mon(g.eventEl,{scope:g,mousewheel:g.handleMouseWheel,click:{fn:g.handleDateClick,delegate:"div."+g.baseCls+"-date"}})},initEvents:function(){var j=this,h=j.pickerField,g=Ext.Date,e=g.DAY;j.callParent();if(!j.focusable){j.el.on({mousedown:j.onMouseDown})}j.prevRepeater=new Ext.util.ClickRepeater(j.prevEl,{handler:j.showPrevMonth,scope:j,preventDefault:true,stopDefault:true});j.nextRepeater=new Ext.util.ClickRepeater(j.nextEl,{handler:j.showNextMonth,scope:j,preventDefault:true,stopDefault:true});j.keyNav=new Ext.util.KeyNav(h?h.inputEl:j.eventEl,Ext.apply({scope:j,capture:true,left:function(a){if(a.ctrlKey){j.showPrevMonth()}else{j.update(g.add(j.activeDate,e,-1))}},right:function(a){if(a.ctrlKey){j.showNextMonth()}else{j.update(g.add(j.activeDate,e,1))}},up:function(a){if(a.ctrlKey){j.showNextYear()}else{j.update(g.add(j.activeDate,e,-7))}},down:function(a){if(a.ctrlKey){j.showPrevYear()}else{j.update(g.add(j.activeDate,e,7))}},pageUp:function(a){if(a.ctrlKey){j.showPrevYear()}else{j.showPrevMonth()}},pageDown:function(a){if(a.ctrlKey){j.showNextYear()}else{j.showNextMonth()}},tab:function(a){j.handleTabClick(a);return true},enter:function(a){j.handleDateClick(a,j.activeCell.firstChild)},space:function(){j.setValue(new Date(j.activeCell.firstChild.dateValue));var c=j.startValue,b=j.value,a;if(h){a=h.getValue();if(a&&c&&a.getTime()===b.getTime()){h.setValue(c)}else{h.setValue(b)}}},home:function(a){j.update(g.getFirstDateOfMonth(j.activeDate))},end:function(a){j.update(g.getLastDateOfMonth(j.activeDate))}},j.keyNavConfig));if(j.disabled){j.syncDisabled(true)}j.update(j.value)},onMouseDown:function(b){b.preventDefault()},handleTabClick:function(h){var j=this,g=j.getSelectedDate(j.activeDate),e=j.handler;if(!j.disabled&&g.dateValue&&!Ext.fly(g.parentNode).hasCls(j.disabledCellCls)){j.setValue(new Date(g.dateValue));j.fireEvent("select",j,j.value);if(e){e.call(j.scope||j,j,j.value)}j.onSelect()}},getSelectedDate:function(v){var s=this,o=v.getTime(),n=s.cells,c=s.selectedCls,q=n.elements,r=q.length,p,u;n.removeCls(c);for(u=0;u<r;u++){p=q[u].firstChild;if(p.dateValue==o){return p}}return null},initDisabledDays:function(){var n=this,d=n.disabledDates,o="(?:",l,m,q,p;if(!n.disabledDatesRE&&d){l=d.length-1;q=d.length;for(m=0;m<q;m++){p=d[m];o+=Ext.isDate(p)?"^"+Ext.String.escapeRegex(Ext.Date.dateFormat(p,n.format))+"$":p;if(m!==l){o+="|"}}n.disabledDatesRE=new RegExp(o+")")}},setDisabledDates:function(d){var c=this;if(Ext.isArray(d)){c.disabledDates=d;c.disabledDatesRE=null}else{c.disabledDatesRE=d}c.initDisabledDays();c.update(c.value,true);return c},setDisabledDays:function(b){this.disabledDays=b;return this.update(this.value,true)},setMinDate:function(b){this.minDate=b;return this.update(this.value,true)},setMaxDate:function(b){this.maxDate=b;return this.update(this.value,true)},setValue:function(b){this.value=Ext.Date.clearTime(b||new Date(),true);return this.update(this.value)},getValue:function(){return this.value},getDayInitial:function(b){return b.substr(0,1)},onEnable:function(){this.callParent();this.syncDisabled(false);this.update(this.activeDate)},onShow:function(){this.callParent();this.syncDisabled(false);if(this.pickerField){this.startValue=this.pickerField.getValue()}},onHide:function(){this.callParent();this.syncDisabled(true)},onDisable:function(){this.callParent();this.syncDisabled(true)},getActive:function(){return this.activeDate||this.value},runAnimation:function(g){var d=this.monthPicker,e={duration:200,callback:function(){d.setVisible(!g)}};if(g){d.el.slideOut("t",e)}else{d.el.slideIn("t",e)}},hideMonthPicker:function(e){var g=this,d=g.monthPicker;if(d&&d.isVisible()){if(g.shouldAnimate(e)){g.runAnimation(true)}else{d.hide()}}return g},doShowMonthPicker:function(){this.showMonthPicker()},doHideMonthPicker:function(){this.hideMonthPicker()},showMonthPicker:function(g){var h=this,j=h.el,e;if(h.rendered&&!h.disabled){e=h.createMonthPicker();if(!e.isVisible()){e.setValue(h.getActive());e.setSize(j.getSize());e.floatParent=null;e.setPosition(-j.getBorderWidth("l"),-j.getBorderWidth("t"));if(h.shouldAnimate(g)){h.runAnimation(false)}else{e.show()}}}return h},shouldAnimate:function(b){return Ext.isDefined(b)?b:!this.disableAnim},createMonthPicker:function(){var c=this,d=c.monthPicker;if(!d){c.monthPicker=d=new Ext.picker.Month({renderTo:c.el,ownerCmp:c,floating:true,padding:c.padding,shadow:false,small:c.showToday===false,listeners:{scope:c,cancelclick:c.onCancelClick,okclick:c.onOkClick,yeardblclick:c.onOkClick,monthdblclick:c.onOkClick}});if(!c.disableAnim){d.el.setStyle("display","none")}d.hide();c.on("beforehide",c.doHideMonthPicker,c)}return d},onOkClick:function(h,m){var n=this,l=m[0],o=m[1],j=new Date(o,l,n.getActive().getDate());if(j.getMonth()!==l){j=Ext.Date.getLastDateOfMonth(new Date(o,l,1))}n.setValue(j);n.hideMonthPicker()},onCancelClick:function(){this.selectedUpdate(this.activeDate);this.hideMonthPicker()},showPrevMonth:function(b){return this.setValue(Ext.Date.add(this.activeDate,Ext.Date.MONTH,-1))},showNextMonth:function(b){return this.setValue(Ext.Date.add(this.activeDate,Ext.Date.MONTH,1))},showPrevYear:function(){return this.setValue(Ext.Date.add(this.activeDate,Ext.Date.YEAR,-1))},showNextYear:function(){return this.setValue(Ext.Date.add(this.activeDate,Ext.Date.YEAR,1))},handleMouseWheel:function(d){d.stopEvent();if(!this.disabled){var c=d.getWheelDelta();if(c>0){this.showPrevMonth()}else{if(c<0){this.showNextMonth()}}}},handleDateClick:function(h,g){var j=this,e=j.handler;h.stopEvent();if(!j.disabled&&g.dateValue&&!Ext.fly(g.parentNode).hasCls(j.disabledCellCls)){j.setValue(new Date(g.dateValue));j.fireEvent("select",j,j.value);if(e){e.call(j.scope||j,j,j.value)}j.onSelect()}},onSelect:function(){if(this.hideOnSelect){this.hide()}},selectToday:function(){var g=this,e=g.todayBtn,d=g.handler;if(e&&!e.disabled){g.setValue(Ext.Date.clearTime(new Date()));g.fireEvent("select",g,g.value);if(d){d.call(g.scope||g,g,g.value)}g.onSelect()}return g},selectedUpdate:function(r){var p=this,q=r.getTime(),s=p.cells,c=p.selectedCls,n,o=s.getCount(),m;m=p.activeCell;if(m){Ext.fly(m).removeCls(c);m.setAttribute("aria-selected",false)}for(n=0;n<o;n++){m=s.item(n);if(p.textNodes[n].dateValue==q){p.activeCell=m.dom;p.eventEl.dom.setAttribute("aria-activedescendant",m.dom.id);m.dom.setAttribute("aria-selected",true);m.addCls(c);p.fireEvent("highlightitem",p,m);break}}},fullUpdate:function(aa){var R=this,al=R.cells.elements,am=R.textNodes,N=R.disabledCellCls,ae=Ext.Date,O=0,T=0,ag=+ae.clearTime(aa,true),ac=+ae.clearTime(new Date()),S=R.minDate?ae.clearTime(R.minDate,true):Number.NEGATIVE_INFINITY,Q=R.maxDate?ae.clearTime(R.maxDate,true):Number.POSITIVE_INFINITY,W=R.disabledDatesRE,U=R.disabledDatesText,L=R.disabledDays?R.disabledDays.join(""):false,Y=R.disabledDaysText,M=R.format,ah=ae.getDaysInMonth(aa),Z=ae.getFirstDateOfMonth(aa),ak=Z.getDay()-R.startDay,K=ae.add(aa,ae.MONTH,-1),ab=R.ariaTitleDateFormat,ai,X,ao,P,af,ad,an,aj,V;if(ak<0){ak+=7}ah+=ak;ai=ae.getDaysInMonth(K)-ak;X=new Date(K.getFullYear(),K.getMonth(),ai,R.initHour);if(R.showToday){P=ae.clearTime(new Date());ao=(P<S||P>Q||(W&&M&&W.test(ae.dateFormat(P,M)))||(L&&L.indexOf(P.getDay())!=-1));if(!R.disabled){R.todayBtn.setDisabled(ao)}}af=function(c,a){var b=al[c];V=+ae.clearTime(X,true);b.setAttribute("aria-label",ae.format(X,ab));b.firstChild.dateValue=V;if(V==ac){a+=" "+R.todayCls;b.firstChild.title=R.todayText;R.todayElSpan=Ext.DomHelper.append(b.firstChild,{tag:"span",cls:Ext.baseCSSPrefix+"hidden-clip",html:R.todayText},true)}if(V==ag){R.activeCell=b;R.eventEl.dom.setAttribute("aria-activedescendant",b.id);b.setAttribute("aria-selected",true);a+=" "+R.selectedCls;R.fireEvent("highlightitem",R,b)}else{b.setAttribute("aria-selected",false)}if(V<S){a+=" "+N;b.setAttribute("aria-label",R.minText)}else{if(V>Q){a+=" "+N;b.setAttribute("aria-label",R.maxText)}else{if(L&&L.indexOf(X.getDay())!==-1){b.setAttribute("aria-label",Y);a+=" "+N}else{if(W&&M){aj=ae.dateFormat(X,M);if(W.test(aj)){b.setAttribute("aria-label",U.replace("%0",aj));a+=" "+N}}}}}b.className=a+" "+R.cellCls};for(;O<R.numDays;++O){if(O<ak){ad=(++ai);an=R.prevCls}else{if(O>=ah){ad=(++T);an=R.nextCls}else{ad=O-ak+1;an=R.activeCls}}am[O].innerHTML=ad;X.setDate(X.getDate()+1);af(O,an)}R.monthBtn.setText(Ext.Date.format(aa,R.monthYearFormat))},update:function(g,h){var e=this,j=e.activeDate;if(e.rendered){e.activeDate=g;if(!h&&j&&e.el&&j.getMonth()==g.getMonth()&&j.getFullYear()==g.getFullYear()){e.selectedUpdate(g,j)}else{e.fullUpdate(g,j)}}return e},beforeDestroy:function(){var b=this;if(b.rendered){Ext.destroy(b.keyNav,b.monthPicker,b.monthBtn,b.nextRepeater,b.prevRepeater,b.todayBtn,b.todayElSpan);delete b.textNodes;delete b.cells.elements}b.callParent()},privates:{finishRenderChildren:function(){var b=this;b.callParent();b.monthBtn.finishRender();if(b.showToday){b.todayBtn.finishRender()}},getFocusEl:function(){return this.eventEl},syncDisabled:function(d){var g=this,e=g.keyNav;if(e){e.setDisabled(d);g.prevRepeater.setDisabled(d);g.nextRepeater.setDisabled(d);if(g.todayBtn){g.todayBtn.setDisabled(d)}}}}});Ext.define("Ext.form.field.Date",{extend:Ext.form.field.Picker,alias:"widget.datefield",alternateClassName:["Ext.form.DateField","Ext.form.Date"],format:"m/d/Y",altFormats:"m/d/Y|n/j/Y|n/j/y|m/j/y|n/d/y|m/j/Y|n/d/Y|m-d-y|m-d-Y|m/d|m-d|md|mdy|mdY|d|Y-m-d|n-j|n/j",disabledDaysText:"Disabled",disabledDatesText:"Disabled",minText:"The date in this field must be equal to or after {0}",maxText:"The date in this field must be equal to or before {0}",invalidText:"{0} is not a valid date - it must be in the format {1}",triggerCls:Ext.baseCSSPrefix+"form-date-trigger",showToday:true,useStrict:undefined,initTime:"12",initTimeFormat:"H",matchFieldWidth:false,startDay:0,valuePublishEvent:["select","blur"],initComponent:function(){var h=this,e=Ext.isString,j,g;j=h.minValue;g=h.maxValue;if(e(j)){h.minValue=h.parseDate(j)}if(e(g)){h.maxValue=h.parseDate(g)}h.disabledDatesRE=null;h.initDisabledDays();h.callParent()},initValue:function(){var d=this,c=d.value;if(Ext.isString(c)){d.value=d.rawToValue(c)}d.callParent()},initDisabledDays:function(){if(this.disabledDates){var d=this.disabledDates,j=d.length-1,m="(?:",l,n=d.length,o;for(l=0;l<n;l++){o=d[l];m+=Ext.isDate(o)?"^"+Ext.String.escapeRegex(o.dateFormat(this.format))+"$":o;if(l!==j){m+="|"}}this.disabledDatesRE=new RegExp(m+")")}},setDisabledDates:function(g){var d=this,e=d.picker;d.disabledDates=g;d.initDisabledDays();if(e){e.setDisabledDates(d.disabledDatesRE)}},setDisabledDays:function(c){var d=this.picker;this.disabledDays=c;if(d){d.setDisabledDays(c)}},setMinValue:function(h){var e=this,g=e.picker,j=(Ext.isString(h)?e.parseDate(h):h);e.minValue=j;if(g){g.minText=Ext.String.format(e.minText,e.formatDate(e.minValue));g.setMinDate(j)}},setMaxValue:function(j){var e=this,g=e.picker,h=(Ext.isString(j)?e.parseDate(j):j);e.maxValue=h;if(g){g.maxText=Ext.String.format(e.maxText,e.formatDate(e.maxValue));g.setMaxDate(h)}},getErrors:function(s){s=arguments.length>0?s:this.formatDate(this.processRawValue(this.getRawValue()));var A=this,u=Ext.String.format,z=Ext.Date.clearTime,v=A.callParent([s]),w=A.disabledDays,F=A.disabledDatesRE,x=A.minValue,B=A.maxValue,C=w?w.length:0,D=0,I,H,y,G;if(s===null||s.length<1){return v}I=s;s=A.parseDate(s);if(!s){v.push(u(A.invalidText,I,Ext.Date.unescapeFormat(A.format)));return v}G=s.getTime();if(x&&G<z(x).getTime()){v.push(u(A.minText,A.formatDate(x)))}if(B&&G>z(B).getTime()){v.push(u(A.maxText,A.formatDate(B)))}if(w){y=s.getDay();for(;D<C;D++){if(y===w[D]){v.push(A.disabledDaysText);break}}}H=A.formatDate(s);if(F&&F.test(H)){v.push(u(A.disabledDatesText,H))}return v},rawToValue:function(b){return this.parseDate(b)||b||null},valueToRaw:function(b){return this.formatDate(this.parseDate(b))},safeParse:function(n,m){var o=this,q=Ext.Date,l=null,j=o.useStrict,p;if(q.formatContainsHourInfo(m)){l=q.parse(n,m,j)}else{p=q.parse(n+" "+o.initTime,m+" "+o.initTimeFormat,j);if(p){l=q.clearTime(p)}}return l},getSubmitValue:function(){var c=this.submitFormat||this.format,d=this.getValue();return d?Ext.Date.format(d,c):""},parseDate:function(o){if(!o||Ext.isDate(o)){return o}var p=this,m=p.safeParse(o,p.format),j=p.altFormats,n=p.altFormatsArray,q=0,l;if(!m&&j){n=n||j.split("|");l=n.length;for(;q<l&&!m;++q){m=p.safeParse(o,n[q])}}return m},formatDate:function(b){return Ext.isDate(b)?Ext.Date.dateFormat(b,this.format):b},createPicker:function(){var d=this,c=Ext.String.format;return new Ext.picker.Date({pickerField:d,floating:true,focusable:false,hidden:true,minDate:d.minValue,maxDate:d.maxValue,disabledDatesRE:d.disabledDatesRE,disabledDatesText:d.disabledDatesText,disabledDays:d.disabledDays,disabledDaysText:d.disabledDaysText,format:d.format,showToday:d.showToday,startDay:d.startDay,minText:c(d.minText,d.formatDate(d.minValue)),maxText:c(d.maxText,d.formatDate(d.maxValue)),listeners:{scope:d,select:d.onSelect},keyNavConfig:{esc:function(){d.collapse()}}})},onSelect:function(e,g){var d=this;d.setValue(g);d.fireEvent("select",d,g);d.collapse()},onExpand:function(){var b=this.getValue();this.picker.setValue(Ext.isDate(b)?b:new Date())},onBlur:function(g){var d=this,e=d.rawToValue(d.getRawValue());if(Ext.isDate(e)){d.setValue(e)}d.callParent([g])}});Ext.define("Ext.toolbar.Separator",{extend:Ext.toolbar.Item,alias:"widget.tbseparator",alternateClassName:"Ext.Toolbar.Separator",baseCls:Ext.baseCSSPrefix+"toolbar-separator",ariaRole:"separator"});Ext.define("Ext.layout.container.boxOverflow.Menu",{extend:Ext.layout.container.boxOverflow.None,alternateClassName:"Ext.layout.boxOverflow.Menu",alias:["box.overflow.menu","box.overflow.Menu"],noItemsMenuText:'<div class="'+Ext.baseCSSPrefix+'toolbar-no-items" role="menuitem">(None)</div>',menuCls:Ext.baseCSSPrefix+"box-menu",constructor:function(d){var c=this;c.callParent(arguments);c.menuItems=[]},beginLayout:function(b){this.callParent(arguments);this.clearOverflow(b)},beginLayoutCycle:function(c,d){this.callParent(arguments);if(!d){this.clearOverflow(c);this.layout.cacheChildItems(c)}},onRemove:function(b){Ext.Array.remove(this.menuItems,b)},getSuffixConfig:function(){var h=this,j=h.layout,g=j.owner,e=g.id;h.menu=new Ext.menu.Menu({listeners:{scope:h,beforeshow:h.beforeMenuShow}});h.menuTrigger=new Ext.button.Button({id:e+"-menu-trigger",cls:h.menuCls+"-after "+Ext.baseCSSPrefix+"toolbar-item",plain:g.usePlainButtons,ownerCt:g,ownerLayout:j,iconCls:Ext.baseCSSPrefix+h.getOwnerType(g)+"-more-icon",ui:g.defaultButtonUI||"default",menu:h.menu,showEmptyMenu:true,getSplitCls:function(){return""}});return h.menuTrigger.getRenderTree()},getOverflowCls:function(b){return this.menuCls+"-body-"+b},handleOverflow:function(g){var d=this,e=d.layout;d.showTrigger(g);if(e.direction!=="vertical"){d.menuTrigger.setLocalY((g.state.boxPlan.maxSize-d.menuTrigger[e.names.getHeight]())/2)}return{reservedSpace:d.triggerTotalWidth}},captureChildElements:function(){var e=this,g=e.menuTrigger,d=e.layout.names;if(g.rendering){g.finishRender();e.triggerTotalWidth=g[d.getWidth]()+g.el.getMargin(d.parallelMargins)}},clearOverflow:function(o){var p=this,l=p.menuItems,q,s=0,r=l.length,m=p.layout.owner,n=m._asLayoutRoot;m.suspendLayouts();p.captureChildElements();p.hideTrigger();m.resumeLayouts();for(;s<r;s++){q=l[s];q.suspendLayouts();q.show();q.resumeLayouts(n)}l.length=0},showTrigger:function(H){var w=this,A=w.layout,J=A.owner,x=A.names,K=x.x,F=x.width,v=H.state.boxPlan,I=v.targetSize[F],C=H.childItems,z=C.length,D=w.menuTrigger,u,B,G,y;D.suspendLayouts();D.show();D.resumeLayouts(w._asLayoutRoot);I-=w.triggerTotalWidth;J.suspendLayouts();w.menuItems.length=0;for(G=0;G<z;G++){u=C[G];y=u.props;if(y[K]+y[F]>I){B=u.target;w.menuItems.push(B);B.hide()}}J.resumeLayouts()},hideTrigger:function(){var b=this.menuTrigger;if(b){b.hide()}},beforeMenuShow:function(n){var o=this,l=o.menuItems,r=0,m=l.length,p,q,s=function(a,b){return a.isXType("buttongroup")&&!(b instanceof Ext.toolbar.Separator)};n.suspendLayouts();n.removeAll(false);for(;r<m;r++){p=l[r];if(!r&&(p instanceof Ext.toolbar.Separator)){continue}if(q&&(s(p,q)||s(q,p))){n.add("-")}o.addComponentToMenu(n,p);q=p}if(n.items.length<1){n.add(o.noItemsMenuText)}n.resumeLayouts()},createMenuConfig:function(j,g){var e=Ext.apply({},j.initialConfig),h=j.toggleGroup;Ext.copyTo(e,j,["iconCls","icon","itemId","disabled","handler","scope","menu","tabIndex"]);Ext.applyIf(e,{text:j.overflowText||j.text,hideOnClick:g,destroyMenu:false,listeners:null});if(j.isFormField){e.value=j.getValue();e.listeners={change:function(a,b,c){j.setValue(b)}}}else{if(h||j.enableToggle){Ext.apply(e,{hideOnClick:false,group:h,checked:j.pressed,handler:function(b,a){j.onClick(a)}})}}if(j.isButton&&!j.changeListenersAdded){j.on({textchange:this.onButtonAttrChange,iconchange:this.onButtonAttrChange,toggle:this.onButtonToggle});j.changeListenersAdded=true}delete e.margin;delete e.ownerCt;delete e.xtype;delete e.id;delete e.itemId;return e},onButtonAttrChange:function(d){var c=d.overflowClone;c.suspendLayouts();c.setText(d.text);c.setIcon(d.icon);c.setIconCls(d.iconCls);c.resumeLayouts(true)},onButtonToggle:function(d,c){if(d.overflowClone.checked!==c){d.overflowClone.setChecked(c)}},addComponentToMenu:function(l,o){var m=this,n,h,j;if(o instanceof Ext.toolbar.Fill){return}else{if(o instanceof Ext.toolbar.Separator){l.add("-")}else{if(o.overflowClone){l.add(o.overflowClone)}else{if(o.isComponent){if(o.isXType("splitbutton")){o.overflowClone=l.add(m.createMenuConfig(o,true))}else{if(o.isXType("button")){o.overflowClone=l.add(m.createMenuConfig(o,!o.menu))}else{if(o.isXType("buttongroup")){h=o.items.items;j=h.length;for(n=0;n<j;n++){m.addComponentToMenu(l,h[n])}}else{o.overflowClone=l.add(Ext.create(Ext.getClassName(o),m.createMenuConfig(o)))}}}}}}}},destroy:function(){var b=this.menuTrigger;if(b&&!this.layout.owner.items.contains(b)){delete b.ownerCt}Ext.destroy(this.menu,b)}});Ext.define("Ext.menu.Item",{extend:Ext.Component,alias:"widget.menuitem",alternateClassName:"Ext.menu.TextItem",isMenuItem:true,mixins:[Ext.mixin.Queryable],activeCls:Ext.baseCSSPrefix+"menu-item-active",ariaRole:"menuitem",clickHideDelay:0,destroyMenu:true,disabledCls:Ext.baseCSSPrefix+"menu-item-disabled",hideOnClick:true,menuAlign:"tl-tr?",menuExpandDelay:200,menuHideDelay:200,tooltipType:"qtip",focusable:true,baseCls:Ext.baseCSSPrefix+"menu-item",arrowCls:Ext.baseCSSPrefix+"menu-item-arrow",baseIconCls:Ext.baseCSSPrefix+"menu-item-icon",textCls:Ext.baseCSSPrefix+"menu-item-text",indentCls:Ext.baseCSSPrefix+"menu-item-indent",indentNoSeparatorCls:Ext.baseCSSPrefix+"menu-item-indent-no-separator",indentRightIconCls:Ext.baseCSSPrefix+"menu-item-indent-right-icon",indentRightArrowCls:Ext.baseCSSPrefix+"menu-item-indent-right-arrow",linkCls:Ext.baseCSSPrefix+"menu-item-link",linkHrefCls:Ext.baseCSSPrefix+"menu-item-link-href",childEls:["itemEl","iconEl","textEl","arrowEl"],renderTpl:'<tpl if="plain">{text}<tpl else><a id="{id}-itemEl" data-ref="itemEl" class="{linkCls}<tpl if="hasHref"> {linkHrefCls}</tpl>{childElCls}" href="{href}" role="menuitem" <tpl if="hrefTarget"> target="{hrefTarget}"</tpl> hidefocus="true" unselectable="on"<tpl if="tabIndex != null"> tabindex="{tabIndex}"</tpl>><span id="{id}-textEl" data-ref="textEl" class="{textCls} {textCls}-{ui} {indentCls}{childElCls}" unselectable="on">{text}</span><tpl if="hasIcon"><div role="presentation" id="{id}-iconEl" data-ref="iconEl" class="{baseIconCls}-{ui} {baseIconCls}{[values.rightIcon ? "-right" : ""]} {iconCls}{childElCls} {glyphCls}" style="<tpl if="icon">background-image:url({icon});</tpl><tpl if="glyph && glyphFontFamily">font-family:{glyphFontFamily};</tpl>"><tpl if="glyph">&#{glyph};</tpl></div></tpl><tpl if="showCheckbox"><div role="presentation" id="{id}-checkEl" data-ref="checkEl" class="{baseIconCls}-{ui} {baseIconCls}{[(values.hasIcon && !values.rightIcon) ? "-right" : ""]} {groupCls} {checkboxCls}{childElCls}"></div></tpl><tpl if="hasMenu"><div role="presentation" id="{id}-arrowEl" data-ref="arrowEl" class="{arrowCls} {arrowCls}-{ui}{childElCls}"></div></tpl></a></tpl>',maskOnDisable:false,iconAlign:"left",canFocus:function(){var b=this;return b.focusable&&b.rendered&&b.canActivate!==false&&!b.destroying&&!b.isDestroyed&&b.isVisible(true)},onFocus:function(c){var d=this;d.callParent([c]);if(!d.plain){d.addCls(d.activeCls)}d.activated=true;if(d.hasListeners.activate){d.fireEvent("activate",d)}},onFocusLeave:function(c){var d=this;d.callParent([c]);if(d.activated){if(!d.plain){d.removeCls(d.activeCls)}d.doHideMenu();d.activated=false;if(d.hasListeners.deactivate){d.fireEvent("deactivate",d)}}},doHideMenu:function(){var b=this.menu;if(b&&b.isVisible()){b.hide()}},cancelDeferHide:function(){clearTimeout(this.hideMenuTimer)},deferHideParentMenus:function(){var c=this.getRefOwner(),d;if(c.floating){c.bubble(function(a){if(!a.floating&&!a.isMenuItem){return false}if(a.isMenu){c=a}});c.hide()}},expandMenu:function(g,e){var d=this;if(d.menu){d.hideOnClick=false;d.cancelDeferHide();if(e===0){d.doExpandMenu(g)}else{clearTimeout(d.expandMenuTimer);d.expandMenuTimer=Ext.defer(d.doExpandMenu,e||d.menuExpandDelay,d,[g])}}},doExpandMenu:function(e){var d=this,g=d.menu;if(d.activated&&(!g.rendered||!g.isVisible())){d.parentMenu.activeChild=g;g.ownerCmp=d;g.parentMenu=d.parentMenu;g.constrainTo=document.body;g.autoFocus=!e||!e.pointerType;g.showBy(d,d.menuAlign)}},getRefItems:function(e){var g=this.menu,d;if(g){d=g.getRefItems(e);d.unshift(g)}return d||[]},getValue:function(){return this.value},hideMenu:function(d){var c=this;if(c.menu){clearTimeout(c.expandMenuTimer);c.hideMenuTimer=Ext.defer(c.doHideMenu,Ext.isNumber(d)?d:c.menuHideDelay,c)}},initComponent:function(){var d=this,e=d.cls?[d.cls]:[],g;if(d.hasOwnProperty("canActivate")){d.focusable=d.canActivate}if(d.plain){e.push(Ext.baseCSSPrefix+"menu-item-plain")}if(e.length){d.cls=e.join(" ")}if(d.menu){g=d.menu;d.menu=null;d.setMenu(g)}d.callParent(arguments)},onClick:function(m){var n=this,o=n.clickHideDelay,l=m.browserEvent,e,j;if(!n.href||n.disabled){m.stopEvent();if(n.disabled){return false}}if(n.disabled||n.handlingClick){return}if(n.hideOnClick){if(!o){n.deferHideParentMenus()}else{n.deferHideParentMenusTimer=Ext.defer(n.deferHideParentMenus,o,n)}}e=n.fireEvent("click",n,m);if(n.isDestroyed){return}if(e!==false&&n.handler){Ext.callback(n.handler,n.scope,[n,m],0,n)}if(Ext.isIE9m){j=l.returnValue===false?true:false}else{j=!!l.defaultPrevented}if(n.href&&m.type!=="click"&&!j){n.handlingClick=true;n.itemEl.dom.click();n.handlingClick=false}if(!n.hideOnClick){n.focus()}return e},onRemoved:function(){var b=this;if(b.activated&&b.parentMenu.activeItem===b){b.parentMenu.deactivateActiveItem()}b.callParent(arguments);b.parentMenu=b.ownerCmp=null},beforeDestroy:function(){var b=this;if(b.rendered){b.clearTip()}b.callParent()},onDestroy:function(){var b=this;clearTimeout(b.expandMenuTimer);b.cancelDeferHide();clearTimeout(b.deferHideParentMenusTimer);b.setMenu(null);b.callParent(arguments)},beforeRender:function(){var q=this,p=q.glyph,r=Ext._glyphFontFamily,v=!!(q.icon||q.iconCls||p),o=!!q.menu,u=((q.iconAlign==="right")&&!o),x=q.isMenuCheckItem,z=[],w=q.ownerCt,s=w.plain,y;q.callParent();if(v){if(o&&q.showCheckbox){v=false}}if(typeof p==="string"){y=p.split("@");p=y[0];r=y[1]}if(!s||(v&&!u)||x){if(w.showSeparator&&!s){z.push(q.indentCls)}else{z.push(q.indentNoSeparatorCls)}}if(o){z.push(q.indentRightArrowCls)}else{if(v&&(u||x)){z.push(q.indentRightIconCls)}}Ext.applyIf(q.renderData,{hasHref:!!q.href,href:q.href||"#",hrefTarget:q.hrefTarget,icon:q.icon,iconCls:q.iconCls,glyph:p,glyphCls:p?Ext.baseCSSPrefix+"menu-item-glyph":undefined,glyphFontFamily:r,hasIcon:v,hasMenu:o,indent:!s||v||x,isCheckItem:x,rightIcon:u,plain:q.plain,text:q.text,arrowCls:q.arrowCls,baseIconCls:q.baseIconCls,textCls:q.textCls,indentCls:z.join(" "),linkCls:q.linkCls,linkHrefCls:q.linkHrefCls,groupCls:q.group?q.groupCls:"",tabIndex:q.tabIndex})},onRender:function(){var b=this;b.callParent(arguments);if(b.tooltip){b.setTooltip(b.tooltip,true)}},setMenu:function(j,l){var m=this,g=m.menu,h=m.arrowEl;if(g){g.ownerCmp=g.parentMenu=null;if(l===true||(l!==false&&m.destroyMenu)){Ext.destroy(g)}}if(j){j=m.menu=Ext.menu.Manager.get(j,{ownerCmp:m,focusOnToFront:false});j.ownerCmp=m}else{j=m.menu=null}if(j&&m.rendered&&!m.destroying&&h){h[j?"addCls":"removeCls"](m.arrowCls)}},setHandler:function(c,d){this.handler=c||null;this.scope=d},setIcon:function(d){var e=this.iconEl,g=this.icon;if(e){e.src=d||Ext.BLANK_IMAGE_URL}this.icon=d;this.fireEvent("iconchange",this,g,d)},setIconCls:function(e){var h=this,g=h.iconEl,j=h.iconCls;if(g){if(h.iconCls){g.removeCls(h.iconCls)}if(e){g.addCls(e)}}h.iconCls=e;h.fireEvent("iconchange",h,j,e)},setText:function(h){var j=this,e=j.textEl||j.el,g=j.text;j.text=h;if(j.rendered){e.setHtml(h||"");j.updateLayout()}j.fireEvent("textchange",j,g,h)},getTipAttr:function(){return this.tooltipType=="qtip"?"data-qtip":"title"},clearTip:function(){if(Ext.quickTipsActive&&Ext.isObject(this.tooltip)){Ext.tip.QuickTipManager.unregister(this.itemEl)}},setTooltip:function(g,e){var d=this;if(d.rendered){if(!e){d.clearTip()}if(Ext.quickTipsActive&&Ext.isObject(g)){Ext.tip.QuickTipManager.register(Ext.apply({target:d.itemEl.id},g));d.tooltip=g}else{d.itemEl.dom.setAttribute(d.getTipAttr(),g)}}else{d.tooltip=g}return d},privates:{getFocusEl:function(){return this.itemEl}}});Ext.define("E.xforms.overrideMenuItem",{override:"Ext.menu.Item"},function(){var b=this.prototype;Ext.apply(b,E.xforms.ct);Ext.applyIf(b,E.xforms.ctIf);Ext.apply(b,{relevantFn:"setDisabled",readonlyFn:"setDisabled",labelTarget:"text",qtipTarget:"tooltip"})});Ext.define("Ext.menu.CheckItem",{extend:Ext.menu.Item,alias:"widget.menucheckitem",checkedCls:Ext.baseCSSPrefix+"menu-item-checked",uncheckedCls:Ext.baseCSSPrefix+"menu-item-unchecked",groupCls:Ext.baseCSSPrefix+"menu-group-icon",hideOnClick:false,checkChangeDisabled:false,ariaRole:"menuitemcheckbox",childEls:["checkEl"],showCheckbox:true,isMenuCheckItem:true,checkboxCls:Ext.baseCSSPrefix+"menu-item-checkbox",initComponent:function(){var b=this;b.checked=!!b.checked;b.callParent(arguments);if(b.group){Ext.menu.Manager.registerCheckable(b);if(b.initialConfig.hideOnClick!==false){b.hideOnClick=true}}},beforeRender:function(){var b=this;b.callParent();Ext.apply(b.renderData,{checkboxCls:b.checkboxCls,showCheckbox:b.showCheckbox})},afterRender:function(){var b=this;b.callParent();b.checked=!b.checked;b.setChecked(!b.checked,true);if(b.checkChangeDisabled){b.disableCheckChange()}},disableCheckChange:function(){var c=this,d=c.checkEl;if(d){d.addCls(c.disabledCls)}if(Ext.isIE8&&c.rendered){c.el.repaint()}c.checkChangeDisabled=true},enableCheckChange:function(){var c=this,d=c.checkEl;if(d){d.removeCls(c.disabledCls)}c.checkChangeDisabled=false},onClick:function(c){var d=this;if(!d.disabled&&!d.checkChangeDisabled&&!(d.checked&&d.group)){d.setChecked(!d.checked);if(c.type==="keydown"&&d.menu){return false}}this.callParent([c])},onDestroy:function(){Ext.menu.Manager.unregisterCheckable(this);this.callParent(arguments)},setChecked:function(n,h){var o=this,m=o.checkedCls,l=o.uncheckedCls,j=o.el;if(o.checked!==n&&(h||o.fireEvent("beforecheckchange",o,n)!==false)){if(j){if(n){j.addCls(m);j.removeCls(l)}else{j.addCls(l);j.removeCls(m)}}o.checked=n;Ext.menu.Manager.onCheckChange(o,n);if(!h){Ext.callback(o.checkHandler,o.scope||o,[o,n]);o.fireEvent("checkchange",o,n)}}}});Ext.define("Ext.menu.Separator",{extend:Ext.menu.Item,alias:"widget.menuseparator",focusable:false,canActivate:false,hideOnClick:false,plain:true,separatorCls:Ext.baseCSSPrefix+"menu-item-separator",text:"&#160;",ariaRole:"separator",beforeRender:function(e,g){var d=this;d.callParent();d.addCls(d.separatorCls)}});Ext.define("ExtThemeNeptune.menu.Separator",{override:"Ext.menu.Separator",border:true});Ext.define("Ext.menu.Menu",{extend:Ext.panel.Panel,alias:"widget.menu",mixins:[Ext.util.FocusableContainer],enableKeyNav:true,allowOtherMenus:false,ariaRole:"menu",floating:true,constrain:true,hidden:true,hideMode:"visibility",ignoreParentClicks:false,isMenu:true,showSeparator:true,minWidth:undefined,defaultMinWidth:120,defaultAlign:"tl-bl?",focusOnToFront:false,bringParentToFront:false,defaultFocus:":focusable",baseCls:Ext.baseCSSPrefix+"menu",_iconSeparatorCls:Ext.baseCSSPrefix+"menu-icon-separator",_itemCmpCls:Ext.baseCSSPrefix+"menu-item-cmp",layout:{type:"vbox",align:"stretchmax",overflowHandler:"Scroller"},initComponent:function(){var e=this,g=[Ext.baseCSSPrefix+"menu"],j=e.bodyCls?[e.bodyCls]:[],h=e.floating!==false;if(e.plain){g.push(Ext.baseCSSPrefix+"menu-plain")}e.cls=g.join(" ");j.push(Ext.baseCSSPrefix+"menu-body",Ext.dom.Element.unselectableCls);e.bodyCls=j.join(" ");if(h){if(e.minWidth===undefined){e.minWidth=e.defaultMinWidth}}else{e.hidden=!!e.initialConfig.hidden;e.constrain=false}e.callParent(arguments);Ext.override(e.getLayout(),{configureItem:e.configureItem})},initFloatConstrain:Ext.emptyFn,getInherited:function(){var b=this.callParent();b.hidden=this.hidden;return b},beforeRender:function(){this.callParent(arguments);if(!this.getSizeModel().width.shrinkWrap){this.layout.align="stretch"}},onBoxReady:function(){var d=this,e={click:d.onClick,mouseover:d.onMouseOver,scope:d},g=d._iconSeparatorCls;if(Ext.supports.Touch){e.pointerdown=d.onMouseOver}d.focusableKeyNav.map.addBinding([{key:27,handler:d.onEscapeKey,scope:d},{key:/[\w]/,handler:d.onShortcutKey,scope:d,shift:false,ctrl:false,alt:false}]);d.callParent(arguments);if(d.showSeparator){d.iconSepEl=d.body.insertFirst({role:"presentation",cls:g+" "+g+"-"+d.ui,html:"&#160;"})}d.mon(d.el,e);if(Ext.supports.MSPointerEvents||Ext.supports.PointerEvents){d.mon(d.el,{scope:d,click:d.preventClick,translate:false})}d.mouseMonitor=d.el.monitorMouseLeave(100,d.onMouseLeave,d)},onFocusLeave:function(c){var d=this;d.callParent([c]);d.mixins.focusablecontainer.onFocusLeave.call(d,c);d.hide()},canActivateItem:function(b){return b&&b.isFocusable()},deactivateActiveItem:function(){var d=this,c=d.lastFocusedChild;if(c){c.blur()}},getItemFromEvent:function(h){var g=this,j=g.layout.getRenderTarget().dom,e=h.getTarget();while(e.parentNode!==j){e=e.parentNode;if(!e){return}}return Ext.getCmp(e.id)},lookupComponent:function(c){var d=this;if(typeof c==="string"){c=d.lookupItemFromString(c)}else{if(Ext.isObject(c)){c=d.lookupItemFromObject(c)}}if(!c.dock){c.minWidth=c.minWidth||d.minWidth}return c},lookupItemFromObject:function(c){var d=this;if(!c.isComponent){if(!c.xtype){c=Ext.create("Ext.menu."+(Ext.isBoolean(c.checked)?"Check":"")+"Item",c)}else{c=Ext.ComponentManager.create(c,c.xtype)}}if(c.isMenuItem){c.parentMenu=d}return c},lookupItemFromString:function(b){return(b==="separator"||b==="-")?new Ext.menu.Separator():new Ext.menu.Item({canActivate:false,hideOnClick:false,plain:true,text:b})},configureItem:function(o){var h=this.owner,m=Ext.baseCSSPrefix,n=h.ui,j,l;if(o.isMenuItem){o.setUI(n)}else{if(h.items.getCount()>1&&!o.rendered&&!o.dock){l=h._itemCmpCls;j=[l+" "+l+"-"+n];if(!h.plain&&(o.indent!==false||o.iconCls==="no-icon")){j.push(m+"menu-item-indent-"+n)}if(o.rendered){o.el.addCls(j)}else{o.cls=(o.cls||"")+" "+j.join(" ")}o.$extraMenuCls=j}}this.callParent(arguments)},onRemove:function(b){this.callParent([b]);if(!b.isDestroyed&&b.$extraMenuCls){b.el.removeCls(b.$extraMenuCls)}},onClick:function(l){var m=this,o=l.type,n,e,j=o==="keydown";if(m.disabled){l.stopEvent();return}n=m.getItemFromEvent(l);if(n&&n.isMenuItem){if(!n.menu||!m.ignoreParentClicks){e=n.onClick(l)}else{l.stopEvent()}if(n.menu&&e!==false&&j){n.expandMenu(l,0)}}if(!n||n.disabled){n=undefined}m.fireEvent("click",m,n,l)},onDestroy:function(){var b=this;b.parentMenu=b.ownerCmp=null;if(b.rendered){b.el.un(b.mouseMonitor);Ext.destroy(b.iconSepEl)}b.callParent(arguments)},onMouseLeave:function(b){if(this.disabled){return}this.fireEvent("mouseleave",this,b)},onMouseOver:function(n){var o=this,m=n.getRelatedTarget(),e=!o.el.contains(m),p=o.getItemFromEvent(n),q=o.parentMenu,l=o.ownerCmp;if(e&&q){q.setActiveItem(l);l.cancelDeferHide();q.mouseMonitor.mouseenter()}if(o.disabled){return}if(p){if(!p.containsFocus){p.focus()}if(p.expandMenu){p.expandMenu(n)}}if(e){o.fireEvent("mouseenter",o,n)}o.fireEvent("mouseover",o,p,n)},setActiveItem:function(c){var d=this;if(c&&(c!==d.lastFocusedChild)){d.focusChild(c,1)}},onEscapeKey:function(){if(this.floating){this.hide()}},onShortcutKey:function(o,p){var e=String.fromCharCode(p.getCharCode()),s=this.query(">[text]"),n=s.length,q=this.lastFocusedChild,m=Ext.Array.indexOf(s,q),r=m;for(;;){if(++r===n){r=0}q=s[r];if(r===m){return}if(q.text&&q.text[0].toUpperCase()===e){q.focus();return}}},onFocusableContainerTabKey:function(b){if(this.floating){this.hide()}},onFocusableContainerEnterKey:function(b){this.onClick(b)},onFocusableContainerSpaceKey:function(b){this.onClick(b)},onFocusableContainerLeftKey:function(b){if(this.parentMenu){this.ownerCmp.focus();this.hide()}},onFocusableContainerRightKey:function(d){var e=this,g=e.lastFocusedChild;if(g&&g.expandMenu){g.expandMenu(d,0)}},beforeShow:function(){var d=this,g,e;if(d.floating){g=Ext.Element.getActiveElement();d.focusAnchor=g===document.body?null:g;d.savedMaxHeight=d.maxHeight;e=d.container.getViewSize().height;d.maxHeight=Math.min(d.maxHeight||e,e)}d.callParent(arguments);if(Ext.supports.Touch){d.tapListener=Ext.getBody().on({touchstart:d.onBodyTap,scope:d,destroyable:true})}},onBodyTap:function(b){if(!this.owns(b)){this.tapListener.destroy();this.hide()}},afterShow:function(){var b=this;b.callParent(arguments);if(b.floating&&b.autoFocus){b.maxHeight=b.savedMaxHeight;b.focus()}},onHide:function(j,g,m){var l=this,h;if(l.el.contains(Ext.Element.getActiveElement())){h=l.focusAnchor||l.ownerCmp||l.up(":focusable");if(h){l.previousFocus=h}}this.callParent([j,g,m])},preventClick:function(b){if(!this.getItemFromEvent(b).href){b.preventDefault()}}});Ext.define("ExtThemeNeptune.menu.Menu",{override:"Ext.menu.Menu",showSeparator:false});Ext.define("Ext.util.Queue",{constructor:function(){this.clear()},add:function(g){var d=this,e=d.getKey(g);if(!d.map[e]){++d.length;d.items.push(g);d.map[e]=g}return g},clear:function(){var c=this,d=c.items;c.items=[];c.map={};c.length=0;return d},contains:function(c){var d=this.getKey(c);return this.map.hasOwnProperty(d)},getCount:function(){return this.length},getKey:function(b){return b.id},remove:function(j){var l=this,m=l.getKey(j),h=l.items,g;if(l.map[m]){g=Ext.Array.indexOf(h,j);Ext.Array.erase(h,g,1);delete l.map[m];--l.length}return j}});Ext.define("Ext.layout.ContextItem",{heightModel:null,widthModel:null,sizeModel:null,optOut:false,ownerSizePolicy:null,boxChildren:null,boxParent:null,children:[],dirty:null,dirtyCount:0,hasRawContent:true,isContextItem:true,isTopLevel:false,consumersContentHeight:0,consumersContentWidth:0,consumersContainerHeight:0,consumersContainerWidth:0,consumersHeight:0,consumersWidth:0,ownerCtContext:null,remainingChildDimensions:0,props:null,state:null,wrapsComponent:false,constructor:function(z){var y=this,B=Ext.layout.SizeModel.sizeModels,H=B.configured,I=B.shrinkWrap,P,A,D,F,L,N,x,M,C,G,O,J,K,Q;Ext.apply(y,z);x=y.target;P=y.el;y.id=x.id;y.flushedProps={};y.props=L={};y.styles={};if(!x.isComponent){A=P.lastBox}else{y.wrapsComponent=true;y.framing=x.frameSize||null;y.isComponentChild=x.ownerLayout&&x.ownerLayout.isComponentLayout;A=x.lastBox;D=x.ownerCt;if(D&&(F=D.el&&y.context.items[D.el.id])){y.ownerCtContext=F}y.sizeModel=N=x.getSizeModel(F&&F.widthModel.pairsByHeightOrdinal[F.heightModel.ordinal]);y.widthModel=J=N.width;y.heightModel=K=N.height;if(A&&A.invalid===false){G=(x.width===(M=A.width));O=(x.height===(C=A.height));if(J===I&&K===I){Q=true}else{if(J===H&&G){Q=K===I||(K===H&&O)}}if(Q){y.optOut=true;L.width=M;L.height=C}}}y.lastBox=A},init:function(L,Q){var B=this,S=B.props,P=B.dirty,J=B.ownerCtContext,G=B.target.ownerLayout,M=!B.state,A=L||M,O,H,I,F,R,z,n=B.heightModel,N=B.widthModel,K,D,C=0;B.dirty=B.invalid=false;B.props={};B.remainingChildDimensions=0;if(B.boxChildren){B.boxChildren.length=0}if(!M){B.clearAllBlocks("blocks");B.clearAllBlocks("domBlocks")}if(!B.wrapsComponent){return A}z=B.target;B.state={};if(M){if(z.beforeLayout&&z.beforeLayout!==Ext.emptyFn){z.beforeLayout()}if(!J&&(F=z.ownerCt)){J=B.context.items[F.el.id]}if(J){B.ownerCtContext=J;B.isBoxParent=G&&G.isItemBoxParent(B)}else{B.isTopLevel=true}B.frameBodyContext=B.getEl("frameBody")}else{J=B.ownerCtContext;B.isTopLevel=!J;O=B.children;for(H=0,I=O.length;H<I;++H){O[H].init(true)}}B.hasRawContent=!(z.isContainer&&z.items.items.length>0);if(L){B.widthModel=B.heightModel=null;R=z.getSizeModel(J&&J.widthModel.pairsByHeightOrdinal[J.heightModel.ordinal]);if(M){B.sizeModel=R}B.widthModel=R.width;B.heightModel=R.height;if(J&&!B.isComponentChild){if(G.needsItemSize||!z.liquidLayout){J.remainingChildDimensions+=2}else{if(B.widthModel.calculated){++J.remainingChildDimensions}if(B.heightModel.calculated){++J.remainingChildDimensions}}}}else{if(S){B.recoverProp("x",S,P);B.recoverProp("y",S,P);if(B.widthModel.calculated){B.recoverProp("width",S,P)}else{if("width" in S){++C}}if(B.heightModel.calculated){B.recoverProp("height",S,P)}else{if("height" in S){++C}}if(J&&!B.isComponentChild){J.remainingChildDimensions+=C}}}if(S&&G&&G.manageMargins){B.recoverProp("margin-top",S,P);B.recoverProp("margin-right",S,P);B.recoverProp("margin-bottom",S,P);B.recoverProp("margin-left",S,P)}if(Q){K=Q.heightModel;D=Q.widthModel;if(D&&K&&N&&n){if(N.shrinkWrap&&n.shrinkWrap){if(D.constrainedMax&&K.constrainedMin){K=null}}}if(D){B.widthModel=D}if(K){B.heightModel=K}if(Q.state){Ext.apply(B.state,Q.state)}}return A},initContinue:function(o){var m=this,p=m.ownerCtContext,l=m.target,q=m.widthModel,n=l.getInherited(),j;if(q.fixed){n.inShrinkWrapTable=false}else{delete n.inShrinkWrapTable}if(o){if(p&&q.shrinkWrap){j=p.isBoxParent?p:p.boxParent;if(j){j.addBoxChild(m)}}else{if(q.natural){m.boxParent=p}}}return o},initDone:function(h){var e=this,g=e.props,j=e.state;if(e.remainingChildDimensions===0){g.containerChildrenSizeDone=true}if(h){g.containerLayoutDone=true}if(e.boxChildren&&e.boxChildren.length&&e.widthModel.shrinkWrap){e.el.setWidth(10000);j.blocks=(j.blocks||0)+1}},initAnimation:function(){var d=this,g=d.target,e=d.ownerCtContext;if(e&&e.isTopLevel){d.animatePolicy=g.ownerLayout.getAnimatePolicy(d)}else{if(!e&&g.isCollapsingOrExpanding&&g.animCollapse){d.animatePolicy=g.componentLayout.getAnimatePolicy(d)}}if(d.animatePolicy){d.context.queueAnimation(d)}},addBlock:function(h,n,m){var o=this,l=o[h]||(o[h]={}),j=l[m]||(l[m]={});if(!j[n.id]){j[n.id]=n;++n.blockCount;++o.context.blockCount}},addBoxChild:function(h){var j=this,e,g=h.widthModel;h.boxParent=this;h.measuresBox=g.shrinkWrap?h.hasRawContent:g.natural;if(h.measuresBox){e=j.boxChildren;if(e){e.push(h)}else{j.boxChildren=[h]}}},addPositionStyles:function(l,g){var h=g.x,j=g.y,m=0;if(h!==undefined){l.left=h+"px";++m}if(j!==undefined){l.top=j+"px";++m}return m},addTrigger:function(p,o){var q=this,m=o?"domTriggers":"triggers",n=q[m]||(q[m]={}),l=q.context,r=l.currentLayout,s=n[p]||(n[p]={});if(!s[r.id]){s[r.id]=r;++r.triggerCount;s=l.triggers[o?"dom":"data"];(s[r.id]||(s[r.id]=[])).push({item:this,prop:p});if(q.props[p]!==undefined){if(!o||!(q.dirty&&(p in q.dirty))){++r.firedTriggers}}}},boxChildMeasured:function(){var d=this,g=d.state,e=(g.boxesMeasured=(g.boxesMeasured||0)+1);if(e===d.boxChildren.length){g.clearBoxWidth=1;++d.context.progressCount;d.markDirty()}},borderNames:["border-top-width","border-right-width","border-bottom-width","border-left-width"],marginNames:["margin-top","margin-right","margin-bottom","margin-left"],paddingNames:["padding-top","padding-right","padding-bottom","padding-left"],trblNames:["top","right","bottom","left"],cacheMissHandlers:{borderInfo:function(d){var c=d.getStyles(d.borderNames,d.trblNames);c.width=c.left+c.right;c.height=c.top+c.bottom;return c},marginInfo:function(d){var c=d.getStyles(d.marginNames,d.trblNames);c.width=c.left+c.right;c.height=c.top+c.bottom;return c},paddingInfo:function(d){var e=d.frameBodyContext||d,g=e.getStyles(d.paddingNames,d.trblNames);g.width=g.left+g.right;g.height=g.top+g.bottom;return g}},checkCache:function(b){return this.cacheMissHandlers[b](this)},clearAllBlocks:function(e){var g=this[e],d;if(g){for(d in g){this.clearBlocks(e,d)}}},clearBlocks:function(q,n){var m=this[q],j=m&&m[n],p,o,l;if(j){delete m[n];p=this.context;for(l in j){o=j[l];--p.blockCount;if(!--o.blockCount&&!o.pending&&!o.done){p.queueLayout(o)}}}},block:function(d,c){this.addBlock("blocks",d,c)},domBlock:function(d,c){this.addBlock("domBlocks",d,c)},fireTriggers:function(j,n){var m=this[j],p=m&&m[n],q=this.context,o,l;if(p){for(l in p){o=p[l];++o.firedTriggers;if(!o.done&&!o.blockCount&&!o.pending){q.queueLayout(o)}}}},flush:function(){var e=this,g=e.dirty,j=e.state,h=e.el;e.dirtyCount=0;if("attributes" in e){h.set(e.attributes);delete e.attributes}if("innerHTML" in e){h.innerHTML=e.innerHTML;delete e.innerHTML}if(j&&j.clearBoxWidth){j.clearBoxWidth=0;e.el.setStyle("width",null);if(!--j.blocks){e.context.queueItemLayouts(e)}}if(g){delete e.dirty;e.writeProps(g,true)}},flushAnimations:function(){var j=this,B=j.previousSize,u,r,z,x,y,A,w,s,v,D,C;if(B){u=j.target;r=u.getAnimationProps();z=r.duration;x=Ext.Object.getKeys(j.animatePolicy);y=Ext.apply({},{from:{},to:{},duration:z||Ext.fx.Anim.prototype.duration},r);for(A=0,w=0,s=x.length;w<s;w++){v=x[w];D=B[v];C=j.peek(v);if(D!=C){v=j.translateProps[v]||v;y.from[v]=D;y.to[v]=C;++A}}if(A){if(j.isCollapsingOrExpanding===1){u.componentLayout.undoLayout(j)}else{j.writeProps(y.from)}j.el.animate(y);y=Ext.fx.Manager.getFxQueue(j.el.id)[0];u.$layoutAnim=y;y.on({afteranimate:function(){delete u.$layoutAnim;if(j.isCollapsingOrExpanding===1){u.componentLayout.redoLayout(j);u.afterCollapse(true)}else{if(j.isCollapsingOrExpanding===2){u.afterExpand(true)}}}})}}},getBorderInfo:function(){var d=this,c=d.borderInfo;if(!c){d.borderInfo=c=d.checkCache("borderInfo")}return c},getEl:function(o,j){var m=this,l,n,h;if(o){if(o.dom){n=o}else{l=m.target;if(j){l=j}n=l[o];if(typeof n=="function"){n=n.call(l);if(n===m.el){return this}}}if(n){h=m.context.getEl(m,n)}}return h||null},getFrameInfo:function(){var j=this,h=j.frameInfo,e,g;if(!h){e=j.framing;g=j.getBorderInfo();j.frameInfo=h=e?{top:e.top+g.top,right:e.right+g.right,bottom:e.bottom+g.bottom,left:e.left+g.left,width:e.width+g.width,height:e.height+g.height}:g}return h},getMarginInfo:function(){var p=this,m=p.marginInfo,j,l,n,o,q;if(!m){if(!p.wrapsComponent){m=p.checkCache("marginInfo")}else{j=p.target;o=j.ownerLayout;q=o?o.id:null;l=o&&o.manageMargins;m=j.margin$;if(m&&m.ownerId!==q){m=null}if(!m){m=p.parseMargins(j,j.margin)||p.checkCache("marginInfo");if(l){p.setProp("margin-top",0);p.setProp("margin-right",0);p.setProp("margin-bottom",0);p.setProp("margin-left",0)}m.ownerId=q;j.margin$=m}m.width=m.left+m.right;m.height=m.top+m.bottom}p.marginInfo=m}return m},clearMarginCache:function(){delete this.marginInfo;delete this.target.margin$},getPaddingInfo:function(){var d=this,c=d.paddingInfo;if(!c){d.paddingInfo=c=d.checkCache("paddingInfo")}return c},getProp:function(g){var d=this,e=d.props[g];d.addTrigger(g);return e},getDomProp:function(g){var d=this,e=(d.dirty&&(g in d.dirty))?undefined:d.props[g];d.addTrigger(g,true);return e},getStyle:function(h){var m=this,g=m.styles,j,l;if(h in g){l=g[h]}else{j=m.styleInfo[h];l=m.el.getStyle(h);if(j&&j.parseInt){l=parseInt(l,10)||0}g[h]=l}return l},getStyles:function(u,G){var w=this,C=w.styles,n={},B=0,D=u.length,y,z,x,H,F,A,I,v;G=G||u;for(y=0;y<D;++y){H=u[y];if(H in C){n[G[y]]=C[H];++B;if(y&&B==1){z=u.slice(0,y);x=G.slice(0,y)}}else{if(B){(z||(z=[])).push(H);(x||(x=[])).push(G[y])}}}if(B<D){z=z||u;x=x||G;A=w.styleInfo;I=w.el.getStyle(z);for(y=z.length;y--;){H=z[y];F=A[H];v=I[H];if(F&&F.parseInt){v=parseInt(v,10)||0}n[x[y]]=v;C[H]=v}}return n},hasProp:function(b){return this.getProp(b)!=null},hasDomProp:function(b){return this.getDomProp(b)!=null},invalidate:function(b){this.context.queueInvalidate(this,b)},markDirty:function(){if(++this.dirtyCount==1){this.context.queueFlush(this)}},onBoxMeasured:function(){var d=this.boxParent,c=this.state;if(d&&d.widthModel.shrinkWrap&&!c.boxMeasured&&this.measuresBox){c.boxMeasured=1;d.boxChildMeasured()}},parseMargins:function(g,h){if(h===true){h=5}var j=typeof h,e;if(j=="string"||j=="number"){e=g.parseBox(h)}else{if(h){e={top:0,right:0,bottom:0,left:0};if(h){h=Ext.apply(e,g.parseBox(h))}}}return e},peek:function(b){return this.props[b]},recoverProp:function(l,h,j){var m=this,n=m.props,o;if(l in h){n[l]=h[l];if(j&&l in j){o=m.dirty||(m.dirty={});o[l]=j[l]}}},redo:function(g){var j=this,m,h,l;j.revertProps(j.props);if(g&&j.wrapsComponent){if(j.childItems){for(l=0,m=j.childItems,h=m.length;l<h;l++){m[l].redo(g)}}for(l=0,m=j.children,h=m.length;l<h;l++){m[l].redo()}}},removeEl:function(g,h){var l=this,j,m;if(g){if(g.dom){m=g}else{j=l.target;if(h){j=h}m=j[g];if(typeof m=="function"){m=m.call(j);if(m===l.el){return this}}}if(m){l.context.removeEl(l,m)}}},revertProps:function(h){var g,e=this.flushedProps,j={};for(g in h){if(e.hasOwnProperty(g)){j[g]=h[g]}}this.writeProps(j)},setAttribute:function(e,g){var d=this;if(!d.attributes){d.attributes={}}d.attributes[e]=g;d.markDirty()},setBox:function(c){var d=this;if("left" in c){d.setProp("x",c.left)}if("top" in c){d.setProp("y",c.top)}d.setSize(c.width,c.height)},setContentHeight:function(d,c){if(!c&&this.hasRawContent){return 1}return this.setProp("contentHeight",d)},setContentWidth:function(c,d){if(!d&&this.hasRawContent){return 1}return this.setProp("contentWidth",c)},setContentSize:function(g,e,d){return this.setContentWidth(g,d)+this.setContentHeight(e,d)==2},setProp:function(n,o,j){var h=this,l=typeof o,m;if(l=="undefined"||(l==="number"&&isNaN(o))){return 0}if(h.props[n]===o){return 1}h.props[n]=o;++h.context.progressCount;if(j===false){h.fireTriggers("domTriggers",n);h.clearBlocks("domBlocks",n)}else{m=h.styleInfo[n];if(m){if(!h.dirty){h.dirty={}}h.dirty[n]=o;h.markDirty()}}h.fireTriggers("triggers",n);h.clearBlocks("blocks",n);return 1},setHeight:function(n,x){var r=this,u=r.target,v=r.ownerCtContext,q,s,w,o,p;if(n<0){n=0}if(!r.wrapsComponent){if(!r.setProp("height",n,x)){return NaN}}else{w=r.collapsedVert?0:(u.minHeight||0);n=Ext.Number.constrain(n,w,u.maxHeight);o=r.props.height;if(!r.setProp("height",n,x)){return NaN}if(v&&!r.isComponentChild&&isNaN(o)){p=--v.remainingChildDimensions;if(!p){v.setProp("containerChildrenSizeDone",true)}}q=r.frameBodyContext;if(q){s=r.getFrameInfo();q[r.el.vertical?"setWidth":"setHeight"](n-s.height,x)}}return n},setWidth:function(w,x){var p=this,r=p.target,s=p.ownerCtContext,o,q,u,v,n;if(w<0){w=0}if(!p.wrapsComponent){if(!p.setProp("width",w,x)){return NaN}}else{u=p.collapsedHorz?0:(r.minWidth||0);w=Ext.Number.constrain(w,u,r.maxWidth);v=p.props.width;if(!p.setProp("width",w,x)){return NaN}if(s&&!p.isComponentChild&&isNaN(v)){n=--s.remainingChildDimensions;if(!n){s.setProp("containerChildrenSizeDone",true)}}o=p.frameBodyContext;if(o){q=p.getFrameInfo();o.setWidth(w-q.width,x)}}return w},setSize:function(g,e,d){this.setWidth(g,d);this.setHeight(e,d)},translateProps:{x:"left",y:"top"},undo:function(g){var j=this,m,h,l;j.revertProps(j.lastBox);if(g&&j.wrapsComponent){if(j.childItems){for(l=0,m=j.childItems,h=m.length;l<h;l++){m[l].undo(g)}}for(l=0,m=j.children,h=m.length;l<h;l++){m[l].undo()}}},unsetProp:function(c){var d=this.dirty;delete this.props[c];if(d){delete d[c]}},writeProps:function(M,N){if(!(M&&typeof M=="object")){return}var y=this,O=y.el,J={},L=0,P=y.styleInfo,z,I,F,C=M.width,H=M.height,x=y.target,K,Q,D,B,A,G;if("displayed" in M){O.setDisplayed(M.displayed)}for(I in M){if(N){y.fireTriggers("domTriggers",I);y.clearBlocks("domBlocks",I);y.flushedProps[I]=1}z=P[I];if(z&&z.dom){if(z.suffix&&(F=parseInt(M[I],10))){J[I]=F+z.suffix}else{J[I]=M[I]}++L}}if("x" in M||"y" in M){if(x.isComponent){x.setPosition(M.x,M.y)}else{L+=y.addPositionStyles(J,M)}}if(y.wrapsComponent&&Ext.isIE9){if((K=C!==undefined&&y.hasOverflowY)||(Q=H!==undefined&&y.hasOverflowX)){D=y.isAbsolute;if(D===undefined){D=false;G=y.target.getTargetEl();A=G.getStyle("position");y.isAbsolute=D=(A==="absolute")}if(D){B=Ext.getScrollbarSize();if(K){C=parseInt(C,10)+B.width;J.width=C+"px";++L}if(Q){H=parseInt(H,10)+B.height;J.height=H+"px";++L}}}}if(L){O.setStyle(J)}}},function(){var g={dom:true,parseInt:true,suffix:"px"},d={dom:true},e={dom:false};this.prototype.styleInfo={containerChildrenSizeDone:e,containerLayoutDone:e,displayed:e,done:e,x:e,y:e,columnsChanged:e,rowHeights:e,viewOverflowY:e,left:g,top:g,right:g,bottom:g,width:g,height:g,"border-top-width":g,"border-right-width":g,"border-bottom-width":g,"border-left-width":g,"margin-top":g,"margin-right":g,"margin-bottom":g,"margin-left":g,"padding-top":g,"padding-right":g,"padding-bottom":g,"padding-left":g,"line-height":d,display:d}});Ext.define("Ext.layout.Context",{remainingLayouts:0,state:0,constructor:function(d){var c=this;Ext.apply(c,d);c.items={};c.layouts={};c.blockCount=0;c.cycleCount=0;c.flushCount=0;c.calcCount=0;c.animateQueue=c.newQueue();c.completionQueue=c.newQueue();c.finalizeQueue=c.newQueue();c.finishQueue=c.newQueue();c.flushQueue=c.newQueue();c.invalidateData={};c.layoutQueue=c.newQueue();c.invalidQueue=[];c.triggers={data:{},dom:{}}},callLayout:function(c,d){this.currentLayout=c;c[d](this.getCmp(c.owner))},cancelComponent:function(C,K,A){var x=this,D=C,B=!C.isComponent,J=B?D.length:1,H,I,y,z,F,M,w,v,L,G;for(H=0;H<J;++H){if(B){C=D[H]}if(A&&C.ownerCt){G=this.items[C.ownerCt.el.id];if(G){Ext.Array.remove(G.childItems,x.getCmp(C))}}if(!K){w=x.invalidQueue;y=w.length;if(y){x.invalidQueue=M=[];for(I=0;I<y;++I){v=w[I];L=v.item.target;if(L!=C&&!L.up(C)){M.push(v)}}}}F=C.componentLayout;x.cancelLayout(F);if(F.getLayoutItems){z=F.getLayoutItems();if(z.length){x.cancelComponent(z,true)}}if(C.isContainer&&!C.collapsed){F=C.layout;x.cancelLayout(F);z=F.getVisibleItems();if(z.length){x.cancelComponent(z,true)}}}},cancelLayout:function(c){var d=this;d.completionQueue.remove(c);d.finalizeQueue.remove(c);d.finishQueue.remove(c);d.layoutQueue.remove(c);if(c.running){d.layoutDone(c)}c.ownerContext=null},clearTriggers:function(p,o){var v=p.id,q=this.triggers[o?"dom":"data"],n=q&&q[v],u=(n&&n.length)||0,r,m,s;for(r=0;r<u;++r){s=n[r];m=s.item;q=o?m.domTriggers:m.triggers;delete q[s.prop][v]}},flush:function(){var h=this,g=h.flushQueue.clear(),j=g.length,e;if(j){++h.flushCount;for(e=0;e<j;++e){g[e].flush()}}},flushAnimations:function(){var h=this,e=h.animateQueue.clear(),g=e.length,j;if(g){for(j=0;j<g;j++){if(e[j].target.animate!==false){e[j].flushAnimations()}}Ext.fx.Manager.runner()}},flushInvalidates:function(){var m=this,l=m.invalidQueue,n=l&&l.length,j,o,p,q;m.invalidQueue=[];if(n){o=[];for(q=0;q<n;++q){j=(p=l[q]).item.target;if(!j.container.isDetachedBody){o.push(j);if(p.options){m.invalidateData[j.id]=p.options}}}m.invalidate(o,null)}},flushLayouts:function(o,m,s){var p=this,n=s?p[o].items:p[o].clear(),q=n.length,l,r;if(q){for(l=0;l<q;++l){r=n[l];if(!r.running){p.callLayout(r,m)}}p.currentLayout=null}},getCmp:function(b){return this.getItem(b,b.el)},getEl:function(d,e){var g=this.getItem(e,e);if(!g.parent){g.parent=d;if(d.children.length){d.children.push(g)}else{d.children=[g]}}return g},getItem:function(l,g){var j=g.id,h=this.items,m=h[j]||(h[j]=new Ext.layout.ContextItem({context:this,target:l,el:g}));return m},handleFailure:function(){var g=this.layouts,d,e;Ext.failedLayouts=(Ext.failedLayouts||0)+1;for(e in g){d=g[e];if(g.hasOwnProperty(e)){d.running=false;d.ownerContext=null}}},invalidate:function(A,y){var w=this,z=!A.isComponent,I,v,K,F,B,M,x,J,D,C,G,H,L;for(F=0,J=z?A.length:1;F<J;++F){B=z?A[F]:A;if(B.rendered&&!B.hidden){v=B.ownerLayout;D=B.componentLayout;K=!D.ownerContext;L=false;if((!v||!v.needsItemSize)&&B.liquidLayout){L=true}if(!L||(v&&v.setsItemSize)){M=w.getCmp(B);C=(B.isContainer&&!B.collapsed)?B.layout:null;G=w.invalidateData[M.id];delete w.invalidateData[M.id];H=M.init(y,G)}if(L){continue}if(G){w.processInvalidate(G,M,"before")}if(D.beforeLayoutCycle){D.beforeLayoutCycle(M)}if(C&&C.beforeLayoutCycle){C.beforeLayoutCycle(M)}H=M.initContinue(H);I=true;if(D.getLayoutItems){D.renderChildren();x=D.getLayoutItems();if(x.length){w.invalidate(x,true)}}if(C){I=false;C.renderChildren();if(C.needsItemSize||C.activeItemCount){x=C.getVisibleItems();if(x.length){w.invalidate(x,true)}}}M.initDone(I);w.resetLayout(D,M,K);if(C){w.resetLayout(C,M,K)}M.initAnimation();if(G){w.processInvalidate(G,M,"after")}}}w.currentLayout=null},isDescendant:function(e,c){if(e.isContainer){for(var g=c.ownerCt;g;g=g.ownerCt){if(g===e){return true}}}return false},layoutDone:function(d){var c=d.ownerContext;d.running=false;if(d.isComponentLayout){if(c.measuresBox){c.onBoxMeasured()}c.setProp("done",true)}else{c.setProp("containerLayoutDone",true)}--this.remainingLayouts;++this.progressCount},newQueue:function(){return new Ext.util.Queue()},processInvalidate:function(g,j,h){if(g[h]){var l=this,m=l.currentLayout;l.currentLayout=g.layout||null;g[h](j,g);l.currentLayout=m}},queueAnimation:function(b){this.animateQueue.add(b)},queueCompletion:function(b){this.completionQueue.add(b)},queueFinalize:function(b){this.finalizeQueue.add(b)},queueFlush:function(b){this.flushQueue.add(b)},chainFns:function(m,n,p){var r=this,s=m.layout,q=n.layout,l=m[p],o=n[p];return function(b){var a=r.currentLayout;if(l){r.currentLayout=s;l.call(m.scope||m,b,m)}r.currentLayout=q;o.call(n.scope||n,b,n);r.currentLayout=a}},purgeInvalidates:function(){var s=this,p=[],r=s.invalidQueue,v=r.length,q,o,w,x,y,u,z;for(q=0;q<v;++q){y=r[q];u=y.item.target;z=true;for(o=p.length;o--;){w=p[o];x=w.item.target;if(u.isLayoutChild(x)){z=false;break}if(x.isLayoutChild(u)){Ext.Array.erase(p,o,1)}}if(z){p.push(y)}}s.invalidQueue=p},queueInvalidate:function(p,o){var s=this,q=[],r=s.invalidQueue,u=r.length,w,y,v,z,x;if(p.isComponent){p=s.getCmp(w=p)}else{w=p.target}p.invalid=true;while(u--){y=r[u];v=y.item.target;if(!w.isFloating&&w.up(v)){return}if(v==w){if(!(z=y.options)){y.options=o}else{if(o){if(o.widthModel){z.widthModel=o.widthModel}if(o.heightModel){z.heightModel=o.heightModel}if(!(x=z.state)){z.state=o.state}else{if(o.state){Ext.apply(x,o.state)}}if(o.before){z.before=s.chainFns(z,o,"before")}if(o.after){z.after=s.chainFns(z,o,"after")}}}return}if(!v.isLayoutChild(w)){q.push(y)}}q.push({item:p,options:o});s.invalidQueue=q},queueItemLayouts:function(g){var e=g.isComponent?g:g.target,d=e.componentLayout;if(!d.pending&&!d.invalid&&!d.done){this.queueLayout(d)}d=e.layout;if(d&&!d.pending&&!d.invalid&&!d.done&&!e.collapsed){this.queueLayout(d)}},queueLayout:function(b){this.layoutQueue.add(b);b.pending=true},removeEl:function(l,m){var j=m.id,g=l.children,h=this.items;if(g){Ext.Array.remove(g,h[j])}delete h[j]},resetLayout:function(e,j,h){var g=this;g.currentLayout=e;e.done=false;e.pending=true;e.firedTriggers=0;g.layoutQueue.add(e);if(h){g.layouts[e.id]=e;e.running=true;if(e.finishedLayout){g.finishQueue.add(e)}++g.remainingLayouts;++e.layoutCount;e.ownerContext=j;e.beginCount=0;e.blockCount=0;e.calcCount=0;e.triggerCount=0;if(!e.initialized){e.initLayout()}e.beginLayout(j)}else{++e.beginCount;if(!e.running){++g.remainingLayouts;e.running=true;if(e.isComponentLayout){j.unsetProp("done")}g.completionQueue.remove(e);g.finalizeQueue.remove(e)}}e.beginLayoutCycle(j,h)},run:function(){var g=this,d=false,e=100;g.purgeInvalidates();g.flushInvalidates();g.state=1;g.totalCount=g.layoutQueue.getCount();g.flush();while((g.remainingLayouts||g.invalidQueue.length)&&e--){if(g.invalidQueue.length){g.flushInvalidates()}if(g.runCycle()){d=false}else{if(!d){g.flush();d=true;g.flushLayouts("completionQueue","completeLayout")}else{if(!g.invalidQueue.length){g.state=2;break}}}if(!(g.remainingLayouts||g.invalidQueue.length)){g.flush();g.flushLayouts("completionQueue","completeLayout");g.flushLayouts("finalizeQueue","finalizeLayout")}}return g.runComplete()},runComplete:function(){var b=this;b.state=2;if(b.remainingLayouts){b.handleFailure();return false}b.flush();b.flushLayouts("finishQueue","finishedLayout",true);b.flushLayouts("finishQueue","notifyOwner");b.flush();b.flushAnimations();return true},runCycle:function(){var j=this,h=j.layoutQueue.clear(),e=h.length,g;++j.cycleCount;j.progressCount=0;for(g=0;g<e;++g){j.runLayout(j.currentLayout=h[g])}j.currentLayout=null;return j.progressCount>0},runLayout:function(d){var e=this,g=e.getCmp(d.owner);d.pending=false;if(g.state.blocks){return}d.done=true;++d.calcCount;++e.calcCount;d.calculate(g);if(d.done){e.layoutDone(d);if(d.completeLayout){e.queueCompletion(d)}if(d.finalizeLayout){e.queueFinalize(d)}}else{if(!d.pending&&!d.invalid&&!(d.blockCount+d.triggerCount-d.firedTriggers)){e.queueLayout(d)}}},setItemSize:function(m,n,j){var p=m,l=1,q,o;if(m.isComposite){p=m.elements;l=p.length;m=p[0]}else{if(!m.dom&&!m.el){l=p.length;m=p[0]}}for(o=0;o<l;){q=this.get(m);q.setSize(n,j);m=p[++o]}}});Ext.define("Ext.plugin.Manager",{alternateClassName:["Ext.PluginManager","Ext.PluginMgr"],singleton:true,typeName:"ptype",create:function(g,j,l){var h,m;if(g.init){h=g}else{if(l){g=Ext.apply({},g);g.cmp=l}else{l=g.cmp}if(g.xclass){h=Ext.create(g)}else{m="plugin."+(g.ptype||j);h=Ext.ClassManager.instantiateByAlias(m,g)}}if(h&&l&&h.setCmp&&!h.setCmpCalled){h.setCmp(l);h.setCmpCalled=true}return h}});Ext.define("Ext.resizer.BorderSplitterTracker",{extend:Ext.resizer.SplitterTracker,getPrevCmp:null,getNextCmp:null,calculateConstrainRegion:function(){var L=this,aa=L.splitter,O=aa.collapseTarget,X=aa.defaultSplitMin,U=aa.vertical?"Width":"Height",Y="min"+U,F="max"+U,T="get"+U,G=aa.neighbors,W=G.length,P=O.el.getBox(),V=P.x,M=P.y,N=P.right,S=P.bottom,J=aa.vertical?(N-V):(S-M),C,R,I,Q,D,H,K,Z;Q=(O[Y]||Math.min(J,X))-J;D=O[F];if(!D){D=1000000000}else{D-=J}Z=J;for(C=0;C<W;++C){R=G[C];J=R[T]();I=R[F];if(I===null){I=undefined}H=J-I;K=J-(R[Y]||Math.min(J,X));if(!isNaN(H)){if(Q<H){Q=H}}if(D>K){D=K}}if(D-Q<2){return null}P=new Ext.util.Region(M,N,S,V);L.constraintAdjusters[L.getCollapseDirection()](P,Q,D,aa);L.dragInfo={minRange:Q,maxRange:D,targetSize:Z};return P},constraintAdjusters:{left:function(j,g,e,h){j[0]=j.x=j.left=j.right+g;j.right+=e+h.getWidth()},top:function(j,g,e,h){j[1]=j.y=j.top=j.bottom+g;j.bottom+=e+h.getHeight()},bottom:function(j,g,e,h){j.bottom=j.top-g;j.top-=e+h.getHeight()},right:function(j,g,e,h){j.right=j.left-g;j[0]=j.x=j.left=j.x-e+h.getWidth()}},onBeforeStart:function(n){var q=this,p=q.splitter,r=p.collapseTarget,e=p.neighbors,s=e.length,m,o;if(r.collapsed){return false}for(m=0;m<s;++m){o=e[m];if(o.collapsed&&o.isHorz===r.isHorz){return false}}if(!(q.constrainTo=q.calculateConstrainRegion())){return false}return true},performResize:function(p,q){var o=this,w=o.splitter,r=w.getCollapseDirection(),x=w.collapseTarget,s=o.splitAdjusters[w.vertical?"horz":"vert"],e=q[s.index],u=o.dragInfo,v;if(r=="right"||r=="bottom"){e=-e}e=Math.min(Math.max(u.minRange,e),u.maxRange);if(e){(v=w.ownerCt).suspendLayouts();s.adjustTarget(x,u.targetSize,e);v.resumeLayouts(true)}},splitAdjusters:{horz:{index:0,adjustTarget:function(d,e,g){d.flex=null;d.setSize(e+g)}},vert:{index:1,adjustTarget:function(d,e,g){d.flex=null;d.setSize(undefined,e+g)}}},getCollapseDirection:function(){return this.splitter.getCollapseDirection()}});Ext.define("Ext.resizer.ResizeTracker",{extend:Ext.dd.DragTracker,dynamic:true,preserveRatio:false,constrainTo:null,proxyCls:Ext.baseCSSPrefix+"resizable-proxy",constructor:function(g){var l=this,m,h,j;if(!g.el){if(g.target.isComponent){l.el=g.target.getEl()}else{l.el=g.target}}this.callParent(arguments);if(l.preserveRatio&&l.minWidth&&l.minHeight){m=l.minWidth/l.el.getWidth();h=l.minHeight/l.el.getHeight();if(h>m){l.minWidth=l.el.getWidth()*h}else{l.minHeight=l.el.getHeight()*m}}if(l.throttle){j=Ext.Function.createThrottled(function(){Ext.resizer.ResizeTracker.prototype.resize.apply(l,arguments)},l.throttle);l.resize=function(b,a,c){if(c){Ext.resizer.ResizeTracker.prototype.resize.apply(l,arguments)}else{j.apply(null,arguments)}}}},onBeforeStart:function(b){this.startBox=this.target.getBox()},getProxy:function(){var b=this;if(!b.dynamic&&!b.proxy){b.proxy=b.createProxy(b.target||b.el);b.hideProxy=true}if(b.proxy){b.proxy.show();return b.proxy}},createProxy:function(g){var d,e=this.proxyCls;if(g.isComponent){d=g.getProxy().addCls(e)}else{d=g.createProxy({tag:"div",role:"presentation",cls:e,id:g.id+"-rzproxy"},Ext.getBody())}d.removeCls(Ext.baseCSSPrefix+"proxy-el");return d},onStart:function(b){this.activeResizeHandle=Ext.get(this.getDragTarget().id);if(!this.dynamic){this.resize(this.startBox)}},onDrag:function(b){if(this.dynamic||this.proxy){this.updateDimensions(b)}},updateDimensions:function(B,G){var A=this,O=A.activeResizeHandle.region,M=A.getOffset(A.constrainTo?"dragTarget":null),I=A.startBox,L,D=0,z=0,J,C,Q=0,e=0,y,K,P,N,F,H;O=A.convertRegionName(O);switch(O){case"south":z=M[1];P=2;break;case"north":z=-M[1];e=-z;P=2;break;case"east":D=M[0];P=1;break;case"west":D=-M[0];Q=-D;P=1;break;case"northeast":z=-M[1];e=-z;D=M[0];K=[I.x,I.y+I.height];P=3;break;case"southeast":z=M[1];D=M[0];K=[I.x,I.y];P=3;break;case"southwest":D=-M[0];Q=-D;z=M[1];K=[I.x+I.width,I.y];P=3;break;case"northwest":z=-M[1];e=-z;D=-M[0];Q=-D;K=[I.x+I.width,I.y+I.height];P=3;break}N={width:I.width+D,height:I.height+z,x:I.x+Q,y:I.y+e};J=Ext.Number.snap(N.width,A.widthIncrement);C=Ext.Number.snap(N.height,A.heightIncrement);if(J!==N.width||C!==N.height){switch(O){case"northeast":N.y-=C-N.height;break;case"north":N.y-=C-N.height;break;case"southwest":N.x-=J-N.width;break;case"west":N.x-=J-N.width;break;case"northwest":N.x-=J-N.width;N.y-=C-N.height}N.width=J;N.height=C}if(N.width<A.minWidth||N.width>A.maxWidth){N.width=Ext.Number.constrain(N.width,A.minWidth,A.maxWidth);if(Q){N.x=I.x+(I.width-N.width)}}else{A.lastX=N.x}if(N.height<A.minHeight||N.height>A.maxHeight){N.height=Ext.Number.constrain(N.height,A.minHeight,A.maxHeight);if(e){N.y=I.y+(I.height-N.height)}}else{A.lastY=N.y}if(A.preserveRatio||B.shiftKey){L=A.startBox.width/A.startBox.height;F=Math.min(Math.max(A.minHeight,N.width/L),A.maxHeight);H=Math.min(Math.max(A.minWidth,N.height*L),A.maxWidth);if(P===1){N.height=F}else{if(P===2){N.width=H}else{y=Math.abs(K[0]-this.lastXY[0])/Math.abs(K[1]-this.lastXY[1]);if(y>L){N.height=F}else{N.width=H}if(O==="northeast"){N.y=I.y-(N.height-I.height)}else{if(O==="northwest"){N.y=I.y-(N.height-I.height);N.x=I.x-(N.width-I.width)}else{if(O==="southwest"){N.x=I.x-(N.width-I.width)}}}}}}A.setPosition=N.x!==A.startBox.x||N.y!==A.startBox.y;A.resize(N,G)},resize:function(l,h){var m=this,j,g=m.setPosition;if(m.dynamic||(!m.dynamic&&h)){if(g){m.target.setBox(l)}else{m.target.setSize(l.width,l.height)}}if(!h){j=m.getProxy();if(j&&j!==m.target){if(g||m.hideProxy){j.setBox(l)}else{j.setSize(l.width,l.height)}}}},onEnd:function(b){this.updateDimensions(b,true);if(this.proxy&&this.hideProxy){this.proxy.hide()}},convertRegionName:function(b){return b}});Ext.define("Ext.resizer.Resizer",{mixins:{observable:Ext.util.Observable},alternateClassName:"Ext.Resizable",handleCls:Ext.baseCSSPrefix+"resizable-handle",overCls:Ext.baseCSSPrefix+"resizable-handle-over",pinnedCls:Ext.baseCSSPrefix+"resizable-pinned",wrapCls:Ext.baseCSSPrefix+"resizable-wrap",wrappedCls:Ext.baseCSSPrefix+"resizable-wrapped",delimiterRe:/(?:\s*[,;]\s*)|\s+/,dynamic:true,handles:"s e se",height:null,width:null,heightIncrement:0,widthIncrement:0,minHeight:20,minWidth:20,maxHeight:10000,maxWidth:10000,pinned:false,preserveRatio:false,transparent:false,possiblePositions:{n:"north",s:"south",e:"east",w:"west",se:"southeast",sw:"southwest",nw:"northwest",ne:"northeast"},ariaRole:"presentation",constructor:function(J){var A=this,v=A.handles,B=Ext.dom.Element.unselectableCls,x=[],w,I,y,L,D,G,z,K,F,H,M,C;if(Ext.isString(J)||Ext.isElement(J)||J.dom){w=J;J=arguments[1]||{};J.target=w}A.mixins.observable.constructor.call(A,J);w=A.target;if(w){if(w.isComponent){w.addClsWithUI("resizable");if(w.minWidth){A.minWidth=w.minWidth}if(w.minHeight){A.minHeight=w.minHeight}if(w.maxWidth){A.maxWidth=w.maxWidth}if(w.maxHeight){A.maxHeight=w.maxHeight}if(w.floating){if(!A.hasOwnProperty("handles")){A.handles="n ne e se s sw w nw"}}A.el=w.getEl()}else{w=A.el=A.target=Ext.get(w)}}else{w=A.target=A.el=Ext.get(A.el)}A.el.addCls(Ext.Component.prototype.borderBoxCls);if(Ext.isNumber(A.width)){A.width=Ext.Number.constrain(A.width,A.minWidth,A.maxWidth)}if(Ext.isNumber(A.height)){A.height=Ext.Number.constrain(A.height,A.minHeight,A.maxHeight)}if(A.width!==null||A.height!==null){A.target.setSize(A.width,A.height)}L=A.el.dom.tagName.toUpperCase();if(L==="TEXTAREA"||L==="IMG"||L==="TABLE"){A.originalTarget=A.target;H=w.isComponent?w.getEl():w;A.el.addCls(A.wrappedCls);A.target=A.el=A.el.wrap({role:"presentation",cls:A.wrapCls,id:A.el.id+"-rzwrap",style:H.getStyle(["margin-top","margin-bottom"])});M=H.getPositioning();A.el.setPositioning(M);H.clearPositioning();F=H.getBox();if(M.position!=="absolute"){F.x=0;F.y=0}A.el.setBox(F);H.setStyle("position","absolute");A.isTargetWrapped=true}A.el.position();if(A.pinned){A.el.addCls(A.pinnedCls)}A.resizeTracker=new Ext.resizer.ResizeTracker({disabled:A.disabled,target:w,el:A.el,constrainTo:A.constrainTo,handleCls:A.handleCls,overCls:A.overCls,throttle:A.throttle,proxy:A.originalTarget?A.el:null,dynamic:A.originalTarget?true:A.dynamic,originalTarget:A.originalTarget,delegate:"."+A.handleCls,preserveRatio:A.preserveRatio,heightIncrement:A.heightIncrement,widthIncrement:A.widthIncrement,minHeight:A.minHeight,maxHeight:A.maxHeight,minWidth:A.minWidth,maxWidth:A.maxWidth});A.resizeTracker.on({mousedown:A.onBeforeResize,drag:A.onResize,dragend:A.onResizeEnd,scope:A});if(A.handles==="all"){A.handles="n s e w ne nw se sw"}v=A.handles=A.handles.split(A.delimiterRe);y=A.possiblePositions;D=v.length;I=A.handleCls+" "+A.handleCls+"-{0}";if(A.target.isComponent){C=A.target.baseCls;I+=" "+C+"-handle "+C+"-handle-{0}";if(Ext.supports.CSS3BorderRadius){I+=" "+C+"-handle-{0}-br"}}for(G=0;G<D;G++){if(v[G]&&y[v[G]]){z=y[v[G]];x.push('<div id="',A.el.id,"-",z,'-handle" class="',Ext.String.format(I,z)," ",B,'" unselectable="on" role="presentation"',"></div>")}}Ext.DomHelper.append(A.el,x.join(""));x.length=0;for(G=0;G<D;G++){if(v[G]&&y[v[G]]){z=y[v[G]];K=A[z]=A.el.getById(A.el.id+"-"+z+"-handle");x.push(K);K.region=z;if(A.transparent){K.setOpacity(0)}}}A.resizeTracker.handleEls=x},disable:function(){this.resizeTracker.disable()},enable:function(){this.resizeTracker.enable()},onBeforeResize:function(d,c){return this.fireResizeEvent("beforeresize",d,c)},onResize:function(d,c){return this.fireResizeEvent("resizedrag",d,c)},onResizeEnd:function(d,c){return this.fireResizeEvent("resize",d,c)},fireResizeEvent:function(h,l,j){var m=this,e;if(m.hasListeners[h]){e=m.el.getBox();return m.fireEvent(h,m,e.width,e.height,j)}},resizeTo:function(d,e){var g=this;g.target.setSize(d,e);g.fireEvent("resize",g,d,e,null)},getEl:function(){return this.el},getTarget:function(){return this.target},destroy:function(){var m=this,n,o=m.handles,j=o.length,h=m.possiblePositions,l;m.resizeTracker.destroy();if(m.isTargetWrapped){m.target.destroy()}for(n=0;n<j;n++){if((l=m[h[o[n]]])){l.destroy()}}}});Ext.define("Ext.toolbar.Fill",{extend:Ext.Component,alias:"widget.tbfill",alternateClassName:"Ext.Toolbar.Fill",ariaRole:"presentation",isFill:true,flex:1});Ext.define("Ext.util.CSS",function(){var m,j=null,l=document,g=/(-[a-z])/gi,h=function(b,a){return a.charAt(1).toUpperCase()};return{singleton:true,rules:j,initialized:false,constructor:function(){m=this},createStyleSheet:function(c,a){var d,e=l.getElementsByTagName("head")[0],b=l.createElement("style");b.setAttribute("type","text/css");if(a){b.setAttribute("id",a)}d=b.styleSheet;if(d){e.appendChild(b);d.cssText=c}else{b.appendChild(l.createTextNode(c));e.appendChild(b);d=b.sheet}m.cacheStyleSheet(d);return d},removeStyleSheet:function(a){var b=l.getElementById(a);if(b){b.parentNode.removeChild(b)}},swapStyleSheet:function(a,c){var b;m.removeStyleSheet(a);b=l.createElement("link");b.setAttribute("rel","stylesheet");b.setAttribute("type","text/css");b.setAttribute("id",a);b.setAttribute("href",c);l.getElementsByTagName("head")[0].appendChild(b)},cacheStyleSheet:function(u){if(!j){j=m.rules={}}try{var e=u.cssRules||u.rules,a=e.length-1,c=u.imports,d=c?c.length:0,r,b;for(b=0;b<d;++b){m.cacheStyleSheet(c[b])}for(;a>=0;--a){r=e[a];if(r.styleSheet){m.cacheStyleSheet(r.styleSheet)}m.cacheRule(r,u)}}catch(s){}},cacheRule:function(c,e){if(c.styleSheet){return m.cacheStyleSheet(c.styleSheet)}var a=c.selectorText,b,d;if(a){a=a.split(",");b=a.length;for(d=0;d<b;d++){j[Ext.String.trim(a[d]).toLowerCase()]={parentStyleSheet:e,cssRule:c}}}},getRules:function(a){var b={},c;if(j===null||a){m.refreshCache()}for(c in j){b[c]=j[c].cssRule}return b},refreshCache:function(){var b=l.styleSheets,c=0,d=b.length;j=m.rules={};for(;c<d;c++){try{if(!b[c].disabled){m.cacheStyleSheet(b[c])}}catch(a){}}},getRule:function(d,b,c){var a,e;if(!j||b){m.refreshCache()}if(!Ext.isArray(d)){e=j[d.toLowerCase()];if(e&&!c){e=e.cssRule}return e||null}for(a=0;a<d.length;a++){if(j[d[a]]){return c?j[d[a].toLowerCase()]:j[d[a].toLowerCase()].cssRule}}return null},createRule:function(o,d,b){var e,a=o.cssRules||o.rules,c=a.length;if(o.insertRule){o.insertRule(d+" {"+b+"}",c)}else{o.addRule(d,b||" ")}m.cacheRule(e=a[c],o);return e},updateRule:function(e,a,b){var o,d,c;if(!Ext.isArray(e)){o=m.getRule(e);if(o){if(arguments.length===2){c=Ext.Element.parseStyles(a);for(a in c){o.style[a.replace(g,h)]=c[a]}}else{o.style[a.replace(g,h)]=b}return true}}else{for(d=0;d<e.length;d++){if(m.updateRule(e[d],a,b)){return true}}}return false},deleteRule:function(d){var b=m.getRule(d,false,true),a,c;if(b){a=b.parentStyleSheet;c=Ext.Array.indexOf(a.cssRules||a.rules,b.cssRule);if(a.deleteRule){a.deleteRule(c)}else{a.removeRule(c)}delete j[d]}}}});Ext.define("Ext.util.Cookies",{singleton:true,set:function(s,q){var m=arguments,n=arguments.length,l=(n>2)?m[2]:null,o=(n>3)?m[3]:"/",r=(n>4)?m[4]:null,p=(n>5)?m[5]:false;document.cookie=s+"="+escape(q)+((l===null)?"":("; expires="+l.toUTCString()))+((o===null)?"":("; path="+o))+((r===null)?"":("; domain="+r))+((p===true)?"; secure":"")},get:function(o){var l=document.cookie.split("; "),j=l.length,m,n,h;for(n=0;n<j;++n){m=l[n].split("=");if(m[0]===o){h=m[1];return h?unescape(h):""}}return null},clear:function(d,c){if(this.get(d)){c=c||"/";document.cookie=d+"=; expires=Thu, 01-Jan-1970 00:00:01 GMT; path="+c}}});Ext.define("Ext.window.Toast",{extend:Ext.window.Window,xtype:"toast",isToast:true,cls:Ext.baseCSSPrefix+"toast",bodyPadding:10,autoClose:true,plain:false,draggable:false,resizable:false,shadow:false,focus:Ext.emptyFn,anchor:null,useXAxis:false,align:"br",animate:true,spacing:6,paddingX:30,paddingY:10,slideInAnimation:"easeIn",slideBackAnimation:"bounceOut",slideInDuration:1500,slideBackDuration:1000,hideDuration:500,autoCloseDelay:3000,stickOnClick:true,stickWhileHover:true,closeOnMouseDown:false,isHiding:false,isFading:false,destroyAfterHide:false,closeOnMouseOut:false,xPos:0,yPos:0,initComponent:function(){var b=this;b.updateAlignment(b.align);b.setAnchor(b.anchor);b.callParent()},onRender:function(){var b=this;b.callParent(arguments);b.el.hover(b.onMouseEnter,b.onMouseLeave,b);if(b.closeOnMouseDown){Ext.getDoc().on("mousedown",b.onDocumentMousedown,b)}},alignmentProps:{br:{paddingFactorX:-1,paddingFactorY:-1,siblingAlignment:"br-br",anchorAlign:"tr-br"},bl:{paddingFactorX:1,paddingFactorY:-1,siblingAlignment:"bl-bl",anchorAlign:"tl-bl"},tr:{paddingFactorX:-1,paddingFactorY:1,siblingAlignment:"tr-tr",anchorAlign:"br-tr"},tl:{paddingFactorX:1,paddingFactorY:1,siblingAlignment:"tl-tl",anchorAlign:"bl-tl"},b:{paddingFactorX:0,paddingFactorY:-1,siblingAlignment:"b-b",useXAxis:0,anchorAlign:"t-b"},t:{paddingFactorX:0,paddingFactorY:1,siblingAlignment:"t-t",useXAxis:0,anchorAlign:"b-t"},l:{paddingFactorX:1,paddingFactorY:0,siblingAlignment:"l-l",useXAxis:1,anchorAlign:"r-l"},r:{paddingFactorX:-1,paddingFactorY:0,siblingAlignment:"r-r",useXAxis:1,anchorAlign:"l-r"},x:{br:{anchorAlign:"bl-br"},bl:{anchorAlign:"br-bl"},tr:{anchorAlign:"tl-tr"},tl:{anchorAlign:"tr-tl"}}},updateAlignment:function(j){var m=this,h=m.alignmentProps,g=h[j],l=h.x[j];if(l&&m.useXAxis){Ext.applyIf(m,l)}Ext.applyIf(m,g)},getXposAlignedToAnchor:function(){var o=this,l=o.align,j=o.anchor,n=j&&j.el,h=o.el,m=0;if(n&&n.dom){if(!o.useXAxis){m=h.getLeft()}else{if(l==="br"||l==="tr"||l==="r"){m+=n.getAnchorXY("r")[0];m-=(h.getWidth()+o.paddingX)}else{m+=n.getAnchorXY("l")[0];m+=o.paddingX}}}return m},getYposAlignedToAnchor:function(){var n=this,l=n.align,j=n.anchor,m=j&&j.el,h=n.el,o=0;if(m&&m.dom){if(n.useXAxis){o=h.getTop()}else{if(l==="br"||l==="bl"||l==="b"){o+=m.getAnchorXY("b")[1];o-=(h.getHeight()+n.paddingY)}else{o+=m.getAnchorXY("t")[1];o+=n.paddingY}}}return o},getXposAlignedToSibling:function(g){var m=this,j=m.align,h=m.el,l;if(!m.useXAxis){l=h.getLeft()}else{if(j==="tl"||j==="bl"||j==="l"){l=(g.xPos+g.el.getWidth()+g.spacing)}else{l=(g.xPos-h.getWidth()-m.spacing)}}return l},getYposAlignedToSibling:function(g){var l=this,j=l.align,h=l.el,m;if(l.useXAxis){m=h.getTop()}else{if(j==="tr"||j==="tl"||j==="t"){m=(g.yPos+g.el.getHeight()+g.spacing)}else{m=(g.yPos-h.getHeight()-g.spacing)}}return m},getToasts:function(){var e=this.anchor,g=this.anchorAlign,d=e.activeToasts||(e.activeToasts={});return d[g]||(d[g]=[])},setAnchor:function(e){var g=this,d;g.anchor=e=((typeof e==="string")?Ext.getCmp(e):e);if(!e){d=Ext.window.Toast;g.anchor=d.bodyAnchor||(d.bodyAnchor={el:Ext.getBody()})}},beforeShow:function(){var b=this;if(b.stickOnClick){b.body.on("click",function(){b.cancelAutoClose()})}if(b.autoClose){if(!b.closeTask){b.closeTask=new Ext.util.DelayedTask(b.doAutoClose,b)}b.closeTask.delay(b.autoCloseDelay)}b.el.setX(-10000);b.el.setOpacity(1)},afterShow:function(){var m=this,h=m.el,n,j,o,l;m.callParent(arguments);n=m.getToasts();o=n.length;j=o&&n[o-1];if(j){h.alignTo(j.el,m.siblingAlignment,[0,0]);m.xPos=m.getXposAlignedToSibling(j);m.yPos=m.getYposAlignedToSibling(j)}else{h.alignTo(m.anchor.el,m.anchorAlign,[(m.paddingX*m.paddingFactorX),(m.paddingY*m.paddingFactorY)],false);m.xPos=m.getXposAlignedToAnchor();m.yPos=m.getYposAlignedToAnchor()}Ext.Array.include(n,m);if(m.animate){l=h.getXY();h.animate({from:{x:l[0],y:l[1]},to:{x:m.xPos,y:m.yPos,opacity:1},easing:m.slideInAnimation,duration:m.slideInDuration,dynamic:true})}else{m.setLocalXY(m.xPos,m.yPos)}},onDocumentMousedown:function(b){if(this.isVisible()&&!this.owns(b.getTarget())){this.hide()}},slideBack:function(){var m=this,h=m.anchor,l=h&&h.el,o=m.el,n=m.getToasts(),j=Ext.Array.indexOf(n,m);if(!m.isHiding&&o&&o.dom&&l&&l.isVisible()){if(j){m.xPos=m.getXposAlignedToSibling(n[j-1]);m.yPos=m.getYposAlignedToSibling(n[j-1])}else{m.xPos=m.getXposAlignedToAnchor();m.yPos=m.getYposAlignedToAnchor()}m.stopAnimation();if(m.animate){o.animate({to:{x:m.xPos,y:m.yPos},easing:m.slideBackAnimation,duration:m.slideBackDuration,dynamic:true})}}},update:function(){var b=this;if(b.isVisible()){b.isHiding=true;b.hide()}b.callParent(arguments);b.show()},cancelAutoClose:function(){var b=this.closeTask;if(b){b.cancel()}},doAutoClose:function(){var b=this;if(!(b.stickWhileHover&&b.mouseIsOver)){b.close()}else{b.closeOnMouseOut=true}},onMouseEnter:function(){this.mouseIsOver=true},onMouseLeave:function(){var b=this;b.mouseIsOver=false;if(b.closeOnMouseOut){b.closeOnMouseOut=false;b.close()}},removeFromAnchor:function(){var g=this,d,e;if(g.anchor){d=g.getToasts();e=Ext.Array.indexOf(d,g);if(e!==-1){Ext.Array.erase(d,e,1);for(;e<d.length;e++){d[e].slideBack()}}}},getFocusEl:Ext.emptyFn,hide:function(){var c=this,d=c.el;c.cancelAutoClose();if(c.isHiding){if(!c.isFading){c.callParent(arguments);c.removeFromAnchor();c.isHiding=false}}else{c.isHiding=true;c.isFading=true;c.cancelAutoClose();if(d){if(c.animate){d.fadeOut({opacity:0,easing:"easeIn",duration:c.hideDuration,listeners:{afteranimate:function(){c.isFading=false;c.hide(c.animateTarget,c.doClose,c)}}})}else{c.isFading=false;c.hide(c.animateTarget,c.doClose,c)}}}return c}},function(b){Ext.toast=function(m,l,j,n){var o=m,a;if(Ext.isString(m)){o={title:l,html:m,iconCls:n};if(j){o.align=j}}a=new b(o);a.show();return a}});Ext.define("Ext.draw.Color",{statics:{colorToHexRe:/(.*?)rgb\((\d+),\s*(\d+),\s*(\d+)\)/,rgbToHexRe:/\s*rgb\((\d+),\s*(\d+),\s*(\d+)\)/,rgbaToHexRe:/\s*rgba\((\d+),\s*(\d+),\s*(\d+),\s*([\.\d]+)\)/,hexRe:/\s*#([0-9a-fA-F][0-9a-fA-F]?)([0-9a-fA-F][0-9a-fA-F]?)([0-9a-fA-F][0-9a-fA-F]?)\s*/,NONE:"none",RGBA_NONE:"rgba(0, 0, 0, 0)"},isColor:true,lightnessFactor:0.2,constructor:function(h,e,g,j){this.setRGB(h,e,g,j)},setRGB:function(j,m,h,l){var g=this;g.r=Math.min(255,Math.max(0,j));g.g=Math.min(255,Math.max(0,m));g.b=Math.min(255,Math.max(0,h));if(l===undefined){g.a=1}else{g.a=Math.min(1,Math.max(0,l))}},getGrayscale:function(){return this.r*0.3+this.g*0.59+this.b*0.11},getHSL:function(){var r=this,x=r.r/255,s=r.g/255,l=r.b/255,h=Math.max(x,s,l),v=Math.min(x,s,l),g=h-v,u,b=0,w=0.5*(h+v);if(v!==h){b=(w<=0.5)?g/(h+v):g/(2-h-v);if(x===h){u=60*(s-l)/g}else{if(s===h){u=120+60*(l-x)/g}else{u=240+60*(x-s)/g}}if(u<0){u+=360}if(u>=360){u-=360}}return[u,b,w]},getHSV:function(){var r=this,x=r.r/255,s=r.g/255,q=r.b/255,h=Math.max(x,s,q),v=Math.min(x,s,q),w=h-v,u,b=0,g=h;if(v!=h){b=g?w/g:0;if(x===h){u=60*(s-q)/w}else{if(s===h){u=60*(q-x)/w+120}else{u=60*(x-s)/w+240}}if(u<0){u+=360}if(u>=360){u-=360}}return[u,b,g]},setHSL:function(l,m,p){var s=this,r=Math.abs,q,c,h;l=(l%360+360)%360;m=m>1?1:m<0?0:m;p=p>1?1:p<0?0:p;if(m===0||l===null){p*=255;s.setRGB(p,p,p)}else{l/=60;q=m*(1-r(2*p-1));c=q*(1-r(l%2-1));h=p-q/2;h*=255;q*=255;c*=255;switch(Math.floor(l)){case 0:s.setRGB(q+h,c+h,h);break;case 1:s.setRGB(c+h,q+h,h);break;case 2:s.setRGB(h,q+h,c+h);break;case 3:s.setRGB(h,c+h,q+h);break;case 4:s.setRGB(c+h,h,q+h);break;case 5:s.setRGB(q+h,h,c+h);break}}return s},setHSV:function(o,p,q){var n=this,m,c,h;o=(o%360+360)%360;p=p>1?1:p<0?0:p;q=q>1?1:q<0?0:q;if(p===0||o===null){q*=255;n.setRGB(q,q,q)}else{o/=60;m=q*p;c=m*(1-Math.abs(o%2-1));h=q-m;h*=255;m*=255;c*=255;switch(Math.floor(o)){case 0:n.setRGB(m+h,c+h,h);break;case 1:n.setRGB(c+h,m+h,h);break;case 2:n.setRGB(h,m+h,c+h);break;case 3:n.setRGB(h,c+h,m+h);break;case 4:n.setRGB(c+h,h,m+h);break;case 5:n.setRGB(m+h,h,c+h);break}}return n},createLighter:function(c){var d=this.getHSL();c=c||this.lightnessFactor;d[2]=Ext.Number.constrain(d[2]+c,0,1);return Ext.draw.Color.fromHSL(d[0],d[1],d[2])},createDarker:function(b){b=b||this.lightnessFactor;return this.createLighter(-b)},toString:function(){var g=this,m=Math.round;if(g.a===1){var j=m(g.r).toString(16),l=m(g.g).toString(16),b=m(g.b).toString(16);j=(j.length===1)?"0"+j:j;l=(l.length===1)?"0"+l:l;b=(b.length===1)?"0"+b:b;return["#",j,l,b].join("")}else{return"rgba("+[m(g.r),m(g.g),m(g.b),g.a===0?0:g.a.toFixed(15)].join(", ")+")"}},toHex:function(h){if(Ext.isArray(h)){h=h[0]}if(!Ext.isString(h)){return""}if(h.substr(0,1)==="#"){return h}var m=Ext.draw.Color.colorToHexRe.exec(h);if(Ext.isArray(m)){var l=parseInt(m[2],10),n=parseInt(m[3],10),j=parseInt(m[4],10),o=j|(n<<8)|(l<<16);return m[1]+"#"+("000000"+o.toString(16)).slice(-6)}else{return""}},setFromString:function(a){var o,g,n,q,p=1,b=parseInt;if(a===Ext.draw.Color.NONE){this.r=this.g=this.b=this.a=0;return this}if((a.length===4||a.length===7)&&a.substr(0,1)==="#"){o=a.match(Ext.draw.Color.hexRe);if(o){g=b(o[1],16)>>0;n=b(o[2],16)>>0;q=b(o[3],16)>>0;if(a.length===4){g+=(g*16);n+=(n*16);q+=(q*16)}}}else{if((o=a.match(Ext.draw.Color.rgbToHexRe))){g=+o[1];n=+o[2];q=+o[3]}else{if((o=a.match(Ext.draw.Color.rgbaToHexRe))){g=+o[1];n=+o[2];q=+o[3];p=+o[4]}else{if(Ext.draw.Color.ColorList.hasOwnProperty(a.toLowerCase())){return this.setFromString(Ext.draw.Color.ColorList[a.toLowerCase()])}}}}if(typeof g==="undefined"){return this}this.r=g;this.g=n;this.b=q;this.a=p;return this}},function(){var b=new this();this.addStatics({fly:function(a,g,l,j){switch(arguments.length){case 1:b.setFromString(a);break;case 3:case 4:b.setRGB(a,g,l,j);break;default:return null}return b},ColorList:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},fromHSL:function(e,g,a){return(new this(0,0,0,0)).setHSL(e,g,a)},fromHSV:function(e,g,a){return(new this(0,0,0,0)).setHSL(e,g,a)},fromString:function(a){return(new this(0,0,0,0)).setFromString(a)},create:function(a){if(a instanceof this){return a}else{if(Ext.isArray(a)){return new Ext.draw.Color(a[0],a[1],a[2],a[3])}else{if(Ext.isString(a)){return Ext.draw.Color.fromString(a)}else{if(arguments.length>2){return new Ext.draw.Color(arguments[0],arguments[1],arguments[2],arguments[3])}else{return new Ext.draw.Color(0,0,0,0)}}}}}})});Ext.apply(Ext.DomHelper,{getSelection:function(){if(window.getSelection){return window.getSelection()}if(document.getSelection){return document.getSelection()}return document.selection.createRange()}});Ext.apply(Ext.Object,{dot:function(g,e,d){if(typeof e=="string"){return Ext.Object.dot(g,e.split("."),d)}else{if(e.length==1&&d!==undefined){return g[e[0]]=d}else{if(e.length==0){return g}else{if(!g[e[0]]){g[e[0]]={}}}}}return Ext.Object.dot(g[e[0]],e.slice(1),d)}});Ext.apply(Ext.ComponentQuery.pseudos,{isLayoutType:function(m,o){var c=[],l,n,j;for(n=0,j=m.length;n<j;n++){l=m[n];if(l.layout&&l.layout.type==o){c.push(l)}}return c}});Ext.define("E.xml.Xml",{alias:"xml_xml",singleton:true,parse:function(d){var c;if(window.DOMParser){c=(new DOMParser()).parseFromString(d,"text/xml")}else{c=new ActiveXObject("Microsoft.XMLDOM");c.loadXML(d)}return c},toNode:function(b){return Ext.isString(b)?this.parse(b).documentElement:b},toDoc:function(c){if(c instanceof Document){return c}var d=this.parseRoot();Ext.forEach(c.xpath("./*"),function(a){d.firstChild.appendChild(a.cloneNode(true))});return d},replaceChild:function(d,g,e){if(!e){return this.appendChild(d,g)}d=this.toNode(d);return d.replaceChild(this.toNode(g).cloneNode(true),e)},appendChild:function(h,m,j){var l=this,g=[];h=l.toNode(h);if(Ext.isArray(m)||m instanceof NodeList){Ext.forEach(m,function(a){g.push(h.appendChild(l.toNode(a).cloneNode(true)))})}else{g=h.appendChild(l.toNode(m).cloneNode(true))}return j?h:g},insertBefore:function(g,d,e){g=this.toNode(g);d=this.toNode(d).cloneNode(true);return g.insertBefore(d,g.childNodes[e])},getPosition:function(b){return b.xpath("./preceding-sibling::"+b.nodeName).length},wrap:function(e,g,d){d=d||"";if(g==""||g==null||g==undefined){return"<"+e+d+"/>"}return"<"+e+d+">"+g+"</"+e+">"},cmpWrap:function(b){return this.wrap("cmpId",b)},fromJsonAttributes:function(h){var j="",g=Ext.String;for(var e in h){if(h.hasOwnProperty(e)&&(g.startsWith(e,"_")||g.startsWith(e,"@"))){j+=" "+e.substring(1)+'="'+h[e]+'"'}}return j},fromJson:function(u,s){var v="",r=Ext.String,p=Ext.getApp().xml,o=p.wrap,q=p.fromJson,n=p.fromJsonAttributes;for(var j in u){if(u.hasOwnProperty(j)&&!(r.startsWith(j,"_")||r.startsWith(j,"@"))){if(Ext.isPrimitive(u[j])){v+=o(j,u[j])}else{if(u[j]==null||u[j]==undefined){v+=o(j,"")}else{if(Ext.isArray(u[j])){Ext.forEach(u[j],function(a){v+=o(j,q(a,s),n(a))})}else{if(s){v+=o(j,q(u[j],s)),n(u[j])}}}}}}return v},parseRoot:function(b){return this.parse("<root>"+(b?b:"")+"</root>")},evalXpath:function(j,g,e,h){return j.xpath(Ext.isFunction(g)?g.apply(h?h:this,e):g)},serialize:function(g){var e="",d=function(a){if(window.ActiveXObject){e+=a.xml}else{e+=new XMLSerializer().serializeToString(a)}};g.forEach?g.forEach(d):(d(g));return e},xsl:{},transform:function(m,v,n){n=n||[];var u=Ext.getApp(),p=u.isOnline(),r,q=u.xml;var s=this.xsl[v];if(!s){r=localStorage.get(v,{parse:true,pre:"xsl"});this.xsl[v]=r?r:u.direct({action:"getResource",resourceId:v},{method:"GET",url:u.buildUrl({controller:"ajaxGet",domain:v})})}if(!r&&this.xsl[v]){localStorage.set(v,this.serialize(this.xsl[v]),{pre:"xsl"})}if(window.ActiveXObject){return m.transformNode(this.xsl[v])}else{if(document.implementation&&document.implementation.createDocument){var o=new XSLTProcessor();if(!(n instanceof Array)){n=[n]}Ext.each(n,function(a){o.setParameter(a.ns,a.name,a.value)});o.importStylesheet(this.xsl[v]);return o.transformToFragment(m,m.ownerDocument)}}},parseAttribute:function(d,g){var e={};g=g||"";Ext.each(d.attributes,function(a){e[(g)+a.localName]=a.getValue()});return e},parseDotAttribute:function(c){var d={};Ext.each(c.attributes,function(a){Ext.Object.dot(d,a.localName,a.getValue())});return d},parseFunction:function(g,d,e){if(d.apply(g,e)!=false){Ext.each(g.childNodes,function(a){if(a.nodeType==1){this.parseFunction(a,d,e)}},this)}},parseElement:function(z,w,r,s){w=w||{};if(!z||z.length<0){return w}var y=[],u,A;if(r||r==""){A=true;Ext.apply(w,this.parseAttribute(z,Ext.isString(r)?r:"_"))}Ext.each(z.childNodes,function(a){if(a.nodeType==1){y.push(a.localName)}});if(y.length){var v=Ext.Array.countEach(y);for(var x=0,n=v.unique.length;x<n;x++){w[v.unique[x]]=[]}for(var x=0,n=z.childNodes.length;x<n;x++){var B=z.childNodes[x],D=B.localName;if(v.count[D]==1){w[D]=!s?this.parseElement(B,{},r):(B.innerHTML||B.textContent)}else{if(D){w[D].push(!s?this.parseElement(B,{},r):(B.innerHTML||B.textContent))}else{u=(B.innerHTML||B.textContent);if(!Ext.isEmpty(u)){w.__txt__+=u}}}}return w}var C=z.firstChild==null?z.nodeValue:z.getValue();if(A&&z.attributes.length){w.__txt__=C;return w}return C}});Ext.define("E.xforms.ExprMgr",{alias:"xforms_exprmgr",singleton:true,typeName:"typeExpr",defaultType:"function",defaultTypeExpr:"xpathExpr",constructor:function(b){Ext.apply(this,b||{});this.all=new Ext.util.HashMap();this.types={}},get:function(b){return this.all.get(b)},register:function(h,g){if(arguments.length==1){g=h}else{g.id=h}var j=this.types[this.defaultType];var e=new j(g);this.all.add(e)},registerType:function(c,d){this.types[c]=d;d[this.typeName]=c},create:function(q,m){q=q.e?q.e:q;var o=q[this.typeName]||q.type||m||this.defaultTypeExpr,n=this.types[o];if(n==undefined){throw new Error(Ext.util.Format.format("The '{0}' typeExpression has not been registered with this manager",o))}var j=[];if(Ext.isString(q)){q={_args:[q]}}else{if(q.args&&!Ext.isArray(q.args)){q.args=[q.args]}if(q.args){for(var p=0,l=q.args.length;p<l;p++){j.push(this.create(q.args[p]))}q._args=j}}delete q.args;return new n(q)},doRegister:function(){var g=this,d=g.prototype||g;if(d.functionName){var e=[].concat(d.functionName);Ext.forEach(e,function(a){E.xforms.ExprMgr.register(a,g)})}else{E.xforms.ExprMgr.registerType(d.typeName,g)}}});Ext.define("E.xforms.xpath.Expr",{alias:"xpath_expr",typeName:"expr",booleanValue:function(b){return typeof b=="undefined"?false:(typeof b.length!="undefined"?b.length>0:!!b)},stringValue:function(b){return typeof b!="object"?""+b:(b.length===0?"":b[0].getValue())},numberValue:function(c){if(typeof c=="boolean"){return"A"-0}else{var d=typeof c=="object"?this.stringValue(c):c;return d===""?NaN:d-0}},nodeSetValue:function(b){if(typeof b!="object"){throw {name:this,message:Error().stack}}return b},ns:E.xml.Ns.ns},function(){E.xforms.ExprMgr.doRegister.apply(this)});Ext.define("E.xforms.xpath.BinaryExpr",{alias:"xpath_binaryexpr",extend:E.xforms.xpath.Expr,typeName:"binaryExprCall",constructor:function(b){this.expr1=b._args[0];this.expr2=b._args[2];this.op=b._args[1]._args[0].replace("&gt;",">").replace("&lt;","<")},evaluate:function(j){var o=this.expr1.evaluate(j);var p=this.expr2.evaluate(j);var r;var u;if((((typeof o)=="object"&&o.length>1)||((typeof p)=="object"&&p.length>1))&&(this.op=="="||this.op=="!="||this.op=="<"||this.op=="<="||this.op==">"||this.op==">=")){for(var v=0,s=o.length;v<s;v++){r=this.numberValue([o[v]]);if(isNaN(r)){r=this.stringValue([o[v]])}for(var w=0,x=p.length;w<x;w++){u=this.numberValue([p[w]]);if(isNaN(u)){u=this.stringValue([p[w]])}switch(this.op){case"=":if(r==u){return true}break;case"!=":if(r!=u){return true}break;case"<":if(r<u){return true}break;case"<=":if(r<=u){return true}break;case">":if(r>u){return true}break;case">=":if(r>=u){return true}break}}}return false}r=this.numberValue(o);u=this.numberValue(p);if(isNaN(r)||isNaN(u)){r=this.stringValue(o);u=this.stringValue(p)}var q=0;switch(this.op){case"or":q=this.booleanValue(o)||this.booleanValue(p);break;case"and":q=this.booleanValue(o)&&this.booleanValue(p);break;case"+":q=r+u;break;case"-":q=r-u;break;case"*":q=r*u;break;case"mod":q=r%u;break;case"div":q=r/u;break;case"=":q=r==u;break;case"!=":q=r!=u;break;case"<":q=r<u;break;case"<=":q=r<=u;break;case">":q=r>u;break;case">=":q=r>=u;break}return typeof q=="number"?Math.round(q*1000000)/1000000:q}},function(){E.xforms.ExprMgr.doRegister.apply(this)});Ext.define("E.xforms.xpath.FilterExpr",{alias:"xpath_filterexpr",extend:E.xforms.xpath.Expr,typeName:"FilterExpr",constructor:function(b){this.expr=b._args[0];this.predicate=b._args[1];if(!Ext.isArray(this.predicate)){this.predicate=[this.predicate]}},evaluate:function(j){var r=this.nodeSetValue(this.expr.evaluate(j));for(var o=0,n=this.predicate.length;o<n;++o){var s=r;r=[];for(var p=0,q=s.length;p<q;++p){var m=s[p];m.current=j.current;if(this.booleanValue(this.predicate[o].evaluate(m))){r.push(m)}}}return r}},function(){E.xforms.ExprMgr.doRegister.apply(this)});Ext.define("E.xforms.xpath.Function",{alias:"xpath_function",extend:E.xforms.xpath.Expr,typeName:"function",constructor:function(b){Ext.apply(this,b)},acceptContext:true,call:function(c,d){if(d.length===0){switch(this.defaultTo){case"DEFAULT_NODE":if(c.node!=null){d=[c.node]}break;case"DEFAULT_NODESET":if(c.node!=null){d=[[c.node]]}break;case"DEFAULT_STRING":d=[this.stringValue(c.node)];break}}if(this.acceptContext){d.unshift(c)}return this.evaluate.apply(this,d)},evaluate:function(j){var e=[];for(var h=0,g=this._args.length;h<g;h++){e[h]=this._args[h].evaluate(ct)}return this.func.call(j,e)},getError:function(b){if(this.errorType&&this.errorType.name){return this.errorType}if(this.errorType&&this.errorType.message){return{name:this.typeName+"() : "+this.errors[b].name,message:this.name+" "+this.errorType.message}}return this.errorType||{name:b,message:"this error type is not registered"}},errors:{invalidArgumentsNumber:{name:"Invalid number of arguments"},InvalidArgumentType:{name:"Invalid type of argument"}}},function(){E.xforms.ExprMgr.doRegister.apply(this)});Ext.define("E.xforms.xpath.XPathExpr",{alias:"xpath_xpathexpr",extend:E.xforms.xpath.Expr,typeName:"xpathExpr",constructor:function(b){Ext.apply(this,b)},evaluate:function(d){var c=d.xpath(this._args[0],this.ns);if(Ext.isArray(c)&&d.current._pushDependant){Ext.each(c,function(a){if(a.xf_field){d.current.nodeListForEval[d.current._isEvaluating].add(a.xf_field)}})}return c}},function(){E.xforms.ExprMgr.doRegister.apply(this)});Ext.define("E.xforms.xpath.XPathContextShift",{alias:"xpath_xpathcontextshift",extend:E.xforms.xpath.Expr,typeName:"contextShift",constructor:function(b){this.context=b._args[0];this.path=b._args[1]},evaluate:function(c){var d=this.context.evaluate(c);d.current=c.current;return this.path.evaluate(d)}},function(){E.xforms.ExprMgr.doRegister.apply(this)});Ext.define("E.xforms.xpath.FunctionCall",{alias:"xpath_functioncall",extend:E.xforms.xpath.Expr,typeName:"functionCall",constructor:function(c){var d=c.name||"identity";this.func=E.xforms.ExprMgr.get(d);this._args=c._args||[];if(!this.func){throw {name:"Function "+d+"() not found"}}},evaluate:function(j){var e=[];for(var h=0,g=this._args.length;h<g;h++){e[h]=this._args[h].evaluate(j)}return this.func.call(j,e)}},function(){E.xforms.ExprMgr.doRegister.apply(this)});Ext.define("E.xforms.xpath.Function.FunctionBase",{alias:"function_functionbase",extend:E.xforms.xpath.Expr,functionName:"noName",acceptContext:true,defaultTo:"DEFAULT_NONE",returnNodes:true,evaluate:Ext.emptyFn,invalidArgumentsNumber:{message:"must have no argument"},InvalidArgumentType:{message:"must have a nodeset argument"}});Ext.define("E.xforms.xpath.Function.Current",{alias:"function_current",extend:E.xforms.xpath.Function.FunctionBase,singleton:true,functionName:"current",evaluate:function(d){if(arguments.length!=1){throw this.getError("invalidArgumentsNumber")}if(d.current._pushDependant){d.current.nodeListForEval[d.current._isEvaluating].add(d.current)}var c=[d.current.xmlNode];return c}},function(){E.xforms.ExprMgr.doRegister.apply(this)});Ext.define("E.xforms.xpath.Function.Instance",{alias:"function_instance",extend:E.xforms.xpath.Function.FunctionBase,singleton:true,functionName:"instance",evaluate:function(g,h){if(arguments.length>2){throw this.getError("invalidArgumentsNumber")}var j,e;if(h&&(e=Ext.getApp().getInstanceXml(h))){return e}return g.xpath("./ancestor-or-self::xf:instance")[0]},invalidArgumentsNumber:{message:"must have zero or one argument (id)"}},function(){E.xforms.ExprMgr.doRegister.apply(this)});Ext.define("E.xforms.xpath.Function.If",{alias:"function_if",extend:E.xforms.xpath.Function.FunctionBase,singleton:true,functionName:"if",acceptContext:false,defaultTo:"DEFAULT_NODE",evaluate:function(g,e,d){if(arguments.length!=3){throw this.getError("invalidArgumentsNumber")}return this.booleanValue(g)?e:d},invalidArgumentsNumber:{message:"must have three argument exactly"}},function(){E.xforms.ExprMgr.doRegister.apply(this)});Ext.define("E.xforms.xpath.Function.StringJoin",{alias:"function_stringjoin",extend:E.xforms.xpath.Function.FunctionBase,singleton:true,functionName:"string-join",acceptContext:false,returnNodes:false,evaluate:function(l,m,o){if(typeof l!="object"){throw this.getError("InvalidArgumentType")}var h=[];m=m||"";if(o){for(var n=l.length-1,j=-1;n>j;n--){h.push(l[n].getValue())}}else{for(var n=0,j=l.length;n<j;n++){h.push(l[n].getValue())}}return h.join(m)},invalidArgumentsNumber:{message:"must have one or two arguments"}},function(){E.xforms.ExprMgr.doRegister.apply(this)});Ext.define("E.xforms.xpath.Function.Substring",{alias:"function_substring",extend:E.xforms.xpath.Function.FunctionBase,singleton:true,functionName:"substring",acceptContext:false,returnNodes:false,evaluate:function(d,e,g){if(arguments.length!=2&&arguments.length!=3){throw this.getError("invalidArgumentsNumber")}d=this.stringValue(d);e=Math.round(this.numberValue(e));if(g!=null){g=Math.round(this.numberValue(g));return d.substr(e-1,g)}return d.substr(e-1)}},function(){E.xforms.ExprMgr.doRegister.apply(this)});Ext.define("E.xforms.xpath.Function.Name",{alias:"function_name",extend:E.xforms.xpath.Function.FunctionBase,singleton:true,functionName:"name",acceptContext:false,defaultTo:"DEFAULT_NODESET",returnNodes:false,evaluate:function(b){if(arguments.length>1){throw this.getError("invalidArgumentsNumber")}if(arguments.length==1&&typeof b!="object"){throw this.getError("InvalidArgumentType")}return b.length===0?"":b[0].nodeName}},function(){E.xforms.ExprMgr.doRegister.apply(this)});Ext.define("E.xforms.xpath.Function.Sum",{alias:"function_sum",extend:E.xforms.xpath.Function.FunctionBase,singleton:true,functionName:"sum",acceptContext:false,defaultTo:"DEFAULT_STRING",returnNodes:false,evaluate:function(h){if(arguments.length!=1){throw this.getError("InvalidArgumentsNumber")}if(typeof h!="object"){throw this.getError("InvalidArgumentType")}if(h.length===0){return"A"-0}var j=0;for(var e=0,g=h.length;e<g;++e){j+=this.numberValue(h[e].getValue())}return j},invalidArgumentsNumber:{message:"must have one argument exactly"},InvalidArgumentType:{message:"must have a nodeset argument"}},function(){E.xforms.ExprMgr.doRegister.apply(this)});Ext.define("E.xforms.xpath.Function.Max",{alias:"function_max",extend:E.xforms.xpath.Function.FunctionBase,singleton:true,functionName:"max",acceptContext:false,returnNodes:false,evaluate:function(j){if(arguments.length!=1){throw this.getError("InvalidArgumentsNumber")}if(typeof j!="object"){throw this.getError("InvalidArgumentType")}if(j.length===0){return"A"-0}var g=this.numberValue(j[0].getValue()),l;for(var m=1,h=j.length;m<h;++m){l=this.numberValue(j[m].getValue());if(isNaN(l)){return"A"-0}if(l>g){g=l}}return g},invalidArgumentsNumber:{message:"must have one argument exactly"},InvalidArgumentType:{message:"must have a nodeset argument"}},function(){E.xforms.ExprMgr.doRegister.apply(this)});Ext.define("E.xforms.xpath.Function.Min",{alias:"function_min",extend:E.xforms.xpath.Function.FunctionBase,singleton:true,functionName:"min",acceptContext:false,returnNodes:false,evaluate:function(j){if(arguments.length!=1){throw this.getError("InvalidArgumentsNumber")}if(typeof j!="object"){throw this.getError("InvalidArgumentType")}if(j.length===0){return"A"-0}var m=this.numberValue(j[0].getValue()),l;for(var g=1,h=j.length;g<h;++g){l=this.numberValue(j[g].getValue());if(isNaN(l)){return"A"-0}if(l<m){m=l}}return m},invalidArgumentsNumber:{message:"must have one argument exactly"},InvalidArgumentType:{message:"must have a nodeset argument"}},function(){E.xforms.ExprMgr.doRegister.apply(this)});Ext.define("E.xforms.xpath.Function.Apply",{alias:"function_apply",extend:E.xforms.xpath.Function.FunctionBase,singleton:true,functionName:"apply",defaultTo:"DEFAULT_NODE",returnNodes:false,evaluate:function(j,h,m){if(arguments.length<2){throw this.getError("InvalidArgumentsNumber")}var o=Array.prototype.slice.apply(arguments),h=this.stringValue(h),m=this.stringValue(m),l=Ext.ClassManager.get(cls);if(!l){throw this.getError("invalidClass")}l=l.prototype||l;var n=l[h];if(!Ext.isFunction(n)){throw this.getError("invalidFunctionName")}nodeSet=o.splice(0,3);return j.xf_field?n.call(j.xf_field,o):""},invalidClass:{message:"the Class in apply Function does not exist"},invalidFunctionName:{message:"the the function does not exist in the specified class"},invalidArgumentsNumber:{message:"must have at least two arguments (functionName, nodeSet, args...)"},InvalidArgumentType:{message:"must have a nodeset argument"}},function(){E.xforms.ExprMgr.doRegister.apply(this)});Ext.define("E.xforms.xpath.Function.SecondsFromDateTime",{alias:"function_secondsfromdatetime",extend:E.xforms.xpath.Function.FunctionBase,singleton:true,functionName:["seconds-from-dateTime","seconds"],acceptContext:false,defaultTo:"DEFAULT_STRING",returnNodes:false,evaluate:function(b){if(arguments.length!=1){throw this.getError("InvalidArgumentsNumber")}b=new Date(this.stringValue(b));if(b.toString=="Invalid Date"){return NaN}return +Ext.Date.format(b,"U")},invalidArgumentsNumber:{message:"must have only one argument (date)"},InvalidArgumentType:{message:"date is not a valid date"}},function(){E.xforms.ExprMgr.doRegister.apply(this)});Ext.define("E.xforms.xpath.Function.DateTimeFromSeconds",{alias:"function_datetimefromseconds",extend:E.xforms.xpath.Function.FunctionBase,singleton:true,functionName:["dateTime-from-seconds","dateTime"],acceptContext:false,defaultTo:"DEFAULT_STRING",returnNodes:false,evaluate:function(b){if(arguments.length!=1){throw this.getError("InvalidArgumentsNumber")}b=Ext.Date.parse(this.stringValue(b),"U");if(b.toString=="Invalid Date"){return NaN}return b},invalidArgumentsNumber:{message:"must have only one argument (seconds)"},InvalidArgumentType:{message:"date is not a valid date"}},function(){E.xforms.ExprMgr.doRegister.apply(this)});Ext.define("E.xforms.xpath.Function.Identity",{alias:"function_identity",extend:E.xforms.xpath.Function.FunctionBase,singleton:true,functionName:"identity",acceptContext:false,evaluate:function(){return arguments[0]}},function(){E.xforms.ExprMgr.doRegister.apply(this)});Ext.define("E.connect.Connection",{alias:"connect_connection",direct:function(o,m){if(window.XMLHttpRequest){var h=new XMLHttpRequest()}else{var h=new ActiveXObject("Microsoft.XMLHTTP")}var m=m||{},n="",j=m.url?m.url:Ext.getApp().buildUrl(),l=m.method?m.method:"POST";if(l=="POST"){n=(o instanceof Node)?o:Ext.getApp().xml.parse("<para>"+param+"</para>")}if(l=="GET"){j=j+"?"+Ext.Object.toQueryString(o)}h.open(l,j,false);if(l=="POST"){h.setRequestHeader("Content-type","application/xhtml+xml")}h.send(n);return h.responseXML.xpath(".//xsl:stylesheet")[0]},cb:function(d,e,g){console.info("ajaxCallBack not yet implemented",this,d,e,g)},buildHeaders:function(g,h){var e=this,g=g||{},j=Ext.getApp();h=h||(g.restxq?j.restxq.getRestxq(h):null);if(h){return j.restxq.getHeaders(h,g.xf_field)}},buildUrl:function(d,o){var d=d||{},m=Ext.getApp(),c=m.getUrls();o=o||"";var l=Ext.isString(d)?d:(d.controller||this.controllerType||"ajax"),n=d.domain||this.domainType||"";return(c[n]||c.url)+m.controller[l]+o},buildRequest:function(n,l){var l=l||{},o=l.restxq,q="",r=l.scope?l.scope:this;if(o){if(!o.isInstance){o=Ext.Factory.restxq(o)}o.setRestxqMap();l.method=o.getMethod()}var s=this.buildXml((o&&o.getData())?o.getData():n);if(typeof l.callback=="function"){var m=l.callback}else{var m=function(a,c,b){var e={};try{e=b.responseXML}catch(d){alert("There was a problem while loading the ajaxCall");return}var g=b.responseXML;g=g.documentElement||g;a.srvSuccess=g.getAttribute("success")!="false";Ext.callback(l.callbackFn||r[l.callback||"ajaxProcessCallBack"],r,[g,a,c,b,n])}}var p={waitMsg:"Retrieving Data...",url:l.url?l.url:o?o.buildUrl():this.buildUrl(l,q),method:l.method?l.method:"POST",xmlData:s,scope:r,optionConfig:l,success:function(b,a){if(Ext.isFunction(l.onSuccess)){l.onSuccess.apply(this,arguments)}},failure:function(b,a){if(Ext.isFunction(l.onFailure)){l.onFailure.apply(this,arguments)}},callback:m};if(o){p.headers=o.getHeaders();p.params=Ext.apply(p.params||{},o.getParams())}return p},buildXml:function(c){var d=E.xml.Xml;return(c instanceof Node)?d.toDoc(c):d.parse("<para>"+(Ext.isString(c)?c:d.fromJson(c))+"</para>")},ajaxCall:function(c,d){Ext.Ajax.request(this.buildRequest(c,d))},loadRestxq:function(c,d){if(!c.isInstance){c=Ext.Factory.restxq(c)}if(d){c.setTarget(d)}c.setRestxqMap();Ext.Loader.loadScript(c.buildUrl(),c.onLoad)}});Ext.define("E.connect.Offline",{alias:"connect_offline",extend:Ext.Mixin,mixinConfig:{after:{init:"initMixin"}},config:{allowOffline:true,interval:10000,isOnline:null},initMixin:function(){if(this.allowOffline){this.startOffline()}},updateOnline:function(d){var c=this.getViewModel().getData();if(c.appState){c.appState.set(isOnline,d)}},applyAllowOffine:function(b){if(b){return this.startOffline()}else{this.stopOffline()}return b},startOffline:function(){if(this.getIsOnline()){return true}if(!localStorage){Ext.Error.raise({msg:"localStorage not supported",errorId:"offline_noLocalStorage",informUser:true,msgCfg:{type:"alert"}});return false}var h=this,e=function(){h.setIsOnline(true)},g=function(){console.info("isOffline");h.setIsOnline(false)};if(Ext.isGecko3a){document.body.ononline=e;document.body.onoffline=g}else{var j={scope:h,run:function(){var a=this.statusOnline();if(a!=this.getIsOnline()){a?e():g()}},interval:h.getInterval()};Ext.TaskManager.start(j)}},startOffline:function(){},statusOnline:function(){return navigator.onLine},__initStorage:function(p){var o=this,m=window[p];m.init(p);if(!o.storage){o.storage={}}o.storage[p]=new Ext.util.MixedCollection();for(var q=0;q<m.length;q++){var n=m.key(q),s,v,u=n.split("/");if(u.length>1){var r={};Ext.forEach(o.metaArray(),function(a,b){r[a]=u[b]});o.storage[p].add(n,r)}}}});Ext.define("E.connect.Restxq",function(){var g=/{\$(\w|[-])+}/g,e=function(a,b){var c={};Ext.forEach(a,function(j){if(b[j]&&b[j]!="paramNotFound"){c[j]=b[j]}});return c},d=function(a,b){return a.replace(g,function(m,o,c){var n=b[m.slice(2,-1)];return n?encodeURIComponent(n):m})};return{alias:"restxq.restxq",mixins:[Ext.mixin.Factoryable],config:{method:null,path:null,formPara:null,queryPara:null,headerPara:null,cookiePara:null,dataPara:null,restxqArray:null,restxqMap:null,target:null,proxy:null,modelInstance:null},constructor:function(a){this.initConfig(a);this.setRestxqArray(true)},applyRestxqArray:function(a){if(a){var c=[],b=this.getPath();b.replace(g,function(j){c.push(j.slice(2,-1))});return c.concat(this.getFormPara()||[]).concat(this.getDataPara()||[]).concat(this.getQueryPara()||[]).concat(this.getHeaderPara()||[])}},applyRestxqMap:function(b){b=Ext.apply({},b||{},this.map);var q={},c=this.getTarget()||{},a=Ext.getApp(),o=this.getProxy()||{},p=this.getModelInstance()||c.modelInstance,n=this.getRestxqArray();if(p&&p.dropped){for(roleName in p.associations){if((n.indexOf(roleName)>-1)&&p.modified[roleName]){b[roleName]=p.modified[roleName]}}}Ext.forEach(n,function(h){var j=h.getter();q[h]=(b&&b[h])?(Ext.isFunction(b[h])?b[h](c):b[h]):Ext.isFunction(c[j])?c[j]():(p&&p.data[h])?p.data[h]:(p&&p[j])?p[j]():Ext.isFunction(o[j])?o[j](c):Ext.isFunction(a[j])?a[j]():"paramNotFound"});return q},doProcess:function(c){var a=this.getRestxqMap(),b=this[c.getter()](),j;if(b&&b.length){j=e(b,a)}return j},getHeaders:function(){return this.doProcess("headerPara")},getData:function(){return this.doProcess("dataPara")},getParams:function(){return this.doProcess("queryPara")},buildUrl:function(l){var a=Ext.getApp(),b=a.getUrls(),c=this.getRestxqMap(),m=b[this.type.split(":")[0]]||b.restxq;return m+d(this.getPath()||"",c)}}});Ext.define("E.connect.Sync",{alias:"connect_sync",extend:Ext.Mixin,config:{allowSync:null},mixinConfig:{after:{init:"initMixin"}},initMixin:function(){var c=this,d=E.xml.Xml.wrap;if(c.getAllowSync()){E.xforms.inst.InstanceMgr.get("empty_sync",{entityName:"sync",source:"local"},{fn:c.fillSync,scope:c})}},fillSync:function(){var b=this;b.syncInstance=E.xforms.inst.InstanceMgr.get("empty_sync");console.info("SYNC",this,arguments)},addSync:function(g){if(Ext.isArray(g)){return Ext.forEach(g,this.addSync,this)}var e=this;if(g instanceof Element){}if(Ext.isString(g)){g=Ext.decode(g)}var d=e.syncInstance},removeSync:function(b){}});Ext.define("E.connect.proxy.Restxq",{alias:"proxy.restxq",extend:Ext.data.proxy.Ajax,extend:Ext.data.proxy.Ajax,alias:"proxy.restxq",config:{restxq:null,resourceId:null,rootData:"serverData",rootMsg:"serverMsg"},buildRequest:function(j){var p=j.getAction(),n=this.getApi()[p];if(n){if(!n.isInstance){n=Ext.Factory.restxq(n)}var o={},l,q=this.getIdParam(),m;if((l=j.getRecords())&&(l=l[0])){n.setModelInstance(l);m=l.getId()}o[Ext.isString(q)?q:q.name]=j.getId()||m;this.setRestxq(n);n.setProxy(this).setTarget(j.getScope()).setRestxqMap(o);return this.callParent(arguments)}Ext.Error.raise("No Restxq")},buildUrl:function(){return this.getRestxq().buildUrl()},getMethod:function(){return this.getRestxq().getMethod()},getHeaders:function(){return this.getRestxq().getHeaders()},getParams:function(){return this.getRestxq().getParams()},getData:function(){return this.getRestxq().getData()},"getDoc-id":function(b){return b.modelInstance.instance.id},getEntityName:function(b){return this.getModel().entityName},getIdParam:function(){var b;if((b=this.getModel())&&(b=b.prototype)){return b.idField}return this.callParent()}});Ext.define("E.connect.reader.ConfiguredJson",{extend:Ext.data.reader.Json,alias:"reader.configuredjson",messageProperty:"serverMsg",rootProperty:"serverData"});Ext.apply(Ext.form.field.VTypes,{phoneNo:function(d,c){return/^(\(?\+?[0-9]*\)?)?[0-9_\- \(\)]*$/.test(d)},phoneNoMask:/[\d-+() ]/,phoneNoText:"this is not a valid phone number",password:function(d,c){}});Ext.define("E.form.Labelable",function(){var d=['<span class="{subLabelCls} {labelInnerCls} {labelInnerCls}-{ui}" style="{labelInnerStyle}">',"{subLabel}","</span>"],g=['<div class="{infoMsgCls} {infoMsgCls}-{ui}" style="{infoMsgStyle}">',"{infoMsg}","</div>"],e={config:{subLabel:null,infoMsg:null},subLabelTpl:d,infoMsgTpl:g,processTpl:function(p,a,r){var o=this,b=p+"Tpl",s=p+"El";if(o.rendered){var q=o[b];if(!q.isTemplate){q=o[b]=new Ext.XTemplate(q.join(""),{disableFormat:true})}if(!o[s]){var c=o.getLabelableRenderData();o[s]=q.append(a,c,true)}else{o[s].dom.innerHTML=r}o[s][r?"show":"hide"]();o.updateLayout()}},updateSubLabel:function(a){this.processTpl("subLabel",this.labelEl,a)},updateInfoMsg:function(a){this.processTpl("infoMsg",this.bodyEl,a)},getLabelableRenderData:function(){var a=this.callParent();a.subLabel=this.getSubLabel();a.infoMsgCls=this.infoMsgCls;a.subLabelCls=this.subLabelCls;a.labelInnerStyle=this.labelInnerStyle;a.infoMsgStyle=this.infoMsgStyle;return a},infoMsgCls:Ext.baseCSSPrefix+"form-msg-info",subLabelCls:Ext.baseCSSPrefix+"form-msg"};Ext.override(Ext.form.field.Base,e);Ext.override(Ext.form.FieldContainer,e);Ext.apply(e,{override:"Ext.form.Labelable"});return e});Ext.define("E.action.Mgr",{alias:"action_mgr",extend:Ext.AbstractManager,singleton:true,typeName:"atype",create:function(e,g){if(e.isAction){return e}if(e.actionId){Ext.applyIf(e,this.get(e.actionId))}if(!e.itemId){e.itemId=""+(e.id||e.actionId||e.text||e.xfa||"noId")+(e.entityName||"")}delete e.id;var d=e[this.typeName]||e.type||e.xtype||g;if(this.isRegistered(d)){return new this.types[d](e)}return Ext.widget(d,e)},models:{},getModelAction:function(g,e){if(g){g=Ext.isString(g)?g:g.id;if(!e){e=[]}else{e=Ext.isArray(e)?e:[e]}var d=[];Ext.each(this.models[g],function(b){var a=this.get(b);if(!a.atype||e.indexOf(a.aType)>-1){d.push(a)}},this);return d}}});Ext.define("E.action.ActionMgr",{alias:"action_actionmgr",extend:Ext.AbstractManager,defaultAction:"action",constructor:function(c){Ext.apply(this,c||{});this.all=new Ext.util.MixedCollection({});this.all.getKey=function(a){return a.itemId};this.types={};var d=this.items;delete this.items;if(this.entityName){d=(d||[]).concat(E.action.Mgr.getModelAction(this.cmp.entityName,this.selectType)||[])}if(d){this.add(d)}},add:function(p){if(arguments.length>1||Ext.isArray(p)){var r=arguments.length>1?arguments:p;for(var q=0,m=r.length;q<m;q++){r[q]=this.add(r[q])}return r}var s=E.action.Mgr;if(Ext.isString(p)){var o=p;p=s.get(p)}if(p){if(this.defaults){Ext.apply(p,this.defaults)}if(p.menu&&p.menu.items){var n=p.menu.items.items,l=this.add(n?n:p.menu.items)}p=s.create(Ext.applyOwned({getXpath:this.getXpath},p),this.defaultAction);p.manager=this;return this.all.add(p)}return this.all.add(o+this.all.length,o)},callEach:function(g,e){var d;this.all.each(function(a){if(a.isAction&&(d=a[g])){d.apply(a,e)}})},setDisabled:function(){this.callEach("setDisabled",arguments)},setHidden:function(){this.callEach("setHidden",arguments)},update:function(){this.callEach("update",arguments)},findAction:function(c){var d;this.all.each(function(a){if(a[c]){d=a;return false}});return d},separatorRank:{" ":1,"-":2,separator:2,"->":3},nonMenuSeparators:{" ":"-","->":"-"},queryActions:function(n,q,j){var l=[],m=0,o,p;this.all.each(function(a){if(typeof a=="string"){if(q){var b=this.separatorRank[a]||0;if(m<b){m=b;o=j?this.nonMenuSeparators[a]||a:a}}}else{if(!n||a[n]){if(m>0){m=0;l.push(o)}l.push(a)}}},this);return l},executeDefault:function(){var b=this.findAction("def");if(b){b.execute()}}});Ext.define("E.view.ActionToolbar",{alias:"widget.view_actiontoolbar",extend:Ext.toolbar.Toolbar,floating:true,focusOnToFront:false,defaultType:"bt_button",update:function(c){var d=this;d.focusCmpId=c.id},onFocus:function(l,h,j,m,e){this.update(e);this.show(true);this.alignTo(e,"tr-br")},onBlur:function(l,h,j,m,e){delete this.hasFocus;if(l.getRelatedTarget()==this.el.dom){return Ext.defer(this.hide,1500,this)}this.hide(true)},initTb:function(h,j,g){if(!j.rendered){return j.on("afterrender",Ext.bind(this.initTb,this,arguments),this,{single:true})}var e=j.getEl();j.mon(e,"mouseenter",Ext.bind(this.onFocus,this,[h,j],true),this);j.mon(e,"keyup",Ext.bind(this.onFocus,this,[h,j],true),this);j.mon(e,"mouseleave",Ext.bind(this.onBlur,this,[h,j],true),this)}});Ext.define("E.view.repeatToolbar",{alias:"widget.view_repeattoolbar",extend:E.view.ActionToolbar,defaults:{handler:function(){var b=this.ownerCt;b.dispatchHandler.apply(b,arguments)}},items:[{actionId:"add"},{actionId:"copy"},{actionId:"remove"}],dispatchHandler:function(e,p){var o,s,n;console.info("dispatch",this,arguments);if(this.focusCmpId&&(n=Ext.getCmp(this.focusCmpId))&&(o=n.xf_field)){this.update(n);if(!e.disabled){var r=o.getInstance(),u,v=o.fieldAttributes,q=Ext.create("Ext.data.Operation",{dropType:"append",xmlParent:o.xmlNode.parentElement});switch(e.actionId){case"add":u=Ext.create(Ext.ModelMgr.getMName(v.entityName));r.create([u],q);break;case"copy":console.info("copy");r.create([],Ext.apply(q,{xmlSource:[o.xmlNode]}));break;default:r.remove(o.modelInstance,q);console.info("remove")}}}},update:function(m){if(this.focusCmpId!=m.id){var h=m.xf_field,l,j,n,o=false;this.focusCmpId=m.id;if(h){l=h.fieldAttributes;if(h.readonly){return this.items.each(function(a){a.disable()})}n=h.xmlNode.parentElement.xpath(l.nodeset).length;j=l.max+0;o=j&&n>=j;Ext.forEach([this.getComponent(0),this.getComponent(1)],function(a){a.setDisabled(o)});return this.getComponent(2).setDisabled(n==1)}this.items.each(function(a){a.disable()})}},onXformsUpdate:function(m,n,h){var j=this.focusCmp;if(j&&j.xf_field&&h.xmlParent==j.xf_field.xmlNode.parentElement){var o=j.ownerCt,l;if((l=o.query("[allowRepeat]")[0])&&l.xf_field){l.xf_field.xf_bind(l,null,true)}}}});(function(){var c=Ext.util.Format,d=["first".lo(),"second".lo(),"third".lo(),"fourth".lo(),"fifth".lo(),"sixth".lo(),"seventh".lo(),"eighth".lo(),"ninth".lo(),"tenth".lo()];Ext.apply(c,{value:function(a){return a},comboDispay:function(b,a){},xfFieldDisplay:function(b,a,g){if(Ext.isString(b)){return b}if(Ext.isElement(b)){b=b.xf_field}if(b.displayValue){return b.displayValue}if(Ext.isFunction(b.setDisplayValue)){b.setDisplayValue()}return b.displayValue},convertCtor:function(a,b){if(a=="int"){return function(h,j){return h!==undefined&&h!==null&&h!==""?parseInt(String(h).replace(Ext.data.Types.stripRe,""),10):b}}if(a=="float"){return function(h,j){return h!==undefined&&h!==null&&h!==""?parseFloat(String(h).replace(Ext.data.Types.stripRe,""),10):b}}return function(h,j){return(h===undefined||h===null)?b:String(h)}},valueToBoolObj:function(a){var b={};Ext.each(a.split(" "),function(g){b[g]=true});return b},boolObjToValue:function(b,j){var l=[],m;for(m in b){var a=b[m];if(a==="on"||a==="true"||a===true||a===1){l.push(m)}}return l.join(j.valueSep||" ")},valueToArray:function(a,b){return a.split(b.valueSep||" ")},arrayToValue:function(b,a){return b.join(a.valueJoin||", ")},valueToObj:function(a,b){var g={};if(!Ext.isEmpty(a)){g[b.key+b.entityName+b.fieldAttributes.mapping]=a}return g},objToValue:function(a,b){if(Ext.isString(a)){return a}var h=[],j;for(j in a){h.push(a[j])}return h.join(b.valueJoin||", ")},toOrdinal:function(a){return d[a]?d[a]:(""+a+"th")},getLighter:function(l,b){l=l.getValue(0);if(l){var a=Ext.draw.Color.fromString(l);if(a){var j=a?a.getLighter(Ext.Number.from(b.getValue(0),null)):"";a.destroy();return j.toString()}}return""},getDarker:function(l,b){l=l.getValue(0);if(l){var a=Ext.draw.Color.fromString(l.getValue(0));if(a){var j=a.getDarker(Ext.Number.from(b.getValue(0),null));a.destroy();return j.toString()}}return""},distinctValue:function(a,b){return Ext.Array.unique(a.toValue().join(b).split(b))}})}());Ext.define("E.xforms.overrideFormat",{});Ext.define("E.xforms.datafield.Array",{alias:["field_array","data.field.array"],extend:Ext.data.field.String,convert:function(b){return Ext.isArray(b)?b:b.split(/[ ,]+/)}});Ext.define("E.xforms.datafield.Boolneg",{alias:["field_boolneg","data.field.boolneg"],extend:Ext.data.field.Boolean,convert:function(d,c){d=Ext.data.Types.BOOL.convert(d);c?this[c]=!d:null;return d},sortType:Ext.data.SortTypes.none});Ext.define("E.xforms.datafield.Cat",{alias:["field_cat","data.field.cat"],extend:Ext.data.field.String,sortType:Ext.data.SortTypes.asUCString});Ext.define("E.xforms.datafield.Encode",{alias:["field_encode","data.field.encode"],extend:Ext.data.field.String,convert:function(b){return b?Ext.decode(b):null}});Ext.define("E.xforms.datafield.Fun",{alias:["field_fun","data.field.fun"],extend:Ext.data.field.String,convert:function(b){if(b){return Function.apply(null,Ext.isArray(b)?b:b.split(/\\,/))}}});Ext.define("E.xforms.datafield.Geo",{alias:["field_geo","data.field.geo"],extend:Ext.data.field.String,sortType:Ext.data.SortTypes.asUCString});Ext.define("E.xforms.datafield.Regex",{alias:["field_regex","data.field.regex"],extend:Ext.data.field.String,convert:function(b){return b instanceof RegExp?b:new RegExp(b)},sortType:Ext.data.SortTypes.none});Ext.define("E.xforms.inst.InstanceMgr",{alias:"inst_instancemgr",extend:Ext.AbstractManager,singleton:true,typeName:"xfi",extract:function(b){if(!b.entityName){b.entityName=b.xml_instance.xpath("string(.//@entityName)")}if(!b.rootModelInstance){b.extractFirst(b.xml_instance.xpath("./*")[0])}},get:function(l,j,o){j=j||{};var d=this.all.get(l),m=Ext.getApp();if(!d){if(m.allowOffline&&(m.isOnline==false||j.source=="local")){var n=Ext.decode(localStorage.getItem(l));if(n){Ext.apply(j,{data:n})}}d=new E.xforms.inst.Instance(Ext.apply({id:l},j))}if(o){if(d.getStatus()=="ready"){this.extract(d);Ext.callback(o.fn,o.scope,o.args?o.args:["ready",d])}else{if(!d.xml_instance){d.on("status-ready",o.fn,o.scope,{single:true});if(d.getStatus()!="loading"){d.load(o.loadOptions,o.loadPara)}}}}return d},register:function(b){if(b._isCreated!="created"){b=new E.xforms.inst.Instance(b)}return this.all.add(b)}});Ext.define("E.xforms.inst.Data",{alias:"inst_data",mixins:{observable:Ext.util.Observable},name:"xf_data",constructor:function(e){var h=this;h.initConfig(e);h.mixins.observable.constructor.call(h,e);h.xf_initEvents();h.getId();h.setMgr();h.register();h.init();if(h.plugins){h.plugins=[].concat(h.plugins);for(var j=0,g=h.plugins.length;j<g;j++){h.plugins[j]=h.initPlugin(h.constructPlugin(h.plugins[j]))}}},getId:function(){return this.id||(this.id="xf-gen-"+(++Ext.Component.AUTO_ID))},setMgr:Ext.emptyFn,register:function(){if(this.Mgr&&this.id){this.Mgr.register(this)}},unregister:function(){if(this.Mgr){this.Mgr.unregister(this)}},init:Ext.emptyFn,initStatus:Ext.emptyFn,eventsList:{},xf_initEvents:function(p,q,o,l,j){var n=this,m=n.eventsList&&n.eventsList[p?p:n.name],l=l=="remove",j=j?j:n;if(m){Ext.each(m,function(a){var c=a.event?a.event:a;if(!a.silent){var d=a.fnName?a.fnName:Ext.String.toCamel("on-"+c),b=q?q:a.listener?a.listener:n;if(b.isObservable){b[l?"un":"on"](c,j[d],o?o:a.scope?a.scope:n,a.options)}}})}},destroy:function(){var b=this;Ext.destroy(b.plugins);b.xf_initEvents(null,null,null,true);b.unregister(this)}},function(){Ext.apply(this.prototype,E.xforms.inst.binding,E.xforms.inst.bindingIf);this.borrow(Ext.AbstractComponent,["constructPlugin","initPlugin"]);this.prototype.wrap=E.xml.Xml.wrap});Ext.define("E.xforms.mixin.Store",{alias:"inst_store",mixinId:"store",extend:Ext.Mixin,setSt:function(l,j){if(l){var m=Ext.ClassManager.getByAlias("store."+l.toLowerCase()),n=m.prototype,o=n.instanceId?n.alias[0]:l.toLowerCase(),h=Ext.StoreMgr.get(o);if(!h){j=j||{};h=new m(Ext.apply({storeId:o},n.instanceId?null:{forceUnique:true},j))}return h}}});Ext.define("E.xforms.mixin.Lookup",{alias:"mixin_lookup",mixins:{store:E.xforms.mixin.Store},valueSep:" ",valueJoin:", ",loadingText:"loading...",multiSelect:false,setMatchedRecords:function(n){var q=this,n=n||q.getLookupStore(q.lookupStoreId),o=[].concat(q.value.split(q.valueSep)),p=[],m=[],v=[],r=function(b){var a=n.findExact(q.valueField,b);return a!==-1?n.getAt(a):false},u,s;for(u=0,s=o.length;u<s;u++){record=o[u];if(!record||!record.isModel){record=r(record)}if(record){p.push(record);v.push(record.data)}else{m.push(o[u])}}q.displayTplData=v;q.valueModels=p;if(m.length&&n.isLoading()){n.loadMissing({params:{value:m}})}return q},initDisplayTpl:function(){this.displayTpl=new Ext.XTemplate('<tpl for=".">{[typeof values === "string" ? values : values["'+this.displayField+'"]]}<tpl if="xindex < xcount">'+this.valueJoin+"</tpl></tpl>")},initLookup:function(d){var c=this,d=d||c.getLookupStore(c.lookupStoreId);if(d){c.lookupStoreId=d.storeId;return d}},initValueStore:function(h,j){var e=h.model,g=new Ext.data.Store({model:e,mode:"local",storeId:"valueStore."+E.xforms.AUTO_ID++});this.setMatchedRecords(h);g.add(this.valueModels);this.valueStoreId=g.storeId;if(j){Ext.forEach(j,function(a){a.applyStore(g)})}return g},applyStore:function(d){if(d){var c=this;c.valueField=d.valueField;c.displayField=d.displayField;c.lookupStoreId=d.storeId;c.lookupEntityName=d.model.entityName;c.fireEvent("addlookupstore",d,c);return d}},getLookupStore:function(r){if(r&&(r=Ext.StoreManager.get(r))){return r}var u=this,q,s,y=u.fieldAttributes,w=y.model,p=Ext.StoreMgr,z=function(a){return Ext.apply((y.config&&y.config.getStoreCfg)?y.config.getStoreCfg(u):{},a,w?{model:w}:null)};if(s=y.valueStore){var x=u.xmlNode.xpath(s)[0],v=x.xf_field;if(v&&v.valueStoreId){return Ext.StoreManager(v.valueStoreId)}if(!v){if(x.valueStore){x.valueStore.push(u)}else{x.valueStore=[u]}return}var o=v.initLookup();return u.applyStore(v.initValueStore(o))}if(s=y.storeHolder){var x=u.xmlNode.xpath(s)[0],v=x.xf_field;if(v){if(v.lookupStoreId){return u.applyStore(Ext.StoreManager.get(v.lookupStoreId))}return Ext.Error.raise({msg:Ext.util.Format.format("storeHolder referring to non-existing xf_field (xfa: {0}, entityName: {1}) ",this.key,this.entityName),ignore:true})}}if(s=u.bindedStore||y.bindedStore){q=new (Ext.ClassManager.getByAlias("store."+(y.st||"locallookup")))(z({isBindedStore:true,storeId:"bindedStore."+E.xforms.AUTO_ID++,proxy:"xf_client",addRecords:false,mode:"local",instanceId:y.instanceId||u.modelInstance.instance.id,getXpath:s}));return u.applyStore(q)}if(s=y.instanceId){q=p.get(s);if(!q){q=new E.xforms.store.LookupBase(z({storeId:s,instanceId:s}))}return u.applyStore(q)}if(s=y.lookupRef){r="lookupStore"+(y.ref?("."+y.ref):"");q=Ext.data.StoreMgr.get(r);if(!q){cfg=z({storeId:r,ref:y.ref});q=y.st?new E.data.store[y.st](cfg):new E.xforms.store.defaultLookup(Ext.apply(cfg,{entityName:s,forceUnique:true}))}return u.applyStore(q)}if(s=y.st||cmp.st){return u.applyStore(u.setSt(s,z()))}},loadBindedStore:function(){var j=this,h=j.fieldAttributes,g;if(j.lookupStoreId&&j.bindActive){var e=j.getLookupStore(j.lookupStoreId);e.isLoaded=false;e.load(Ext.apply({addRecords:false,xf_field:j,readType:h.readType||(h.bindedStore&&h.bindedStore.indexOf("instance(")>-1?"default":"modelInstance")},h.bindedStore?{bindedStore:h.bindedStore}:{getXpath:j.bindedStore}))}},insertLookupStore:function(h,e){var j=this,g=j.getLookupStore(j.lookupStoreId);if(g){h=[].concat(h||[]).map(function(a){return g.createModel(a)});g.add(h)}}});Ext.define("E.xforms.validator.Constraint",{alias:"validator_constraint",extend:Ext.data.validator.Validator,type:"constraint",config:{message:"this field does not pass xforms constraint"},validate:function(n,j){var o=this,h=o.xfa,l=o.xfFields[h];var m=l.xf_validator();if(m){return true}return Ext.isString(m)?m:o.getMessage()}});Ext.define("E.xforms.field.FieldMgr",{alias:"field_fieldmgr",extend:Ext.AbstractManager,singleton:true});Ext.define("E.xforms.field.Base",{alias:"field_base",extend:E.xforms.inst.Data,mixins:{lookup:E.xforms.mixin.Lookup},config:{valueModels:null},applyValueModels:function(e){var h=this,g=e[0],j;if(h.lookupType){if(!h.displayTpl&&g){h.displayField=g.fieldPara?g.fieldPara.displayField:"label";h.initDisplayTpl()}if(j=g.namespace){h.xmlNode.setAttribute("ns",j)}h.modelInstance.set(h.key+"__lookup__",g?h.displayTpl.apply(Ext.Array.pluck(e,"data")):"")}},getStore:function(){var g=this,d=g.fieldAttributes,e=g.modelInstance.attributeStores;return e["st_"+(g.lookupType=="st"||g.lookupType=="lookupRef"?d[g.lookupType]:g.key)]},getInstance:function(){return this.modelInstance.instancel},name:"xf_field",getId:Ext.emptyFn,setMgr:Ext.emptyFn,copyToListClass:[],init:function(){var m=this,j={calculate:"auto",constraint:"auto"},h,g;m._initiating=true;m.callParent(arguments);m.xmlNode.xf_field=m;h=m.fieldAttributes?m.fieldAttributes:(m.fieldAttributes=E.xforms.model.ModelManager.get(m.entityName).fields[m.key]);if(m.fieldAttributes.bindExpr){m.initBindExpr()}if(m.fieldAttributes.xf_setValue){m.initSetValueExpr(m.fieldAttributes.xf_setValue)}m._pushDependant=true;m.nodeListForEval={};Ext.each(m.hasBindExpr,function(b){this.nodeListForEval[b]=new Ext.util.HashMap();this.calcBindExpr[b].apply(this);var a=this.key+"-"+b;if(this.modelInstance.__tmpAttributeKeys){this.modelInstance.__tmpAttributeKeys.push({name:a,type:j[b]||"boolean"});this.modelInstance.__tmpAttributeData[a]=this[b]}else{this.modelInstance.attributeModelCls.addFields([{name:a,type:j[b]||"boolean"}]);this.modelInstance.attributeModel.set(a,this[b])}},m);if(!m.nodeListForEval.readonly){var l;if(l=m.xmlNode.parentElement){m.readonly=l.xf_field?l.xf_field.readonly:null}if(!Ext.isDefined(m.readonly)){m.readonly=!!m.xmlNode.xpath('./ancestor::*/@_readonly="true"')}}delete m._pushDependant;m.xf_reset();m.cValue=m.modelInstance.get(m.key);m.oldValue=[m.value];if(m.xmlNode.valueStore){var g=m.initLookup();m.initValueStore(g,m.xmlNode.valueStore);delete m.xmlNode.valueStore}delete m._initiating},xf_onChange:function(g,j,m){var l=this,h;g=g||l.modelInstance;if(!l._setting){console.warn("call of xf_onchange directly",this,j);return g.set(m||l.key,j)}if(l.readonly){console.warn("changing value of readonly field",this,newValue)}l._changing=true;h=l.value;j=l.valueToRaw(j,l);if(j!=h){l.xmlNode.setValue(j);l.value=j;l.fireEvent("afterchange",l.value,l)}delete l._changing},xf_getValue:function(b){return this.xmlNode.getValue(b)},xf_beforeSetValue:function(b){if(b!=this.value){this.modelInstance.set(this.key,b)}},initSetValueExpr:function(g,e){e=e||this;if(g){for(var d in g){e.on(d,this.xf_setValue(g[d]),e,Ext.copyTo({},g[d],["buffer","delay","single"]))}}},getField:function(){return this.modelInstance.fields.getByKey(this.key)},xf_setValue:function(c){var d=function(a,b){var g=[];Ext.forEach(c,function(l){if(l.condition?E.xforms.xpath.Expr.prototype.booleanValue.apply(this,[this.xmlNode.xpath(l.condition)]):true){var m=this.xmlNode.xpath(l.nodeset),e=l.ref?this.xmlNode.xpath(l.ref).getValue(0):l.value;Ext.each(m,function(h){if(Ext.isFunction(h.xf_field["xf_"+l.fn])){return g.push(h.xf_field["xf_"+l.fn](this.rawToValue(e,this),this,l.fn))}h.xf_field.xf_beforeSetValue(this.rawToValue(e,this))},this)}},this);return g.indexOf(false)==-1};return d},xf_fireInstance:function(b){this.modelInstance.instance.fireEvent(b)},xf_setMaxValue:function(b){if(!this.modelInstance.attributeModel){this.modelInstance.setAttributeModel(true)}this.xf_setAttributeModel(this.key+"-maxValue",b)},xf_setMinValue:function(b){if(!this.modelInstance.attributeModel){this.modelInstance.setAttributeModel(true)}this.xf_setAttributeModel(this.key+"-minValue",b)},initBindExpr:function(){var b=[];this.compiledBindExpr={};Ext.iterate(this.fieldAttributes.bindExpr,function(d,e){b.push(d);if(e&&e._isCompiled){this.compiledBindExpr[d]=e.ser}else{var a;if(e==null){a=this.fieldAttributes[d]}else{a=e.ser?e.ser:this.fieldAttributes[d]}try{this.compiledBindExpr[d]=E.xforms.ExprMgr.create(a);if(e){e.ser=this.compiledBindExpr[d];e._isCompiled=true}}catch(j){console.error(j.name,j.message)}}},this);this.hasBindExpr=b},calcBindExpr:{calculate:function(){if(!this._calculate){this._calculate=true;var b=this.evalBindExpr("calculate",false,this.fieldAttributes.joinNodeSet);if(this._initiating){this.value=b;this.xmlNode.setValue(b);this._changing=true;this.modelInstance.set(this.key,b);delete this._changing}else{this.modelInstance.set(this.key,b);this.xf_setAttributeModel(this.key+"-relevant",this.relevant)}delete this._calculate}},readonly:function(){var b=this.readonly;if(this.xmlNode.xpath('./ancestor::*/@_readonly="true"')){this.readonly=true}else{this.evalBindExpr("readonly",true)}if(b!==this.readonly||this._forceReadonlyCalc){if(this.xmlNode.nodeType!=2){this.xmlNode.setAttribute("_readonly",this.readonly)}Ext.each(this.xmlNode.childNodes,function(a){E.xml.Xml.parseFunction(a,function(){if(!this.xf_field){return false}var d=arguments[0];if(this.xf_field.fieldAttributes.bindExpr&&this.xf_field.fieldAttributes.bindExpr.readonly){this.xf_field.calcBindExpr.readonly.apply(this.xf_field);return false}},[this.readonly])},this);if(!this._initiating){this.xf_setAttributeModel(this.key+"-readonly",this.readonly)}delete this._forceReadonlyCalc}},relevant:function(){var b=this.relevant;this.evalBindExpr("relevant",true);if(b!==this.relevant){if(this.xmlNode.nodeType!=2){this.xmlNode.setAttribute("_relevant",this.relevant)}if(!this._initiating){this.xf_setAttributeModel(this.key+"-relevant",this.relevant)}}},required:function(c){var d=this.required;this.evalBindExpr("required",true);if(d!==this.required){if(!this._initiating){this.xf_setAttributeModel(this.key+"-required",this.required)}}},constraint:function(d){var e=this.constraint,g=this.xf_validator(d);if(!this._initiating&&(e!=this.constaint)){this.xf_setAttributeModel(this.key+"-constraint",g)}},bindedStore:function(b){this.loadBindedStore()}},xf_setAttributeModel:function(d,c){if(this.modelInstance.attributeModel){this.modelInstance.attributeModel.set(d,c)}},evalXpath:function(c){this._isEvaluating=c;this.xmlNode.current=this;var d=this.compiledBindExpr[c].evaluate(this.xmlNode);delete this.xmlNode.current;delete this._isEvaluating;return d},evalBindExpr:function(e,h,j){var g=this.evalXpath(e);g=h?E.xforms.xpath.Expr.prototype.booleanValue.apply(this,[g]):(Ext.isArray(g)&&!j)?(g.length?g[0].getValue():""):g.getValue?g.getValue():g;if(j){g=g.join("")}return this[e]=g},xf_reset:function(){},valid:true,wasValid:true,required:false,constraint:true,relevant:true,calculate:null,repeat:null,oldValue:[],_forceReadonlyCalc:true,__syncRepeatStore:function(){var l=this,h=l.fieldAttributes,m=l.modelInstance.repeatStoreMap.get(l.key);if(m){var j=[],a=Ext.Array;Ext.forEach(a.pluck(l.xmlNode.parentElement.xpath('./*["'+h.name+'"]'),"xf_field"),function(b){if(b.lookupStore){j=j.concat(b.lookupStore.data.items)}});j=a.unique(j);m.remove(a.difference(m.data.items,j));m.add(j)}},__eventsList:{xf_field:["destroy","disable","enable",{event:"validitychange",silent:true},{event:"binding",silent:true},{event:"beforechange",silent:true},{event:"afterchange",silent:true},{event:"addlookupstore",silent:true},"setdisplayvalue"],formControl:[{event:"beforedestroy",fnName:"xf_unBind"},{event:"change",fnName:"xf_onChange"}],checkedItem:[{event:"beforedestroy",fnName:"xf_unBind"},{event:"checkchange",fnName:"xf_onChange"}],lookup:[{event:"beforedestroy",fnName:"xf_unBind"}],panelContainer:[{event:"beforedestroy",fnName:"xf_unBind"}],dynamicTab:[{event:"beforedestroy",fnName:"xf_unBind"}]},__xf_lookupBind:function(c,d){if(d){this.lookupManager.remove(c);return c}this.lookupManager.add(c);this.xf_setLookupValue(null,c);return c},__xf_bind:function(l,J,I){if(l.xf_field!=this||I||this.fieldAttributes.repeat=="true"){var w=this,F=w.fieldAttributes,H,K=l.xfType||"panelContainer",z={valid:true};if(!Ext.isDefined(l.isBinded)){l.addEvents("beforebind","bind","unbind");Ext.applyExclude(w,l.initialConfig,["entityName","modelInstance"]);if(l.hasLookupStore&&!l.replicatorId&&!l.__lookupInitialized){w.initLookup(l)}if(l.bindFirst){l.bindFirst(w)}if(F.bindExpr.relevant&&!l.enableXfVisible){if(l.ownerCt&&l.ownerCt.layout.type=="card"){l.enableXfVisible=false}else{l.enableXfVisible=true}}l.isBinded=false}if(l.isBinded&&!l.replicatorId){z=l.xf_field;l.xf_field.xf_unBind(l,w)}if(l.lookupStoreId){w.valueField=l.valueField;w.lookupStoreId=l.lookupStoreId}l.isComponent&&w.bindActive++;if(!l.processBind||(l.processBind(w,true)!=false)){l.isBinded=true;l.justBinded=true;l.xf_field=w;w.xmlParentNode=w.xmlNode.parentNode;var B=F.belongsTo&&l.allowRepeat&&!F.hasOne,A;if(B&&(A=l.ownerCt)){if(!l.replicatorId&&!A.repeatTb){A.repeatTb=A.add(Ext.apply({xtype:"view_repeattoolbar"},A.repeatToolbarCfg));var C=this.getInstance();C.xf_initEvents("repeat",C,A.repeatTb,null,A.repeatTb);A.on("destroy",Ext.bind(C.xf_initEvents,C,["repeat",C,A.repeatTb,true,A.repeatTb],this,{single:true}))}A.repeatTb.initTb(this.modelInstance,l,A);this.modelInstance.ctBind(l)}if((F.repeat=="true"||B)&&(A=l._ownerCt)&&!this.modelInstance._processRepeat&&!l.replicatorId){w.modelInstance._processRepeat=true;var M=w.xmlNode.parentElement.xpath('./*[name()="'+F.nodeset+'"]');if(!B&&M[M.length-1].getValue()!=""){M.push(this.duplicate({},"").xmlNode)}var L=A.items.indexOf(l)+1;Ext.forEach(A.query("[replicatorId]"),function(a){if(a.xf_field){a.xf_field.xf_unBind(a)}});for(var D=1,G=M.length;D<G;D++){var y=M[D].xf_field,x=l.cloneConfig({replicatorId:y.id});A.insert(D+L-1,x);y.xf_bind(x);if(B){M[D].modelInstance.ctBind(x)}else{y.xf_bind(x)}}delete w.modelInstance._processRepeat}l.fireEvent("beforebind",this,l);if((F.bindedStore||w.bindedStore)&&l.hasLookupStore){w.loadBindedStore()}l.lastValue=this.oldValue[0]||l.lastValueDefault||"+^(@Lq0~";if(F.bindExpr.readonly){w.xf_setReadOnly(l,w.readonly)}if(F.bindExpr.relevant&&(z.relevant!=w.relevant)){w.xf_setRelevant(l,w.relevant);w.needLayout()}if(w.key=="__root__"&&!l.preventComponentBind){w.modelInstance.componentBind(l)}w.bindManager.add(l);if(J||l.simpleBind){return l.fireEvent("bind",w)}w.fireEvent("binding",w,l);if(!w.displayValue&&l.isFormField){if(Ext.isFunction(l.getDisplayValue)){w.displayValueCmp=l}}w.mixedValue=w.rawToValue(w.value,w);l.fireEvent("xf_change",w.value,w.oldValue[0]);w.xf_pushValue[K].call(w,l);w.xf_initEvents(K,l,w);if(w.valid!=z.valid){l[w.valid?"clearInvalid":"markInvalid"](w.errorList[0]);w.needLayout()}l.allowBlank=!w.required;l.fireEvent("bind",w)}}},duplicate:function(g,j){j=j||"";g=g||{};var m=Ext.getApp().xml;Ext.apply(g,{id:this.id.split("_")[0]+"_"+Ext.id(),xmlNode:m.appendChild(this.xmlNode.parentNode,m.wrap(this.fieldAttributes.name,j)),value:j});console.info("duplicate:",g,this);var h=new this.self(Ext.applyIf(g,this.initialConfig)),l=this.getInstance();if(h.hasBindExpr.length>0){l.depFieldCol.add(h)}l.applyBindExpr();return h},__needLayout:function(){this.getInstance().needLayout=true},__xf_setRelevant:function(g,e){if(g.enableXfVisible){var d=Ext.valueFrom(g.relevantFn,"setVisible");g[d](d=="setVisible"?e:!e);if(g.tab){g.tab.setVisible(e);!e?g.ownerCt.setActiveTab(g.ownerCt.items.indexOf(g)+1):null}}},__xf_setReadOnlyAll:function(b){this.readonly=b;this.bindManager.each(function(a,c){this.xf_setReadOnly(c,b)},this)},__xf_setReadOnly:function(g,e){if(g.enableXfReadonly!=false){var d=g.readonlyFn?g.readonlyFn:"setReadOnly";if(Ext.isFunction(g[d])){g[d](e);g.tab?g.tab.setDisabled(e):null}}},__xf_unBind:function(j,g){var e=this,h=e.fieldAttributes;e.xf_initEvents(j.xfType,j,e,"remove");if(Ext.isFunction(j.clearInvalid)&&!g){j.clearInvalid();e.needLayout()}e.xf_reset();if(e.key=="__root__"&&!j.preventComponentBind){e.modelInstance.componentBind(j,"remove")}e.bindManager.remove(j);if(j.processBind){j.processBind(e)}j.isComponent&&e.bindActive--;if(j.isFormField){j.displayValue=undefined;j.displayValueCmp=undefined;j.value=undefined}if(j.isObservable){j.fireEvent("unbind",e)}j.xf_field=null;delete e.xmlParentNode;j.isBinded=false;if(h&&(h.repeat=="true"||(h.associations="hasMany"&&j.allowRepeat))&&j.replicatorId){j.destroy()}},__beforeEdit:function(b){},__afterEdit:function(b){},__xf_pushValueDefault:function(d){var c=this[d.targetValue||this.targetValue];d.suspendCheckChange++;d.setValue(c);d.suspendCheckChange--},__xf_pushValue:{formControl:function(b){return this.xf_pushValueDefault(b);if(!this.hasLookupStore){return this.xf_pushValueDefault(b)}if(this.lookupStore){return this.xf_pushValueDefault(b)}b.setRawValue("loading...");b.value=this.value},checkedItem:function(b){b.checked=undefined;b.setChecked(this.cValue,true)},html:function(b){b.setValue(this.value)},lookup:function(b){if(this.fieldAttributes.lookup){b.setLookup(this.fieldAttributes.lookup,this.value)}},panelContainer:Ext.emptyFn,treeContainer:Ext.emptyFn,selector:Ext.emptyFn},__xf_pushAll:function(b){this.lookupManager.each(this.xf_setLookupValue,this);this.bindManager.each(function(a,c){if(c.delayedOnInvalid){c.delayedOnInvalid.cancel()}if(c.isObservable){c.fireEvent("xf_change",this.value,this.oldValue[0])}if(c!=b||b.xfForcePush){this.xf_pushValue[c.xfType?c.xfType:"panelContainer"].call(this,c)}},this);this.__hasPushedAll=true},__xf_setLookupValue:function(p,n){if(n.__isDirty__!=true){var l=this.fieldAttributes.lookup||this.fieldAttributes.xfa,q=Ext.String.capitalize(l),o,m,j;if(l){if(Ext.isFunction(o=n["set"+q])){return o.call(n,this.cValue)}if(n!=this.modelInstance){n.setLookup(l,this.value)}}}},__xf_onChange:function(z,x,y){var u;if(!this._changing){if(this.readonly){console.warn("changing value of readonly field",this,x)}this._changing=true;this.mixedValue=x;var c=(z&&z.isDynamic)?z.valueToRaw(x,z):this.valueToRaw(x,this),v=this.fieldAttributes;if(c!=this.value){if(this.fireEvent("beforechange",c,this)!=false){this.rawValue=z?this.getRawValue.apply(z):x;delete this._validated;this.old=this.value;this.xmlNode.setValue(c);if(this.xf_validate(c)){delete this.displayValue;this.oldValue.splice(0,0,this.value);this.value=c;if(!this._setting&&v.repeat!="true"){this.modelInstance.set(this.key,x)}this.cValue=this.modelInstance.get(this.key);if(!this.__hasPushedAll){this.xf_pushAll(z)}delete this.__hasPushedAll;if(v.bubbleTo){this.checkBubble("afterchange",this.value,this)}this.modelInstance.setModified(this);this.fireEvent("afterchange",this.value,this,z);if(v.repeat=="true"&&(!this.modelInstance._processRepeat)){var r=this.xmlNode.parentNode.xpath("./"+v.name+"[last()]")[0]==this.xmlNode;if(c!=""&&r){var q=this.duplicate({},"");this.bindManager.each(function(d,a){if(a.isFormField){var e=a._ownerCt,g=e.items.indexOf(a),b=a.cloneConfig({replicatorId:q.id});console.info("repeatClone:",q.id,b,q);e.insert(g+1,b);q.xf_bind(b)}},this)}this.syncRepeatStore();if(c==""&&!r){this.bindManager.each(function(d,a){if(a.isFormField){if(!a.replicatorId){var e=a._ownerCt,g=e.items.indexOf(a),b=e.items.getAt(g+1);if(b){delete b.replicatorId}}Ext.defer(a.destroy,400,a)}});var w=this.modelInstance,s=this.key,p=v.mapping;this.destroy(true);if(!w.xf_get(s)){w.xf_fields.add(s,w.raw.xpath(p)[0].xf_field)}}}}else{this.xmlNode.setValue(this.old);this.bindManager.each(function(b,a){if(a.reverseOnInvalid){if(!a.delayedOnInvalid){a.delayedOnInvalid=Ext.create("Ext.util.DelayedTask",this.delayOnInvalidFn,this)}a.delayedOnInvalid.delay(a.invalidDelay||7000,null,null,[this.old,a])}},this)}}}else{if(this.valid==false){this.xf_validate(this.processRawValue.apply(z,[z?this.getRawValue.apply(z):x]))}}}delete this._changing},delayOnRemove:function(b){},delayOnInvalidFn:function(d,c){if(this._changing){return}this.old=this.value;this.value=d;c.lastValue=this.value;c.suspendCheckChange++;Ext.isFunction(c.setValue)?c.setValue(d):null;c.suspendCheckChange--;this.xf_validate(this.processRawValue.apply(c,[this.getRawValue.apply(c)]))},checkBubble:function(){var d=Array.prototype.slice.call(arguments),c=d.shift();Ext.each(this.xmlNode.xpath(this.fieldAttributes.bubbleTo),function(a){if(a.xf_field){a.xf_field.fireEvent(c,d)}},this)},xf_validator:function(){if(Ext.isString(this.fieldAttributes.constraint)){if(this.evalBindExpr("constraint",true)!=true){return this.constraintMessage||"this field is invalid"}}return true},errorList:[],reverseOnInvalid:false,xf_validate:function(d){var c=this;c.errorList=[];c.valid=c.xf_isValid(d);if(c.valid!==c.wasValid){c.wasValid=c.valid;c.xf_changeValidity(c.valid)}c._validated=true;return c.valid},xf_isValid:function(d){var c=this;return c.xf_validateValue(d)},xf_changeValidity:function(b){this.bindManager.each(function(a,c){if(Ext.isFunction(c.markInvalid)){c[b?"clearInvalid":"markInvalid"](this.errorList[0])}},this);this.fireEvent("validitychange",this,b)},xf_validateValue:function(g){var d=this,e;d.errorList=d.xf_validator();if(d.errorList[0]!==e){return false}d.errorList=d.getErrors(g);return d.errorList[0]===e},allowBlank:true,getErrors:function(){return[]},__xf_validator:function(){var b=[];if(Ext.isString(this.fieldAttributes.constraint)){if(this.evalBindExpr("constraint",true)!=true){b=[this.fieldAttributes.config?this.fieldAttributes.config.constraintText||t:t]}}return b},__xf_actionCall:function(g,e,d){e.bindManager.each(function(a,b){if(b.isAction){b.execute()}})},__deferToBind:function(){var e=Array.prototype.slice.apply(arguments),j=e.pop(),h=function(c,a){if(Ext.isFunction(a[j])){var b=a[j].apply(a,e)}g.push(b);return !(b=="stop")},g=[];this.bindManager.each(h);if(this.xfa=="__root__"&&this.modelInstance.bindedToCmp){this.modelInstance.bindedToCmp.each(h)}return g.indexOf(false)==-1},onValiditychange:function(d,c){},destroy:function(g,e){var j=this,h;if(j.fireEvent("destroy")!=false){if(h=j.getInstance()){h.depFieldCol.remove(j);Ext.each(j.events.afterchange.listeners,function(a){h.markForEval.add(a.scope)})}if(j.lookupStore){if(j.lookupStoreRef){this.lookupStoreRef.remove(this)}if(j.lookupStoreType=="separate"){this.lookupStore.destroy()}}if(g){j.xmlNode.parentNode.removeChild(j.xmlNode)}delete j.displayValueCmp;delete j.fieldAttributes;delete j.xmlNode.xf_field;delete j.xmlNode.modelInstance;delete j.xmlNode;if(j.modelInstance.xf_fields){j.modelInstance.xf_fields.remove(j)}delete j.modelInstance;Ext.each(j.hasBindExpr,function(a){this.nodeListForEval[a].clear()},j);j.callParent();j.clearListeners();j.clearManagedListeners();j.destroyed=true}},onDestroy:function(){},onDisable:function(b){this.readonly=true},onEnable:function(b){this.readonly=false},onAddlookupstore:function(e,d,g){}},function(){Ext.copyTo(this.prototype,Ext.form.field.Base.prototype,E.xforms.field.classList.concat(this.prototype.copyToListClass))});Ext.define("E.xforms.reader.Xforms",{alias:"reader.xforms",extend:Ext.data.reader.Xml,config:{successProperty:".//@success",implicitIncludes:false},getRoot:function(d){var g=d.nodeName,e=this.getRootProperty();if(!e||(g&&g==e)){return d}else{if(Ext.DomQuery.isXml(d)){return Ext.DomQuery.select(e,d)}}},readRecords:function(d,c){this.checkModel(d,c);return this.callParent(arguments)},checkModel:function(h,j){var l=this,m=l.getEntityType(j),g=m.schema;Ext.forEach(h.xpath("descendant-or-self::xf:model"),function(a){E.xforms.model.ModelManager.startProcess(a.xpath("string(@id)"),g,a,{root:"."})})},getEntityType:function(b){return b&&b.model?Ext.data.schema.Schema.lookupEntity(b.model):this.getModel()},extractData:function(s,n){if(!s||!s[0]){return[]}var o=this,p=o.getEntityType(n),q=p.entityName,r,l=s[0]&&s[0] instanceof Node&&(r=s[0].xpath(".//xf:instance[./*/@entityName]"))[0]?r:s[0].parentNode,m=new E.xforms.inst.Instance({xml_instance:l,entityName:q});return m.extractDataFromProxy(s,n)}});Ext.define("E.xforms.writer.Xforms",{alias:"writer.xforms",extend:Ext.data.writer.Xml,submit:function(c,d){c=Ext.apply({},c);if(c.checkErrors!=false){this.validateInstance(c)}if(this.errorList.getCount()==0||(c.checkErrors==false)){this.fireEvent("xforms-submit",c);return this.doCall("update",this.getSubmitData(c),Ext.apply({callback:"submitCallback"},c))}return"hasError"},localSave:function(d){if(localStorage){d=d||{};var g=d.modelInstance?d.modelInstance:(d.xmlRoot&&d.xmlRoot.modelInstance)?d.xmlRoot.modelInstance:this.rootModelInstance;var e=g.getNestData(Ext.apply({processFn:function(a,b){if(this.isAo==true){localStorage.set(this.id,Ext.encode(a))}}},d));return e}Ext.Error.raise("localStorage does not exist")},doCall:function(o,l,h){var m=Ext.getApp(),j=m.xml,n=this.getApi()[o];if(!resxq.isInstance){resxq=Ext.Factory.restxq({type:n,target:this})}Ext.apply(h,{restxq:n});l=(l instanceof Node)?l:j.parse("<para>"+(Ext.isString(l)?l:j.fromJson(l))+"</para>");if(h.mode=="local"||m.allowOffline&&(m.isOnline==false)){if(o=="update"){return}if(o=="read"){return}Ext.error.raise("cannot perform ajaxCall while app is offline")}this.ajaxCall(l,h);return true},getSubmitData:function(l){var m,o=Ext.getApp().xml,h=l.xmlRoot||this.xmlRoot,n,j=this.buildSubmission()+(l.action?o.wrap("action",l.action):"")+((l.append&&Ext.isString(l.append))?l.append:"");if(n=l.getXpath){m=o.parseRoot(j);o.appendChild(m.firstChild,h.xpath(Ext.isFunction(n)?n():n));m.replaceChild(o.transform(m.firstChild,"m.xsl-trimSubmit").firstChild,m.firstChild)}else{m=o.parseRoot(o.wrap("main")+j);if(!l.preventData){o.appendChild(m.firstChild.firstChild,o.transform(h,"m.xsl-trimSubmit"))}}if(l.append instanceof Node){o.appendChild(m.firstChild,l.append)}return m},buildSubmission:function(){var d=Ext.getApp(),a=d.xml;return a.wrap("submission",a.wrap("user",d.user())+a.wrap("app",d.app())+a.wrap("ms",d.ms())+a.wrap("version",d.version()))}});Ext.define("E.xforms.proxy.Xforms",{alias:"proxy.xforms",extend:E.connect.proxy.Restxq,config:{appendId:true,format:null,api:{create:"pep:instance-create",read:"ep:instance",update:"pep:instance-create",destroy:"pep:instance-delete"},entityName:null},reader:{type:"xforms"},writer:{type:"xforms"},updateEntityName:function(e){var g=this,d=Ext.data.schema.Schema.get(E.xforms.model.ModelManager.defaultSchema);d.checkReady(e,function(){g.setModel(d.getNamespace()+"."+e)},this)},processResponse:function(m,j,n,l){if(!m){return Ext.getApp().fireEvent("error",l)}var q=this.getModel().entityName,o=this,p=Ext.data.schema.Schema.get(E.xforms.model.ModelManager.defaultSchema);p.checkReady(q,this.self.superClass.processResponse,this,[m,j,n,l])},buildUrl:function(p){var n=this,q=p.getOperation(),s=q.getRecords(),o=s?s[0]:null,m=n.getFormat(),v=n.callParent(arguments),u,r;if(o&&!o.phantom){u=o.getId()}else{u=q.getId()}if(n.getAppendId()&&n.isValidId(u)){if(!v.match(n.slashRe)){v+="/"}v+=encodeURIComponent(u);r=p.getParams();if(r){delete r[n.getIdParam()]}}if(m){if(!v.match(n.periodRe)){v+="."}v+=m}p.setUrl(v);return v},isValidId:function(b){return b||b===0}});Ext.define("E.xforms.schema.Xforms",{alias:"schema.xforms",extend:Ext.data.schema.Schema,type:"xforms",namespace:"E.xforms.model",proxy:{type:"xforms"}});Ext.define("E.xforms.inst.Instance",{alias:"inst_instance",extend:E.xforms.inst.Data,mixins:{connection:E.connect.Connection},config:{status:null,session:null,entityName:null,api:{create:"pep:instance-create",read:"ep:instance",update:"pep:instance-create",destroy:"pep:instance-delete"}},updateStatus:function(b){this.fireEvent("status-"+b,b,this)},name:"xfi",eventsList:{xfi:[{event:"xforms-insert",silent:true,cancelable:false,bubles:true},{event:"xforms-delete",silent:true,cancelable:false,bubles:true},{event:"xforms-move",silent:true,cancelable:false,bubles:true},{event:"xforms-submit",silent:true,cancelable:false,bubles:true},{event:"xforms-submit-success",cancelable:false,bubles:true},{event:"xforms-submit-error",silent:true,cancelable:false,bubles:true},{event:"xforms-submit-failure",silent:true,cancelable:false,bubles:true},{event:"status-ready",silent:true,cancelable:false,bubles:true},{event:"status-process-start",silent:true,cancelable:false,bubles:true},{event:"status-initiate",silent:true,cancelable:false,bubles:true},{event:"mapcreated",silent:true,cancelable:false,bubles:true},{event:"mapdestroyed",silent:true,cancelable:false,bubles:true}],selector:["xforms-insert",{event:"xforms-before-delete",fnName:"onXformsDelete"},"xforms-move"],repeat:[{event:"xforms-insert",fnName:"onXformsUpdate"},{event:"xforms-before-delete",fnName:"onXformsUpdate"},{event:"xforms-move",fnName:"onXformsUpdate"}]},applySession:function(b){if(!b){b=Ext.getApp().getSession()}b.addInstance(this);return b},setMgr:function(){this.Mgr=E.xforms.inst.InstanceMgr},register:function(){this._isCreated="created";this.callParent()},init:function(){var b=this;b.setStatus("initate");b.errorList=new Ext.util.MixedCollection();b.depFieldCol=new Ext.util.HashMap();b.markForEval=new Ext.util.HashMap()},clear:function(){var c=this,d=E.xforms.model.ModelManager;if(c.activeModelInstance){d.down(c.activeModelInstance.entityName,d.unregister);delete c.activeModelInstance;delete c.rootModelInstance}Ext.forEach(c.raw.xpath(".//xf:instance/@id").getValue(),function(a){var b=E.xforms.inst.InstanceMgr.all.map[a];if(b){b.destroy()}})},destroy:function(){var b=this;if(b.rootModelInstance){b.rootModelInstance.destroy({instance:b})}b.errorList.clear();b.depFieldCol.clear();b.markForEval.clear();b.userBind&&b.userBind.destroy();delete b.raw;delete b.xml_instance;b.clearListeners();b.callParent()},load:function(c,d){c=c||{};this.setStatus("loading");this.doCall("read",d,Ext.applyIf(c,{callback:"process"}));return this},validateInstance:function(o){this.errorList.clear();this.errorList.clearListeners();var l=(o.xmlRoot||this.xml_instance).xpath('.//*[not(./ancestor-or-self::metaData)][not(./ancestor-or-self::*/@_relevant = "false")]');for(var n=0,j=l.length;n<j;n++){var e=l[n].xf_field,m=e?e.getErrors(e.xmlNode.getValue()):[];if(m&&!!m.length){e.errorId=n;e.fireEvent("invalid",m);this.errorList.add({id:n,error:m,label:e.fieldAttributes.fieldLabel,xf_field:e,xml:l[n]})}}},submit:function(c,d){c=Ext.apply({},c);if(c.checkErrors!=false){this.validateInstance(c)}if(this.errorList.getCount()==0||(c.checkErrors==false)){this.fireEvent("xforms-submit",c);return this.doCall("update",this.getSubmitData(c),Ext.apply({callback:"submitCallback"},c))}return"hasError"},localSave:function(d){if(localStorage){d=d||{};var g=d.modelInstance?d.modelInstance:(d.xmlRoot&&d.xmlRoot.modelInstance)?d.xmlRoot.modelInstance:this.rootModelInstance;var e=g.getNestData(Ext.apply({processFn:function(a,b){if(this.isAo==true){localStorage.set(this.id,Ext.encode(a))}}},d));return e}Ext.Error.raise("localStorage does not exist")},doCall:function(o,l,h){var m=Ext.getApp(),j=m.xml,n=this.getApi()[o];if(!n.isInstance){n=Ext.Factory.restxq({type:n,target:this})}Ext.apply(h,{restxq:n});l=(l instanceof Node)?l:j.parse("<para>"+(Ext.isString(l)?l:j.fromJson(l))+"</para>");if(h.mode=="local"||m.allowOffline&&(m.isOnline==false)){if(o=="update"){return}if(o=="read"){return}Ext.error.raise("cannot perform ajaxCall while app is offline")}this.ajaxCall(l,h);return true},getSubmitData:function(l){var m,o=Ext.getApp().xml,h=l.xmlRoot||this.xml_instance.xpath("./*")[0],n,j=this.buildSubmission()+(l.action?o.wrap("action",l.action):"")+((l.append&&Ext.isString(l.append))?l.append:"");if(n=l.getXpath){m=o.parseRoot(j);o.appendChild(m.firstChild,h.xpath(Ext.isFunction(n)?n():n));m.replaceChild(o.transform(m.firstChild,"m.xsl-trimSubmit").firstChild,m.firstChild)}else{m=o.parseRoot(o.wrap("main")+j);if(!l.preventData){o.appendChild(m.firstChild.firstChild,o.transform(h,"m.xsl-trimSubmit"))}}if(l.append instanceof Node){o.appendChild(m.firstChild,l.append)}return m},buildSubmission:function(){var d=Ext.getApp(),a=d.xml;return a.wrap("submission",a.wrap("user",d.user())+a.wrap("app",d.app())+a.wrap("ms",d.ms())+a.wrap("version",d.version()))},processOnDemand:function(x,o,p,w,y){if(p){var r=this,v=o.optionConfig.operation,u=v.xml,z=v.node,s=true,q=function(){if(s){s=false;Ext.apply(v,{xmlSource:x.xpath(".//xf:instance/*"),xmlParent:u});r.create([],v);if(z){z.set({loaded:true,loading:false})}}}}},process:function(q,r,o,s,p){var m,n,l=r?r.forceModel:null;this.setStatus("process-start");this.raw=q?q:this.raw;if(this.raw&&this.raw instanceof Node){Ext.forEach(this.raw.xpath("descendant-or-self::xf:model"),function(a){E.xforms.model.ModelManager.processModel(a.xpath("string(@id)"),a,{optionConfig:{root:"."}})});m=this.xml_instance?[]:this.raw.xpath(".//xf:instance");Ext.forEach(m,function(a){if(!n&&(a.xpath("./*/@entityName | ./*/*/@entityName").getValue(0)==this.entityName||l==this.entityName)){n=true;this.xml_instance=a}else{this.Mgr.register({id:a.xpath("./@id").getValue(0),xml_instance:a,_pT:a.xpath("./@_pT").getValue(0),raw:this.raw,entityName:a.xpath("./*/@entityName").getValue(0)})}},this);if(this._pT=="no"){return this.setStatus("ready")}if(this._pT=="store"){return this.processForStore()}}},getStoreModel:function(){var d=this;if(d.storeModel){return d.storeModel}if(d.xml_instance){var c=d.xml_instance.xpath("./*/@model | ./*/*/@model").getValue(0,null);if(c){return d.storeModel=E.xforms.globalNs+"."+c}}},processForStore:function(){var c=this,d=c.getStoreModel();st=Ext.data.StoreMgr.get(c.id);this.setStatus("ready");if(!st){st=new E.xforms.store.StoreCombo({storeId:c.id,instanceId:c.id,model:d})}else{st.load()}return st},__processWithData:function(){var g=this,j=Ext.getApp();if(g.data&&!Ext.isPrimitive(g.data)){var l=j.buildMeta(g.id),h=l.type,m=E.xforms.model.ModelManager.get(h);g.entityName=h;if(!g.xml_instance&&m){g.xml_instance=m.xml_model.cloneNode(true).xpath(".//xf:instance")[0]}g.afterAllModelLoaded()}},afterAllModelLoaded:function(){this.initLookupConfig();this.extractFirst(this.xml_instance.xpath("./*")[0]);this.applyLookup();this.setStatus("ready");return this},extractDataFromProxy:function(d,g){this.initLookupConfig();var e=this.extractFirst(d||this.xml_instance.xpath("./*"),g);this.applyLookup();this.setStatus("ready");return e},bindUser:function(){var j=this,h=Ext.getApp(),e=h.viewModel,g=j.xml_instance.getAttributeNode("user");if(g){j.userBind=e.bind("{appState.user}",function(a){if(g.xf_field){g.xf_field.xf_onChange(null,a)}else{g.setValue(a)}})}},extractFirst:function(e,h){var j=this,g=[];if(j.entityName&&!j.rootModelInstance){j.bindUser();E.xforms.field.Base.prototype.initSetValueExpr(E.xforms.model.ModelManager.get(j.entityName).xf_setValue,j);g=j.extractModelVal(e,j.entityName,h);j.rootModelInstance=j.activeModelInstance=g[0];j.applyBindExpr(false)}return g},defaultRecordCreator:function(n,l,m,o,h){l=this.getModel(l);var j=new l(n,m,o,h);return j},getModel:function(b){if(b&&b.isModel){return b}return Ext.data.schema.Schema.lookupEntity(b)},syncAssociateStore:function(C,H,w,G,A,L){var J=Ext.Array.map(w.getRange(),function(a){return a.getId()}),z=C.xf_fields.get(H.field),M=z.fieldAttributes,B=M.mapping,y=z.fieldAttributes.context,F=C.raw.xpath(y)[0],D=C.raw.xpath(B),I=Ext.Array.difference(D.getValue(),J),v=Ext.Array.difference(J,D.getValue()),x=Ext.getApp().xml,K;Ext.forEach(v,function(a){if(I.length){var b=C.raw.xpath(B+"[.='"+(I.pop()||"")+"']")[0];b.xf_field.xf_onChange(C,a);K=true}else{var c=Ext.ClassManager.get("E.xforms.field."+(M.xftype||M.xtype)),d=new (c?c:E.xforms.field.Base)(Ext.apply({id:C.id+"-"+M.xfa+"-"+Ext.id(),key:H.field,fieldAttributes:M,entityName:C.entityName,xmlNode:x.appendChild(F,x.wrap(M.name,a)),modelInstance:C,value:a},M.fieldConfig));K=true}});if(I.length){Ext.forEach(F.xpath(M.name+"[ .='"+I.join(" or .= '")+"']"),function(c,a,b){if(a==(b.length-1)){c.xf_field.xf_onChange(C,"")}else{c.xf_field.destroy(true,C)}});K=true}if(K){C.instance.applyBindExpr()}},extractModelVal:function(aY,bi,bb,a0,aC,bh){var a7=this,j=E.xforms.model.ModelManager.get(bi),bn=Ext.getApp(),aK=this.getSession(),br,bo=(bb&&bb.recordCreator)||a7.defaultRecordCreator,a8=Ext.data.schema.Schema.lookupEntity(bi),bd=a8.identifier,aX=aC!="fromXml",aI=!((aC=="fromXml")||(aC=="noProcess"));if(!j){var a5=E.xforms.model.Manager.on("ready",this,function(a){if(a==this.getModel().entityName){a5.destroy();this.extractModelVal(aY,a,bb,a0,aC,bh)}},{destroyable:true});return[]}var aQ=a0&&(a0 instanceof E.xforms.model.BaseModel),aM=[],bg=[],bp=[],aJ=[],aL,aH;aY=Ext.Array.clean(aY);for(var aO=0,bf=aY.length;aO<bf;aO++){var aS=aY[aO].xf_field,ba=aS&&aS.hasMany?aS.hasMany.entityName:null;if(!aS||(ba&&(ba==bi))){var aD=a0?(Ext.isArray(a0.data)?a0.data[aO]:a0.data):{},aE=[],be=[],aZ=[],a1=[],bl=[],au=[];var aU=Ext.Object.getKeys(j.fields);if(!j.belongsTo){aY[aO].setAttribute("entityName",bi)}for(var aP=0,aG=aU.length;aP<aG;aP++){var a3=aU[aP];aJ[aP]=j.fields[a3];bp[aP]=bi;aE[aP]=aY[aO].xpath(aJ[aP].mapping);a1[aP]=aE[aP].length;var aW=aJ[aP],aN=true,aT=a3==j.idProperty,av,ax,m,aR;if(a1[aP]==0){var az=aY[aO].xpath(aJ[aP].context)[0],bj="",aA=aJ[aP].attribute;az=az?az:aY[aO];if(az.nodeName==aW.nodeset){aN=false}if(aX){bj=aJ[aP].defaultValue?aJ[aP].defaultValue:(aJ[aP].valueRef?aE[aP][0].xpath(aJ[aP].valueRef)[0].getValue():(aD[a3]||""))}if(aA){az.setAttribute(aJ[aP].name,bj);aE[aP][0]=az.getAttributeNode(aJ[aP].name)}else{var bm=az.ownerDocument.createElement(aJ[aP].name);if(aJ[aP].idref){bm.setAttribute("id",aJ[aP].idref)}Ext.each(["_relevant","entityName","ref","edge"],function(a){if(aJ[aP][a]){bm.setAttribute(a,aJ[aP][a])}});aE[aP][0]=az.appendChild(bm);if(aX){aE[aP][0].setValue(bj)}}aZ[aP]=bj}if(aW.hasModelData){Ext.forEach(bn.xml.appendChild(aE[aP][0],aJ[aP].xmlModelNode.xpath("./xf:modelData/*")),function(a){a.setAttribute("modelData","true")})}if(aW.associations&&(a1[aP]||(aW.associations=="hasOne")||aW.min||aW.config.items)&&this._pT!="flat"&&aW.mapping!="."&&aW.repeat!="true"&&aN){if(Ext.isArray(aD[a3])&&aD[a3].length&&!Ext.isPrimitive(aD[a3][0])){av=[];aR=aY[aO].xpath(aW.context)[0];m=E.xforms.model.ModelManager.get(aW.entityName).xml_context;for(var a2=0,bc=aD[a3].length;a2<bc;a2++){av.push(aR,this.appendChild(m.cloneNode(true)));if(Ext.isPrimitive(aD[a3][a2])){aD[a3][a2]=Ext.decode(localStore.getItem(aD[a3][a2]))}}ax={data:aD[a3]}}else{av=aE[aP]}if(this.action=="new"&&(av[0].childNodes.length==0)&&(!aW.required)){}else{a1[aP]=a1[aP]||1;if(!bl[a3]){bl[a3]=[]}bl[aW.entityName]=bl[aW.entityName].concat(this.extractModelVal(av,aW.entityName,bb,ax,aW.associations=="hasOne"?"process":aC,bh)||[])}}else{if(br=aW.reference){if(aE[aP].length){if(!bl[a3]){bl[a3]=[]}var ay=Ext.data.schema.Schema.lookupEntity(Ext.isString(br)?br:br.type);Ext.forEach(aE[aP],function(a){if(a.getValue()){bl[a3].push(bo.call(a7,a.getValue(),ay))}})}}else{switch(a1[aP]){case 0:aD[a3]=aZ[aP]=bj;a1[aP]=1;break;default:if(Ext.isPrimitive(aD[a3])&&(aC!="fromXml")){aE[aP][0].setValue(aD[a3])}else{aD[a3]=aE[aP][0].getValue("")}}aZ[aP]=aD[a3]}}}var aw=aD[a8.idProperty];au[aO]=(aw&&aw!="")?aK.peekRecord(bi,aw):null;if(!aQ&&!au[aO]){aL=bg[aO]=bo.call(a7,aD,a8,Ext.apply({instance:this},bh),aY[aO])}else{aL=bg[aO]=au[aO]||a0;aL.raw=aY[aO]}if(!aL.instance){aL.instance=this}aY[aO].modelInstance=aL;aH=aL.getId();for(var a6 in aL.associations){var l=aL.associations[a6],aB=bl[l.role]||bl[l.field];if(aB&&aB.length){if(l.single){aL[l.setterName](aB[0])}else{var bq=aL[l.getterName]();bq.loadData(aB)}}if(l.association.isManyToMany){var bq=aL[l.getterName]();bq.on("add",a7.syncAssociateStore,aL,{priority:-1000,args:[aL,l]});bq.on("remove",a7.syncAssociateStore,aL,{priority:-1000,args:[aL,l]})}}var a9=[],a4;for(var aP=0,aG=aU.length;aP<aG;aP++){var a3=aU[aP],aW=aJ[aP];if(aW.skip){continue}for(var aV=0,aF=a1[aP];aV<aF;aV++){a4=aE[aP][aV].xf_field;if(a4){if(a4.key=="__root__"){a4.key=a3;a4.xfa="__root__"}a4.fieldAttributes=Ext.apply({altContext:aW.context,altMapping:aW.mapping},a4.fieldAttributes,aW);a4.fieldAttributes.bindExpr=aW.bindExpr;a4.init()}else{if(!a4||a4.key!=a3){var bk=Ext.ClassManager.get("E.xforms.field."+(aW.xftype||aW.xtype));a4=new (bk?bk:E.xforms.field.Base)(Ext.apply({id:aH+"-"+a3,key:a3,entityName:bp[aP],xmlNode:aE[aP][aV],modelInstance:aL,value:aZ[aP]},aW.fieldConfig))}}if(a4.hasBindExpr&&a4.hasBindExpr.length>0){this.depFieldCol.add(a4)}if(aV==0){a9.push(a4)}}if(a9[aP]&&a9[aP].fieldAttributes.lookupRef){this.processLookUp(a9[aP],aZ[aP])}}bg[aO].setXfFields(a9)}else{bg[aO]=aY[aO].xf_field.modelInstance}}return bg},bindExprToApply:[],applyBindExpr:function(b){if(!this._preventApply){this.depFieldCol.each(function(a,l){for(var v=0,u=l.hasBindExpr.length;v<u;v++){var j=l.hasBindExpr[v],s=l.fieldAttributes.bindExpr[j];if(s){if(!Ext.isArray(s.dep)){s.dep=[s.dep]}for(var w=0,z=s.dep.length;w<z;w++){var y=s.dep[w]?l.xmlNode.xpath(s.dep[w]):[];for(var x=0,n=y.length;x<n;x++){if(y[x].xf_field){l.nodeListForEval[j].add(y[x].xf_field)}}}}}this.markForEval.add(l)},this);this.computeMarked(b)}},computeMarked:function(b){this.markForEval.each(function(d,a){if(a.destroyed!=true){a._pushDependant=true;Ext.forEach(a.hasBindExpr,function(c){if(b!=false){this.calcBindExpr[c].apply(this,[])}this.nodeListForEval[c].each(function(j,h){h.on("afterChange",this.calcBindExpr[c],this)},this);this.nodeListForEval[c].clear()},a);delete a._pushDependant}},this);this.markForEval.clear()},initLookupConfig:function(){this.lookupConfig={toApply:{}}},processLookUp:function(m,j){var g=m.fieldAttributes,l=g.lookupRef;if(l=="__"&&j.match("/")){l=j.split("/")[1]}if(l&&l!="__"){var h=this.lookupConfig;l=g.ref?(l+"_"+attribute.ref):l;if(!h.toApply[l]){h.toApply[l]={value:[],xf_fields:[],attributes:g}}if(!Ext.isEmpty(j)){h.toApply[l].value=h.toApply[l].value.concat(j.split(" "))}}},applyLookup:function(){Ext.iterate(this.lookupConfig.toApply,function(d,c){Ext.StoreMgr.loadLookup(d,c,this)},this);this.initLookupConfig()},applyToInstance:function(g,j,h){if(h){var e=j.attributes.name;Ext.forEach(g,function(c){var a=c.getId(),b=this.xml_instance.xpath('.//*[name() ="'+e+'"][.="'+a+'" ][1]');if(b&&b[0]){b=b[0].xf_field.modelInstance;delete (c.data.__model__);b.set(c.data)}},this)}},onXformsInsert:Ext.emptyFn,onXformsDelete:Ext.emptyFn,onXformsMove:Ext.emptyFn,remove:function(c,d){this._removing=true;c=[].concat(c);if(!(d instanceof Ext.data.Operation)){d=new Ext.data.Operation(d)}if(this.fireEvent("xforms-before-delete",this,c,d)!=false){this.setStatus("process-start");Ext.forEach(c,function(a){console.info("inst removing",a.id,a.raw.parenNode);a.xf_fields.each(function(g,b){if(b.destroyed!=true&&!b.xmlParentNode){b.destroy(false,c)}},this);a.xf_fields.clear();a.clearListeners()},this);Ext.forEach(c,function(b){b.onDestroy();delete b.bindedTo;if(b.bindedToCmp){b.bindedToCmp.clear()}var a=b.raw.parentNode;if(a.xf_field){a.xf_field.modelInstance.setModified()}a.removeChild(b.raw);delete b.instance;delete b.raw});this.computeMarked();this.setStatus("ready");this.fireEvent("xforms-delete",this,c,d)}d.setCompleted();d.setSuccessful();delete this._removing},move:function(j,h,g){var e=j.parentElement;if(g){g.parentElement.insertBefore(j,g)}else{h.appendChild(j)}j.parentElement.xf_field.modelInstance.setModified();if(j.modelInstance&&j.modelInstance.onMove){j.modelInstance.onMove(j,e,j.parentElement)}if(e!=h){this.applyBindExpr()}this.fireEvent("xforms-move",this,j.modelInstance||j.xf_field.modelInstance,h.modelInstance||h.xf_field.modelInstance,e.modelInstance||e.xf_field.modelInstance,g)},addRepeat:function(m,l){var g=m.modelInstance.raw,h=m.fieldAttributes,j=g.xpath(h.context)[0];this.appendChild(j,this.wrap(h.name,l));this.applyBindExpr()},removeRepeat:function(b){if(b){b.destroy(true)}},create:function(z,y){if(!(y instanceof Ext.data.Operation)){y=new Ext.data.Operation(y)}if(this.fireEvent("xforms-before-insert",this,z,y)){this.setStatus("process-start");y.setStarted();var B=Ext.getApp(),D=z.length,r=y.config.xmlParent,A=r.modelInstance,C=y.xmlSource,s,w=(y.config.position||0)+1,u=y.dropType=="append"||!r.childNodes[w],F=[],x={recordCreator:y.getRecordCreator()},G=y.config.process||"noProcess",v=y.config.entityName;if(!z.length&&C&&C.length){G=y.process||"fromXml";z=Ext.Array.map(C,function(a){return{data:{},entityName:v?v:(a.xf_field?a.xf_field.fieldAttributes.entityName:a.localName)}})}z=[].concat(z);Ext.forEach(z,function(a,b){v=v?v:a.entityName;var g=E.xforms.model.ModelManager.get(v),d=(C?(C[b]?C[b]:C):E.xforms.model.ModelManager.get(v).xml_context).cloneNode(true);var e,h;if(A&&(h=A.xf_get(v.split("_").pop()))){e=h.fieldAttributes}var c=y.xpathTarget?y.xpathTarget:e?(e.altContext||e.context):".";s=r.xpath(c)[0];var d=u?B.xml.appendChild(s,d):B.xml.insertBefore(s,d,w+b);F[b]=this.extractModelVal([d],v,x,a,G,y.modelCfg)[0];d.parentNode.xf_field.modelInstance.setModified();if(e&&e.edge){d.setAttribute("edge",e.edge)}},this);this.applyBindExpr();this.applyLookup();Ext.apply(y,{resultSet:{records:F},isAppend:u,position:w,modelInstance:F,xmlTarget:s});y.setCompleted();y.setSuccessful();this.setStatus("ready");this.fireEvent("xforms-insert",this,F,y);return y}},onXformsSubmitSuccess:function(){Ext.forEach(this.xml_instance.xpath('//@phantom[not(.= "false")]'),function(b){b.xf_field.xf_onChange(null,"false")})}});Ext.define("E.xforms.mgr.AoSettingsMgr",{alias:"mgr_aosettingsmgr",extend:Ext.util.HashMap,singleton:true});Ext.define("E.xforms.mgr.DataIslandSettingsMgr",{alias:"mgr_dataislandsettingsmgr",extend:Ext.AbstractManager,singleton:true});Ext.define("E.xforms.mgr.EdgeSettingsMgr",{alias:"mgr_edgesettingsmgr",extend:Ext.AbstractManager,singleton:true});Ext.define("E.xforms.mgr.FieldSettingsMgr",{alias:"mgr_fieldsettingsmgr",extend:Ext.AbstractManager,singleton:true});Ext.define("E.xforms.mixin.BuildConfig",{alias:"pa_buildconfig",extend:Ext.Mixin,mixinId:"build",mixins:[E.xforms.mixin.Store],mixinConfig:{before:{initComponent:"initMixin"}},initMixin:function(){var c=this,d=c.items;if(!d){d=c.buildItems()}c.items=d},buildItems:function(){return this.items},labelTarget:"title",__maybeAddContainer:function(b){return(this.getLayout().type=="fit"&&Ext.isArray(b)&&b.length>1)?Ext.apply({xtype:"container",layout:"anchor",autoScroll:true,padding:Ext.getApp().padding(),items:b},this.containerCfg||{}):b},__buildForm:function(b){return this.add(this.maybeAddContainer(this.buildItems(b)))},__borrowItems:function(g,d,e){var g=!(Ext.isString(g))?g:E.widget.ao[g]?E.widget.ao[g]:Ext.ClassManager.getByAlias(g);return g.prototype.buildItems.call(this,d.modelInstance.getBuildCfg(e||g.$className.split("_").pop()))},__prebuildPlugin:function(){var g=this,d=true,e;E.xforms.inst.Data.prototype.xf_initEvents.call(g,"panel");if(g.skipBuild){return false}if(g.plugins){g.plugins=[].concat(g.plugins);for(e=0,len=g.plugins.length;e<len;e++){g.plugins[e]=g.constructPlugin(g.plugins[e]);if(g.plugins[e].ptype=="instancesteward"){d=false}}}return d},__prebuildForm:function(e,h){var j=this;if(h&&!j.instanceSteward){this.buildForm(e)}else{if(j.tbarMap&&j.tbarHide){for(var g in j.tbarHide){j.tbarMap.get(g)[j.tbarHide[g]?"hide":"show"]()}}}}});Ext.define("E.xforms.mixin.ClientModel",{alias:"model_clientmodel",config:{structurePath:"dataStructureDesc",modelPath:"selectorModels",modelGroupPath:"group",modelReady:false},createMode:"replace",buildSelectorMode:"nest",getStructureSel:function(){var b=this;return b.getRawNodes("structurePath")[0]},getSelRoot:function(g,e){var d=this;return g.getAttribute("source")=="structure"?(e||d.getStructureSel()):d.raw},getRawNodes:function(d){var c=this;return c.raw.xpath(c[d]())},preBuild:function(g){var l=this,j=l.getInstance(),m=g.structureSel,h=l.needLoadMissing(m);if(h){return j.submit(Ext.apply({url:j.buildUrl(),action:"additionalInstance",scope:this,callback:"loadMissingCallback",append:h,checkErrors:false},g))}l.afterBuild(l.buildInstance(l.buildModel(g),m))},loadMissingCallback:function(p,m,n,r,s){if(n){var q=this,o=m.optionConfig?m.optionConfig.structureSel:null;inst=q.getInstance();if(!inst.xml_missing){inst.xml_missing=p}else{var v=inst.xml_missing.xpath(".//serverData")[0],u=Ext.getApp();if(v){Ext.forEach(p.xpath(".//xf:instance[@id]"),function(a){inst=v.xpath('.//xf:instance[@id="'+a.getAttribute("id")+'"]')[0];if(inst){u.xml.replaceChild(v,a,inst)}else{u.xml.appendChild(v,a)}})}}q.afterBuild(q.buildInstance(q.buildModel({structureSel:o}),o))}},parse:function(q,n,o,j,m,l){var p=arguments.callee;q.each(function(d,b){var a=o.call(this,d,b);var c=d.xpath(j);if(c.length&&(d.__preventParse__!=true)){Ext.forEach(c,function(g,e){a.select(function(h){var v=Ext.isFunction(m)?m.call(this,g):m;if(l=="append"){return d3.select(this).append(v)[0][0]}var x=v.split(":").pop(),w=d3.select(this).select(x);return(w.empty())?d3.select(this).append(v)[0][0]:w[0][0]}).data([g]).call(p,this,o,j,m,l)},a)}})},tplParse:function(F,p,C){var L=this,y=Ext.String,J,I,D,z,G,c,M,H=function(){G=null;M=null;if(y.startsWith(D,"{")&&y.endsWith(D,"}")){return G=D.substring(1,D.length-1)}if(y.startsWith(D,"{")){c.__preventParse__=true;return M=c.xpath("./*")}},x=function(){return C.xpath(G)},B=Ext.getApp().xml,A=function(a,d){Ext.forEach(a.xpath("@*"),function(e){I=e.nodeName;D=e.getValue();this.setAttribute(I,H()?x().getValue(0):D)},this);c=a,I=a.nodeName,D=a.getValue();if(H()){if(M){B.replaceChild(this,M)}else{if((z=x())&&z.length){if(Ext.isString(z)){this.setValue(z)}else{var b=this.xpath(G);Ext.forEach(z,function(g,e){if(g instanceof Attr){return this.setAttribute(g.nodeName,g.value)}if(this==b[e]||(b[e]&&b[e].parentElement!=this)){return B.replaceChild(this,g)}B.replaceChild(this,g,b[e])},this)}}}}else{if(D&&!H()){this.setValue(D)}}return d3.select(this)},K=function(a){return a.nodeName};F=d3.selectAll([].concat(F));J=F.datum();Ext.forEach([].concat(p),function(a){F.datum(a).call(L.parse,this,A,"./*",K,L.createMode)},this);F.datum(J);return F},getDatum:function(g,e,d){return g.__data__?g.__data__:e.xpath(this.modelPath()+"//"+this.modelGroupPath()+'[@id="'+(d?d:g.getAttribute("idref"))+'"]')[0]},loopSelectors:function(U,ae,ac,ab){ab=ab||{};var Y=this,ah=function(a,e){var h=0,c=a[h],b;while(c){aa=c.getAttribute("idref");if(R=Y.getDatum(c,ae)){ap=R.xpath(W)[0]||aj;Z=aq.concat(ap.xpath("tpl"));X=c.xpath(ap.xpath("string(itemSel)")||af);M=ap.xpath("string(nodeName)")||ao;if(!X.length&&ap.xpath("string(required)")=="true"){X=[c]}b=c.xpath("./*/"+ag);var g=ap.xpath('string(tpl/@ref) = "isDataRoot"');var d=e.selectAll(M).data(X,am);d.enter().append(M);d.attr("id",g?an:am).attr("class",aa).each(function(l){if(P){Y.tplParse(this,P,R)}if(L){Y.tplParse(this,L,c)}Y.tplParse(this,Z,l);if(b[0]&&(l.getAttribute("id")==this.getAttribute("id"))){ah.call(Y,b,d3.select(Y.buildSelectorMode!="flat"?this:al))}this.__data__=l});if(Y.buildSelectorMode!="flat"){d.exit().each(function(){this.setAttribute("selected","false")})}Ext.forEach(ap.xpath("nest"),function(l){N=l.getValue(0);var m=d.selectAll(N).data(function(n){return[this.parentNode.__data__]});m.enter().append(N);if(Y.buildSelectorMode!="flat"){d=m}});if(Y.buildSelectorMode!="flat"){e=d}}c=a[++h]}if(Y.buildSelectorMode!="flat"){return e}var j=d3.select(al).selectAll(M+"[class]");return j};var X,R,ap,aa,M,N,S,an=ab.idSource,ak=ac.getAttribute("id"),O=ac.xpath("target")[0],Q=Y.getSelRoot(O),aj=ac.xpath("defaultGenerator")[0],ag=ac.xpath("string(groupName)")||"groups",ao=ac.xpath("string(nodeName)")||aj?aj.xpath("string(nodeName)"):"item",W=ab.groupGenPath||('reader[@idref="'+ak+'"]/generator'),ai=ac.xpath("string(groupsPath)"),ad=Q.xpath(ai),af=ac.xpath("string(build/itemSel)")||"./item",P=ac.xpath("modelTpl")[0],L=ac.xpath("groupTpl")[0],aq=aj?aj.xpath("tpl"):[],Z,T=ac.xpath("string(build/anchor)"),al=U.xpath(T)[0],am=function(a){var b;if(a){b=a.xpath('string((@id | value | @idref)[.!=""])');return b}b=this.getAttribute("id");if(b||(b=="")){return(b)}};if(T){var V=ah.call(Y,ad,d3.select(al));if(ac.xpath("metaDataModel").length){Y.tplParse(U.xpath(T)[0],ac.xpath("metaDataModel/tpl")[0],U)}return V}},buildInstance:function(d,c){return E.xforms.model.ModelManager.loadModelCallback(d,{},true)},buildModel:Ext.emptyFn,afterBuild:Ext.emptyFn,needLoadMissing:Ext.emptyFn});Ext.define("E.xforms.mixin.FacetModel",{alias:"mixin_facetmodel",extend:Ext.Mixin,mixinId:"facetModel",config:{source:null},mixinConfig:{before:{erase:"destroy"}},applySource:function(b){if(b){if(b.isModel){b.join(this);this.onBindSource(b)}}else{this.onUnBindSource()}return b},onBindSource:Ext.emptyFn,onUnBindSource:Ext.emptyFn,destroy:function(){var d=this,c=d.getSource();if(c){c.unjoin(d)}}});Ext.define("E.xforms.mixin.SelectorEnabled",{alias:"mixin_selectorenabled",config:{instanceId:null,modelInstance:null,xmlRoot:null,xfKey:null,selector:null},instanceField:"instance",updateInstanceId:function(g){var d=this,e=Ext.getStore("instancestore");if(e&&g){d.setXmlRoot(e.getById(g).get(d.instanceField))}},updateXfKey:function(){this.checkRoot()},updateModelInstance:function(){this.checkRoot()},updateXmlRoot:function(){this.doReload()},updateSelector:function(d){var c=this;if(d){c.getProxy().getReader().setSelector(d);c.doReload()}},checkRoot:function(){var c=this.getModelInstance(),d=this.getXfKey();if(c&&d){this.setXmlRoot(c.xf_get(d).xml)}},doReload:function(){var b=this;if(b.getSelector()&&b.getXmlRoot()){this.loadData(this.getProxy().getReader().readRecords(this.getXmlRoot()).records)}}});Ext.define("E.xforms.mixin.UIModelProxy",{alias:"model_uimodelproxy",mixins:{clientModel:E.xforms.mixin.ClientModel},initModel:function(j,m,h){var l=m||this,g=l.getStructureSel();Ext.callback(j,l,[Ext.apply(h,{structureSel:g})])},getModelBuildOptions:function(e){var j=this,g=j.getRoot(e),h=e.root?e.root.xpath("string(.//form/metaData/id)"):"";return{missing:g,xmlDrive:g.xpath(".//xf:instance[form][1]")[0],structureSel:e.structureSel||j.getStructureSel(),pre:h,foId:"for_"+h,idFull:g.xpath("string(@id)")}},getStructureSel:function(){return Ext.getApp().xml.toNode("<root/>")},getRoot:function(b){return b.root},buildModel:function(T){T=T||{};var L=this,R=Ext.getApp(),N=R.getIdSep(),X=L.getModelBuildOptions(T),O=X.structureSel,I=X.missing,M=X.pre,S=X.foId,V=X.xmlDrive,B=X.idfull,J=T.root||R.xml.toNode("<root/>"),Y=O.xpath("./selectorModels/generators/generator")[0];var Q=function(b,a){return b.xpath("string("+a+")")};var D=function(a){return function(b){return Q(b,a)}};var U=function(a){var b=Q(a,"./config/semantic/elementName"),c;return b?b:(c=a.getAttribute("id"))?c.split("_")[0]:a.nodeName.substring(0,2)};var P=function(c,b){var a=c.xpath("string(./metaData/id)");return Ext.isEmpty(a)?(c.nodeName.substring(0,3)+N+b):a};var H=function(a){var b=V.xpath('.//categories[1]/cat[value = "'+a+'"]')[0];if(b){return b}return I.xpath('.//xf:instance[@idref="'+a+'"]/data/cat')[0]};var F=function(b){var a=E.xforms.inst.InstanceMgr.get(b);if(a&&a.xmlRoot){return a.xmlRoot}return I.xpath('.//xf:instance[@id="'+b+'"]/dataContent')[0]};var W=function(b,d,a,c){return b.attr("nodeset",a).attr("type",c||d.nodeName.substring(0,2)).attr("xfa",a)};var C=function(x,d){var n,v,j=U(x),m=P(x,d),r=this,c;var g=function(){return[{id:"relevant",xp:"./skipPattern/xpath"},{id:"xtype",xp:"./xtype",src:c}]},w;if(x.nodeName=="field"){var s=Q(x,"./isIndicator");if(s=="true"&&(s=Q(x,"./indicator"))){c=F(s);n=d3.select(this).call(W,x,s.split(N)[0],"in").append("xf:bind").call(W,x,j);r=n[0][0]}else{n=d3.select(this).call(W,x,j)}var a=Q(x,"./dataStructure/storeId");if(a){n.attr("instanceId",M+N+a)}w=g();var u=Q(c?c:x,"./dataStructure/cat");if(u){n.attr("xtype","fo_catfield");v=Q(c||x,"./xtype");w.pop();var q=Q(c?c:x,"./dataStructure/catSec"),e=H(u),h=q?H(q):null,l=function(A,z,y){A.attr("nodeset",function(ac,ab){return z+'[@ref="'+Q(ac,"./value")+'"]'}).attr("name",z).attr("xfa",function(ac,ae){var ad=[m,b,o].join("_");y?b++:o++;return ad}).attr("ref",function(ac,ab){return Q(ac,"./value")});return A},o=0,b=0;if(h){n.selectAll("bind").data(h.xpath(".//item")).enter().append("xf:bind").call(l,catSe,"sec").selectAll("bind").data(e.xpath(".//item")).enter().append("xf:bind").attr("xtype",v).call(l,u)}else{n.selectAll("bind").data(e.xpath(".//item")).enter().append("xf:bind").attr("xtype",v).call(l,u)}}}else{n=d3.select(this).call(W,x,j)}if(!w){w=g()}Ext.forEach(w,function(y){y.val=Q(y.src?y.src:x,y.xp);if(y.val){n.attr(y.id,y.val)}});if("section"==x.nodeName){n.attr("associations","hasOne").attr("elType","child")}if("form"==x.nodeName){n.append("xf:bind").attr("nodeset","@lastUpdate").attr("xfa","__formlastUpdate__").attr("attribute","true")}var p='(config//*| helpTopic | dataStructure/uom | dataStructure/cat | dataStructure/catSec)[not(string() ="")][not(./ancestor-or-self::*/@_relevant = "false")][not(./*)]';R.xml.appendChild(r,R.xml.wrap("config",(c?R.xml.serialize(c.xpath(p)):"")+R.xml.serialize(x.xpath(p))));if(w[0].val&&Q(x,"./skipPattern/isSkip")=="true"&&Q(x,"./skipPattern/config/skipRef")){n.append("bindExpr").append("relevant").append("dep").text("./ancestor::"+m+"//"+Q(x,"./skipPattern/config/skipRef").split(N)[0]+"/descendant-or-self::*")}return n};var G=O.xpath("selectorModels/group");var K=J.localName=="model"?d3.select(J).attr("idref",M).attr("isDataEntry","true").selectAll("willBeEmpty"):d3.select(J).append("xf:model").attr("id",S).attr("idref",M).attr("idfull",B).attr("isDataEntry","true").selectAll("willBeEmpty");K.data([{mainFn:function(a,c){var e=R.xml.toNode("<root/>");if(Y){var b=this.attr("id",M+"_data").attr("entityName",S).append("-:data"),d=e.xpath("./*")}},parseFn:Ext.emptyFn,root:"xf:instance",xml:V,xpath:"./*[metaData or xtype]"},{mainFn:function(a,c){var b,e,h,d;K=this;for(var c=0;c<G.length;c++){b=G[c];e=b.xpath("string(generator/nodeName)");if(b.xpath('string(generator/tpl/@ref) = "isDataRoot"')){K.attr("nodeset",e+'[@id="'+M+'"]').attr("name",e).attr("xfa",M);var g=a.xml.xpath('.//form/config//*[not(string()="")][not(*)]');K.each(function(){R.xml.appendChild(this,R.xml.appendChild("<config/>",g,true))})}else{K.attr("nodeset",e).attr("associations","hasMany").attr("xfa",e)}K=K.selectAll("bind").data([b]);if(c!=G.length-1){K.enter().append("xf:bind")}}if(!G.length){d=K.selectAll("willBeEmpty").data(a.xml.xpath(".//form[metaData or xtype]")).enter().append("xf:bind")}else{d=K.data(a.xml.xpath(".//form/*[metaData or xtype]")).enter().append("xf:bind")}d.call(L.parse,this,a.parseFn,a.xpath,"xf:bind",L.createMode)},parseFn:C,root:"xf:bind",xml:V,xpath:"./*[metaData or xtype]"}]).enter().select(function(a){return G.length?d3.select(this).append(a.root):d3.select(this)}).each(function(a,b){a.mainFn.call(this,a,b)});if(I!=J){R.xml.appendChild(K[0].parentNode,I.xpath(".//xf:instance"))}if(L.dataEntry){L.modelInstance.instance.clear()}return J}});Ext.define("E.xforms.proxy.xf_Client",{alias:"proxy.xf_client",extend:Ext.data.proxy.Memory,reader:{type:"xf_client"},destroy:Ext.emptyFn,create:Ext.emptyFn,buildExtractors:Ext.emptyFn,applyModel:function(d){d=this.callParent([d]);if(d){var g=d.prototype,e=this.getReader();if(e){if(g.record){e.setRecord(g.record)}if(g.root){e.setRootProperty(g.root)}}}return d},__read:function(z,s,r){r=r||this;var u=this,B=z.config,q=[],C=u.getReader(),v=B.xf_field,A=B.bindedStore||(v?v&&v.fieldAttributes.bindedStore:null),D=function(a){return B[a]||r[a]||u[a]||u.config[a]},w=D("instanceId"),x=B.instance||(w?E.xforms.inst.InstanceMgr.all.map[w]:null),y=B.xml||x.xml_instance;Model=u.getModel(),MP=Model.prototype,xpath=D("xpath")||(MP.hasOwnProperty("record")?(".//"+MP.record):MP.selector),recordCreater=function(b,a,c){var d=new a(b);d.phantom=false;d.instance=c.instance;return d},extract=function(b){var d=[],a=B.readType=="modelInstance"?function(e){d.push(e.modelInstance||e.xf_field.modelInstance)}:function(e){d.push(C.extractRecordData(e,{recordCreater:recordCreater,instance:x}))},c=A?v.evalXpath("bindedStore"):Ext.getApp().xml.evalXpath(b,xpath,[x,v,r]);Ext.forEach(c,a);return Ext.create("Ext.data.ResultSet",{total:d.length,count:d.length,records:d,success:true,message:""})};if(A||B.readType=="modelinstance"){q=extract(y)}else{if(xpath){C.setSelector(xpath)}if(x){if(x.getStatus()=="ready"){C.setRootProperty(x.xml_instance.nodeName);q=C.read(y,{recordCreater:recordCreater,instance:x})}else{x.on("status-ready",function(){this.read(z,s,r)},this,{single:true})}}else{q=C.read(y,{recordCreater:recordCreater,instance:x})}}z.setResultSet(q);z.setSuccessful(true)}});Ext.define("E.xforms.model.BaseModel",{alias:"model_basemodel",extend:Ext.data.Model,config:{metaData:null,isRootModel:null,instance:null},mtype:"model_basemodel",isXformsModel:true,isAo:false,schema:"xforms",fields:[],onSetXfFields:Ext.emptyFn,hasAssociation:function(g){var h=this,j=h.schema,e=h.associations;if(j&&e){return !!e[j.getNamer().apply("pluralize",g.entityName||g)]}return false},setXfFields:function(g){var d=0,e=g.length;for(;d<e;d++){this.xf_fields.replace(g[d].key,g[d])}this.setAttributeModel();this.onSetXfFields()},setAttributeModel:function(l){var m=this,g=m.self.prototype,j=g.attributeModelCls;if(!g.hasOwnProperty("attributeModelCls")){if(m.__tmpAttributeKeys.length||l){var h=m.$className+".Attribute",j=g.attributeModelCls=Ext.define(h,{extend:"Ext.data.Model",fields:m.__tmpAttributeKeys||[]})}else{j=g.attributeModelCls=false}}if(j){this.attributeModel=new j(m.__tmpAttributeData)}delete m.__tmpAttributeKeys;delete m.__tmpAttributeData},init:function(){var e=this;e.entityName=e.entityName.split(".").pop();if(e.raw&&e.raw.__tempApply__){Ext.apply(e,e.raw.__tempApply__);delete e.raw.__tempApply__}e.join(e);e.data.__model__=function(){return e};e.data.__isBaseModel__=true;e.__tmpAttributeKeys=[];e.__tmpAttributeData={};e.xf_fields=new Ext.util.HashMap();if(e.lookup){var j,g=Ext.getStore("lookupStore"),h=e.getId();data=e.getLookups();data.value=h;data.entityName=e.entityName;j=g.add(data)[0];j.setSource(e)}},afterEdit:function(j,l){var m=this,n=m.xf_fields,o,h;if(n){Ext.forEach(l,function(a){if((o=n.map[a])&&!o._changing){o._setting=true;o.xf_onChange(m,m.get(a),a);delete o._setting}})}},getModelName:function(){return this.entityName},xf_get:function(b){return this.xf_fields.map[b]},xf_set:function(e,g){var d=this.xf_get(e);if(d&&!d.xmlNode.xpath('./ancestor::*/@_readonly="true"')){d.xf_onChange(null,g)}},getModelInstance:function(d){var e;if(Ext.isString(d)){e=d}d=d||{};var g=d.fn?d.fn:Ext.getThis;e=e||d.getXpath;if(Ext.isFunction(e)){e=e.apply(d.scope?d.scope:this,[d])}return Ext.Array.mapFilter(this.raw.xpath(e?e:d.type?this.childMap[d.type]:this.childMapping),function(a){if(a.modelInstance){return g.apply(a.modelInstance,[d])}})},getLookupRef:function(){return this.lookup},getLookup:function(m,o){if(m){var h=o?o:m,n=this.getLookupRef(),j=this.get(n.map[h]),l;return(n.lo[h]&&!Ext.isEmpty(j)&&(l=Ext.getStore(n.lo[h]).getById(j)))?l.get(m):(j?j.lo():j)}return this.getLookups()},getChildModels:function(b){b=b||{};if(this.childMapping){Ext.apply(b,{getXpath:this.childMapping})}return this.getModelInstance(b)},getNestData:function(n){var o={},l=n.fn?n.fn:(function(a,b){return this.isAo?this.id:a}),h,m,j;console.info("Nested",this,arguments);this.xf_fields.each(function(b,c){if(c.relevant!=false){h=c.fieldAttributes;j=h.altMapping||h.mapping;if(m=h.associations){var a=Ext.Array.mapFilter(this.raw.xpath(j),function(d){if(d.modelInstance){return d.modelInstance}});if(a.length){switch(m){case"hasMany":o[b]=Ext.Array.map(a,function(d){return d.getNestData(n)});break;default:o[b]=a[0].getNestData(n);break}}}else{if(!Ext.isEmpty(c.value)){o[b]=c.value}}}},this);if(this.isAo){o.metaData=this.metaData}if(Ext.isFunction(n.processFn)){n.processFn.apply(n.scope||this,[o,n])}return l.apply(this,[o,n])},getParentModel:function(){return this.parentModelInstance},getRootModel:function(b){return E.xforms.model.ModelManager.up(this.entityName)},getIcon:function(){this.getLookup("icon")},getMetaId:function(){return this.getMetaData().id},setId:function(b){var b=b||this.data[this.idProperty];if(b){return this.set(this.idProperty,b)}},setModified:function(d){var c=d?d.xmlNode.xpath("ancestor-or-self::*/@lastUpdate")[0].xf_field:this.raw.xpath("ancestor-or-self::*/@lastUpdate")[0].xf_field;if(c){c.xf_onChange(null,Ext.Date.format(new Date(),Ext.getApp().getDateFormat()))}},duplicate:function(c,d){d=c?this.data:(d||{});d[this.idProperty]="";return Ext.create(E.xforms.globalNs+"."+this.modelName,d)},onDestroy:Ext.emptyFn,onMove:Ext.emptyFn});Ext.define("E.xforms.model.AoModel",{alias:"model_aomodel",extend:E.xforms.model.BaseModel,isAo:true,init:function(){var d=this;d.set("phantom",d.phantom);var g=d.id,e=d.idProperty;if(d.raw&&d.phantom){if(d.phantom){d.raw.xpath(d.idField.mapping)[0].setValue(g)}d.setMetaData()}d.callParent(arguments)},wrap:E.xml.Xml.wrap,applyMetaData:function(n){n=n||{};var o=this,v,q,r,u=Ext.getApp(),w=o.data[o.idProperty].split(u.getIdSep()),s=u.getMetaArray(),p=o.raw.xpath("metaData")[0];Ext.forEach(s,function(a,b){v=n[a]=w[b]||u[a.getter()]();if(p){q=p.xpath(a)[0];r=q.getValue();if(r){n[a]=r}else{q.setValue(v)}}});if(p){return n}var x=o.wrap("metaData",Ext.Array.map(s,function(a){return o.wrap(a,n[a])}).join(""));u.xml.appendChild(o.raw,x);return n}});Ext.define("E.xforms.model.LocalXml",{extend:Ext.data.Model,fields:["id","version","hash",{name:"date",type:"date"},"name",{name:"xml",transform:E.xml.Xml.serialize}],proxy:{type:"localstorage"},getXml:function(){return E.xml.Xml.parse(this.get("xml"))}});Ext.define("E.xforms.proxy.Lookup",{alias:"proxy.lookup",extend:E.connect.proxy.Restxq,config:{api:{read:"ep:instance"}},reader:{type:"xml"}});Ext.define("E.xforms.schema.XLookup",{alias:"schema.xlookup",extend:Ext.data.schema.Schema,type:"lookup",namespace:"E.xforms.lookup",proxy:{type:"lookup"}});Ext.define("E.xforms.model.Lookup",{alias:"model_lookup",extend:Ext.data.Model,mixins:[E.xforms.mixin.FacetModel],idProperty:"value",fieldPara:{displayField:"label",descField:"description",clsField:"cls",iconClsField:"iconCls",typeField:"Type"},fields:[{name:"label",mapping:"label"},{name:"value"},{name:"description"},{name:"labels"},{name:"cls"},{name:"iconCls"},{name:"entityName"},{name:"Type"},{name:"bind"},{name:"lastUpdate",mapping:"@lastUpdate",type:"date"}],root:"root",record:"item",schema:"xlookup",selector:"./*/item",fieldPara:{displayField:"label",descField:"description"},onBindSource:function(e){var g=this,h=e.lookup,j={};if(h){Ext.Object.each(h.map,function(a,b){j[b]=a})}g.lookupMap=j},onUnBindSource:function(){delete this.lookupMap;delete me.init},getLookups:function(){return Ext.apply({id:this.get(this.idProperty)},this.data)},afterEdit:function(m,n){var o=this,l=m.lookup,j=o.lookupMap,h;if(l&&j){Ext.forEach(n,function(a){o.set(j[a],m.get(a))})}}});Ext.define("E.xforms.model.ModelMixinsMgr",{alias:"model_modelmixinsmgr",extend:Ext.AbstractManager,singleton:true});Ext.define("E.xforms.schema.Resource",{alias:"schema.resource",extend:Ext.data.schema.Schema,type:"resource",namespace:"E.xforms.model.resource"});Ext.define("E.xforms.model.resource.Resource",{alias:"resource_resource",extend:Ext.data.Model,schema:"resource",record:"item",selector:".//items/item",fields:[{name:"id",mapping:"@id"},{name:"value",convert:function(j,g){var a=g.get("id").split("."),h=a.pop();g.namespace=a.join(".");return h},depends:["id"]}]});Ext.define("E.xforms.model.resource.TypeItems",{alias:"resource_typeitems",extend:E.xforms.model.resource.Resource,fields:[{name:"label",mapping:"body/label"},{name:"description",mapping:"body/description"}]});Ext.define("E.xforms.store.InstanceStore",{alias:"store.instancestore",extend:Ext.data.Store,mixins:[E.xforms.mixin.SelectorEnabled],model:"E.xforms.model.resource.TypeItems",proxy:{type:"memory",reader:{type:"xml"}}});Ext.define("E.xforms.store.BindedStore",{alias:"store.bindedstore",extend:E.xforms.store.InstanceStore,proxy:{type:"xf_client"},config:{readType:null},updateReadType:function(d){var c=this;if(d){c.getProxy().getReader().setReadType(d)}}});Ext.define("E.xforms.viewModel.Xforms",{extend:Ext.app.ViewModel,alias:"viewmodel.xforms",schema:{type:"xforms"},config:{instance:null,modelInstance:null,rootSelection:""},xliffFields:["fieldLabel"],applyInstance:function(b){if(Ext.isString(b)){b={}}return b},applyModelInstance:function(g){var d=this,e=g.entityName;d.prepareData(e);return g},updateEntityName:function(d){var c=this;if(!c.getRootSelection()){c.setRootSelection(d)}this.getSchema().checkReady(d,function(){c.applyConfig(c.prepareData(d,!c.getData().rootModel))})},privates:{hasRootModel:function(){return !!this.getData().rootModel},prepareData:function(d){var c=this;return{formulas:c.prepareFormulas(d),stores:c.prepareStores(d),links:c.prepareLinks(d)}},prepareLinks:function(b){},prepareFormulas:function(p){var o=this,q=E.xforms.model.ModelManager.get(p),r=o.getFormulas(),s={};if(q.lookup&&q.lookup.map){var m=E.xforms.mgr.AoSettingsMgr.get(p)||{},n,l;for(n in q.lookup.map){l=p+"Lookup_"+n;s[l]={bind:"{"+p+"."+q.lookup.map[n]+"}",get:function(a){return a}};if(n=="label"){s[l+"Default"]={bind:{lookup:"{"+p+"."+q.lookup.map[n]+"}",defaultValue:m.title},get:function(a){return a.lookup===""?a.defaultValue:a.lookup}}}}}if(!o.hasRootModel()){s.rootModel={bind:{entity:"{"+p+"}"},get:function(a){if(a.entity){return a.entity.raw.parentNode}}}}s.xmlParentNode={bind:{entity:"{"+p+"}"},get:function(a){if(a.entity){return a.entity.raw.parentNode}}};if(!r||!r[p]){s[p]={bind:{selected:"{"+o.getRootSelection()+"}",entityName:p},get:function(a){var b=a.selected;if(!b||!b.isModel){return}if(b.entityName==a.entityName){this.prepareData(b.entityName);return b}if(b.associations&&b.associations[p]&&(b=b[b.associations[p].getterName]())&&b.entityName==a.entityName){this.prepareData(b.entityName);return b}}}}s[p+"Attributes"]={bind:{entity:"{"+p+"}"},get:function(a){if(a.entity){return a.entity.attributeModel}}};return s},prepareStores:function(p){var q=this,s=E.xforms.model.ModelManager.get(p),x=s.lookupStores,n={},r,o=s.storeCfg||{},u,w;Ext.Object.each(x,function(b,c){u=c.lookupType;w=s.fields[b];if(u=="association"){}else{if(u=="st"){var a=Ext.StoreManager.get(w.st);r=a?{source:a}:{type:w.st.toLowerCase()};n["st_"+w.st]=Ext.apply(r,o)}else{if(u=="lookupRef"){n.st_lookupStore={storeId:"defaultlookup",type:"defaultlookup"}}else{r={type:"instancestore",xfKey:b,modelInstance:"{"+p+"}"};if(lookupType=="valueStore"){Ext.apply(r,{xpath:w.valueStore})}if(lookupType=="storeHolder"){Ext.apply(r,{xpath:w.storeHolder})}if(lookupType=="bindedStore"){Ext.apply(r,{type:"bindedstore",selector:w.bindedStore,readType:w.readType||w.bindedStore.indexOf("instance(")>-1?"default":"modelInstance"});if(w.instanceId){r.instanceId=w.instanceId}}n["st_"+b]=Ext.apply(r,o)}}}});var v;if(v=s.xliff){n.xliffStore=v.getXliffStore()}return n}}});Ext.define("E.xforms.widget.BuildPanel",{alias:"widget.pa_buildpanel",extend:Ext.panel.Panel,mixins:[E.xforms.mixin.BuildConfig],layout:"anchor",scrollable:"y",border:false,bodyPadding:10,viewModel:{type:"xforms"},___initComponent:function(){var c=this;c.buildForEach(["plugins","buttons","tbar","defaults"]);var d=c.prebuildPlugin();if(c._itemsFromModel&&!c.buildItems.$emptyFn){c.items=[];c._itemsFromModel}c.callParent();c.prebuildForm(cfg,d)}});Ext.define("E.xforms.widget.Auto",{alias:"widget.pa_auto",extend:E.xforms.widget.BuildPanel,autoCfg:null,xpath:"./*/@xfa",buildItems:function(m){var j=this,l=j.getInitialConfig("entityName"),h=j.autoCfg||{};if(l){var g=Ext.map(E.xforms.model.ModelManager.get(l).xml_model.xpath(j.xpath).getValue(),function(a){return Ext.apply({xfa:a},h[a],m)});if(g.length==1){return g}j.layout="fit";return Ext.apply({xtype:"ct_form",items:g},m)}}});Ext.define("E.xforms.model.ModelManager",{extend:Ext.util.MixedCollection,singleton:true,mixins:{connection:E.connect.Connection,UIModelProxy:E.xforms.mixin.UIModelProxy},constructor:function(d){var c=this;c.callParent(arguments);c.localStore=Ext.create("Ext.data.Store",{model:"E.xforms.model.LocalXml",storeId:"xf-m",autoLoad:true,sorters:[{property:"date",direction:"DESC"}]});c.lookupStore=Ext.create("Ext.data.Store",{session:new Ext.data.Session({schema:"xlookup"}),storeId:"lookupStore",model:"E.xforms.model.Lookup"})},loadingQueue:{},queuePending:[],createMode:"append",defaultSchema:"xforms",register:function(){for(var d=0,c;(c=arguments[d]);d++){this.add(c)}},unregister:function(){for(var d=0,c;(c=arguments[d]);d++){this.remove(this.get(c))}},get:function(n,l,m,o){var h=this.callParent([n]);if(h){if(l){l.apply(m||this,o)}return h}var j=this.getQueue(n);if(j.status=="init"){return this.checkReady(n,l,m,o)}},checkReady:function(v,F,u,s,y){var H=Ext.getApp()||{},x=this,I=this.queuePending,A=function(a){if(!Ext.Array.contains(I,a)){I.push(a)}},w=function(a){Ext.Array.remove(I,a);if(!I.length){Ext.GlobalEvents.fireEvent("modelqueue-cleared",x)}};if(!H.launched){A(v);Ext.on("app-launched",this.checkReady,this,{single:true,args:[v,F,u,s,y]});return false}F=Ext.data.schema.Schema.get(F||this.defaultSchema);if(!F||!F.isSchema){Ext.Error.raise("calling checkReady withat schema  with "+v)}var C=this.getQueue(v),B;if(C.status=="ready"){w(v);if(u){u.apply(s||this,y)}return true}var G=this.localStore.findRecord("name",v),D;if(G&&(D=G.getXml())){this.startProcess(v,F,D);if(u){if(C.status=="ready"){w(entityNameReady);Ext.callback(u,s||this,y);return true}else{B=true}}}else{if(C.status!="loading"||C.status!="processing"){B=true;this.loadModel(v,F)}}if(B){A(v);var z=this.on("ready",function(a){if(v==a){z.destroy();w(a);Ext.callback(u,s||this,y)}},this,{destroyable:true})}},getQueue:function(b){if(!this.loadingQueue[b]){this.loadingQueue[b]={notifyWhenReady:[],dependencies:[]};this.setStatus(b,"init")}return this.loadingQueue[b]},loadModel:function(d,g){var e=Ext.apply({callback:"loadModelCallback",entityName:d,schema:g,scope:this},d.indexOf(":")>0&&d.indexOf("#")>0?{restxq:{type:d.split("/")[0],map:d.split("/").splice(1)}}:{restxq:{type:"ep:model",map:{entityName:d}}});this.setStatus(d,"loading");this.ajaxCall("",e)},loadModelCallback:function(o,q,m,l,n){if(m){var j=q.config||q.optionConfig||{},p=j.entityName?j.entityName:o.xpath(".//xf:model[1]/@id").getValue(0);this.startProcess(p,j.schema,o,j)}},setStatus:function(g,d){var e=this.getQueue(g);e.status=d;this.fireEvent(d,[g])},triggerReady:function(d){var e=this.getQueue(d),g=this;e.status="ready";Ext.forEach(e.notifyWhenReady,function(a){g.endProcess(a)});this.fireEvent("ready",d)},startProcess:function(q,o,r,s){var m=this.getQueue(q),s=s||{},n=Ext.Array.unique(r.xpath('.//xf:instance[@id="'+q+'"]//@entityName').getValue().concat(m.dependencies)),l,p=this;this.setStatus(q,"processing");m.dependencies=Ext.Array.filter(n,function(a){return a!=q});Ext.forEach(m.dependencies,function(b){if(!p.checkReady(b)){var a=p.getQueue(b);if(!Ext.Array.contains(a.notifyWhenReady)){a.notifyWhenReady.push(q)}}});if(r.xpath("string(@_pT)")=="dynamic"){this.buildModel({root:r});l=true;s.root="data"}this.doProcess(q,o,r,s)},endProcess:function(g){var h=this.getQueue(g);if(h.status!="ready"){var j=h.dependencies,l=this,m=true;Ext.forEach(j,function(a){if(!l.checkReady(a)){m=false}});if(m){this.triggerReady(g)}}},processOtherCases:function(c,d){Ext.forEach(d.isDynamic?c.xpath(".//xf:instance[@_pT ='store']"):c.xpath(".//xf:instance[not(@entityName)] | .//xf:instance[@entityName]"),function(a){E.xforms.inst.InstanceMgr.register({id:a.xpath("./@id").getValue()[0],xml_instance:a,raw:c,_pT:a.xpath("./@_pT").getValue(0)})})},extendDataEntry:function(q,n){var p=n.xtype+"."+n.name,o="E.xforms.field.",l=o+p,j=Ext.ClassManager.classes;if(j[l]){return n.xftype=p}var m=j[o+n.xtype]?(o+n.xtype):(o+"Base");Ext.define(l,Ext.apply({extend:m},q));return n.xftype=p},up:function(e,h){var g=this,j=g.get(e);while(j.belongsTo){j=g.get(j.belongsTo);if(Ext.isFunction(h)){if(h.apply(j)==false){break}}}return j},down:function(j,h){if(Ext.isFunction(h)){var e=this,g=e.get(j);if(h.apply(e,[g])!=false){Ext.forEach(g.hasMany.concat(g.hasOne),function(a){return e.down(a.name,h)},e)}}},processSetValue:function(o){var n=o.xpath("./xf:setValue");if(n.length){var m={};for(var q=0,p=n.length;q<p;q++){var a=n[q],j={event:"afterchange"};Ext.each(a.attributes,function(b){j[b.nodeName]=b.value});if(m[j.event]){m[j.event].push(j)}else{m[j.event]=[j]}}return m}},doProcess:function(Q,S,ak,R){if(this.get(Q)){this.defineModel(Q,S);return this.endProcess(Q)}R=R||{};var S=Ext.data.schema.Schema.get(S||this.defaultSchema),M=S.getNamespace(),af=Ext.getApp(),aj=R.fieldMgr?R.fieldMgr:E.xforms.mgr.FieldSettingsMgr.get(Q)||{},Y=E.xforms.mgr.DataIslandSettingsMgr,P=ak.xpath("descendant-or-self::xf:model")[0],ae=R.xml_model?R.xml_model:P,ac=R.root?R.root:Q,W=[],ai={},T=af.xml.parseAttribute(ae),U=T.isDataEntry=="true",O=T.idref,aq=Ext.isDefined(R.isAo)?R.isAo:!(T.isApplicationObject=="false"),N=aq?{__lastUpdate__:{context:".",attribute:true,mapping:"./@lastUpdate",name:"lastUpdate",xfa:"__lastUpdate__",bindExpr:null},__currentAction__:{context:".",attribute:true,mapping:"./@currentAction",name:"currentAction",xfa:"__currentAction__",bindExpr:null},__phantom__:{context:".",attribute:true,mapping:"./@phantom",name:"phantom",bindExpr:null}}:{},an=[],aa=R.xml_instance?R.xml_instance:ak.xpath(".//xf:instance[@id][1]")[0],X=aa?aa.xpath(ac)[0]:null,ao={},am=P?P:ak,V=af.getIdSep(),L=am.xpath("./xf:bind[@nodeset]"),ad={edges:[],isAo:aq,lookupStores:{},registerLookup:T.registerLookup,xml_model:ae,xml_context:X,root:ac},ap=ad.lookupStores,ag=function(I,l,x){for(var B=0,a=I.length;B<a;B++){var J=I[B],y=af.xml.parseDotAttribute(J);var m=y.xfa||y.entityName;y.xfa=m?m:"auto_"+(++E.xforms.AUTO_ID);y.mapping=l+"/"+y.nodeset;y.name=y.name?y.name:(y.attribute?y.nodeset.substring(1):y.nodeset.split("[")[0]);y.context=l;y.modelRefid=Q;y.xmlModelNode=J;if(!m){y.skip=true}if(y.unique){y.unique=!!y.unique}var r=y.xfa;if(y.lookup){if(!ad.lookup){ad.lookup={keys:[],xfa:[],map:{},lo:{}}}ad.lookup.map[y.lookup]=r;ad.lookup.keys.push(y.lookup);ad.lookup.xfa.push(r)}var G=af.xml.parseElement({childNodes:J.xpath('./*[not(name(.) = "xf:bind")]')},{})||{},C=r.split("-").pop(),s=Y.get(C);var j=G.bindExpr||{},b=false;Ext.forEach(["calculate","relevant","readonly","required","constraint","bindedStore"],function(av){if(y[av]&&!j[av]){b=true;j[av]=E.xforms.model.xpathMgr.get(y[av]);y[av]=j[av].expr}});if(b){y.bindExpr=j}if(G.config&&U){if(y.xtype){this.extendDataEntry(G.config,y)}}var v={},p={},ar,c,z,D;if((D=J.xpath("./@xliff:*"))&&D.length){v.xliff={};Ext.forEach(D,function(av){v.xliff[av.localName]=av.getValue()});c=true}if(G.config){Ext.apply(v,G.config);c=true}if(aj[r]){Ext.apply(v,aj[r]);c=true}if(s&&s.cfg){Ext.apply(v,s.cfg);c=true}if(ar=y.associations?"association":y.st?"st":y.lookupRef?"lookupRef":y.bindedStore?"bindedStore":y.valueStore?"valueStore":y.storeHolder?"storeHolder":null){p.lookupType=ar;an.push({name:r+"__lookup__"});ap[r]={lookupType:ar,xfa:r};z=true}if(c){y.config=v}if(z){y.fieldConfig=p}var d={name:r,type:y.type||"auto",mapping:y.mapping};Ext.copyTo(d,y,["dateFormat","unique"]);var e,q;if(e=y.reference){if(q=e.manyToMany){e.field=r;if(e.association){if(!ad.manyToMany){ad.manyToMany={}}ad.manyToMany[e.association]=e}else{if(!ad.manyToMany){ad.manyToMany=[]}ad.manyToMany.push(q)}}else{d.reference=e}}var H=J.getValue();if(H!=""){y.defaultValue=H;d.defaultValue=H}if(m){if(y.constraint){if(!d.validators){d.validators=[]}var g={type:"constraint"};if(d.constaintText){g.message=y.constaintText}d.validators.push(g)}an.push(d)}var o=ak.xpath(".//xf:extra/*");for(var F=0,A=o.length;F<A;F++){var w=o[F];ao[w.nodeName]=w}if(J.xpath("xf:modelData/*")[0]){y.hasModelData=true}var u;if(u=this.processSetValue(J)){y.xf_setValue=u}if(y.idProperty=="true"){ad.idProperty=r}else{if(y.autoId){ad.idProperty=r}}var h=J.xpath('./xf:bind[@nodeset][not(@process="false")]'),K=Ext.Array.mapFilter(h,function(av){return{xfa:av.xpath("./@xfa | ./@entityName").getValue(0)}});K=(y.config&&y.config.items)?((Ext.isArray(y.config.items))?y.config.items:[y.config.items]).concat(K):K;var n=y.associations||(y.repeat&&y.entityName?"hasMany":null);if(n){switch(n){case"hasMany":case"hasOne":W.push(y.mapping);ai[y.entityName||y.xfa]=y.mapping;ad.associations=ad.associations||[];ad.associations.push({type:n,field:r,model:y.entityName?y.entityName:(Q+"_"+r)});if(y.entityName){break}var at=y.entityName=Q+"_"+r;if(K.length&&y.xtype){y.config.items=K}this.doProcess(at,S,J,Ext.apply({},{xml_instance:aa,xml_model:ae,isAo:false,entityName:at,xfa:r,fieldMgr:aj,root:ad.root+y.mapping.substring(1)},v));break;case"belongsTo":break;default:throw new Error(Ext.util.Format.format("This type of association '{0'} has not yet been defined for the model '{1}'",n,Q))}}else{if(K.length){if(!y.config){y.config={}}y.config.items=K}ag.apply(this,[h,y.mapping,x])}N[r]=y}};if(T.modelPersist!="false"&&(!R.preventPersist)&&localStorage&&Q==ac){localStorage.set(Q,af.xml.serialize(ae),{pre:this.typeName})}var Z;if(Z=this.processSetValue(am)){ad.xf_setValue=Z}var al=R.xfa||"__root__";if(ad.lookup){ad.lookup.root=al}N[al]={mapping:".",bindExpr:{},context:".",name:al};if(O){ad.idref=O}ag.apply(this,[L,"."]);var ah=T.label||"noLabel";if(W.length){ad.childMapping=W.join(" | ");ad.childMap=ai}if(T.idProperty){ad.idProperty=T.idProperty}if(aq){ad.identifier={type:"xforms",id:Q,suffix:V+Q+V+af.getMs()+V+af.getCountry(),prefix:Q.substring(0,2)+"-"+af.getCounter()+"-"};if(!ad.idProperty&&!N.id){N.id={context:".",attribute:true,mapping:"./@id",name:"id",xfa:"id",bindExpr:null};an.push(N.id);ad.idProperty="id"}}var ab=Ext.apply({id:Q,label:ah,title:ah.lo(),extra:ao,fields:N,mfields:an},ad);ab.xliff=Ext.create("E.xforms.xliff.Xliff",{xmlRoot:ab.xml_model});this.register(ab);this.defineModel(Q,S,ab);if(ad.isAo!==false||(Q==ac)){this.applyApplicationObject(Q)}this.endProcess(Q)},defineModel:function(q,w,m){w=Ext.data.schema.Schema.get(w);if(w.getEntity(q)){return}if(!m){m=this.get(q)}var p=E.xforms.model.ModelMixinsMgr.get(q);if(p){var x={};if(Ext.isString(p.mixin)){m.mixins={};m.mixins[p.id]=p.mixin}else{m.mixins=p.mixin}}var s=Ext.apply({extend:m.isAo?"E.xforms.model.AoModel":"E.xforms.model.BaseModel",schema:w},m);s.fields=s.mfields;delete s.mfields;var u=m.xml_model,z;if(u&&(z=u.xpath("./@sen:*"))&&z.length){Ext.forEach(z,function(a){s[a.localName]=a.getValue()})}var v=Ext.define(w.getNamespace()+q,s);if(p){var y,r=function(a){if(y[a]){v.addMember(a,v.prototype[a]?Ext.Function.createSequence(v.prototype[a],y[a]):y[a])}};Ext.iterate(m.mixins,function(b,a){y=a.prototype;Ext.forEach(["init","onSetXfFields","onDestroy"],r);y.initModelMgr(v.prototype,id)})}},applyApplicationObject:function(b){new Ext.data.ChainedStore({source:"lookupStore",storeId:"lookupStore."+b,filters:[{property:"entityName",value:b,operator:"="}]});if(!Ext.ClassManager.getByAlias("widget.ao_"+b.toLowerCase())){Ext.define("E.widget.ao."+b,Ext.apply({extend:"E.xforms.widget.Auto",alias:"widget.ao_"+b.toLowerCase()},E.xforms.mgr.AoSettingsMgr.get(b)))}}});Ext.define("E.xforms.model.resource.CoreItems",{alias:"resource_coreitems",extend:E.xforms.model.resource.Resource,selector:".//items/root",fields:[{name:"instance",mapping:".",accessorType:"node"}],onLoad:function(){var b=this;if(b.raw){Ext.forEach(b.raw.xpath(".//sen:class"),function(o){var a=o.xpath("string(./@name)"),l=E.xml.Xml.parseElement(o),m,j=a.split(".").pop().toLowerCase();delete l.__txt__;l.instanceId=b.getId();if(l.extend&&(m=Ext.ClassManager.get(l.extend))&&(m.$isClass)){if(m.prototype.isStore){l.alias="store."+j}}var n=Ext.define(a,l)})}}});Ext.define("E.xforms.model.resource.StructureItems",{alias:"resource_structureitems",extend:E.xforms.model.resource.Resource,fields:[{name:"label",mapping:"body/label"},{name:"description",mapping:"body/description"},{name:"selector",mapping:"body/selector",defaultValue:"item"},{name:"rootItem",mapping:"body/rootItem",defaultValue:"items"}]});Ext.define("E.xforms.model.resource.TreeItems",{alias:"resource_treeitems",extend:E.xforms.model.resource.TypeItems,fields:[{name:"short",mapping:"body/short"},{name:"Type",mapping:"Type"},{name:"iconCls",mapping:"iconCls"},{name:"cls",mapping:"cls"},{name:"entityName",mapping:"entityName"}]});Ext.define("E.xforms.model.xpathMgr",{alias:"model_xpathmgr",extend:Ext.AbstractManager,singleton:true});Ext.define("E.data.session.XmlInstance",{singleton:true,alias:"session.xmlinstance",extend:Ext.data.Session,schema:{namespace:"E.xforms.instance"}});Ext.define("E.xforms.session.Xforms",{alias:"session.xforms",extend:Ext.data.Session,type:"xforms",schema:"xforms",constructor:function(d){var c=this;c.instances={};c.callParent(arguments)},destroy:function(){var b=this;b.instances=null;b.callParent(arguments)},createRecord:function(g,m){var l=g.$isClass?g:this.getSchema().getEntity(g),h=this.getParent(),j;if(!l.prototype.isXformsModel){return this.callParent(arguments)}if(m&&h){j=l.getIdFromData(m);if(h.peekRecord(l,j)){Ext.Error.raise("A parent session already contains an entry for "+l.entityName+": "+j)}}if(!m){instance=new E.xforms.inst.Instance({xml_instance:l.prototype.xml_context.parentElement.cloneNode(true),session:this,entityName:g});return instance.extractDataFromProxy()[0]}j=l.getIdFromData(m);return new l(m,this,{instance:this.lookupInstance(j,g),session:this})},addInstance:function(e){var d=this,g=e.getId();if(!d.instances[g]){d.instances[g]=e}},removeInstance:function(b){delete this.instances[this.getInstanceId(b)]},lookupInstance:function(g,j){if(g&&g.isInstance){return g}var h=this.getInstanceId(g),e=this.instances[h];if(!e){e=new E.xforms.inst.Instance({id:h,session:this,entityName:j})}return e},privates:{getInstanceId:function(b){return Ext.isString(b)?b:b.getId()}}});Ext.define("E.xforms.store.Resource",{alias:"store.resource",extend:Ext.data.Store,proxy:{type:"restxq",api:{read:"res:resource"},reader:{type:"xml"}},config:{resourceId:null,sessionName:null,selector:null},updadeSessionName:function(b){if(b&&(b=Ext.data.session[Ext.String.capitalize(b)])){this.setSession(b)}},updateSelector:function(g){var d=this.getProxy(),e;if(g&&d&&(e=d.getReader())&&e.type=="xml"){e.setSelector(g)}}});Ext.define("E.xforms.widget.Container",{extend:Ext.Container,alias:"widget.ct_container",xfConfig:"true",padding:0,border:0,layout:"anchor",allowRepeat:true});Ext.define("E.xforms.widget.Form",{extend:E.xforms.widget.Container,alias:"widget.ct_form",padding:10,layout:"anchor",defaultType:"textfield",scrollable:"y"});Ext.define("E.xforms.xliff.Schema",{alias:"schema.xliff",extend:Ext.data.schema.Schema,type:"xliff",namespace:"E.xforms.xliff",proxy:{type:"xf_client"}});Ext.define("E.xforms.xliff.Model",{alias:"model_xliff",extend:Ext.data.Model,schema:"xliff"});Ext.define("E.xforms.xliff.Xliff",{mixins:[Ext.mixin.Observable],cachedConfig:{lan:{}},config:{xliffStore:null,xmlRoot:null},session:new Ext.data.Session({schema:"xliff"}),constructor:function(b){this.mixins.observable.constructor.call(this,b)},updateXmlRoot:function(b){this.setXliffStore(Ext.create("E.xforms.store.InstanceStore",{xmlRoot:b,session:this.session,model:"Unit",selector:".//xliff:*//unit"}))},registerLang:function(c){var d=this.getLang();if(!d[c]){d[c]=Ext.define("E.xforms.xliff.Target",{extend:E.xforms.xliff.Model,fields:[{name:"unitId",reference:"Unit",unique:true},{name:"target",mapping:'./target[@xml:lang="'+c+'"]'},{name:"lang",defaultValue:c}]})}}});Ext.define("E.util.Color",{alias:"util_color",config:{colors:["#393b79","#5254a3","#6b6ecf","#9c9ede","#637939","#8ca252","#b5cf6b","#cedb9c","#8c6d31","#bd9e39","#e7ba52","#e7cb94","#843c39","#ad494a","#d6616b","#e7969c","#7b4173","#a55194","#ce6dbd","#de9ed6"],colCal:null},getColInst:function(){return Ext.getApp().getInstanceXml("colorScale")},colScale:function(h,j){var g=this,e=g.getColInst().xpath('string(.//*[@id="'+h+'"]/item[classNb = "'+j+'" or position() = last()]/colors)').split(",");return function(){return d3.scale.ordinal().range(e)}},applyColCat:function(b){if(!b){b=this.getColors()}return d3.scale.ordinal().range(b)},getAoColor:function(e){var h=E.xforms.mgr.AoSettingsMgr,j=h.get(e),g=Ext.isDefined(j.index)?j.index:h.getKeys().indexOf(e);return this.getColCat(g)}});Ext.define("E.view.login.Manager",{alias:"login_manager",config:{model:null,session:null},constructor:function(b){this.initConfig(b)},applyModel:function(b){return b&&Ext.data.schema.Schema.lookupEntity(b)},login:function(b){Ext.Ajax.request({url:"$controller/state",method:"POST",params:b.data,scope:this,callback:this.onLoginReturn,original:b})},onLoginReturn:function(g,j,h){g=g.original;var l=this.getSession(),m;if(j){m=this.getModel().getProxy().getReader().read(h,{recordCreator:l?l.recordCreator:null});if(m.getSuccess()){Ext.callback(g.success,g.scope,[m.getRecords()[0]]);return}}Ext.callback(g.failure,g.scope,[h,m])}});Ext.define("E.view.login.Controller",{alias:["login_controller","controller.login_controller"],extend:Ext.app.ViewController,loginText:"Logging in...",onSpecialKey:function(c,d){if(d.getKey()===d.ENTER){this.doLogin()}},onLoginClick:function(){this.doLogin()},onLoginCancel:function(){this.doClose()},doClose:function(){this.getView().close()},doLogin:function(){var b=this.lookupReference("form");this.resetWarning();if(b.isValid()){Ext.getBody().mask(this.loginText);if(!this.loginManager){this.loginManager=new E.view.login.Manager({session:this.getView().getSession(),model:"E.data.model.ApplicationState"})}this.loginManager.login({data:b.getValues(),scope:this,success:"onLoginSuccess",failure:"onLoginFailure"})}},resetWarning:function(){this.getViewModel().set("loginError","")},onLoginFailure:function(b){this.getViewModel().set("loginError",'<p class="alert alert-warning"><i class="fa fa-warning"/> '+b.responseText.replace(/"/g,"")+"</p>")},onLoginSuccess:function(b){Ext.getBody().unmask();this.fireViewEvent("login",this.getView(),b,this.loginManager)}});Ext.define("E.view.login.Model",{alias:["login_model","viewmodel.login_model"],extend:Ext.app.ViewModel});Ext.define("E.view.login.Login",{alias:"widget.login_login",extend:Ext.window.Window,controller:"login_controller",bodyPadding:10,title:"Login ",bind:{title:"Login to {appState.title}"},closable:false,modal:true,cls:"login bts",items:{xtype:"form",reference:"form",items:[{xtype:"textfield",name:"user",bind:"{appState.user}",fieldLabel:"Username",allowBlank:false,enableKeyEvents:true,listeners:{specialKey:"onSpecialKey",change:"resetWarning"}},{xtype:"displayfield",hideEmptyLabel:false,value:"Username testing purpose : <code>test</code>",cls:"x-form-msg-info"},{xtype:"textfield",name:"password",inputType:"password",fieldLabel:"Password",allowBlank:false,enableKeyEvents:true,cls:"password",listeners:{change:"resetWarning",specialKey:"onSpecialKey"}},{xtype:"displayfield",hideEmptyLabel:false,value:"For testing purpose : <code>test</code>",cls:"x-form-msg-info"},{xtype:"textfield",fieldLabel:"monitoring space",editable:false,bind:{hidden:"!{appState.needMs}",value:"{appState.ms}"}},{xtype:"component",bind:{html:"{loginError}"}}]},buttons:[{text:"cancel",bind:{hidden:"{!appState.isLoggedIn}"},listeners:{click:"onLoginCancel"}},{text:"login",listeners:{click:"onLoginClick"}}]});Ext.define("E.data.model.ApplicationState",{alias:"model_applicationstate",extend:Ext.data.Model,fields:[{name:"user",defaulValue:"guest"},{name:"ms"},{name:"needMs",type:"bool"},{name:"lang"},{name:"app"},{name:"name"},{name:"abbrev"},{name:"title"},{name:"mode"},{name:"geo"},{name:"version"},{name:"counter"},{name:"token"},{name:"isDev",type:"bool",calculate:function(b){return b.mode!="production"}},{name:"isLoggedIn",type:"bool",calculate:function(b){return b.user!="guest"&&b.token}}]});Ext.define("E.controller.Root",{alias:"controller.root",extend:Ext.app.Controller,routes:{"!logout":{action:"onLogout",before:"beforeLogout"}},onLogout:function(){this.loginManager.login({data:{logout:true},scope:this,success:"onLogoutSuccess",failure:"onLoginFailure"})},beforeLogout:function(c){var d=this;Ext.Msg.show({title:"Confirm Logout?",message:"Please Confirm your want to logout.",buttons:Ext.Msg.OKCANCEL,icon:Ext.Msg.QUESTION,fn:function(a){if(a==="ok"){c.resume()}else{c.stop(true)}}})},loadingText:"Loading...",id:"root",onLaunch:function(){console.info("Controller onLauch");if(Ext.isIE8){Ext.Msg.alert("Not Supported","This application is not supported on Internet Explorer 8. Please use a different browser.");return}if(E.__whileInitApp){E.__whileInitApp();delete E.__whileInitApp}this.session=this.getApplication().session||new Ext.data.Session({autoDestroy:false});if(this.needLogin()){this.showLogin()}else{this.skipLogin()}},showLogin:function(){if(this.login&&!this.login.isDestroyed){return this.login.show()}this.login=new E.view.login.Login({session:this.session,viewModel:{data:{appState:this.getApplication().viewModel.getData().appState}},autoShow:true,listeners:{scope:this,login:"onLogin"}})},skipLogin:function(){var e={data:Ext.__credentials__,scope:this,success:function(a){this.getApplication().setApplicationState(a);this.showUI()}},g=new E.view.login.Manager({session:this.session,model:"E.data.model.ApplicationState"}),d=this;delete Ext.__credentials__;Ext.Ajax.request({url:"$controller/state",method:"POST",params:e.data,scope:g,callback:g.onLoginReturn,original:e})},needLogin:function(){return !Ext.__credentials__},onLogin:function(d,e,g){this.login.destroy();this.loginManager=g;this.getApplication().setApplicationState(e);this.showUI()},onLogoutSuccess:function(b){this.getApplication().setApplicationState(b);this.showLogin()},hideUI:function(){this.getApplication().hideUI()},showUI:function(){this.getApplication().showUI()}});Ext.define("E.util.Error",{alias:"util_error",singleton:true,errorPath:"string(.//errorMsg)",errorMsg:function(b){return b.xpath(this.errorPath)}});Ext.define("E.data.proxy.xf_Ajax",{alias:"proxy.xf_ajax",extend:Ext.data.proxy.Ajax,defaultReaderType:"xml",destroy:Ext.emptyFn,buildRequest:function(h,j,g){var m=this.callParent(arguments),l=m.getParams();if(Ext.isDefined(l.xmlData)){m.xmlData=(l.xmlData instanceof Node)?l.xmlData:Ext.getApp().xml.parse("<para>"+l.xmlData+"</para>");delete m.params}return m},applyUrl:function(d){var c=Ext.getApp();return c.buildUrl.apply(this)},applyReader:function(d){d=this.callParent([d]);var c=this.getModel().prototype;if(c.record){d.setRecord(c.record)}if(c.root){d.setRootProperty(c.root)}if(c.selector){d.setSelector(c.selector)}return d},getMethod:function(b){return"POST"}});Ext.define("E.data.proxy.xf_Store",{alias:"proxy.xf_store",extend:E.data.proxy.xf_Ajax,controllerType:"store",defaultReaderType:"xml",destroy:Ext.emptyFn});Ext.define("E.data.proxy.xf_ModelInstanceLookup",{alias:"proxy.xf_modelinstancelookup",extend:Ext.data.proxy.Memory,config:{selectorModel:null,xpath:null},applySelectorModel:function(e){var h=this;if(!h.getXpath()){var j=[],g;e.each(function(a,b){j.push("./@entityName= '"+(Ext.isString(b)?b:b.entityName)+"'")});g=j.length==0?".[*]":("./*["+j.join(" or ")+"][*]");h.setXpath(g)}return e},update:Ext.emptyFn,getXmlAnchor:function(g,e){var h=(e&&e.getXml)?e.getXml.call(this,g):this.getXml(g),j=(e&&e.getXpath)?e.getXpath:this.getXpath();return Ext.getApp().xml.evalXpath(h,j,[g.config.node],this)},getXml:function(b){return b.config.node.data.raw},getModelInstance:function(d,c){return c.modelInstance?c.modelInstance:c.xf_field.modelInstance},processLookup:function(j,h,g,l){if(l){var m=E.xforms.mgr.AoSettingsMgr.get(l.entityName)||{};Ext.applyIf(j,{iconCls:m.iconCls,label:m.title||m.text,qtip:m.description,qtitle:m.title?(m.title+":"):""})}if(h&&h.applyEdgeId&&g){Ext.forEach(g.xpath('.//*[@edge][string() =""]'),function(c){var b=c.localName,a=c.xpath('./ancestor::*[@entityName ="'+b+'"]');if(a&&(a=a[0])){c.setValue(a.modelInstance.id)}})}return Ext.apply(j,h?h.defaultApply:{},this.defaultApply||{})},read:function(s){var n=[],v=s.config.node,y=this.model.getName(),p=this.model.idProperty,x=this.getSelectorModel();var z=v.getSource?v.getSource():v.data.modelInstance,q=z.entityName,r=x.get(q+"_"+v.get("Type"))||x.get(q),w=(r&&r.getXmlAnchor)?r.getXmlAnchor:this.getXmlAnchor,u=(r&&r.getModelInstance)?r.getModelInstance:this.getModelInstance;if(r&&r.action){v.data.modelInstance.instance.load({callback:"processOnDemand",operation:Ext.apply(s,{xml:this.getXml(s)})},Ext.apply({},r.action,{idref:v.data.modelInstance.id}));v.set("loading")}Ext.forEach(w.apply(this,[s,r]),function(a){var b=[].concat(u.apply(this,[s,a]));Ext.forEach(b,function(h){var g=x.get(h.entityName+"_"+a.tagName)||x.get(h.entityName);var d=(g&&g.process)?g.process:this.processLookup,e=Ext.isFunction(h.getLookups)?h.getLookups():h;e[p]=h.getId()+"_node";var c=Ext.create(y,d.apply(this,[Ext.applyIf(e,{raw:a,Type:a.tagName}),g,a,h]),null,{source:h});n.push(c)},this)},this);s.setRecords(n);s.setSuccessful(true)},create:function(m,j,l){var g=Ext.isArray(m.records)?m.records:[m.records],h=m.instance,m=h.create(g,m);j.call(l||this,m)},destroy:function(e,g,d){console.info("destroy",this,arguments);Ext.forEach(e.getRecords(),function(a){a.data.modelInstance.instance.remove([a.data.modelInstance],e)},this);e.setCompleted();e.setSuccessful();if(typeof g=="function"){g.call(d||this,e)}}});Ext.define("E.data.proxy.xf_Ao",{alias:"proxy.xf_ao",extend:Ext.data.ClientProxy,doAction:function(n,o,l,m){var h=Ext.isArray(o.records)?o.records:[o.records],j=o.instance,o=j[n](h,o)},destroy:function(e,g,d){this.doAction.call(this,"remove",e,g,d)},read:Ext.emptyFn,create:function(e,g,d){this.doAction.call(this,"create",e,g,d)}});Ext.define("E.data.proxy.xf_MasterStore",{alias:"proxy.xf_masterstore",extend:Ext.data.proxy.JsonP,constructor:function(){var d=this,c=Ext.getApp();d.url=c.buildUrl.apply(d);this.callParent(arguments)},domainType:"master",controllerType:"store"},function(){this.borrow(E.data.proxy.xf_Ajax,["setReader"])});Ext.define("E.data.store.Base",{alias:"store.base",extend:Ext.data.Store,config:{baseParams:null,instanceId:null,xpath:null},getParams:function(p){var q=Ext.getApp(),r={lan:q.getLan(),client:q.getClient()},n=this.getBaseParams();if(p&&p.xpathParams&&p.xf_field){var s=p.xf_field.modelInstance,l={},o,m=s.raw.xpath(p.xpathParams);Ext.forEach(m,function(a){o=(a.xf_field&&a.xf_field.lookupType)?a.xf_field.lookupType:a.localName;l[o]=a.getValue()},this);return Ext.applyIf(l,n)}return Ext.apply(r,n)},applyLoadOptions:Ext.argument,load:function(d){d=this.applyLoadOptions(d||{});var c=this.getParams();d.params=Ext.apply(d.params||{},c);if(d.params&&d.params.xf_field){d.xf_field=d.params.xf_field;delete d.params.xf_field}return this.callParent([d])},onProxyLoad:function(b){if(b.wasSuccessful()&&(b.loadMissing!=true)){this.loadCount++}if(b.valuesMissing){this.loadingMissing=Ext.Array.difference(this.loadingMissing,b.valuesMissing)}this.callParent(arguments)},proxy:{type:"xf_client"},getModelProto:function(){var b=Ext.data.schema.Schema.lookupEntity(this.model);return b?b.prototype:{}},getLookupModel:function(d,g){d=Ext.Array.from(d);var e=[];Ext.each(d,function(a){if(!Ext.isEmpty(a)){var b=this.data.map[a];if(b){return e.push(b)}e.push(this.findModel(a,g))}},this);return e},findModel:function(g,e){var d=e||this.getModelProto().idProperty||"id";return this.data.findBy(function(a){return a.data[d]===g},this)},loadingMissing:[],loadMissing:function(m,l){l=l?l:"value";var j=m.params[l]?m.params[l]:[],j=Ext.isArray(j)?j:j.split(" ");valpara=Ext.Array.difference(j,this.data.getValues(this.valueField,"data").concat(this.loadingMissing));if(valpara.length>0){if(this.entityName){m.params.type=this.entityName}if(this.ref){m.params.ref=this.ref}this.loadingMissing=this.loadingMissing.concat(valpara);m.addRecords=true;m.loadMissing=true;m.valuesMissing=valpara;m.params[l]=valpara.join(" ");this.load(m)}if(Ext.isFunction(m.callback)){var g=this,h=Ext.Array.difference(valpara,j).map(function(a){return g.data.getByKey(a)});m.callback.call(m.scope||this,[h,{options:m},true])}}});Ext.define("E.data.store.StoreCombo",{alias:"store.storecombo",extend:E.data.store.Base,forceUnique:true,mode:"remote",constructor:function(b){this.callParent([b]);this.on("beforeload",this.onBeforeLoad,this);if(this.getInstanceId()&&!this.isBindedStore){E.xforms.inst.InstanceMgr.get(this.getInstanceId(),{_pT:"no",action:"externalInstance"},{fn:this.loadWithInstance,scope:this})}},applyBaseParams:function(b){return Ext.applyIf(b,{cSource:this.$className.split(".").pop()})},applyProxy:function(g){var e=this,h=e.getBaseParams()||{},j=this.getData();instanceId=e.getInstanceId();g=Ext.apply(g,{type:j.length?"memory":instanceId?"xf_client":(h.resourceId&&Ext.String.startsWith(h.resourceId,"d."))?"xf_masterstore":"xf_store",reader:{type:"xml"},writer:{type:"xml"},instanceId:this.getInstanceId(),xpath:this.getXpath()});return this.callParent([g])},applyXpath:function(d){if(d){var c=this;c.load()}return d},loadWithInstance:function(e,g){if(g){var d=g.getStoreModel();if(d){this.setModel(d);this.getProxy().setModel(d)}this.load()}},reloadAlways:false,addRecords:true,readType:null,applyLoadOptions:function(b){return Ext.applyIf(b,{addRecords:this.addRecords,readType:this.readType})},privates:{onBeforeLoad:function(c,d){if(c.isLoaded()&&(c.reloadAlways!=true)&&!d.loadMissing){this.fireEvent("load",this,this.data.items,true);return false}}},getValue:function(){return this.data.keys},getDisplayArray:function(){var c=this.displayProperty,d=[];this.data.each(function(a){d.push(this.get(c))});return d}});Ext.define("E.data.schema.Lookup",{alias:"schema.lookup",extend:Ext.data.schema.Schema,type:"lookup",namespace:"E.data.model.lookup"});Ext.define("E.data.model.lookup.shortlookup",{alias:"lookup_shortlookup",extend:Ext.data.Model,root:"root",record:"item",schema:"lookup",selector:"./*/item",idProperty:"value",fieldPara:{displayField:"label",descField:"description"},fields:[{name:"label",mapping:"label"},{name:"value"},{name:"description"}]});Ext.define("E.data.model.lookup.lookup",{alias:"lookup_lookup",extend:E.data.model.lookup.shortlookup,fieldPara:{displayField:"label",descField:"description",clsField:"cls",iconClsField:"iconCls",typeField:"Type"},fields:[{name:"labels"},{name:"cls"},{name:"iconCls"},{name:"entityName"},{name:"Type"},{name:"bind"},{name:"lastUpdate",mapping:"@lastUpdate",type:"date"}],constructor:function(){var b=this;b.callParent(arguments);if(b.data.modelInstance){b.setSource(b.data.modelInstance);delete b.data.modelInstance}},load:function(){var b=this;Ext.forEach(b.stores,function(a){if(a.treeStore){a.treeStore.load(b)}})},onBindSource:function(e){var g=this,h=e.lookup,j={};if(h){Ext.Object.each(h.map,function(a,b){j[b]=a})}g.lookupMap=j;g.init=g.__init},onUnBindSource:function(){delete this.lookupMap;delete me.init},getLookups:function(){return Ext.apply({id:this.get(this.idProperty)},this.data)},afterEdit:function(m,n){var o=this,l=m.lookup,j=o.lookupMap,h;if(l&&j){Ext.forEach(n,function(a){o.set(j[a],m.get(a))})}},__init:function(){var c=this,d;if(c.storeId&&c.get("entityName")&&(d=Ext.getStore(c.storeId))){d.add(c)}}});Ext.define("E.data.store.LookupBase",{alias:"store.lookupbase",extend:E.data.store.StoreCombo,model:"E.data.model.lookup.lookup"});Ext.define("E.data.model.lookup.client",{alias:"lookup_client",extend:Ext.data.Model,root:"root",record:"item",selector:"./*/item",idProperty:"id",fieldPara:{displayField:"label",descField:"description",clsField:"cls",iconClsField:"iconCls",typeField:"Type"},fields:[{name:"id"},{name:"label"},{name:"description"},{name:"Type"},{name:"iconCls"}]});Ext.define("E.data.store.localLookup",{alias:"store.locallookup",extend:E.data.store.LookupBase,model:"E.data.model.lookup.client",mode:"local"});Ext.define("E.geo.topo.Base",{alias:"topo_base",properties:null,idProperty:"id",get:function(c,d){return c?this.properties[c][d]:"empty"},constructor:function(){this.index={};this.__objects={};this.constructGeometries();this.constructFullIds();return this},constructFullIds:function(){var b="";Ext.oEach(this.properties,function(h,l){var a=h,j=l.parent,m;while(j){m=this.properties[j];if(m.fullId){a=m.fullId+"_"+a;break}a=j+"_"+a;j=m.parent}l.fullId=a;this.objects[l.level]},this)},constructGeometries:function(){var j=0,n,l,o,m,h;Ext.oEach(this.levels,function(a,b){this.levels[a].members=[];if(a>j){j=a}},this);Ext.oEach(this.properties,function(a,b){if(b.level){this.levels[b.level].members.push(a)}},this);for(n=j;n;--n){if(!this.index[n]){this.buildIndex(n)}if(this.levels[n-1]){m=this.objects[n-1]={type:"GeometryCollection",geometries:[]};Ext.map(this.levels[n-1].members,function(a){l=this.properties;o=topojson.mesh(this,this.objects[n],function(b,c){if(l[b.id]&&l[b.id].parent==a||l[c.id]&&l[c.id].parent==a){return(b.id===c.id)||b.id==-99||c.id==-99||((b.id!==c.id)&&((l[c.id]&&l[c.id].parent!=a)||(l[b.id]&&l[b.id].parent!=a)))}});o.id=a,m.geometries.push(o)},this)}}},buildIndex:function(j){var m=this.objects[j],g,l,h={};for(g=0,l=m.geometries.length;g<l;++g){h[m.geometries[g][this.idProperty]]=g}this.index[j]=h},features:function(g,e){var d=this.object(g);e=e?[].concat(e):[];return e.length?Ext.map(e,g?function(a){return{type:"Feature",id:a,fullId:this.properties[a]?this.properties[a].fullId:null,geometry:d.geometries[this.index[g][a]]}}:function(a){var j=this.properties[a],b=j.level,c=this.object(b);return{type:"Feature",id:a,fullId:j?j.fullId:null,geometry:c.geometries[this.index[b][a]]}},this):Ext.map(d.geometries,function(a,b){return{type:"Feature",id:a.id,fullId:this.properties[a.id]?this.properties[a.id].fullId:null,geometry:a}},this)},object:function(l){var n,h,m,o,j={};if(n=this.__objects[l]){return n}n=topojson.object(this,this.objects[l]);this.__objects[l]=n;return n},destroy:function(){this.__objects=null;this.index=null}});Ext.define("E.data.store.defaultLookup",{alias:"store.defaultlookup",extend:E.data.store.LookupBase,model:"E.xforms.model.Lookup",baseParams:{lt:"lookUpApplicationObject"},storeId:"lookupStore"});Ext.define("E.apps.Base",{alias:"apps_base",extend:Ext.app.Application,mixins:{offline:E.connect.Offline,sync:E.connect.Sync,color:E.util.Color,connection:E.connect.Connection},namespaces:"E.apps",config:{appKey:null,app:null,token:null,session:null,defaultSchema:"xforms",dateFormat:"c",dateDisplayFormat:"d/m/Y",dateTimeDisplay:"l, F d, Y g:i:s ",baseColor:"#157fcc",highlightColor:"#FF8B2B",highlightCls:"highlight",version:"latest",lw:80,lp:5,w:200,padding:10,iconSize:16,rootLoaderUrl:"data/view/",metaArray:["id","type","ms","country"],idSep:"_",theme:"neptune",mode:null,counter:null,ms:null,needMs:null,country:null,geoKey:null,user:null,client:null,currentVersion:null,dataModelDate:null,title:null,versionDate:null,lang:null,namer:null},useGeo:false,init:function(){var b=this;Ext.getApp=function(){return b};b.initNamer();b.initHeaders();b.initController();if(E.__whileInitApp){E.__whileInitApp();delete (E.__whileInitApp)}b.initError();b.initXml();b.initTheme();b.initHighlight();b.initLanguage();b.initEdges();E.xforms.AUTO_ID=0;return b},launch:function(){var d=this,c=Ext.create("E.data.model.ApplicationState");d.setSession();d.viewModel=Ext.create("Ext.app.ViewModel",{stores:{st_lookupStore:"lookupStore"},data:{appState:c},session:d.getSession()});c.join(d)},setApplicationState:function(b){b.set("needMs",this.getNeedMs());this.viewModel.getData().appState.set(b.data);this.initPrototype();this.fireEvent("setstate",b);Ext.GlobalEvents.fireEvent("app-launched",this)},afterEdit:function(e,g){var d=this;Ext.forEach(g,function(a){var b=e.get(a);d.fireEvent(a+"change",b);if(d[a.setter()]){d[a.setter()](b)}})},controllers:["E.controller.Root"],controller:{},apiKeys:{},applySession:function(b){if(!b){b=new E.xforms.session.Xforms({autoDestroy:false,schema:this.getDefaultSchema()||"xforms"})}return b},initNamer:function(){this.setNamer(new Ext.data.schema.Namer())},initEdges:function(){if(E.xforms.mgr&&E.xforms.mgr.EdgeSettingsMgr){var l=E.xforms.mgr.EdgeSettingsMgr,e,n=l.all.map,p=l.edges={};for(e in n){if(n.hasOwnProperty(e)){var o=n[e],m=Ext.copyTo({},o,["subject","verb","object","id","idref"]),q=Ext.copyTo({},o,["object","inverse","subject","id","idref"]);p[o.subject]?p[o.subject].push(m):(p[o.subject]=[m]);p[o.object]?p[o.object].push(q):(p[o.object]=[q])}}}},initHighlight:function(){Ext.util.CSS.createStyleSheet("."+this.getHighlightCls()+" {opacity: 0.8; background-color : "+this.getHighlightColor()+" !important;","app-highlight")},initXml:function(){this.xml=E.xml.Xml;if(Ext.isDefined(window.d3)){Ext.copyTo(d3.ns.prefix,E.xml.Ns.ns,["xf","xsl","-"])}},applyGeoKey:function(b){if(b&&this.useGeo&&!(E.geo.topo[b])){this.loadRestxq(Ext.Factory.restxq("geo:topo#2",{restxqMap:{geoKey:b}}))}return b},initPrototype:function(){var c=this,d=c.getDateFormat();Ext.form.field.Date.prototype.format=c.getDateDisplayFormat();Ext.form.Labelable.prototype.labelWidth=c.getLw();Ext.form.Labelable.prototype.labelPad=c.getLp();Ext.data.Field.prototype.dateFormat=d;Ext.data.Field.prototype.dateReadFormat=d;Ext.Date.defaultFormat=d;if(E.xforms.field.fo_date){E.xforms.field.fo_date.prototype.format=d}},initHeaders:function(){var c=this,d=new XMLHttpRequest();d.open("GET",document.location,false);d.send(null);c.setMode(d.getResponseHeader("App-Mode"));c.setAppKey(d.getResponseHeader("App-Key"));c.setToken(d.getResponseHeader("App-Token"));c.setCounter(d.getResponseHeader("App-Counter"))},getUrls:function(){var d=this,c=d.getMode();return Ext.manifest[c]&&Ext.manifest[c].urls?Ext.manifest[c].urls:Ext.manifest.urls},getInstanceXml:function(g){var e,d=E.data.session.XmlInstance;if(g&&(e=d.getRecord("CoreItems",g))){return e.get("instance")}},initController:function(){var d=this,c=d.getMode();d.controller=Ext.manifest[c]&&Ext.manifest[c].controller?Ext.manifest[c].controller:Ext.manifest.controller},initTheme:function(){if(this.getTheme()=="neptune"){Ext.panel.Header.prototype.cls="pos-2 "}},initLanguage:function(){this.locale=Ext.locale},applyLang:function(b){if(b){this.locale.def=b}return b},initError:function(){return Ext.Error.ignore=true;var b=this;Ext.applyIf(Ext.Msg,{cache:{}});Ext.Error.handle=function(g){if(g.errorId&&g.informUser){var j=Ext.apply({buttons:Ext.Msg.OK,minWidth:Ext.Msg.minWidth,icon:Ext.Msg.ERROR},g.msgCfg),h=function(){Ext.Msg[j.type?j.type:"alert"](Ext.apply(j,Ext.Msg.cache[g.errorId]))};if(Ext.Error.cache[g.errorId]){h()}else{var a=b.xml;b.ajaxCall(a.parseRoot(a.wrap("action","msg")+a.wrap("id",g.errorId)),{callBack:function(c,m,d){if(m){var e=a.parseElement(d.responseXML.xpath(".//serverData")[0],{},null,false);Ext.Msg.cache[g.errorId]=Ext.applyIf(e,{msg:("<p>"+e.shortDesc+"</p>")+(e.body?("<p>"+e.body+"</p>"):"")});h()}}})}}}},buildId:function(e){var g=[],d=this.getIdSep();Ext.applyIf(e||{},{ms:this.getMs(),country:this.getCountry()});return Ext.Array.map(this.getMetaArray(),function(a){return e[a]}).join(d)}});Ext.define("E.widget.img.Svg",{alias:"widget.img_svg",extend:Ext.Component,config:{baseUrl:null,name:null,params:null,scaleFactor:0.94,transform:null,rotation:null,title:null,alt:null},ariaRole:"img",updateName:function(b){if(b){this.load()}return b},updateParams:function(b){if(b){this.load(b)}return b},load:function(){var j=this.getBaseUrl(),e=this.getName(),h=this.getParams();if(j&&(e||h)){this.loader={url:j+(e||""),params:h};var g=this.getLoader();g.load({method:"GET",scope:this,callback:this.onLoadCallback})}},updateScaleFactor:function(){this.adaptSize()},updateTransform:function(){this.adaptSize()},updateRotation:function(){this.adaptSize()},onLoadCallback:function(d,c){if(c){this.adaptSize()}},getSvgElement:function(){return this.getEl().child("svg")},setAttributes:function(m,h){var j=m.dom,g,l;for(g in h){l=h[g];j.setAttribute(g,l)}},createSvgNode:function(d){var c=document.createElementNS("http://www.w3.org/2000/svg",d);return Ext.get(c)},adaptSize:function(){if(this.rendered){var r=this.getSvgElement(),C=r.child("g.icon-group");if(!C){C=this.ensureGroup()}this.setAttributes(r,{viewBox:""});this.setAttributes(C,{transform:""});var z={height:"100%",width:"100%","max-height":"100%",style:null},y=this.getScaleFactor(),h=this.getRotation(),B=this.getTransform()||"",s=r.dom.getBBox(),A=parseFloat(s.height),u=parseFloat(s.width),v=parseFloat(s.x),w=parseFloat(s.y),x=Ext.Array.max([u,A]),D="";if(h){D="rotate("+h+" "+(v+u/2)+" "+(w+A/2)+")"+D}z.viewBox=v+" "+w+" "+u+" "+A;this.setAttributes(r,z);this.setAttributes(C,{transform:B+" translate("+(v+u/2)*(1-y)+","+(w+A/2)*(1-y)+") scale("+y+") "+D})}},ensureGroup:function(){var d=this.getSvgElement(),c=this.createSvgNode("g");this.setAttributes(c,{"class":"icon-group"});Ext.forEach(d.select(Ext.makeIdSelector(d.id)+">*").elements,function(a){if(a.localName!="defs"){c.appendChild(a)}});d.appendChild(c);return c}});Ext.define("E.widget.app.Header",{alias:"widget.app_header",extend:Ext.Container,config:{title:"e-smile Title",app:null},baseCls:Ext.baseCSSPrefix+"app-header",id:"app-header",height:52,layout:{type:"hbox",align:"middle",constrainAlign:true},updateTitle:function(b){document.title=this.title},items:[{xtype:"img_svg",id:"app-header-logo",scaleFactor:0.85,width:180,baseUrl:"$commonc/package-icon",bind:{params:{app:"{appState.name}","no-background":true}}},{xtype:"header",reference:"title",id:"app-header-title",title:"app title",cls:"app-header-text",flex:1,bind:{title:"{appState.title}"}},{xtype:"container",layout:{type:"vbox"},defaults:{flex:1,xtype:"component"},items:[{id:"app-header-user",cls:"app-header-user",bind:'{appState.user} <i class="fa fa-user"></i> ',listeners:{click:"onClickUserName",element:"el"}},{html:' logout <i class="fa fa-sign-out"></i>',cls:"app-header-logout",listeners:{click:"onClickLogout",element:"el"}}],margin:"0 10 0 0"}]});Ext.define("E.widget.app.ContentPanel",{alias:"widget.app_contentpanel",extend:Ext.panel.Panel,scrollable:true,header:{hidden:true}});Ext.define("E.widget.viewport.MainController",{alias:["viewport_maincontroller","controller.viewport_maincontroller"],extend:Ext.app.ViewController,routes:{"!:ref":{action:"onNavigate",before:"beforeNavigate"},"!info/:id":{action:"viewInfo"},"!help/:id":{action:"viewHelp"},"!detail/:id":{action:"viewDetail"}},listen:{controller:{"*":{changeroute:"changeRoute",unmatchedroute:"onUnmatchedRoute"}}},destroy:function(){Ext.destroyMembers(this,"menu");this.callParent()},getRef:function(b){return this.getReferences()[b]},beforeNavigate:function(d,g){var e=this.getRef(d);if(e){g.resume()}else{this.onBadRoute()}},changeRoute:function(d,c){if(c.substring(0,1)!=="!"){c="!"+c}this.redirectTo(c)},getTabRoute:function(c){var d=c.itemId||c.xtype;if(c.getActiveState){d+="/"+(c.getActiveState()||c.getDefaultActiveState())}return d},onBadRoute:function(){var b=Ext.getApp();this.changeRoute(this,b.getDefaultToken())},onNavigate:function(h){var e=this.getRef("viewport_main");var j=e.setActiveTab(h);if(j){if(j.onNavigate){j.onNavigate()}var g=this.getTabRoute(j);if(g&&g!==h){this.changeRoute(this,g)}return j}},onBeforeTabChange:function(d,c){if(Ext.ux.help&&Ext.ux.help.Help&&Ext.ux.help.Help.getActive()){return false}},onTabChange:function(d,g){var e=this.getTabRoute(g);this.changeRoute(this,e)},onMenuClick:function(c,d){this.redirectTo(d.route)},onSwitchTool:function(e){var g=this.menu;if(!g){var d={items:Ext.Array.map(this.getRef("viewport_main").getTabBar().query("tab"),function(a){if(!a.config.hidden){return{text:a.getText(),glyph:a.glyph,route:"!"+(a.card.itemId||a.card.xtype),height:50}}}),listeners:{click:"onMenuClick"}};this.menu=g=new Ext.menu.Menu(d)}g.showAt(e.getXY())},onUnmatchedRoute:function(b){if(b){this.onBadRoute()}},changeUser:function(b){Ext.getApp().getController("E.controller.Root").showLogin()},onClickUserName:function(){this.changeUser()},onClickLogout:function(){this.redirectTo("!logout")},viewInfo:function(b){new E.widget.viewport.ServerMsg({url:this.getMsgUrl("info"),msgId:b}).show()},viewHelp:function(b){new E.widget.viewport.ServerMsg({url:this.getMsgUrl("msg"),msgId:b}).show()},viewDetail:function(){console.info("viewDetails")},privates:{getMsgUrl:function(e,g){var d=g?(g.split("-").join("/")+"/"):"";return Ext.getApp().getRootLoaderUrl()+d+e+".html"}}});Ext.define("E.widget.viewport.Main",{alias:"widget.viewport_main",extend:Ext.tab.Panel,config:{tabConfig:null},tabBarHeaderPosition:1,titleRotation:0,tabRotation:0,plugins:"responsive",header:{layout:{align:"stretchmax"},iconCls:"exec-header-icon",title:{text:"eSmile",textAlign:"center",flex:0,minWidth:160},tools:[{type:"gear",plugins:"responsive",width:120,margin:"0 0 0 0",handler:"onSwitchTool",responsiveConfig:{"width < 768 && tall":{visible:true},"width >= 768":{visible:false}}}]},tabBar:{flex:1,layout:{align:"stretch",overflowHandler:"none"}},responsiveConfig:{tall:{headerPosition:"top"},wide:{headerPosition:"left",header:{title:{height:100}}}},defaults:{padding:10,tabConfig:{plugins:"responsive",responsiveConfig:{wide:{iconAlign:"left",textAlign:"left",flex:0},tall:{iconAlign:"top",textAlign:"center",flex:1},"width < 768 && tall":{visible:false},"width >= 768":{visible:true,textAlign:"center",flex:1}}}},listeners:{tabchange:"onTabChange",beforetabchange:"onBeforeTabChange"}});Ext.define("E.widget.viewport.ServerMsg",{alias:"widget.viewport_servermsg",extend:Ext.window.Window,config:{url:null,msgId:null},modal:true,layout:"fit",width:"80%",height:"80%",scrollable:"y",html:"<p>loading ...</p>",loader:{},updateUrl:function(b){this.doLoad()},updateMsgId:function(b){this.doLoad()},doLoad:function(){if(this.isConfiguring){return}var b=this.getUrl();if(b){this.getLoader().load({url:b,params:{id:this.getMsgId()}})}},initComponent:function(){var b=this;b.doLoad();b.callParent(arguments);b.mon(Ext.getBody(),"click",function(a,d){b.close(b.closeAction)},b,{delegate:".x-mask"})}});Ext.define("E.apps.ViewportApp",{alias:"apps_viewportapp",extend:E.apps.Base,config:{defaultToken:"!esmile/apps"},showUI:function(){},hideUI:function(){}});Ext.define("E.data.mixins.Link",{alias:"mixins_link",extend:Ext.Mixin,mixinId:"dataLink",config:{linkPath:null,sourceStore:null,links:[]},mixinConfig:{after:{initLayout:"initMixin"}},initMixin:function(){this.setSourceStore(this.getCmp().getStore())},updateLinkPath:function(){this.processLink()},updateSourceStore:function(){this.processLink()},updateLinks:function(c){var d=this;if(!d.__drawing&&d.getIsActive()){d.doDraw()}},privates:{processLink:function(){var m=this,j=this.getCmp(),n=m.getSourceStore(),l=m.getLinkPath(),o=[];if(n&&l){var h=n.getRange();l=l.split(".");Ext.forEach(h,function(b,c){var d=l.reduce(function(r,g){var v=[],u;Ext.forEach(r,function(p){if(!p){return}if(Ext.isFunction(p[g])){u=p[g]();if(u&&u.isStore){u.on({scope:m,add:"processLink",remove:"processLink",clear:"processLink"})}v=v.concat(u)}else{if(Ext.isArray(p[g])){v=v.concat(p[g])}else{if(p[g]){v.push(p[g])}}}});return v},[b]);if(d.length){var a=[],e=[];m.setLayout(b,j);Ext.forEach(d,function(g){e=e.concat(g.getRange())});Ext.forEach(e,function(q){var g=h.indexOf(q);if(g||(g==0)){o.push({source:b.d3layout,target:m.setLayout(h[g],j).d3layout})}})}})}this.setLinks(o)}}});Ext.define("E.plugin.D3Layout",{alias:"plugin.d3layout",extend:Ext.plugin.Abstract,config:{isActive:null,swapDuration:500},mixins:{observable:Ext.mixin.Observable},updateIsActive:function(b){if(!this.cmp.svgEl){return}if(b){this.activateLayout()}else{this.resetLayout()}},relayedEvents:["beforerefresh","itemadd","itemremove","itemupdate","refresh","viewready"],constructor:function(d){var c=this;c.callParent(arguments);c.mixins.observable.constructor.call(c,d)},init:function(c){var d=this;d.setCmp(c);d.mon(c,{render:d.onRender,itemAdd:d.onItemAdd,itemRemove:d.onItemRemove,refresh:d.onRefresh,d3enable:d.setEnable,d3disable:d.setDisable,scope:d});c.relayEvents(d,d.relayedEvents);c.hasD3Layout=true;c.pluginD3Layout=d},setEnable:function(){this.setIsActive(true)},setDisable:function(){this.setIsActive(false)},getD3:function(d){var c="d3"+d;if(!this[c]){this[c]=d3.select(this.cmp[d+"El"].dom)}return this[c]},getD3Root:function(){return this.getD3("svg")},getD3Repeat:function(){return this.getD3("repeat")},onRender:Ext.emptyFn,onViewReady:Ext.emptyFn,onRefresh:Ext.emptyFn,onItemAdd:Ext.emptyFn,onItemRemove:Ext.emptyFn,initLayout:function(){if(!this._layoutInitiated){this.doInit();this._layoutInitiated=true}},resetLayout:function(){this.doReset();this._layoutInitiated=null;this.cmp.hasD3Layout=true},activateLayout:function(){if(this.getIsActive()){this.initLayout();this.doDraw();this.cmp.hasD3Layout="active"}},doInit:Ext.emptyFn,doDraw:Ext.emptyFn,doReset:Ext.emptyFn,destroy:function(){var c=this,d=c.cmp;c.clearListeners();if(d){d.hasD3Layout=d.pluginD3Layout=c.cmp=c.d3Root=null}}});Ext.define("E.plugin.Force",{alias:"plugin.force",extend:E.plugin.D3Layout,mixins:[E.data.mixins.Link],config:{charge:null,linkDistance:null,chargeDistance:null,size:null,linkStrength:null,friction:null,gravity:null,theta:null,alpha:null,allowDrag:true,useArc:false,radius:5},linkCls:"itemLink",onRefresh:function(d,c){this.activateLayout()},onItemAdd:function(){if(this.getIsActive()){this.doDraw()}},onItemRemove:function(){if(this.getIsActive()){this.doDraw()}},getNodes:function(){var c=this,d=c.cmp;return Ext.Array.map(d.getViewRange(),function(a){return c.setLayout(a,d).d3layout})},setLayout:function(d,e){e=e||this.cmp;var g;if(!d.d3layout){var g=d3.transform(d3.select(e.getNode(d)).attr("transform")).translate;d.d3layout={id:d.getId(),x:g[0],y:g[1],scale:1}}return d},doInit:function(){var c=this,d;c.drawMarker();c.getD3Root().selectAll(c.cmp.itemSelector).each(function(){d=d3.select(this);d.attr("__layoutcache",d.attr("transform")||"")})},doReset:function(){var b=this;b.flagReset=true;if(b.force){b.force.stop()}b.getD3Root().selectAll(b.cmp.itemSelector).on("mousedown.drag",null).transition().duration(b.getSwapDuration()).attr("transform",function(){return d3.select(this).attr("__layoutcache")});b.getD3Root().selectAll("."+b.linkCls).remove();b.getD3Root().selectAll("#def-marker").remove()},doDraw:function(){var w=this,B,s=true,I=w.getNodes(),u=w.getLinks();w.__drawing=true;if(I.length){if(!w.force){B=true;w.force=d3.layout.force();w.applyLayoutConfig()}var H=w.force,G=w.getD3Repeat(),F=w.cmp.itemSelector,A=w.linkCls,x=w.getUseArc(),y=w.getRadius();H.nodes(I).links(u).on("tick",z);var D=G.selectAll(F),v=G.selectAll("."+w.linkCls);if(x){function z(){w.tickLinkArc(v,y);w.tickNode(D)}}else{function z(){w.tickLink(v);w.tickNode(D)}}function C(){v=v.data(u);v.enter().insert(x?"path":"line",F).attr("class",A+" "+(w.cmp.getTileCls?w.cmp.getTileCls():"")).attr("stroke-width",w.cmp.getStrokeWidth()).attr("marker-end","url(#marker)");v.exit().remove();D.each(function(){this.__data__=w.cmp.getRecord(this).d3layout});if(w.getAllowDrag()){var a=H.drag().on("dragstart",function(b){b.isDragging=true}).on("dragend",function(b){b.isDragging=null});D.call(a)}H.start()}if(!B){w.getD3Root().selectAll(w.cmp.itemSelector).transition().duration(w.getSwapDuration()).call(w.tickNode).each("end",function(){if(s){s=false;C()}})}else{C()}}delete w.__drawing},tickLinkArc:function(d,c){d.attr("d",function(a){var F=a.target.x,G=a.target.y,b=a.source.x,s=a.source.y,H=F-b,J=G-s,D=Math.sqrt(H*H+J*J),y=Math.atan(H/J),K=Math.cos(y),I=Math.sin(y),z=c*a.source.scale,B=c*a.target.scale,A=J>0?(F-(B*I)):(F+(B*I)),C=J>0?(G-(B*K)):(G+(B*K));a.tcorx=A;a.tcory=C;return J>0?("M"+(b+(z*I))+","+(s+(z*K))+"A"+D+","+D+" 0 0,1 "+A+","+C):("M"+(b-(z*I))+","+(s-(z*K))+"A"+D+","+D+" 0 0,1 "+A+","+C)})},tickLink:function(b){b.attr("x1",function(a){return a.source.x}).attr("y1",function(a){return a.source.y}).attr("x2",function(a){return a.target.x}).attr("y2",function(a){return a.target.y})},tickNode:function(b){b.attr("transform",function(a){return"translate("+a.x+","+a.y+")scale("+a.scale+")"})},drawMarker:function(){this.getD3Root().insert("defs","g").attr("id","def-marker").append("marker").attr("id","marker").attr("viewBox","-1 -10 30 30").attr("refX","33%").attr("markerWidth",6).attr("class",this.linkCls+" link-marker "+(this.cmp.getTileCls?this.cmp.getTileCls():"")).attr("markerHeight",6).attr("orient","auto").append("path").attr("d","M0,-5L10,0L0,5z")},applyLayoutConfig:function(j){var h=this,l=Ext.Config.map,m=h.force,g;j=j||["linkDistance","charge","chargeDistance","size","linkStrength","friction","gravity","theta"];Ext.forEach(j,function(a){if(g=h[l[a].names.get]()){m[a](g)}})},destroy:function(){var b=this;b.force=null;b.callParent()}});Ext.define("E.view.svg.mixins.Zoomable",{alias:"mixins_zoomable",extend:Ext.Mixin,mixinId:"zoomable",config:{isZoomable:true,constrainZoom:true,scaleFrom:0.2,scaleTo:10,translateX:0,translateY:0,scale:1,publishes:{scale:true,translateX:true,translateY:true,isZoomable:true}},mixinConfig:{after:{initComponent:"initMixin"},before:{destroy:"destroyMixin"}},initMixin:function(){this.on("viewready",this.onViewReady,this)},destroyMixin:function(){this.un("viewready",this.onViewReady,this)},onViewReady:function(){this.buildZoom()},updateIsZoomable:function(b){if(b===false){this.clearZoom()}if(!this.zoom&&b){this.buildZoom()}},resetZoom:function(b){this.setScale(1);this.setTranslate([0,0])},updateScale:function(b){if(d3.event){return}this.zoomHandler(this.getTranslate(),b,true,true)},getTranslate:function(){return[this.getTranslateX(),this.getTranslateY()]},updateTranslateX:function(b){this.updateTranslate(this.getTranslate())},updateTranslateY:function(b){this.updateTranslate(this.getTranslate())},updateTranslate:function(b){if(d3.event){return}this.zoomHandler(b,this.getScale(),true,true)},zoomHandler:function(m,n,p,l){var q=this;if(!q.d3GroupZoom){return}if(q.getConstrainZoom()){var o=q.getViewBoxSize(),j=Math.max(o-n*50,10);m[0]=Ext.Number.constrain(m[0],-j,j);m[1]=Ext.Number.constrain(m[1],-j,j)}if(l){this.d3GroupZoom.transition(l==true?400:anim*1).attr("transform","translate("+m+")scale("+n+")")}else{this.d3GroupZoom.attr("transform","translate("+m+")scale("+n+")")}this.zoom.translate(m);this.zoom.scale(n);if(p){return}this.setTranslateX(m[0]);this.setTranslateY(m[1]);this.setScale(n)},buildZoom:function(){if(this.getIsZoomable()&&this.zoomGroupEl&&this.zoomEl){var j=this,g=d3.select(this.zoomEl.dom),e=d3.behavior.zoom().scaleExtent([this.getScaleFrom(),this.getScaleTo()]).on("zoom",h);j.d3GroupZoom=d3.select(this.zoomGroupEl.dom);function h(){j.zoomHandler(d3.event.translate,d3.event.scale)}g.call(e);this.zoom=e}},clearZoom:function(){d3.select(this.zoomEl.dom).on("zoom",null);delete this.zoom}});Ext.define("E.view.svg.mixins.Effects",{alias:"mixins_effects",extend:Ext.Mixin,adjustFit:0.95,fitConfig:function(A,m,p){if(!m){m=this.svgEl.dom}var p=p||this.adjustFit,w=A.getBBox(),z=m.getBBox(),D=A.getBoundingClientRect(),v=m.getBoundingClientRect(),x=d3.min([v.height/D.height,v.width/D.width])*p,u=A.ownerSVGElement.createSVGPoint(),B=A.getTransformToElement(m).inverse(),y=((180/Math.PI)*Math.atan2(B.a,B.b)-90)%360,G=(180/Math.PI)*Math.atan2(B.c,B.d),F=[w.width/2+w.x,w.height/2+w.y];u.x=(z.width/2)+(z.x);u.y=(z.height/2)+(z.y);var C=u.matrixTransform(B);C=[C.x,C.y];return{point:C,angle:y,center:F,k:x,skew:G}},fitTransform:function(c,g,j){var h=this.fitConfig(c,g,j);return(h.angle===0?"":"rotate("+h.angle+","+h.center[0]+","+h.center[1]+")")+"translate("+(h.point[0]-h.k*h.center[0])+","+(h.point[1]-h.k*h.center[1])+")scale("+h.k+")"+(h.skew===0?"":"skewX("+h.skew+")")},fitTo:function(m,h,j){var g=this;if(!m){m=this.zoomGroupEl.dom;d3.select(m).attr("transform",null)}var l=this.fitTransform(m,h,j);d3.select(m).attr("transform",l);if(g.zoom&&!h){l=d3.transform(l);g.zoom.translate(l.translate);g.zoom.scale(l.scale[0])}}});Ext.define("E.view.svg.View",{alias:"widget.svg_view",extend:Ext.view.View,mixins:[E.view.svg.mixins.Zoomable,E.view.svg.mixins.Effects],config:{viewBox:"0 0 200 200",viewBoxSize:null,fitOnRefresh:true},renderBuffer:document.createElementNS("http://www.w3.org/2000/svg","g"),baseCls:Ext.baseCSSPrefix+"svg-view",updateViewBoxSize:function(b){this.svgEl.set({viewBox:"0 0 "+b+" "+b});this.repeatEl.set({transform:"translate("+b/2+","+b/2+")"})},updateViewBox:function(b){if(b){this.update(Ext.apply(this.renderData,{viewBox:b}))}},refresh:function(){this.callParent(arguments);var c=this.getNode(0),d;if(c){d=c.getBoundingClientRect().width*0.85;this.wrapText(d3.select(this.svgEl.dom).selectAll("text"),d);if(this.getFitOnRefresh()&&this.zoomGroupEl){this.fitTo()}}},renderTpl:['<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://http://www.w3.org/1999/xlink" id="{id}-svgEl" data-ref="svgEl" height="100%" width="100%" min-height="100%" viewBox="{viewBox}">',"{svgDefsTpl}",'<rect id="{id}-zoomEl" class="x-zoomEl" data-ref="zoomEl" width="200%" height="200%" x="-50%" y="-50%" opacity="0" fill="white"></rect>','<g id="{id}-zoomGroupEl" class="x-zoomGroup" data-ref="zoomGroupEl">','<g transform="translate(100,0)" id="{id}-repeatEl" data-ref="repeatEl"></g>',"</g>","</svg>"],childEls:["svgEl","repeatEl","zoomEl","zoomGroupEl"],privates:{getTargetEl:function(){return this.repeatEl},onItemSelect:function(d){var c=this.getNode(d);if(c){d3.select(c).classed(this.selectedItemCls,true)}},onItemDeselect:function(d){var c=this.getNode(d);if(c){d3.select(c).classed(this.selectedItemCls,false)}}}});Ext.define("E.view.svg.mixins.Tiling",{alias:"mixins_tiling",extend:Ext.Mixin,mixinId:"tiling",config:{tileShape:null,tileCls:null,itemSize:null,strokeWidth:2},mixinConfig:{on:{initConfig:function(){this.setTileShape()}}},getTransform:function(b){},getCenter:function(){},applyTileShape:function(){},wrapText:function(h,e){var j=0,g=0;h.each(function(){var c=d3.select(this),s=c.text().split(/\s+/).reverse(),v,a=[],u=0,d=1.1,q=c.attr("y")||g,b=parseFloat(c.attr("dy"))||j,r=c.text(null).append("tspan").attr("x",0).attr("y",q).attr("dy",b+"em");while(v=s.pop()){a.push(v);r.text(a.join(" "));if(r.node().getBoundingClientRect().width>e){a.pop();r.text(a.join(" "));a=[v];r=c.append("tspan").attr("x",0).attr("y",q).attr("dy",++u*d+b+"em").text(v)}}})}});Ext.define("E.view.svg.mixins.Hexagon",{alias:"mixins_hexagon",extend:E.view.svg.mixins.Tiling,config:{itemWidth:null,itemMargin:8},getFullRadius:function(b){return Math.ceil((-3+Math.sqrt(9+b*12))/6)},getTransform:function(r){var u=this.getItemMargin();radius=this.getItemSize()+u;if(r==1){this.__lastP=[-1,1];this.__lastR=1;return"transform='translate(0,0)'"}var s=r-1,q=function(b,a){return function(c){return[c[0]+b,c[1]+a]}},v=this.getItemWidth()+u,x=this.__lastR,w=this.__lastP,o=x*(x-1)/2,p=[q(1,0),q(1,-1),q(0,-1),q(-1,0),q(-1,1),q(0,1)],d=function(a){return p[(Math.floor((a-6*(o))/x)+5)%6]};w=d(s)(w);this.__lastP=w;this.__lastR=x;if(s+1>3*x*(x+1)){x+=1;this.__lastR=x;this.__lastP=[-x,1]}return"transform='translate("+(2*v*w[0]+v*w[1])+","+(1.5*radius*w[1])+")'"},applyItemSize:function(b){this.setItemWidth(Math.sqrt(3)/2*b);return b},applyTileShape:function(){var m=Math.PI/3,n=[],l=this.getItemSize(),p=0,o=0;for(var q=0;q<=5;q++){n[q]=q*m}var j=function(a){return Ext.Array.map(n,function(d){var g=Math.sin(d)*a,e=-Math.cos(d)*a,b=g-p,c=e-o;p=g,o=e;return[b,c]})};return"<path class='"+this.getTileCls()+"' stroke-width='"+this.getStrokeWidth()+"' d='m"+j(l).join("l")+"z' />"},getCenter:function(){}});Ext.define("E.view.svg.Hexagon",{alias:"widget.svg_hexagon",extend:E.view.svg.View,mixins:[E.view.svg.mixins.Hexagon]});Ext.define("E.widget.viewport.ViewController",{alias:["viewport_viewcontroller","controller.viewport_viewcontroller"],extend:Ext.app.ViewController,init:function(b){b.updateActiveState=this.updateActiveState.bind(this)},onToggleButton:function(c){if(c.pressed){var d=this.getView();d.setActiveState(c.filter)}},updateActiveState:function(h){var e=this.getReferences(),j=this.getViewModel(),g=this.getView().xtype;if(h&&e[h]){e[h].setPressed(true)}j.set(g,h);this.fireEvent("changeroute",this,g+(h?"/"+h:""))},viewDetails:function(){},onToggleCardView:function(h,n){var l=h.targetReference?this.getReferences()[h.targetReference]:h.up("container:isLayoutType(card)",10),o=l.getViewModel(),m,j={};if(l&&n.type){m=l.getLayout().getActiveItem().itemId;l.setActiveItem(n.type);if(o){j[n.type+"Active"]=true;j[m+"Active"]=false;o.setData(j)}}},dispatchAction:function(o,u,e,r,q,n){var p=q.getTarget(),s,v;while((!v&&(p!=e))){v=p.dataset.action;s=p;p=p.parentNode}[].push.call(arguments,s);if(v){if(Ext.isFunction(this[v])){return this[v].apply(this,arguments)}}this.defaultDispatchAction.apply(this,arguments)},defaultDispatchAction:function(e,l,o,q,m,p,n){},toggleDetails:function(e,l,o,q,m,p,n){if(n){if(n.dataset.collapsed=="0"){n.dataset.collapsed="1";return Ext.fly(o).addCls("details-expand").removeCls("details-collapsed")}n.dataset.collapsed="0";return Ext.fly(o).removeCls("details-expand").addCls("details-collapsed")}},callbackDefault:function(u,y,m){var e,z,v;if(m===true){e="Success";v=61528;z=y.getResultSet().message||"Operation performed successfully";return Ext.toast({title:e,html:z,glyph:v,align:"br"})}var q=y.getError(),x=q.response,s=y.getProxy().getReader(),w,r=s.getResponseData(x);v=61546;if(!r||r.__$isError){e="Error "+x.status+": "+x.statusText;z=x.responseText;w="error"}else{w=r.status;e=(r.status=="fail"?"Operation Failed : ":"Error : ")+s.getMessage(r);z="<p>"+r.errorMsg+"</p><p><code>"+x.status+": "+x.statusText+"</code></p>"}u.reject();Ext.Msg.show({title:e,message:z,buttons:Ext.Msg.OK,icon:w=="fail"?Ext.Msg.WARNING:Ext.Msg.ERROR})}});Ext.define("portal.Dynamic",{singleton:true,restxq:{"res:resource":{method:"GET",path:"/oData/{$appKey}/{$app}/{$ms}/{$resourceId}/$resources",queryPara:["rootData","rootMsg","version","entityName","node","lang","$filter","$top","$skip","$orderby"],headerPara:["token","user","password"],cookiePara:["JSESSIONID"]},"ep:instance-list":{method:"GET",path:"/oData/{$appKey}/{$app}/{$entityName}",queryPara:["q","lock","version"],headerPara:["token","user","password"],cookiePara:["JSESSIONID"]},"rep:instance":{method:"GET",path:"/oData/{$appKey}/reporting/$instance",queryPara:["$filter","$top","$skip","doc-id","wrapper-type","include-model","date","target","position","office","programmeActivity"],headerPara:["token","user","password"],cookiePara:["JSESSIONID"]},"master:css":{method:"GET",path:"/css/{$appKey}/{$theme}/{$app}",queryPara:["version"]},"prc:deploy":{method:"POST",path:"/deploy/{$appKey}/{$deploy-type}/{$activate}/{$doc-id}",headerPara:["user","password"],cookiePara:["JSESSIONID","token"],dataPara:["data"]},"pep:instance-delete":{method:"DELETE",path:"/oData/{$appKey}/{$app}/{$entityName}/{$id}",headerPara:["token","user","password"],cookiePara:["JSESSIONID"]},"ep:test":{method:"GET",path:"/oData/{$appKey}/{$app}/{$entityName}/$test",queryPara:["version"],headerPara:["token","user","password"],cookiePara:["JSESSIONID"]},"prc:validate":{method:"GET",path:"/validate/{$appKey}/{$validation-type}/{$doc-id}/{$validation-item-id}"},"master:common":{method:"GET",path:"/common/{$appKey}/{$id}"},"prc:validate-create":{method:"POST",path:"/validate/{$appKey}/{$validation-type}/{$doc-id}/{$validation-item-id}",headerPara:["guest","password"],cookiePara:["JSESSIONID","token"],dataPara:["data"]},"ep:resource":{method:"GET",path:"/oData/{$appKey}/{$app}/{$country}/{$ms}/{$entityName}/$resource",queryPara:["lock","version","lan"],headerPara:["token","user","password"],cookiePara:["JSESSIONID"]},"prc:set-status":{method:"POST",path:"/set-status/{$appKey}/{$status}/{$doc-id}",queryPara:["state","app","version"],headerPara:["user","password"],cookiePara:["JSESSIONID","token"],dataPara:["data"]},"master:common-version":{method:"GET",path:"/package/{$appKey}/{$id}",queryPara:["version","mode"]},"rep:model-wrap":{method:"GET",path:"/oData/{$appKey}/{$wrapper-type}/$model-wrap",queryPara:["nest"],headerPara:["token","user","password"],cookiePara:["JSESSIONID"]},"ds:instance":{method:"GET",path:"/oData/{$appKey}/{$type}/$dataset",queryPara:["$filter","$select","$top","$skip","$expand","$orderby","output-type","country","ms"],headerPara:["token","user","password"],cookiePara:["JSESSIONID"]},"ep:instance-data":{method:"GET",path:"/oData/{$appKey}/{$app}/{$entityName}/$instance",queryPara:["lock","version"],headerPara:["token","user","password"],cookiePara:["JSESSIONID"]},"rep:model":{method:"GET",path:"/oData/{$appKey}/{$form-id}/$model",queryPara:["version","ref-id"],headerPara:["token","user","password"],cookiePara:["JSESSIONID"]},"master:lib":{method:"GET",path:"/lib/{$appKey}/{$lib}"},"master:locale":{method:"GET",path:"/locale/{$appKey}/{$app}/{$lan}",queryPara:["version"]},"ep:instance-id":{method:"GET",path:"/oData/{$appKey}/{$app}/{$entityName}/{$id}",queryPara:["lock","version"],headerPara:["token","user","password"],cookiePara:["JSESSIONID"]},"ep:model":{method:"GET",path:"/oData/{$appKey}/{$app}/{$entityName}/$model",queryPara:["version"],headerPara:["token","user","password"],cookiePara:["JSESSIONID"]},"geo:topo":{method:"GET",path:"/topo/{$appKey}/{$geoKey}"},"pep:instance-update":{method:"PUT",path:"/oData/{$appKey}/{$app}/{$entityName}/{$id}",queryPara:["lock","version"],headerPara:["token","user","password"],cookiePara:["JSESSIONID"],dataPara:["data"]}},storeResource:{msRoot:null,themes:{model:"StructureItems",selector:"theme"},options:{model:"StructureItems",selector:"option"},categories:{model:"StructureItems",selector:"cat"},typeOfOrganisation:{model:"TypeItems"},typeOfPosition:{model:"TypeItems"},typeOfProjectSite:{model:"TypeItems"},typeOfOffice:{model:"TypeItems"},typeOfEvent:{model:"TypeItems"},typeOfMonitoringVisit:{model:"TypeItems"},typeOfTask:{model:"TypeItems"},typeOfLicense:{model:"TypeItems"},coreItems:{model:"CoreItems",storeId:"instancestore",sessionName:"xmlInstance",autoLoad:"true"},catalogueItems:{model:"CoreItems",storeId:"instancestore",sessionName:"xmlInstance",autoLoad:"true"},period:null,repeatType:null,lastModified:null,scale:null,shape:null,geoStyle:null,bingImageryStyle:null,language:{model:"TypeItems",selector:".//item"},countries:{model:"TypeItems",selector:".//item"},personTitle:{model:"TypeItems"},missingValues:null,uom:null,workflowSequence:null,resultLevel:null,administrativeLevels:null,geoStructure:null,msApplicationData:null,aoType:null,event:null,test:null,ct:null,cmp:null,monitoringVisit:null,assignmentCoverage:[null,null],resultMatrix:null,result:null,responsiblityDispatch:null,indicator:null,reportingFlow:null,monitoringVisitRule:null,form:null,section:null,container:null,indicatorContainer:null,field:null,topic:null,programmeActivity:null,office:null,organisation:null,person:null,beneficiary:null,msDomain:null,search:null,projectSite:null,dashboard:null,chart:null,dashboardChart:null,relationship:null,map:null,layer:null,groupLayer:null,metrics:null,dataset:null,"ms-admin":null,msSetting:null,msUserData:null,typeData:null,rootData:null,dataItem:null,dtStat:null,rootMetaData:null,formModel:null,valueContent:null,processDefinition:null,jobMetaRef:null,job:null,processInstance:null,task:null}},function(){Ext.getApp=function(){return Ext.app.route.Router.application};var m=this.restxq;for(var l in m){Ext.define("E.connect."+l,Ext.apply({extend:"E.connect.Restxq",alias:"restxq."+l},m[l]))}var n=Ext.data.session.ResourceSession;if(!n){n=Ext.data.session.ResourceSession=new Ext.data.Session({schema:"resource"})}var o=n.getSchema(),j=this.storeResource,h=[];Ext.Object.each(j,function(a,b){if(b&&b.model){b.model=o.getEntity(b.model)}Ext.define("E.data.store."+Ext.String.capitalize(a),Ext.apply({extend:b&&b.extend||"E.xforms.store.Resource",alias:"store."+a.toLowerCase(),session:n,resourceId:a},b));if(b){h.push(E.data.store[Ext.String.capitalize(a)])}});Ext.on("app-launched",function(){Ext.forEach(h,function(a){new a({storeId:Ext.String.uncapitalize(a.$className.split(".").pop())})})},this,{single:true})});Ext.define("portal.view.main.MainController",{extend:E.widget.viewport.MainController,alias:"controller.main"});Ext.define("portal.view.main.MainModel",{extend:Ext.app.ViewModel,alias:"viewmodel.main"});Ext.define("portal.view.main.Main",{extend:Ext.container.Viewport,controller:"main",viewModel:{type:"main"},layout:"border",bodyPadding:15,items:[{region:"north",xtype:"app_header",bind:{title:"{appState.app}",app:"{appState.app}"}},{region:"center",xtype:"viewport_main",reference:"viewport_main",tabBar:{help:"main-tabbar"},items:[{tabConfig:{hidden:true,plugins:null},help:"main-content",scrollable:"y",loader:{url:"data/ux-help/ux-help.html",autoLoad:true,params:{helpId:"main-help"}},html:"<h2>Welcome to e-smile main Portal</h2><p>loading introduction ... </p",dockedItems:[{xtype:"toolbar",dock:"right",ui:"footer",items:[{iconCls:null,help:"main-interactive-help",hrefTarget:"",glyph:61529,tooltip:"get interactive help for the active view",href:"#!uxhelp-init"}]}]},{tabConfig:{flex:3},xtype:"portal-view",reference:"portal-view",title:"Portal",glyph:61875},{tabConfig:{flex:2},xtype:"portal-profile",reference:"portal-profile",title:"Profile",glyph:61508},{tabConfig:{flex:1},xtype:"portal-profile",reference:"portal-profile3",title:"about e-smile",glyph:61945,scrollable:"y",loader:{url:"data/ux-help/ux-help.html",autoLoad:true,params:{helpId:"about-esmile"}}}],defaults:{padding:10,tabConfig:{plugins:"responsive",responsiveConfig:{wide:{iconAlign:"left",textAlign:"left"},tall:{iconAlign:"top",textAlign:"center"},"width < 768 && tall":{visible:false},"width >= 768":{visible:true,textAlign:"center"}}}}}]});Ext.define("portal.view.portal.ViewController",{extend:E.widget.viewport.ViewController,alias:"controller.portal-view",routes:{fitview:"fitView","!portal-detail/:id":{action:"onPortalDetail",conditions:{":id":"([%a-zA-Z0-9\\.\\-\\_\\s,]+)"}},"!portal-launch/:id":{action:"onPortalLaunch",conditions:{":id":"([%a-zA-Z0-9\\.\\-\\_\\s,]+)"}}},messages:{},fitView:function(){this.getReferences().svgListView.fitTo()},getAppRecord:function(b){return this.getViewModel().getData().allApps.getById(decodeURIComponent(b))},onPortalLaunch:function(c){var d=this.getAppRecord(c);if(d){window.open("../"+d.get("target").split("/").pop()+"/index.html","_blank").focus()}},onPortalDetail:function(g){var e,d;if(g&&(d=this.getAppRecord(g))){new E.widget.viewport.ServerMsg({title:"Details : "+d.get("title"),glyph:61530,scrollable:"y",width:"60%",dockedItems:[{xtype:"toolbar",dock:"top",componentCls:Ext.baseCSSPrefix+"app-header "+Ext.baseCSSPrefix+"app-header-inverse ",ui:"footer",items:[{xtype:"img_svg",scaleFactor:0.85,width:180,height:80,baseUrl:"$commonc/package-icon",params:{app:d.get("name"),"no-background":true}},"->",{xtype:"container",layout:"anchor",width:350,items:[{glyph:61537,iconAlign:"right",tooltip:"launch the application",text:"launch "+d.get("title"),scale:"large",xtype:"button",hrefTarget:"",href:"#!portal-launch/"+d.get("nameEncoded")},{xtype:"component",html:'<span class="bts" style=" background-color: inherit;">'+('<span class="label label-default">version : '+d.get("version")+"</span>")+('<span class="label label-default">license: '+d.get("license")+"</span>")+((e=d.get("website"))?'<a href = "'+e+'"><span class="label label-default "><i class="fa fa-globe"></i> web</span></a>':"")+((e=d.get("github"))?'<a href = "'+e+'"><span class="label label-default"><i class="fa fa-github"></i> github</span></a>':"")+"</span>"}]}]}],url:Ext.urlAppend(Ext.getApp().getRootLoaderUrl()+"/portal-info.html",Ext.Object.toQueryString({name:d.get("nameEncoded")}))}).show()}},doPackageAction:function(d,c){if(d){this.redirectTo("!"+d.get("packageCode")+"/"+encodeURIComponent(d.getId())+"/"+c)}},onSvgViewRefresh:function(g){var e=this.getStore("installedApps");if(e){var d=(g.getFullRadius(e.count())+1)*3*(g.getItemSize()+g.getItemMargin());g.setViewBoxSize(d)}},viewItemMouseEnter:function(A,v,r){var u=this;if(r.__cache||(r.__data__&&r.__data__.isDragging)){return}if(v.d3layout){v.d3layout.scale=1.25}var p=d3.select(r),B=r.__cache=p.attr("transform").split("scale(")[0];p.transition().attr("transform",B+"scale(1.25)");p.selectAll(".item-shy").transition().attr("opacity","0").duration(800);p.selectAll(".item-vocal,.item-icon-actions").transition().attr("opacity","1");Ext.getDom(r.parentElement).appendChild(r);var s=2,z=v.get("nameEncoded"),y=Ext.getApp().getBaseColor(),q=A.getItemSize(),x=[{d:"M640 192v-128q0 -26 -19 -45t-45 -19h-512q-26 0 -45 19t-19 45v128q0 26 19 45t45 19h64v384h-64q-26 0 -45 19t-19 45v128q0 26 19 45t45 19h384q26 0 45 -19t19 -45v-576h64q26 0 45 -19t19 -45zM512 1344v-192q0 -26 -19 -45t-45 -19h-256q-26 0 -45 19t-19 45v192 q0 26 19 45t45 19h256q26 0 45 -19t19 -45z"},{name:"portal-launch",d:"M1472 576q0 -54 -37 -91l-651 -651q-39 -37 -91 -37q-51 0 -90 37l-75 75q-38 38 -38 91t38 91l293 293h-704q-52 0 -84.5 37.5t-32.5 90.5v128q0 53 32.5 90.5t84.5 37.5h704l-293 294q-38 36 -38 90t38 90l75 75q38 38 90 38q53 0 91 -38l651 -651q37 -35 37 -90z"}];var w=p.select(".item-icon-actions").selectAll("item-icon-action").data(x).enter().append("g").attr("class","item-icon-action").attr("transform",function(a,b){return"translate("+(-s*0.8/2)+","+((-q/2)*0.9+b*s)+")"});w.append("a").attr("xlink:href",function(a){if(a.name){return"#!"+a.name+"/"+z}}).attr("cursor","pointer").append("rect").attr("x",s*0.1).attr("y",s*0.1).attr("rx",s*0.1).attr("ry",s*0.1).attr("height",s*0.8).attr("width",s*0.8).attr("fill",d3.hsl(y).brighter(0.4));w.append("a").attr("xlink:href",function(a){if(a.name){return"#!"+a.name+"/"+z}}).attr("cursor","pointer").attr("transform","scale(1,-1)").append("path").attr("fill","white").attr("d",function(a){return a.d}).each(function(a,b){A.fitTo(this,this.parentElement.parentElement.firstChild,0.8)})},viewItemMouseLeave:function(m,h,j){var g=j.__cache;if(h.d3layout){h.d3layout.scale=1}if(g||g===""){var l=d3.select(j);delete j.__cache;l.selectAll(".item-shy").transition().attr("opacity","1");l.selectAll(".item-vocal").transition().attr("opacity","0.2");l.selectAll(".item-icon-actions").transition().attr("opacity","0");if(j.__data__&&j.__data__.isDragging){j.__data__.isDragging=null;return}l.transition().attr("transform",g)}},viewItemMouseDblClick:function(d,e,g){this.redirectTo("!portal-launch/"+e.getId())}});Ext.define("portal.view.portal.ViewModel",{extend:Ext.app.ViewModel,alias:"viewmodel.portal-view",stores:{allApps:{source:"AppStore"},installedApps:{source:"{allApps}",sorters:[{property:"required",direction:"DESC"},{property:"title",direction:"DESC"}],filters:[{property:"status",value:"installed",operator:"="},{property:"title",disableOnEmpty:true,value:"{filterText.value}",operator:"like"}]}}});Ext.define("portal.view.portal.DetailController",{extend:Ext.app.ViewController,alias:"controller.portal-detail"});Ext.define("portal.view.portal.DetailModel",{extend:Ext.app.ViewModel,alias:"viewmodel.portal-detail"});Ext.define("portal.view.portal.Detail",{extend:Ext.panel.Panel,xtype:"portal-detail",controller:"portal-detail",viewModel:{type:"portal-detail"},html:"Hello, World!!"});Ext.define("portal.view.portal.View",{extend:Ext.panel.Panel,xtype:"portal-view",itemId:"portal-view",controller:"portal-view",viewModel:{type:"portal-view"},layout:"fit",dockedItems:[{xtype:"toolbar",dock:"right",ui:"footer",defaults:{iconCls:null,hrefTarget:""},items:[{glyph:61530,tooltip:"short info for application package management",href:"#!info/portal-view"},{glyph:61529,tooltip:"get interactive help for the active view",href:"#!uxhelp-init"},{glyph:61618,tooltip:"fit the current view",handler:"fitView"}]}],items:[{xtype:"panel",header:{title:"List of Application",items:[{xtype:"textfield",help:true,reference:"filterText",publishes:"value",hideLable:true,emptyText:"filter by application name"}]},help:"view-hexagon",layout:"fit",dockedItems:[],items:[{xtype:"svg_hexagon",help:{selector:"g.select-item"},itemId:"svg_hexagon_app",itemSize:10,itemMargin:2.5,cls:"app-package",tileCls:"app-tile",overItemCls:"app-tile-over",reference:"svgListView",selectionModel:{type:"dataviewmodel",allowDeselect:true},bind:{store:"{installedApps}",selection:"{selectedApps}"},trackOver:true,listeners:{itemmouseenter:"viewItemMouseEnter",itemmouseleave:"viewItemMouseLeave",itemdblclick:"viewItemMouseDblClick",refresh:"onSvgViewRefresh"},itemSelector:"g.select-item",tpl:['<tpl for=".">','<a xlink:href="#!portal-detail/{nameEncoded}">','<g class="select-item" ',"{% out.push(this.owner.getTransform(xindex)) %}",">","{% out.push(this.owner.getTileShape()) %}",'<g class="app-tile-icon item-vocal" transform="scale(0.13)translate(-50,-50)"  opacity="0.2">',"{svgIcon}","</g>",'<g transform="translate(8.5,0)" class="item-icon-actions">',"</g>",'<g transform="scale(0.23)translate(0,0)" fill="#fff" opacity="1" class="app-title-text item-shy"><text text-anchor="middle">{title}</text></g>',"</g>","</a>","</tpl>"]}]}]});Ext.define("portal.view.portal.ProfileController",{extend:E.widget.viewport.ViewController,alias:"controller.portal-profile"});Ext.define("portal.view.portal.ProfileModel",{extend:Ext.app.ViewModel,alias:"viewmodel.portal-profile"});Ext.define("portal.view.portal.Profile",{extend:Ext.panel.Panel,xtype:"portal-profile",controller:"portal-profile",viewModel:{type:"portal-profile"},html:"Portal Profile"});Ext.define("portal.schema.Portal",{alias:"schema.portal",extend:Ext.data.schema.Schema,type:"portal",namespace:"portal.model",proxy:{type:"xforms"}});Ext.define("portal.model.Base",{extend:Ext.data.Model,fields:[{name:"id"}],schema:"portal"});Ext.define("portal.model.App",{extend:portal.model.Base,idProperty:"name",fields:[{name:"status",mapping:"@status",defaultValue:"available"},{name:"available",mapping:"@available"},{name:"installed",mapping:"@installed"},{name:"required",mapping:"@required"},{name:"repo",mapping:"@repo"},{name:"path",mapping:"@path"},{name:"role",mapping:"@role"},"title","name","description","author","abbrev","github","version","license","icon","target","url","type","category","tags","isData",{name:"website",convert:function(b){if(b){return Ext.String.startsWith(b,"http")?b:"http://"+b}}},{name:"note",accessorType:"serialize"},{name:"changelog",accessorType:"serialize"},{name:"svgIcon",accessorType:"serialize"},{name:"nameEncoded",calculate:function(b){return encodeURIComponent(b.name)}},{name:"isInstalled",calculate:function(b){return b.status=="installed"}},{name:"canRemove",calculate:function(b){return b.required!="true"}},{name:"hasNew",calculate:function(b){return !!b.available}},{name:"packageType",calculate:function(b){return b.isData=="true"?"data package":b.type||" package"}},{name:"packageCode",calculate:function(b){return b.isData=="true"?"dataPackage":"appPackage"}}]});Ext.define("portal.model.Resource",{extend:portal.model.Base,proxy:{type:"restxq",api:{create:null,read:"service:resources",update:"service:resources-update",destroy:null},reader:{type:"configuredjson"}},fields:[{name:"name"},{name:"permission"},{name:"ownerId",reference:"User"},{name:"groupId",reference:"Group"},{name:"internetMediaType"},{name:"created",type:"date"},{name:"lastModified",type:"date"},{name:"writable",type:"bool"},{name:"isCollection",type:"bool"},{name:"mime"},{name:"leaf",calculate:function(b){return !b.isCollection}}]});Ext.define("portal.controller.Main",{extend:Ext.app.Controller,id:"main",stores:[],config:{control:{},refs:{},routes:{}}});Ext.define("portal.store.BaseStore",{extend:Ext.data.Store,alias:"store.portal-base",getSession:function(){return Ext.getApp().getSession()}});Ext.define("portal.store.AppStore",{extend:portal.store.BaseStore,alias:"store.appstore",model:"portal.model.App",autoLoad:true,proxy:{type:"ajax",url:"$controller/packages",extraParams:{type:"all",format:"esmileApp"},reader:{type:"xml",record:"app"}}});Ext.define("portal.model.MonitoringSpace",{extend:portal.model.App});Ext.define("portal.store.MsConfigStore",{extend:portal.store.BaseStore,model:"portal.model.MonitoringSpace",entityName:"msConfiguration",proxy:{type:"xforms"}});Ext.define("portal.Application",{extend:E.apps.ViewportApp,name:"portal",models:["App","Resource"],stores:["AppStore","MsConfigStore"],controllers:["E.controller.Root","Main"],config:{defaultSchema:"portal",lan:"en",user:null,ms:"WD-foodSecurity",appKey:"tempKey",app:"portal",urls:{restxq:"/restxq"}},init:function(){var b=this;Ext.setGlyphFontFamily("FontAwesome");Ext.getApp=function(){return b};this.callParent(arguments)},showUI:function(){var d=this,g=E.xforms.model.ModelManager;if(g.queuePending.length){return Ext.on("modelqueue-cleared",d.showUI,d,{single:true})}if(!this._mainView){var e=new portal.view.main.Main({plugins:["viewport"],session:this.viewModel.getSession(),viewModel:{parent:this.viewModel}});this._mainView=e}else{this._mainView.show()}}});Ext.application({name:"portal",extend:portal.Application});